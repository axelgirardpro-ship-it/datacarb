var qI=Object.defineProperty;var h0=e=>{throw TypeError(e)};var WI=(e,t,n)=>t in e?qI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pe=(e,t,n)=>WI(e,typeof t!="symbol"?t+"":t,n),am=(e,t,n)=>t.has(e)||h0("Cannot "+n);var W=(e,t,n)=>(am(e,t,"read from private field"),n?n.call(e):t.get(e)),Be=(e,t,n)=>t.has(e)?h0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ne=(e,t,n,r)=>(am(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Zt=(e,t,n)=>(am(e,t,"access private method"),n);var Ed=(e,t,n,r)=>({set _(i){Ne(e,t,i,n)},get _(){return W(e,t,r)}});function VI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Da(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function QI(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var uE={exports:{}},$h={},dE={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vu=Symbol.for("react.element"),KI=Symbol.for("react.portal"),GI=Symbol.for("react.fragment"),YI=Symbol.for("react.strict_mode"),JI=Symbol.for("react.profiler"),XI=Symbol.for("react.provider"),ZI=Symbol.for("react.context"),eD=Symbol.for("react.forward_ref"),tD=Symbol.for("react.suspense"),nD=Symbol.for("react.memo"),rD=Symbol.for("react.lazy"),p0=Symbol.iterator;function iD(e){return e===null||typeof e!="object"?null:(e=p0&&e[p0]||e["@@iterator"],typeof e=="function"?e:null)}var fE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hE=Object.assign,pE={};function xl(e,t,n){this.props=e,this.context=t,this.refs=pE,this.updater=n||fE}xl.prototype.isReactComponent={};xl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mE(){}mE.prototype=xl.prototype;function Zy(e,t,n){this.props=e,this.context=t,this.refs=pE,this.updater=n||fE}var ex=Zy.prototype=new mE;ex.constructor=Zy;hE(ex,xl.prototype);ex.isPureReactComponent=!0;var m0=Array.isArray,gE=Object.prototype.hasOwnProperty,tx={current:null},vE={key:!0,ref:!0,__self:!0,__source:!0};function yE(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)gE.call(t,r)&&!vE.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Vu,type:e,key:s,ref:a,props:i,_owner:tx.current}}function sD(e,t){return{$$typeof:Vu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vu}function aD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var g0=/\/+/g;function om(e,t){return typeof e=="object"&&e!==null&&e.key!=null?aD(""+e.key):t.toString(36)}function vf(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Vu:case KI:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+om(a,0):r,m0(i)?(n="",e!=null&&(n=e.replace(g0,"$&/")+"/"),vf(i,t,n,"",function(u){return u})):i!=null&&(nx(i)&&(i=sD(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(g0,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",m0(e))for(var o=0;o<e.length;o++){s=e[o];var c=r+om(s,o);a+=vf(s,t,n,c,i)}else if(c=iD(e),typeof c=="function")for(e=c.call(e),o=0;!(s=e.next()).done;)s=s.value,c=r+om(s,o++),a+=vf(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Cd(e,t,n){if(e==null)return e;var r=[],i=0;return vf(e,r,"","",function(s){return t.call(n,s,i++)}),r}function oD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pn={current:null},yf={transition:null},lD={ReactCurrentDispatcher:Pn,ReactCurrentBatchConfig:yf,ReactCurrentOwner:tx};function xE(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Cd,forEach:function(e,t,n){Cd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cd(e,function(){t++}),t},toArray:function(e){return Cd(e,function(t){return t})||[]},only:function(e){if(!nx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ie.Component=xl;Ie.Fragment=GI;Ie.Profiler=JI;Ie.PureComponent=Zy;Ie.StrictMode=YI;Ie.Suspense=tD;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lD;Ie.act=xE;Ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=hE({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=tx.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)gE.call(t,c)&&!vE.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Vu,type:e.type,key:i,ref:s,props:r,_owner:a}};Ie.createContext=function(e){return e={$$typeof:ZI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:XI,_context:e},e.Consumer=e};Ie.createElement=yE;Ie.createFactory=function(e){var t=yE.bind(null,e);return t.type=e,t};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(e){return{$$typeof:eD,render:e}};Ie.isValidElement=nx;Ie.lazy=function(e){return{$$typeof:rD,_payload:{_status:-1,_result:e},_init:oD}};Ie.memo=function(e,t){return{$$typeof:nD,type:e,compare:t===void 0?null:t}};Ie.startTransition=function(e){var t=yf.transition;yf.transition={};try{e()}finally{yf.transition=t}};Ie.unstable_act=xE;Ie.useCallback=function(e,t){return Pn.current.useCallback(e,t)};Ie.useContext=function(e){return Pn.current.useContext(e)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(e){return Pn.current.useDeferredValue(e)};Ie.useEffect=function(e,t){return Pn.current.useEffect(e,t)};Ie.useId=function(){return Pn.current.useId()};Ie.useImperativeHandle=function(e,t,n){return Pn.current.useImperativeHandle(e,t,n)};Ie.useInsertionEffect=function(e,t){return Pn.current.useInsertionEffect(e,t)};Ie.useLayoutEffect=function(e,t){return Pn.current.useLayoutEffect(e,t)};Ie.useMemo=function(e,t){return Pn.current.useMemo(e,t)};Ie.useReducer=function(e,t,n){return Pn.current.useReducer(e,t,n)};Ie.useRef=function(e){return Pn.current.useRef(e)};Ie.useState=function(e){return Pn.current.useState(e)};Ie.useSyncExternalStore=function(e,t,n){return Pn.current.useSyncExternalStore(e,t,n)};Ie.useTransition=function(){return Pn.current.useTransition()};Ie.version="18.3.1";dE.exports=Ie;var y=dE.exports;const q=Da(y),rx=VI({__proto__:null,default:q},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cD=y,uD=Symbol.for("react.element"),dD=Symbol.for("react.fragment"),fD=Object.prototype.hasOwnProperty,hD=cD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pD={key:!0,ref:!0,__self:!0,__source:!0};function bE(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)fD.call(t,r)&&!pD.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:uD,type:e,key:s,ref:a,props:i,_owner:hD.current}}$h.Fragment=dD;$h.jsx=bE;$h.jsxs=bE;uE.exports=$h;var l=uE.exports,wE={exports:{}},or={},SE={exports:{}},jE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,O){var C=E.length;E.push(O);e:for(;0<C;){var I=C-1>>>1,z=E[I];if(0<i(z,O))E[I]=O,E[C]=z,C=I;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var O=E[0],C=E.pop();if(C!==O){E[0]=C;e:for(var I=0,z=E.length,N=z>>>1;I<N;){var ne=2*(I+1)-1,ae=E[ne],Y=ne+1,J=E[Y];if(0>i(ae,C))Y<z&&0>i(J,ae)?(E[I]=J,E[Y]=C,I=Y):(E[I]=ae,E[ne]=C,I=ne);else if(Y<z&&0>i(J,C))E[I]=J,E[Y]=C,I=Y;else break e}}return O}function i(E,O){var C=E.sortIndex-O.sortIndex;return C!==0?C:E.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(E){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=E)r(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=n(u)}}function S(E){if(m=!1,b(E),!g)if(n(c)!==null)g=!0,T(j);else{var O=n(u);O!==null&&H(S,O.startTime-E)}}function j(E,O){g=!1,m&&(m=!1,v(R),R=-1),p=!0;var C=h;try{for(b(O),f=n(c);f!==null&&(!(f.expirationTime>O)||E&&!D());){var I=f.callback;if(typeof I=="function"){f.callback=null,h=f.priorityLevel;var z=I(f.expirationTime<=O);O=e.unstable_now(),typeof z=="function"?f.callback=z:f===n(c)&&r(c),b(O)}else r(c);f=n(c)}if(f!==null)var N=!0;else{var ne=n(u);ne!==null&&H(S,ne.startTime-O),N=!1}return N}finally{f=null,h=C,p=!1}}var _=!1,P=null,R=-1,F=5,k=-1;function D(){return!(e.unstable_now()-k<F)}function L(){if(P!==null){var E=e.unstable_now();k=E;var O=!0;try{O=P(!0,E)}finally{O?$():(_=!1,P=null)}}else _=!1}var $;if(typeof x=="function")$=function(){x(L)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,U=A.port2;A.port1.onmessage=L,$=function(){U.postMessage(null)}}else $=function(){w(L,0)};function T(E){P=E,_||(_=!0,$())}function H(E,O){R=w(function(){E(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,T(j))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var C=h;h=O;try{return E()}finally{h=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,O){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var C=h;h=E;try{return O()}finally{h=C}},e.unstable_scheduleCallback=function(E,O,C){var I=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?I+C:I):C=I,E){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=C+z,E={id:d++,callback:O,priorityLevel:E,startTime:C,expirationTime:z,sortIndex:-1},C>I?(E.sortIndex=C,t(u,E),n(c)===null&&E===n(u)&&(m?(v(R),R=-1):m=!0,H(S,C-I))):(E.sortIndex=z,t(c,E),g||p||(g=!0,T(j))),E},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(E){var O=h;return function(){var C=h;h=O;try{return E.apply(this,arguments)}finally{h=C}}}})(jE);SE.exports=jE;var mD=SE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gD=y,ar=mD;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _E=new Set,Lc={};function Fa(e,t){tl(e,t),tl(e+"Capture",t)}function tl(e,t){for(Lc[e]=t,e=0;e<t.length;e++)_E.add(t[e])}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bg=Object.prototype.hasOwnProperty,vD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v0={},y0={};function yD(e){return Bg.call(y0,e)?!0:Bg.call(v0,e)?!1:vD.test(e)?y0[e]=!0:(v0[e]=!0,!1)}function xD(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bD(e,t,n,r){if(t===null||typeof t>"u"||xD(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rn(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yt[e]=new Rn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yt[t]=new Rn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yt[e]=new Rn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yt[e]=new Rn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yt[e]=new Rn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yt[e]=new Rn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yt[e]=new Rn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yt[e]=new Rn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yt[e]=new Rn(e,5,!1,e.toLowerCase(),null,!1,!1)});var ix=/[\-:]([a-z])/g;function sx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ix,sx);Yt[t]=new Rn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ix,sx);Yt[t]=new Rn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ix,sx);Yt[t]=new Rn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yt[e]=new Rn(e,1,!1,e.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yt[e]=new Rn(e,1,!1,e.toLowerCase(),null,!0,!0)});function ax(e,t,n,r){var i=Yt.hasOwnProperty(t)?Yt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bD(t,n,i,r)&&(n=null),r||i===null?yD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bi=gD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kd=Symbol.for("react.element"),yo=Symbol.for("react.portal"),xo=Symbol.for("react.fragment"),ox=Symbol.for("react.strict_mode"),qg=Symbol.for("react.profiler"),EE=Symbol.for("react.provider"),CE=Symbol.for("react.context"),lx=Symbol.for("react.forward_ref"),Wg=Symbol.for("react.suspense"),Vg=Symbol.for("react.suspense_list"),cx=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),kE=Symbol.for("react.offscreen"),x0=Symbol.iterator;function zl(e){return e===null||typeof e!="object"?null:(e=x0&&e[x0]||e["@@iterator"],typeof e=="function"?e:null)}var ht=Object.assign,lm;function oc(e){if(lm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);lm=t&&t[1]||""}return`
`+lm+e}var cm=!1;function um(e,t){if(!e||cm)return"";cm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{cm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?oc(e):""}function wD(e){switch(e.tag){case 5:return oc(e.type);case 16:return oc("Lazy");case 13:return oc("Suspense");case 19:return oc("SuspenseList");case 0:case 2:case 15:return e=um(e.type,!1),e;case 11:return e=um(e.type.render,!1),e;case 1:return e=um(e.type,!0),e;default:return""}}function Qg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xo:return"Fragment";case yo:return"Portal";case qg:return"Profiler";case ox:return"StrictMode";case Wg:return"Suspense";case Vg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case CE:return(e.displayName||"Context")+".Consumer";case EE:return(e._context.displayName||"Context")+".Provider";case lx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cx:return t=e.displayName||null,t!==null?t:Qg(e.type)||"Memo";case ss:t=e._payload,e=e._init;try{return Qg(e(t))}catch{}}return null}function SD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qg(t);case 8:return t===ox?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ns(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function PE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jD(e){var t=PE(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pd(e){e._valueTracker||(e._valueTracker=jD(e))}function RE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=PE(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Hf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kg(e,t){var n=t.checked;return ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function b0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ns(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function NE(e,t){t=t.checked,t!=null&&ax(e,"checked",t,!1)}function Gg(e,t){NE(e,t);var n=Ns(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yg(e,t.type,n):t.hasOwnProperty("defaultValue")&&Yg(e,t.type,Ns(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function w0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Yg(e,t,n){(t!=="number"||Hf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var lc=Array.isArray;function Ao(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ns(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Jg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return ht({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function S0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(lc(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ns(n)}}function TE(e,t){var n=Ns(t.value),r=Ns(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function j0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function AE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?AE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rd,OE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rd=Rd||document.createElement("div"),Rd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_D=["Webkit","ms","Moz","O"];Object.keys(xc).forEach(function(e){_D.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xc[t]=xc[e]})});function IE(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xc.hasOwnProperty(e)&&xc[e]?(""+t).trim():t+"px"}function DE(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=IE(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var ED=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zg(e,t){if(t){if(ED[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function ev(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tv=null;function ux(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nv=null,Oo=null,Io=null;function _0(e){if(e=Gu(e)){if(typeof nv!="function")throw Error(K(280));var t=e.stateNode;t&&(t=qh(t),nv(e.stateNode,e.type,t))}}function FE(e){Oo?Io?Io.push(e):Io=[e]:Oo=e}function LE(){if(Oo){var e=Oo,t=Io;if(Io=Oo=null,_0(e),t)for(e=0;e<t.length;e++)_0(t[e])}}function ME(e,t){return e(t)}function $E(){}var dm=!1;function UE(e,t,n){if(dm)return e(t,n);dm=!0;try{return ME(e,t,n)}finally{dm=!1,(Oo!==null||Io!==null)&&($E(),LE())}}function $c(e,t){var n=e.stateNode;if(n===null)return null;var r=qh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var rv=!1;if(Oi)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){rv=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{rv=!1}function CD(e,t,n,r,i,s,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var bc=!1,Bf=null,qf=!1,iv=null,kD={onError:function(e){bc=!0,Bf=e}};function PD(e,t,n,r,i,s,a,o,c){bc=!1,Bf=null,CD.apply(kD,arguments)}function RD(e,t,n,r,i,s,a,o,c){if(PD.apply(this,arguments),bc){if(bc){var u=Bf;bc=!1,Bf=null}else throw Error(K(198));qf||(qf=!0,iv=u)}}function La(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function E0(e){if(La(e)!==e)throw Error(K(188))}function ND(e){var t=e.alternate;if(!t){if(t=La(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return E0(i),e;if(s===r)return E0(i),t;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function HE(e){return e=ND(e),e!==null?BE(e):null}function BE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=BE(e);if(t!==null)return t;e=e.sibling}return null}var qE=ar.unstable_scheduleCallback,C0=ar.unstable_cancelCallback,TD=ar.unstable_shouldYield,AD=ar.unstable_requestPaint,St=ar.unstable_now,OD=ar.unstable_getCurrentPriorityLevel,dx=ar.unstable_ImmediatePriority,WE=ar.unstable_UserBlockingPriority,Wf=ar.unstable_NormalPriority,ID=ar.unstable_LowPriority,VE=ar.unstable_IdlePriority,Uh=null,li=null;function DD(e){if(li&&typeof li.onCommitFiberRoot=="function")try{li.onCommitFiberRoot(Uh,e,void 0,(e.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:MD,FD=Math.log,LD=Math.LN2;function MD(e){return e>>>=0,e===0?32:31-(FD(e)/LD|0)|0}var Nd=64,Td=4194304;function cc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vf(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=cc(o):(s&=a,s!==0&&(r=cc(s)))}else a=n&~i,a!==0?r=cc(a):s!==0&&(r=cc(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Lr(t),i=1<<n,r|=e[n],t&=~i;return r}function $D(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UD(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Lr(s),o=1<<a,c=i[a];c===-1?(!(o&n)||o&r)&&(i[a]=$D(o,t)):c<=t&&(e.expiredLanes|=o),s&=~o}}function sv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function QE(){var e=Nd;return Nd<<=1,!(Nd&4194240)&&(Nd=64),e}function fm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lr(t),e[t]=n}function zD(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Lr(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function fx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Lr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var qe=0;function KE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var GE,hx,YE,JE,XE,av=!1,Ad=[],xs=null,bs=null,ws=null,Uc=new Map,zc=new Map,os=[],HD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function k0(e,t){switch(e){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":Uc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(t.pointerId)}}function Bl(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Gu(t),t!==null&&hx(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function BD(e,t,n,r,i){switch(t){case"focusin":return xs=Bl(xs,e,t,n,r,i),!0;case"dragenter":return bs=Bl(bs,e,t,n,r,i),!0;case"mouseover":return ws=Bl(ws,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Uc.set(s,Bl(Uc.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,zc.set(s,Bl(zc.get(s)||null,e,t,n,r,i)),!0}return!1}function ZE(e){var t=da(e.target);if(t!==null){var n=La(t);if(n!==null){if(t=n.tag,t===13){if(t=zE(n),t!==null){e.blockedOn=t,XE(e.priority,function(){YE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ov(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);tv=r,n.target.dispatchEvent(r),tv=null}else return t=Gu(n),t!==null&&hx(t),e.blockedOn=n,!1;t.shift()}return!0}function P0(e,t,n){xf(e)&&n.delete(t)}function qD(){av=!1,xs!==null&&xf(xs)&&(xs=null),bs!==null&&xf(bs)&&(bs=null),ws!==null&&xf(ws)&&(ws=null),Uc.forEach(P0),zc.forEach(P0)}function ql(e,t){e.blockedOn===t&&(e.blockedOn=null,av||(av=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,qD)))}function Hc(e){function t(i){return ql(i,e)}if(0<Ad.length){ql(Ad[0],e);for(var n=1;n<Ad.length;n++){var r=Ad[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xs!==null&&ql(xs,e),bs!==null&&ql(bs,e),ws!==null&&ql(ws,e),Uc.forEach(t),zc.forEach(t),n=0;n<os.length;n++)r=os[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<os.length&&(n=os[0],n.blockedOn===null);)ZE(n),n.blockedOn===null&&os.shift()}var Do=Bi.ReactCurrentBatchConfig,Qf=!0;function WD(e,t,n,r){var i=qe,s=Do.transition;Do.transition=null;try{qe=1,px(e,t,n,r)}finally{qe=i,Do.transition=s}}function VD(e,t,n,r){var i=qe,s=Do.transition;Do.transition=null;try{qe=4,px(e,t,n,r)}finally{qe=i,Do.transition=s}}function px(e,t,n,r){if(Qf){var i=ov(e,t,n,r);if(i===null)Sm(e,t,r,Kf,n),k0(e,r);else if(BD(i,e,t,n,r))r.stopPropagation();else if(k0(e,r),t&4&&-1<HD.indexOf(e)){for(;i!==null;){var s=Gu(i);if(s!==null&&GE(s),s=ov(e,t,n,r),s===null&&Sm(e,t,r,Kf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Sm(e,t,r,null,n)}}var Kf=null;function ov(e,t,n,r){if(Kf=null,e=ux(r),e=da(e),e!==null)if(t=La(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zE(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kf=e,null}function eC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OD()){case dx:return 1;case WE:return 4;case Wf:case ID:return 16;case VE:return 536870912;default:return 16}default:return 16}}var gs=null,mx=null,bf=null;function tC(){if(bf)return bf;var e,t=mx,n=t.length,r,i="value"in gs?gs.value:gs.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return bf=i.slice(e,1<r?1-r:void 0)}function wf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Od(){return!0}function R0(){return!1}function lr(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Od:R0,this.isPropagationStopped=R0,this}return ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Od)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Od)},persist:function(){},isPersistent:Od}),t}var bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gx=lr(bl),Ku=ht({},bl,{view:0,detail:0}),QD=lr(Ku),hm,pm,Wl,zh=ht({},Ku,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wl&&(Wl&&e.type==="mousemove"?(hm=e.screenX-Wl.screenX,pm=e.screenY-Wl.screenY):pm=hm=0,Wl=e),hm)},movementY:function(e){return"movementY"in e?e.movementY:pm}}),N0=lr(zh),KD=ht({},zh,{dataTransfer:0}),GD=lr(KD),YD=ht({},Ku,{relatedTarget:0}),mm=lr(YD),JD=ht({},bl,{animationName:0,elapsedTime:0,pseudoElement:0}),XD=lr(JD),ZD=ht({},bl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eF=lr(ZD),tF=ht({},bl,{data:0}),T0=lr(tF),nF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sF(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iF[e])?!!t[e]:!1}function vx(){return sF}var aF=ht({},Ku,{key:function(e){if(e.key){var t=nF[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rF[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vx,charCode:function(e){return e.type==="keypress"?wf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oF=lr(aF),lF=ht({},zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A0=lr(lF),cF=ht({},Ku,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vx}),uF=lr(cF),dF=ht({},bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),fF=lr(dF),hF=ht({},zh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pF=lr(hF),mF=[9,13,27,32],yx=Oi&&"CompositionEvent"in window,wc=null;Oi&&"documentMode"in document&&(wc=document.documentMode);var gF=Oi&&"TextEvent"in window&&!wc,nC=Oi&&(!yx||wc&&8<wc&&11>=wc),O0=" ",I0=!1;function rC(e,t){switch(e){case"keyup":return mF.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bo=!1;function vF(e,t){switch(e){case"compositionend":return iC(t);case"keypress":return t.which!==32?null:(I0=!0,O0);case"textInput":return e=t.data,e===O0&&I0?null:e;default:return null}}function yF(e,t){if(bo)return e==="compositionend"||!yx&&rC(e,t)?(e=tC(),bf=mx=gs=null,bo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nC&&t.locale!=="ko"?null:t.data;default:return null}}var xF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xF[e.type]:t==="textarea"}function sC(e,t,n,r){FE(r),t=Gf(t,"onChange"),0<t.length&&(n=new gx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Sc=null,Bc=null;function bF(e){gC(e,0)}function Hh(e){var t=jo(e);if(RE(t))return e}function wF(e,t){if(e==="change")return t}var aC=!1;if(Oi){var gm;if(Oi){var vm="oninput"in document;if(!vm){var F0=document.createElement("div");F0.setAttribute("oninput","return;"),vm=typeof F0.oninput=="function"}gm=vm}else gm=!1;aC=gm&&(!document.documentMode||9<document.documentMode)}function L0(){Sc&&(Sc.detachEvent("onpropertychange",oC),Bc=Sc=null)}function oC(e){if(e.propertyName==="value"&&Hh(Bc)){var t=[];sC(t,Bc,e,ux(e)),UE(bF,t)}}function SF(e,t,n){e==="focusin"?(L0(),Sc=t,Bc=n,Sc.attachEvent("onpropertychange",oC)):e==="focusout"&&L0()}function jF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hh(Bc)}function _F(e,t){if(e==="click")return Hh(t)}function EF(e,t){if(e==="input"||e==="change")return Hh(t)}function CF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hr=typeof Object.is=="function"?Object.is:CF;function qc(e,t){if(Hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bg.call(t,i)||!Hr(e[i],t[i]))return!1}return!0}function M0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $0(e,t){var n=M0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=M0(n)}}function lC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cC(){for(var e=window,t=Hf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Hf(e.document)}return t}function xx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kF(e){var t=cC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lC(n.ownerDocument.documentElement,n)){if(r!==null&&xx(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=$0(n,s);var a=$0(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PF=Oi&&"documentMode"in document&&11>=document.documentMode,wo=null,lv=null,jc=null,cv=!1;function U0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cv||wo==null||wo!==Hf(r)||(r=wo,"selectionStart"in r&&xx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jc&&qc(jc,r)||(jc=r,r=Gf(lv,"onSelect"),0<r.length&&(t=new gx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wo)))}function Id(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var So={animationend:Id("Animation","AnimationEnd"),animationiteration:Id("Animation","AnimationIteration"),animationstart:Id("Animation","AnimationStart"),transitionend:Id("Transition","TransitionEnd")},ym={},uC={};Oi&&(uC=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Bh(e){if(ym[e])return ym[e];if(!So[e])return e;var t=So[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in uC)return ym[e]=t[n];return e}var dC=Bh("animationend"),fC=Bh("animationiteration"),hC=Bh("animationstart"),pC=Bh("transitionend"),mC=new Map,z0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(e,t){mC.set(e,t),Fa(t,[e])}for(var xm=0;xm<z0.length;xm++){var bm=z0[xm],RF=bm.toLowerCase(),NF=bm[0].toUpperCase()+bm.slice(1);Ms(RF,"on"+NF)}Ms(dC,"onAnimationEnd");Ms(fC,"onAnimationIteration");Ms(hC,"onAnimationStart");Ms("dblclick","onDoubleClick");Ms("focusin","onFocus");Ms("focusout","onBlur");Ms(pC,"onTransitionEnd");tl("onMouseEnter",["mouseout","mouseover"]);tl("onMouseLeave",["mouseout","mouseover"]);tl("onPointerEnter",["pointerout","pointerover"]);tl("onPointerLeave",["pointerout","pointerover"]);Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TF=new Set("cancel close invalid load scroll toggle".split(" ").concat(uc));function H0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,RD(r,t,void 0,e),e.currentTarget=null}function gC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;H0(i,o,u),s=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;H0(i,o,u),s=c}}}if(qf)throw e=iv,qf=!1,iv=null,e}function rt(e,t){var n=t[pv];n===void 0&&(n=t[pv]=new Set);var r=e+"__bubble";n.has(r)||(vC(t,e,2,!1),n.add(r))}function wm(e,t,n){var r=0;t&&(r|=4),vC(n,e,r,t)}var Dd="_reactListening"+Math.random().toString(36).slice(2);function Wc(e){if(!e[Dd]){e[Dd]=!0,_E.forEach(function(n){n!=="selectionchange"&&(TF.has(n)||wm(n,!1,e),wm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dd]||(t[Dd]=!0,wm("selectionchange",!1,t))}}function vC(e,t,n,r){switch(eC(t)){case 1:var i=WD;break;case 4:i=VD;break;default:i=px}n=i.bind(null,t,n,e),i=void 0,!rv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Sm(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;o!==null;){if(a=da(o),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}o=o.parentNode}}r=r.return}UE(function(){var u=s,d=ux(n),f=[];e:{var h=mC.get(e);if(h!==void 0){var p=gx,g=e;switch(e){case"keypress":if(wf(n)===0)break e;case"keydown":case"keyup":p=oF;break;case"focusin":g="focus",p=mm;break;case"focusout":g="blur",p=mm;break;case"beforeblur":case"afterblur":p=mm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=N0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=GD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uF;break;case dC:case fC:case hC:p=XD;break;case pC:p=fF;break;case"scroll":p=QD;break;case"wheel":p=pF;break;case"copy":case"cut":case"paste":p=eF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=A0}var m=(t&4)!==0,w=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var x=u,b;x!==null;){b=x;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,v!==null&&(S=$c(x,v),S!=null&&m.push(Vc(x,S,b)))),w)break;x=x.return}0<m.length&&(h=new p(h,g,null,n,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==tv&&(g=n.relatedTarget||n.fromElement)&&(da(g)||g[Ii]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?da(g):null,g!==null&&(w=La(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=N0,S="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=A0,S="onPointerLeave",v="onPointerEnter",x="pointer"),w=p==null?h:jo(p),b=g==null?h:jo(g),h=new m(S,x+"leave",p,n,d),h.target=w,h.relatedTarget=b,S=null,da(d)===u&&(m=new m(v,x+"enter",g,n,d),m.target=b,m.relatedTarget=w,S=m),w=S,p&&g)t:{for(m=p,v=g,x=0,b=m;b;b=Xa(b))x++;for(b=0,S=v;S;S=Xa(S))b++;for(;0<x-b;)m=Xa(m),x--;for(;0<b-x;)v=Xa(v),b--;for(;x--;){if(m===v||v!==null&&m===v.alternate)break t;m=Xa(m),v=Xa(v)}m=null}else m=null;p!==null&&B0(f,h,p,m,!1),g!==null&&w!==null&&B0(f,w,g,m,!0)}}e:{if(h=u?jo(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=wF;else if(D0(h))if(aC)j=EF;else{j=jF;var _=SF}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=_F);if(j&&(j=j(e,u))){sC(f,j,n,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Yg(h,"number",h.value)}switch(_=u?jo(u):window,e){case"focusin":(D0(_)||_.contentEditable==="true")&&(wo=_,lv=u,jc=null);break;case"focusout":jc=lv=wo=null;break;case"mousedown":cv=!0;break;case"contextmenu":case"mouseup":case"dragend":cv=!1,U0(f,n,d);break;case"selectionchange":if(PF)break;case"keydown":case"keyup":U0(f,n,d)}var P;if(yx)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else bo?rC(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(nC&&n.locale!=="ko"&&(bo||R!=="onCompositionStart"?R==="onCompositionEnd"&&bo&&(P=tC()):(gs=d,mx="value"in gs?gs.value:gs.textContent,bo=!0)),_=Gf(u,R),0<_.length&&(R=new T0(R,e,null,n,d),f.push({event:R,listeners:_}),P?R.data=P:(P=iC(n),P!==null&&(R.data=P)))),(P=gF?vF(e,n):yF(e,n))&&(u=Gf(u,"onBeforeInput"),0<u.length&&(d=new T0("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=P))}gC(f,t)})}function Vc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gf(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$c(e,n),s!=null&&r.unshift(Vc(e,s,i)),s=$c(e,t),s!=null&&r.push(Vc(e,s,i))),e=e.return}return r}function Xa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function B0(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,i?(c=$c(n,s),c!=null&&a.unshift(Vc(n,c,o))):i||(c=$c(n,s),c!=null&&a.push(Vc(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var AF=/\r\n?/g,OF=/\u0000|\uFFFD/g;function q0(e){return(typeof e=="string"?e:""+e).replace(AF,`
`).replace(OF,"")}function Fd(e,t,n){if(t=q0(t),q0(e)!==t&&n)throw Error(K(425))}function Yf(){}var uv=null,dv=null;function fv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hv=typeof setTimeout=="function"?setTimeout:void 0,IF=typeof clearTimeout=="function"?clearTimeout:void 0,W0=typeof Promise=="function"?Promise:void 0,DF=typeof queueMicrotask=="function"?queueMicrotask:typeof W0<"u"?function(e){return W0.resolve(null).then(e).catch(FF)}:hv;function FF(e){setTimeout(function(){throw e})}function jm(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Hc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Hc(t)}function Ss(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function V0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wl=Math.random().toString(36).slice(2),ai="__reactFiber$"+wl,Qc="__reactProps$"+wl,Ii="__reactContainer$"+wl,pv="__reactEvents$"+wl,LF="__reactListeners$"+wl,MF="__reactHandles$"+wl;function da(e){var t=e[ai];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ii]||n[ai]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=V0(e);e!==null;){if(n=e[ai])return n;e=V0(e)}return t}e=n,n=e.parentNode}return null}function Gu(e){return e=e[ai]||e[Ii],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function jo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function qh(e){return e[Qc]||null}var mv=[],_o=-1;function $s(e){return{current:e}}function st(e){0>_o||(e.current=mv[_o],mv[_o]=null,_o--)}function tt(e,t){_o++,mv[_o]=e.current,e.current=t}var Ts={},un=$s(Ts),zn=$s(!1),Sa=Ts;function nl(e,t){var n=e.type.contextTypes;if(!n)return Ts;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Hn(e){return e=e.childContextTypes,e!=null}function Jf(){st(zn),st(un)}function Q0(e,t,n){if(un.current!==Ts)throw Error(K(168));tt(un,t),tt(zn,n)}function yC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(K(108,SD(e)||"Unknown",i));return ht({},n,r)}function Xf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ts,Sa=un.current,tt(un,e),tt(zn,zn.current),!0}function K0(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=yC(e,t,Sa),r.__reactInternalMemoizedMergedChildContext=e,st(zn),st(un),tt(un,e)):st(zn),tt(zn,n)}var Pi=null,Wh=!1,_m=!1;function xC(e){Pi===null?Pi=[e]:Pi.push(e)}function $F(e){Wh=!0,xC(e)}function Us(){if(!_m&&Pi!==null){_m=!0;var e=0,t=qe;try{var n=Pi;for(qe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Pi=null,Wh=!1}catch(i){throw Pi!==null&&(Pi=Pi.slice(e+1)),qE(dx,Us),i}finally{qe=t,_m=!1}}return null}var Eo=[],Co=0,Zf=null,eh=0,hr=[],pr=0,ja=null,Ni=1,Ti="";function na(e,t){Eo[Co++]=eh,Eo[Co++]=Zf,Zf=e,eh=t}function bC(e,t,n){hr[pr++]=Ni,hr[pr++]=Ti,hr[pr++]=ja,ja=e;var r=Ni;e=Ti;var i=32-Lr(r)-1;r&=~(1<<i),n+=1;var s=32-Lr(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ni=1<<32-Lr(t)+i|n<<i|r,Ti=s+e}else Ni=1<<s|n<<i|r,Ti=e}function bx(e){e.return!==null&&(na(e,1),bC(e,1,0))}function wx(e){for(;e===Zf;)Zf=Eo[--Co],Eo[Co]=null,eh=Eo[--Co],Eo[Co]=null;for(;e===ja;)ja=hr[--pr],hr[pr]=null,Ti=hr[--pr],hr[pr]=null,Ni=hr[--pr],hr[pr]=null}var er=null,Zn=null,lt=!1,Fr=null;function wC(e,t){var n=yr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function G0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,er=e,Zn=Ss(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,er=e,Zn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ja!==null?{id:Ni,overflow:Ti}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,er=e,Zn=null,!0):!1;default:return!1}}function gv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vv(e){if(lt){var t=Zn;if(t){var n=t;if(!G0(e,t)){if(gv(e))throw Error(K(418));t=Ss(n.nextSibling);var r=er;t&&G0(e,t)?wC(r,n):(e.flags=e.flags&-4097|2,lt=!1,er=e)}}else{if(gv(e))throw Error(K(418));e.flags=e.flags&-4097|2,lt=!1,er=e}}}function Y0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;er=e}function Ld(e){if(e!==er)return!1;if(!lt)return Y0(e),lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fv(e.type,e.memoizedProps)),t&&(t=Zn)){if(gv(e))throw SC(),Error(K(418));for(;t;)wC(e,t),t=Ss(t.nextSibling)}if(Y0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Zn=Ss(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Zn=null}}else Zn=er?Ss(e.stateNode.nextSibling):null;return!0}function SC(){for(var e=Zn;e;)e=Ss(e.nextSibling)}function rl(){Zn=er=null,lt=!1}function Sx(e){Fr===null?Fr=[e]:Fr.push(e)}var UF=Bi.ReactCurrentBatchConfig;function Vl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function Md(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function J0(e){var t=e._init;return t(e._payload)}function jC(e){function t(v,x){if(e){var b=v.deletions;b===null?(v.deletions=[x],v.flags|=16):b.push(x)}}function n(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=Cs(v,x),v.index=0,v.sibling=null,v}function s(v,x,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<x?(v.flags|=2,x):b):(v.flags|=2,x)):(v.flags|=1048576,x)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,x,b,S){return x===null||x.tag!==6?(x=Tm(b,v.mode,S),x.return=v,x):(x=i(x,b),x.return=v,x)}function c(v,x,b,S){var j=b.type;return j===xo?d(v,x,b.props.children,S,b.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ss&&J0(j)===x.type)?(S=i(x,b.props),S.ref=Vl(v,x,b),S.return=v,S):(S=Pf(b.type,b.key,b.props,null,v.mode,S),S.ref=Vl(v,x,b),S.return=v,S)}function u(v,x,b,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Am(b,v.mode,S),x.return=v,x):(x=i(x,b.children||[]),x.return=v,x)}function d(v,x,b,S,j){return x===null||x.tag!==7?(x=ba(b,v.mode,S,j),x.return=v,x):(x=i(x,b),x.return=v,x)}function f(v,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Tm(""+x,v.mode,b),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case kd:return b=Pf(x.type,x.key,x.props,null,v.mode,b),b.ref=Vl(v,null,x),b.return=v,b;case yo:return x=Am(x,v.mode,b),x.return=v,x;case ss:var S=x._init;return f(v,S(x._payload),b)}if(lc(x)||zl(x))return x=ba(x,v.mode,b,null),x.return=v,x;Md(v,x)}return null}function h(v,x,b,S){var j=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:o(v,x,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case kd:return b.key===j?c(v,x,b,S):null;case yo:return b.key===j?u(v,x,b,S):null;case ss:return j=b._init,h(v,x,j(b._payload),S)}if(lc(b)||zl(b))return j!==null?null:d(v,x,b,S,null);Md(v,b)}return null}function p(v,x,b,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(b)||null,o(x,v,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case kd:return v=v.get(S.key===null?b:S.key)||null,c(x,v,S,j);case yo:return v=v.get(S.key===null?b:S.key)||null,u(x,v,S,j);case ss:var _=S._init;return p(v,x,b,_(S._payload),j)}if(lc(S)||zl(S))return v=v.get(b)||null,d(x,v,S,j,null);Md(x,S)}return null}function g(v,x,b,S){for(var j=null,_=null,P=x,R=x=0,F=null;P!==null&&R<b.length;R++){P.index>R?(F=P,P=null):F=P.sibling;var k=h(v,P,b[R],S);if(k===null){P===null&&(P=F);break}e&&P&&k.alternate===null&&t(v,P),x=s(k,x,R),_===null?j=k:_.sibling=k,_=k,P=F}if(R===b.length)return n(v,P),lt&&na(v,R),j;if(P===null){for(;R<b.length;R++)P=f(v,b[R],S),P!==null&&(x=s(P,x,R),_===null?j=P:_.sibling=P,_=P);return lt&&na(v,R),j}for(P=r(v,P);R<b.length;R++)F=p(P,v,R,b[R],S),F!==null&&(e&&F.alternate!==null&&P.delete(F.key===null?R:F.key),x=s(F,x,R),_===null?j=F:_.sibling=F,_=F);return e&&P.forEach(function(D){return t(v,D)}),lt&&na(v,R),j}function m(v,x,b,S){var j=zl(b);if(typeof j!="function")throw Error(K(150));if(b=j.call(b),b==null)throw Error(K(151));for(var _=j=null,P=x,R=x=0,F=null,k=b.next();P!==null&&!k.done;R++,k=b.next()){P.index>R?(F=P,P=null):F=P.sibling;var D=h(v,P,k.value,S);if(D===null){P===null&&(P=F);break}e&&P&&D.alternate===null&&t(v,P),x=s(D,x,R),_===null?j=D:_.sibling=D,_=D,P=F}if(k.done)return n(v,P),lt&&na(v,R),j;if(P===null){for(;!k.done;R++,k=b.next())k=f(v,k.value,S),k!==null&&(x=s(k,x,R),_===null?j=k:_.sibling=k,_=k);return lt&&na(v,R),j}for(P=r(v,P);!k.done;R++,k=b.next())k=p(P,v,R,k.value,S),k!==null&&(e&&k.alternate!==null&&P.delete(k.key===null?R:k.key),x=s(k,x,R),_===null?j=k:_.sibling=k,_=k);return e&&P.forEach(function(L){return t(v,L)}),lt&&na(v,R),j}function w(v,x,b,S){if(typeof b=="object"&&b!==null&&b.type===xo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case kd:e:{for(var j=b.key,_=x;_!==null;){if(_.key===j){if(j=b.type,j===xo){if(_.tag===7){n(v,_.sibling),x=i(_,b.props.children),x.return=v,v=x;break e}}else if(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ss&&J0(j)===_.type){n(v,_.sibling),x=i(_,b.props),x.ref=Vl(v,_,b),x.return=v,v=x;break e}n(v,_);break}else t(v,_);_=_.sibling}b.type===xo?(x=ba(b.props.children,v.mode,S,b.key),x.return=v,v=x):(S=Pf(b.type,b.key,b.props,null,v.mode,S),S.ref=Vl(v,x,b),S.return=v,v=S)}return a(v);case yo:e:{for(_=b.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(v,x.sibling),x=i(x,b.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else t(v,x);x=x.sibling}x=Am(b,v.mode,S),x.return=v,v=x}return a(v);case ss:return _=b._init,w(v,x,_(b._payload),S)}if(lc(b))return g(v,x,b,S);if(zl(b))return m(v,x,b,S);Md(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(v,x.sibling),x=i(x,b),x.return=v,v=x):(n(v,x),x=Tm(b,v.mode,S),x.return=v,v=x),a(v)):n(v,x)}return w}var il=jC(!0),_C=jC(!1),th=$s(null),nh=null,ko=null,jx=null;function _x(){jx=ko=nh=null}function Ex(e){var t=th.current;st(th),e._currentValue=t}function yv(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fo(e,t){nh=e,jx=ko=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($n=!0),e.firstContext=null)}function _r(e){var t=e._currentValue;if(jx!==e)if(e={context:e,memoizedValue:t,next:null},ko===null){if(nh===null)throw Error(K(308));ko=e,nh.dependencies={lanes:0,firstContext:e}}else ko=ko.next=e;return t}var fa=null;function Cx(e){fa===null?fa=[e]:fa.push(e)}function EC(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Cx(t)):(n.next=i.next,i.next=n),t.interleaved=n,Di(e,r)}function Di(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var as=!1;function kx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ai(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function js(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Di(e,n)}return i=r.interleaved,i===null?(t.next=t,Cx(r)):(t.next=i.next,i.next=t),r.interleaved=t,Di(e,n)}function Sf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fx(e,n)}}function X0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function rh(e,t,n,r){var i=e.updateQueue;as=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,o=s;do{var h=o.lane,p=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=ht({},f,h);break e;case 2:as=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Ea|=a,e.lanes=a,e.memoizedState=f}}function Z0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var Yu={},ci=$s(Yu),Kc=$s(Yu),Gc=$s(Yu);function ha(e){if(e===Yu)throw Error(K(174));return e}function Px(e,t){switch(tt(Gc,t),tt(Kc,e),tt(ci,Yu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xg(t,e)}st(ci),tt(ci,t)}function sl(){st(ci),st(Kc),st(Gc)}function kC(e){ha(Gc.current);var t=ha(ci.current),n=Xg(t,e.type);t!==n&&(tt(Kc,e),tt(ci,n))}function Rx(e){Kc.current===e&&(st(ci),st(Kc))}var dt=$s(0);function ih(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Em=[];function Nx(){for(var e=0;e<Em.length;e++)Em[e]._workInProgressVersionPrimary=null;Em.length=0}var jf=Bi.ReactCurrentDispatcher,Cm=Bi.ReactCurrentBatchConfig,_a=0,ft=null,At=null,Bt=null,sh=!1,_c=!1,Yc=0,zF=0;function en(){throw Error(K(321))}function Tx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Hr(e[n],t[n]))return!1;return!0}function Ax(e,t,n,r,i,s){if(_a=s,ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jf.current=e===null||e.memoizedState===null?WF:VF,e=n(r,i),_c){s=0;do{if(_c=!1,Yc=0,25<=s)throw Error(K(301));s+=1,Bt=At=null,t.updateQueue=null,jf.current=QF,e=n(r,i)}while(_c)}if(jf.current=ah,t=At!==null&&At.next!==null,_a=0,Bt=At=ft=null,sh=!1,t)throw Error(K(300));return e}function Ox(){var e=Yc!==0;return Yc=0,e}function ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?ft.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function Er(){if(At===null){var e=ft.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var t=Bt===null?ft.memoizedState:Bt.next;if(t!==null)Bt=t,At=e;else{if(e===null)throw Error(K(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Bt===null?ft.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function Jc(e,t){return typeof t=="function"?t(e):t}function km(e){var t=Er(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=At,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,c=null,u=s;do{var d=u.lane;if((_a&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,a=r):c=c.next=f,ft.lanes|=d,Ea|=d}u=u.next}while(u!==null&&u!==s);c===null?a=r:c.next=o,Hr(r,t.memoizedState)||($n=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ft.lanes|=s,Ea|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pm(e){var t=Er(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Hr(s,t.memoizedState)||($n=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function PC(){}function RC(e,t){var n=ft,r=Er(),i=t(),s=!Hr(r.memoizedState,i);if(s&&(r.memoizedState=i,$n=!0),r=r.queue,Ix(AC.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Bt!==null&&Bt.memoizedState.tag&1){if(n.flags|=2048,Xc(9,TC.bind(null,n,r,i,t),void 0,null),qt===null)throw Error(K(349));_a&30||NC(n,t,i)}return i}function NC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function TC(e,t,n,r){t.value=n,t.getSnapshot=r,OC(t)&&IC(e)}function AC(e,t,n){return n(function(){OC(t)&&IC(e)})}function OC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Hr(e,n)}catch{return!0}}function IC(e){var t=Di(e,1);t!==null&&Mr(t,e,1,-1)}function eS(e){var t=ei();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jc,lastRenderedState:e},t.queue=e,e=e.dispatch=qF.bind(null,ft,e),[t.memoizedState,e]}function Xc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function DC(){return Er().memoizedState}function _f(e,t,n,r){var i=ei();ft.flags|=e,i.memoizedState=Xc(1|t,n,void 0,r===void 0?null:r)}function Vh(e,t,n,r){var i=Er();r=r===void 0?null:r;var s=void 0;if(At!==null){var a=At.memoizedState;if(s=a.destroy,r!==null&&Tx(r,a.deps)){i.memoizedState=Xc(t,n,s,r);return}}ft.flags|=e,i.memoizedState=Xc(1|t,n,s,r)}function tS(e,t){return _f(8390656,8,e,t)}function Ix(e,t){return Vh(2048,8,e,t)}function FC(e,t){return Vh(4,2,e,t)}function LC(e,t){return Vh(4,4,e,t)}function MC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $C(e,t,n){return n=n!=null?n.concat([e]):null,Vh(4,4,MC.bind(null,t,e),n)}function Dx(){}function UC(e,t){var n=Er();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zC(e,t){var n=Er();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tx(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function HC(e,t,n){return _a&21?(Hr(n,t)||(n=QE(),ft.lanes|=n,Ea|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$n=!0),e.memoizedState=n)}function HF(e,t){var n=qe;qe=n!==0&&4>n?n:4,e(!0);var r=Cm.transition;Cm.transition={};try{e(!1),t()}finally{qe=n,Cm.transition=r}}function BC(){return Er().memoizedState}function BF(e,t,n){var r=Es(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qC(e))WC(t,n);else if(n=EC(e,t,n,r),n!==null){var i=kn();Mr(n,e,r,i),VC(n,t,r)}}function qF(e,t,n){var r=Es(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qC(e))WC(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Hr(o,a)){var c=t.interleaved;c===null?(i.next=i,Cx(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=EC(e,t,i,r),n!==null&&(i=kn(),Mr(n,e,r,i),VC(n,t,r))}}function qC(e){var t=e.alternate;return e===ft||t!==null&&t===ft}function WC(e,t){_c=sh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function VC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fx(e,n)}}var ah={readContext:_r,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},WF={readContext:_r,useCallback:function(e,t){return ei().memoizedState=[e,t===void 0?null:t],e},useContext:_r,useEffect:tS,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_f(4194308,4,MC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _f(4194308,4,e,t)},useInsertionEffect:function(e,t){return _f(4,2,e,t)},useMemo:function(e,t){var n=ei();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ei();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=BF.bind(null,ft,e),[r.memoizedState,e]},useRef:function(e){var t=ei();return e={current:e},t.memoizedState=e},useState:eS,useDebugValue:Dx,useDeferredValue:function(e){return ei().memoizedState=e},useTransition:function(){var e=eS(!1),t=e[0];return e=HF.bind(null,e[1]),ei().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ft,i=ei();if(lt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),qt===null)throw Error(K(349));_a&30||NC(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,tS(AC.bind(null,r,s,e),[e]),r.flags|=2048,Xc(9,TC.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ei(),t=qt.identifierPrefix;if(lt){var n=Ti,r=Ni;n=(r&~(1<<32-Lr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zF++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},VF={readContext:_r,useCallback:UC,useContext:_r,useEffect:Ix,useImperativeHandle:$C,useInsertionEffect:FC,useLayoutEffect:LC,useMemo:zC,useReducer:km,useRef:DC,useState:function(){return km(Jc)},useDebugValue:Dx,useDeferredValue:function(e){var t=Er();return HC(t,At.memoizedState,e)},useTransition:function(){var e=km(Jc)[0],t=Er().memoizedState;return[e,t]},useMutableSource:PC,useSyncExternalStore:RC,useId:BC,unstable_isNewReconciler:!1},QF={readContext:_r,useCallback:UC,useContext:_r,useEffect:Ix,useImperativeHandle:$C,useInsertionEffect:FC,useLayoutEffect:LC,useMemo:zC,useReducer:Pm,useRef:DC,useState:function(){return Pm(Jc)},useDebugValue:Dx,useDeferredValue:function(e){var t=Er();return At===null?t.memoizedState=e:HC(t,At.memoizedState,e)},useTransition:function(){var e=Pm(Jc)[0],t=Er().memoizedState;return[e,t]},useMutableSource:PC,useSyncExternalStore:RC,useId:BC,unstable_isNewReconciler:!1};function Tr(e,t){if(e&&e.defaultProps){t=ht({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function xv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ht({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Qh={isMounted:function(e){return(e=e._reactInternals)?La(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=kn(),i=Es(e),s=Ai(r,i);s.payload=t,n!=null&&(s.callback=n),t=js(e,s,i),t!==null&&(Mr(t,e,i,r),Sf(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=kn(),i=Es(e),s=Ai(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=js(e,s,i),t!==null&&(Mr(t,e,i,r),Sf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kn(),r=Es(e),i=Ai(n,r);i.tag=2,t!=null&&(i.callback=t),t=js(e,i,r),t!==null&&(Mr(t,e,r,n),Sf(t,e,r))}};function nS(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!qc(n,r)||!qc(i,s):!0}function QC(e,t,n){var r=!1,i=Ts,s=t.contextType;return typeof s=="object"&&s!==null?s=_r(s):(i=Hn(t)?Sa:un.current,r=t.contextTypes,s=(r=r!=null)?nl(e,i):Ts),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function rS(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Qh.enqueueReplaceState(t,t.state,null)}function bv(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},kx(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=_r(s):(s=Hn(t)?Sa:un.current,i.context=nl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(xv(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Qh.enqueueReplaceState(i,i.state,null),rh(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function al(e,t){try{var n="",r=t;do n+=wD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Rm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function wv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var KF=typeof WeakMap=="function"?WeakMap:Map;function KC(e,t,n){n=Ai(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){lh||(lh=!0,Tv=r),wv(e,t)},n}function GC(e,t,n){n=Ai(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){wv(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){wv(e,t),typeof r!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function iS(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new KF;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=lL.bind(null,e,t,n),t.then(e,e))}function sS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function aS(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ai(-1,1),t.tag=2,js(n,t,1))),n.lanes|=1),e)}var GF=Bi.ReactCurrentOwner,$n=!1;function _n(e,t,n,r){t.child=e===null?_C(t,null,n,r):il(t,e.child,n,r)}function oS(e,t,n,r,i){n=n.render;var s=t.ref;return Fo(t,i),r=Ax(e,t,n,r,s,i),n=Ox(),e!==null&&!$n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fi(e,t,i)):(lt&&n&&bx(t),t.flags|=1,_n(e,t,r,i),t.child)}function lS(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Bx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,YC(e,t,s,r,i)):(e=Pf(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:qc,n(a,r)&&e.ref===t.ref)return Fi(e,t,i)}return t.flags|=1,e=Cs(s,r),e.ref=t.ref,e.return=t,t.child=e}function YC(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(qc(s,r)&&e.ref===t.ref)if($n=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&($n=!0);else return t.lanes=e.lanes,Fi(e,t,i)}return Sv(e,t,n,r,i)}function JC(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Ro,Gn),Gn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(Ro,Gn),Gn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,tt(Ro,Gn),Gn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,tt(Ro,Gn),Gn|=r;return _n(e,t,i,n),t.child}function XC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sv(e,t,n,r,i){var s=Hn(n)?Sa:un.current;return s=nl(t,s),Fo(t,i),n=Ax(e,t,n,r,s,i),r=Ox(),e!==null&&!$n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fi(e,t,i)):(lt&&r&&bx(t),t.flags|=1,_n(e,t,n,i),t.child)}function cS(e,t,n,r,i){if(Hn(n)){var s=!0;Xf(t)}else s=!1;if(Fo(t,i),t.stateNode===null)Ef(e,t),QC(t,n,r),bv(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=_r(u):(u=Hn(n)?Sa:un.current,u=nl(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==u)&&rS(t,a,r,u),as=!1;var h=t.memoizedState;a.state=h,rh(t,r,a,i),c=t.memoizedState,o!==r||h!==c||zn.current||as?(typeof d=="function"&&(xv(t,n,d,r),c=t.memoizedState),(o=as||nS(t,n,o,r,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,CC(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Tr(t.type,o),a.props=u,f=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=_r(c):(c=Hn(n)?Sa:un.current,c=nl(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==c)&&rS(t,a,r,c),as=!1,h=t.memoizedState,a.state=h,rh(t,r,a,i);var g=t.memoizedState;o!==f||h!==g||zn.current||as?(typeof p=="function"&&(xv(t,n,p,r),g=t.memoizedState),(u=as||nS(t,n,u,r,h,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return jv(e,t,n,r,s,i)}function jv(e,t,n,r,i,s){XC(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&K0(t,n,!1),Fi(e,t,s);r=t.stateNode,GF.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=il(t,e.child,null,s),t.child=il(t,null,o,s)):_n(e,t,o,s),t.memoizedState=r.state,i&&K0(t,n,!0),t.child}function ZC(e){var t=e.stateNode;t.pendingContext?Q0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Q0(e,t.context,!1),Px(e,t.containerInfo)}function uS(e,t,n,r,i){return rl(),Sx(i),t.flags|=256,_n(e,t,n,r),t.child}var _v={dehydrated:null,treeContext:null,retryLane:0};function Ev(e){return{baseLanes:e,cachePool:null,transitions:null}}function ek(e,t,n){var r=t.pendingProps,i=dt.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),tt(dt,i&1),e===null)return vv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Yh(a,r,0,null),e=ba(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ev(n),t.memoizedState=_v,e):Fx(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return YF(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Cs(i,c),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Cs(o,s):(s=ba(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?Ev(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=_v,r}return s=e.child,e=s.sibling,r=Cs(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fx(e,t){return t=Yh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $d(e,t,n,r){return r!==null&&Sx(r),il(t,e.child,null,n),e=Fx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function YF(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=Rm(Error(K(422))),$d(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Yh({mode:"visible",children:r.children},i,0,null),s=ba(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&il(t,e.child,null,a),t.child.memoizedState=Ev(a),t.memoizedState=_v,s);if(!(t.mode&1))return $d(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(K(419)),r=Rm(s,r,void 0),$d(e,t,a,r)}if(o=(a&e.childLanes)!==0,$n||o){if(r=qt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Di(e,i),Mr(r,e,i,-1))}return Hx(),r=Rm(Error(K(421))),$d(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=cL.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Zn=Ss(i.nextSibling),er=t,lt=!0,Fr=null,e!==null&&(hr[pr++]=Ni,hr[pr++]=Ti,hr[pr++]=ja,Ni=e.id,Ti=e.overflow,ja=t),t=Fx(t,r.children),t.flags|=4096,t)}function dS(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),yv(e.return,t,n)}function Nm(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function tk(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_n(e,t,r.children,n),r=dt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dS(e,n,t);else if(e.tag===19)dS(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(tt(dt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ih(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Nm(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ih(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Nm(t,!0,n,null,s);break;case"together":Nm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ef(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ea|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=Cs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function JF(e,t,n){switch(t.tag){case 3:ZC(t),rl();break;case 5:kC(t);break;case 1:Hn(t.type)&&Xf(t);break;case 4:Px(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;tt(th,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(tt(dt,dt.current&1),t.flags|=128,null):n&t.child.childLanes?ek(e,t,n):(tt(dt,dt.current&1),e=Fi(e,t,n),e!==null?e.sibling:null);tt(dt,dt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return tk(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(dt,dt.current),r)break;return null;case 22:case 23:return t.lanes=0,JC(e,t,n)}return Fi(e,t,n)}var nk,Cv,rk,ik;nk=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cv=function(){};rk=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ha(ci.current);var s=null;switch(n){case"input":i=Kg(e,i),r=Kg(e,r),s=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),s=[];break;case"textarea":i=Jg(e,i),r=Jg(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Yf)}Zg(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Lc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Lc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&rt("scroll",e),s||o===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};ik=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ql(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function XF(e,t,n){var r=t.pendingProps;switch(wx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(t),null;case 1:return Hn(t.type)&&Jf(),tn(t),null;case 3:return r=t.stateNode,sl(),st(zn),st(un),Nx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ld(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fr!==null&&(Iv(Fr),Fr=null))),Cv(e,t),tn(t),null;case 5:Rx(t);var i=ha(Gc.current);if(n=t.type,e!==null&&t.stateNode!=null)rk(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return tn(t),null}if(e=ha(ci.current),Ld(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ai]=t,r[Qc]=s,e=(t.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<uc.length;i++)rt(uc[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":b0(r,s),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rt("invalid",r);break;case"textarea":S0(r,s),rt("invalid",r)}Zg(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Fd(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Fd(r.textContent,o,e),i=["children",""+o]):Lc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&rt("scroll",r)}switch(n){case"input":Pd(r),w0(r,s,!0);break;case"textarea":Pd(r),j0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Yf)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=AE(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ai]=t,e[Qc]=r,nk(e,t,!1,!1),t.stateNode=e;e:{switch(a=ev(n,r),n){case"dialog":rt("cancel",e),rt("close",e),i=r;break;case"iframe":case"object":case"embed":rt("load",e),i=r;break;case"video":case"audio":for(i=0;i<uc.length;i++)rt(uc[i],e);i=r;break;case"source":rt("error",e),i=r;break;case"img":case"image":case"link":rt("error",e),rt("load",e),i=r;break;case"details":rt("toggle",e),i=r;break;case"input":b0(e,r),i=Kg(e,r),rt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),rt("invalid",e);break;case"textarea":S0(e,r),i=Jg(e,r),rt("invalid",e);break;default:i=r}Zg(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="style"?DE(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&OE(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Mc(e,c):typeof c=="number"&&Mc(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Lc.hasOwnProperty(s)?c!=null&&s==="onScroll"&&rt("scroll",e):c!=null&&ax(e,s,c,a))}switch(n){case"input":Pd(e),w0(e,r,!1);break;case"textarea":Pd(e),j0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ns(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ao(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ao(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Yf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tn(t),null;case 6:if(e&&t.stateNode!=null)ik(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(n=ha(Gc.current),ha(ci.current),Ld(t)){if(r=t.stateNode,n=t.memoizedProps,r[ai]=t,(s=r.nodeValue!==n)&&(e=er,e!==null))switch(e.tag){case 3:Fd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fd(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ai]=t,t.stateNode=r}return tn(t),null;case 13:if(st(dt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&Zn!==null&&t.mode&1&&!(t.flags&128))SC(),rl(),t.flags|=98560,s=!1;else if(s=Ld(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(K(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[ai]=t}else rl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tn(t),s=!1}else Fr!==null&&(Iv(Fr),Fr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||dt.current&1?It===0&&(It=3):Hx())),t.updateQueue!==null&&(t.flags|=4),tn(t),null);case 4:return sl(),Cv(e,t),e===null&&Wc(t.stateNode.containerInfo),tn(t),null;case 10:return Ex(t.type._context),tn(t),null;case 17:return Hn(t.type)&&Jf(),tn(t),null;case 19:if(st(dt),s=t.memoizedState,s===null)return tn(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Ql(s,!1);else{if(It!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ih(e),a!==null){for(t.flags|=128,Ql(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return tt(dt,dt.current&1|2),t.child}e=e.sibling}s.tail!==null&&St()>ol&&(t.flags|=128,r=!0,Ql(s,!1),t.lanes=4194304)}else{if(!r)if(e=ih(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ql(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!lt)return tn(t),null}else 2*St()-s.renderingStartTime>ol&&n!==1073741824&&(t.flags|=128,r=!0,Ql(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=St(),t.sibling=null,n=dt.current,tt(dt,r?n&1|2:n&1),t):(tn(t),null);case 22:case 23:return zx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Gn&1073741824&&(tn(t),t.subtreeFlags&6&&(t.flags|=8192)):tn(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function ZF(e,t){switch(wx(t),t.tag){case 1:return Hn(t.type)&&Jf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sl(),st(zn),st(un),Nx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rx(t),null;case 13:if(st(dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));rl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return st(dt),null;case 4:return sl(),null;case 10:return Ex(t.type._context),null;case 22:case 23:return zx(),null;case 24:return null;default:return null}}var Ud=!1,on=!1,eL=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Po(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(e,t,r)}else n.current=null}function kv(e,t,n){try{n()}catch(r){yt(e,t,r)}}var fS=!1;function tL(e,t){if(uv=Qf,e=cC(),xx(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===i&&(o=a),h===s&&++d===r&&(c=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(dv={focusedElem:e,selectionRange:n},Qf=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,w=g.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:Tr(t.type,m),w);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(S){yt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return g=fS,fS=!1,g}function Ec(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&kv(t,n,s)}i=i.next}while(i!==r)}}function Kh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Pv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function sk(e){var t=e.alternate;t!==null&&(e.alternate=null,sk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ai],delete t[Qc],delete t[pv],delete t[LF],delete t[MF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ak(e){return e.tag===5||e.tag===3||e.tag===4}function hS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ak(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yf));else if(r!==4&&(e=e.child,e!==null))for(Rv(e,t,n),e=e.sibling;e!==null;)Rv(e,t,n),e=e.sibling}function Nv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Nv(e,t,n),e=e.sibling;e!==null;)Nv(e,t,n),e=e.sibling}var Kt=null,Ir=!1;function Ki(e,t,n){for(n=n.child;n!==null;)ok(e,t,n),n=n.sibling}function ok(e,t,n){if(li&&typeof li.onCommitFiberUnmount=="function")try{li.onCommitFiberUnmount(Uh,n)}catch{}switch(n.tag){case 5:on||Po(n,t);case 6:var r=Kt,i=Ir;Kt=null,Ki(e,t,n),Kt=r,Ir=i,Kt!==null&&(Ir?(e=Kt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(Ir?(e=Kt,n=n.stateNode,e.nodeType===8?jm(e.parentNode,n):e.nodeType===1&&jm(e,n),Hc(e)):jm(Kt,n.stateNode));break;case 4:r=Kt,i=Ir,Kt=n.stateNode.containerInfo,Ir=!0,Ki(e,t,n),Kt=r,Ir=i;break;case 0:case 11:case 14:case 15:if(!on&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&kv(n,t,a),i=i.next}while(i!==r)}Ki(e,t,n);break;case 1:if(!on&&(Po(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){yt(n,t,o)}Ki(e,t,n);break;case 21:Ki(e,t,n);break;case 22:n.mode&1?(on=(r=on)||n.memoizedState!==null,Ki(e,t,n),on=r):Ki(e,t,n);break;default:Ki(e,t,n)}}function pS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new eL),t.forEach(function(r){var i=uL.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function kr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Kt=o.stateNode,Ir=!1;break e;case 3:Kt=o.stateNode.containerInfo,Ir=!0;break e;case 4:Kt=o.stateNode.containerInfo,Ir=!0;break e}o=o.return}if(Kt===null)throw Error(K(160));ok(s,a,i),Kt=null,Ir=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){yt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lk(t,e),t=t.sibling}function lk(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kr(t,e),Yr(e),r&4){try{Ec(3,e,e.return),Kh(3,e)}catch(m){yt(e,e.return,m)}try{Ec(5,e,e.return)}catch(m){yt(e,e.return,m)}}break;case 1:kr(t,e),Yr(e),r&512&&n!==null&&Po(n,n.return);break;case 5:if(kr(t,e),Yr(e),r&512&&n!==null&&Po(n,n.return),e.flags&32){var i=e.stateNode;try{Mc(i,"")}catch(m){yt(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&NE(i,s),ev(o,a);var u=ev(o,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?DE(i,f):d==="dangerouslySetInnerHTML"?OE(i,f):d==="children"?Mc(i,f):ax(i,d,f,u)}switch(o){case"input":Gg(i,s);break;case"textarea":TE(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ao(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ao(i,!!s.multiple,s.defaultValue,!0):Ao(i,!!s.multiple,s.multiple?[]:"",!1))}i[Qc]=s}catch(m){yt(e,e.return,m)}}break;case 6:if(kr(t,e),Yr(e),r&4){if(e.stateNode===null)throw Error(K(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){yt(e,e.return,m)}}break;case 3:if(kr(t,e),Yr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hc(t.containerInfo)}catch(m){yt(e,e.return,m)}break;case 4:kr(t,e),Yr(e);break;case 13:kr(t,e),Yr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($x=St())),r&4&&pS(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(on=(u=on)||d,kr(t,e),on=u):kr(t,e),Yr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ie=e,d=e.child;d!==null;){for(f=ie=d;ie!==null;){switch(h=ie,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ec(4,h,h.return);break;case 1:Po(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){yt(r,n,m)}}break;case 5:Po(h,h.return);break;case 22:if(h.memoizedState!==null){gS(f);continue}}p!==null?(p.return=h,ie=p):gS(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=IE("display",a))}catch(m){yt(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){yt(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:kr(t,e),Yr(e),r&4&&pS(e);break;case 21:break;default:kr(t,e),Yr(e)}}function Yr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ak(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Mc(i,""),r.flags&=-33);var s=hS(e);Nv(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=hS(e);Rv(e,o,a);break;default:throw Error(K(161))}}catch(c){yt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nL(e,t,n){ie=e,ck(e)}function ck(e,t,n){for(var r=(e.mode&1)!==0;ie!==null;){var i=ie,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Ud;if(!a){var o=i.alternate,c=o!==null&&o.memoizedState!==null||on;o=Ud;var u=on;if(Ud=a,(on=c)&&!u)for(ie=i;ie!==null;)a=ie,c=a.child,a.tag===22&&a.memoizedState!==null?vS(i):c!==null?(c.return=a,ie=c):vS(i);for(;s!==null;)ie=s,ck(s),s=s.sibling;ie=i,Ud=o,on=u}mS(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ie=s):mS(e)}}function mS(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:on||Kh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!on)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Tr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Z0(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Z0(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Hc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}on||t.flags&512&&Pv(t)}catch(h){yt(t,t.return,h)}}if(t===e){ie=null;break}if(n=t.sibling,n!==null){n.return=t.return,ie=n;break}ie=t.return}}function gS(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ie=n;break}ie=t.return}}function vS(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kh(4,t)}catch(c){yt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){yt(t,i,c)}}var s=t.return;try{Pv(t)}catch(c){yt(t,s,c)}break;case 5:var a=t.return;try{Pv(t)}catch(c){yt(t,a,c)}}}catch(c){yt(t,t.return,c)}if(t===e){ie=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ie=o;break}ie=t.return}}var rL=Math.ceil,oh=Bi.ReactCurrentDispatcher,Lx=Bi.ReactCurrentOwner,br=Bi.ReactCurrentBatchConfig,Ue=0,qt=null,kt=null,Gt=0,Gn=0,Ro=$s(0),It=0,Zc=null,Ea=0,Gh=0,Mx=0,Cc=null,Ln=null,$x=0,ol=1/0,Ei=null,lh=!1,Tv=null,_s=null,zd=!1,vs=null,ch=0,kc=0,Av=null,Cf=-1,kf=0;function kn(){return Ue&6?St():Cf!==-1?Cf:Cf=St()}function Es(e){return e.mode&1?Ue&2&&Gt!==0?Gt&-Gt:UF.transition!==null?(kf===0&&(kf=QE()),kf):(e=qe,e!==0||(e=window.event,e=e===void 0?16:eC(e.type)),e):1}function Mr(e,t,n,r){if(50<kc)throw kc=0,Av=null,Error(K(185));Qu(e,n,r),(!(Ue&2)||e!==qt)&&(e===qt&&(!(Ue&2)&&(Gh|=n),It===4&&ls(e,Gt)),Bn(e,r),n===1&&Ue===0&&!(t.mode&1)&&(ol=St()+500,Wh&&Us()))}function Bn(e,t){var n=e.callbackNode;UD(e,t);var r=Vf(e,e===qt?Gt:0);if(r===0)n!==null&&C0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&C0(n),t===1)e.tag===0?$F(yS.bind(null,e)):xC(yS.bind(null,e)),DF(function(){!(Ue&6)&&Us()}),n=null;else{switch(KE(r)){case 1:n=dx;break;case 4:n=WE;break;case 16:n=Wf;break;case 536870912:n=VE;break;default:n=Wf}n=vk(n,uk.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function uk(e,t){if(Cf=-1,kf=0,Ue&6)throw Error(K(327));var n=e.callbackNode;if(Lo()&&e.callbackNode!==n)return null;var r=Vf(e,e===qt?Gt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=uh(e,r);else{t=r;var i=Ue;Ue|=2;var s=fk();(qt!==e||Gt!==t)&&(Ei=null,ol=St()+500,xa(e,t));do try{aL();break}catch(o){dk(e,o)}while(!0);_x(),oh.current=s,Ue=i,kt!==null?t=0:(qt=null,Gt=0,t=It)}if(t!==0){if(t===2&&(i=sv(e),i!==0&&(r=i,t=Ov(e,i))),t===1)throw n=Zc,xa(e,0),ls(e,r),Bn(e,St()),n;if(t===6)ls(e,r);else{if(i=e.current.alternate,!(r&30)&&!iL(i)&&(t=uh(e,r),t===2&&(s=sv(e),s!==0&&(r=s,t=Ov(e,s))),t===1))throw n=Zc,xa(e,0),ls(e,r),Bn(e,St()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:ra(e,Ln,Ei);break;case 3:if(ls(e,r),(r&130023424)===r&&(t=$x+500-St(),10<t)){if(Vf(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){kn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=hv(ra.bind(null,e,Ln,Ei),t);break}ra(e,Ln,Ei);break;case 4:if(ls(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Lr(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rL(r/1960))-r,10<r){e.timeoutHandle=hv(ra.bind(null,e,Ln,Ei),r);break}ra(e,Ln,Ei);break;case 5:ra(e,Ln,Ei);break;default:throw Error(K(329))}}}return Bn(e,St()),e.callbackNode===n?uk.bind(null,e):null}function Ov(e,t){var n=Cc;return e.current.memoizedState.isDehydrated&&(xa(e,t).flags|=256),e=uh(e,t),e!==2&&(t=Ln,Ln=n,t!==null&&Iv(t)),e}function Iv(e){Ln===null?Ln=e:Ln.push.apply(Ln,e)}function iL(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Hr(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ls(e,t){for(t&=~Mx,t&=~Gh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Lr(t),r=1<<n;e[n]=-1,t&=~r}}function yS(e){if(Ue&6)throw Error(K(327));Lo();var t=Vf(e,0);if(!(t&1))return Bn(e,St()),null;var n=uh(e,t);if(e.tag!==0&&n===2){var r=sv(e);r!==0&&(t=r,n=Ov(e,r))}if(n===1)throw n=Zc,xa(e,0),ls(e,t),Bn(e,St()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ra(e,Ln,Ei),Bn(e,St()),null}function Ux(e,t){var n=Ue;Ue|=1;try{return e(t)}finally{Ue=n,Ue===0&&(ol=St()+500,Wh&&Us())}}function Ca(e){vs!==null&&vs.tag===0&&!(Ue&6)&&Lo();var t=Ue;Ue|=1;var n=br.transition,r=qe;try{if(br.transition=null,qe=1,e)return e()}finally{qe=r,br.transition=n,Ue=t,!(Ue&6)&&Us()}}function zx(){Gn=Ro.current,st(Ro)}function xa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,IF(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(wx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jf();break;case 3:sl(),st(zn),st(un),Nx();break;case 5:Rx(r);break;case 4:sl();break;case 13:st(dt);break;case 19:st(dt);break;case 10:Ex(r.type._context);break;case 22:case 23:zx()}n=n.return}if(qt=e,kt=e=Cs(e.current,null),Gt=Gn=t,It=0,Zc=null,Mx=Gh=Ea=0,Ln=Cc=null,fa!==null){for(t=0;t<fa.length;t++)if(n=fa[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}fa=null}return e}function dk(e,t){do{var n=kt;try{if(_x(),jf.current=ah,sh){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sh=!1}if(_a=0,Bt=At=ft=null,_c=!1,Yc=0,Lx.current=null,n===null||n.return===null){It=1,Zc=t,kt=null;break}e:{var s=e,a=n.return,o=n,c=t;if(t=Gt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=sS(a);if(p!==null){p.flags&=-257,aS(p,a,o,s,t),p.mode&1&&iS(s,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){iS(s,u,t),Hx();break e}c=Error(K(426))}}else if(lt&&o.mode&1){var w=sS(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),aS(w,a,o,s,t),Sx(al(c,o));break e}}s=c=al(c,o),It!==4&&(It=2),Cc===null?Cc=[s]:Cc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=KC(s,c,t);X0(s,v);break e;case 1:o=c;var x=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(_s===null||!_s.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=GC(s,o,t);X0(s,S);break e}}s=s.return}while(s!==null)}pk(n)}catch(j){t=j,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function fk(){var e=oh.current;return oh.current=ah,e===null?ah:e}function Hx(){(It===0||It===3||It===2)&&(It=4),qt===null||!(Ea&268435455)&&!(Gh&268435455)||ls(qt,Gt)}function uh(e,t){var n=Ue;Ue|=2;var r=fk();(qt!==e||Gt!==t)&&(Ei=null,xa(e,t));do try{sL();break}catch(i){dk(e,i)}while(!0);if(_x(),Ue=n,oh.current=r,kt!==null)throw Error(K(261));return qt=null,Gt=0,It}function sL(){for(;kt!==null;)hk(kt)}function aL(){for(;kt!==null&&!TD();)hk(kt)}function hk(e){var t=gk(e.alternate,e,Gn);e.memoizedProps=e.pendingProps,t===null?pk(e):kt=t,Lx.current=null}function pk(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ZF(n,t),n!==null){n.flags&=32767,kt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{It=6,kt=null;return}}else if(n=XF(n,t,Gn),n!==null){kt=n;return}if(t=t.sibling,t!==null){kt=t;return}kt=t=e}while(t!==null);It===0&&(It=5)}function ra(e,t,n){var r=qe,i=br.transition;try{br.transition=null,qe=1,oL(e,t,n,r)}finally{br.transition=i,qe=r}return null}function oL(e,t,n,r){do Lo();while(vs!==null);if(Ue&6)throw Error(K(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(zD(e,s),e===qt&&(kt=qt=null,Gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zd||(zd=!0,vk(Wf,function(){return Lo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=br.transition,br.transition=null;var a=qe;qe=1;var o=Ue;Ue|=4,Lx.current=null,tL(e,n),lk(n,e),kF(dv),Qf=!!uv,dv=uv=null,e.current=n,nL(n),AD(),Ue=o,qe=a,br.transition=s}else e.current=n;if(zd&&(zd=!1,vs=e,ch=i),s=e.pendingLanes,s===0&&(_s=null),DD(n.stateNode),Bn(e,St()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(lh)throw lh=!1,e=Tv,Tv=null,e;return ch&1&&e.tag!==0&&Lo(),s=e.pendingLanes,s&1?e===Av?kc++:(kc=0,Av=e):kc=0,Us(),null}function Lo(){if(vs!==null){var e=KE(ch),t=br.transition,n=qe;try{if(br.transition=null,qe=16>e?16:e,vs===null)var r=!1;else{if(e=vs,vs=null,ch=0,Ue&6)throw Error(K(331));var i=Ue;for(Ue|=4,ie=e.current;ie!==null;){var s=ie,a=s.child;if(ie.flags&16){var o=s.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(ie=u;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:Ec(8,d,s)}var f=d.child;if(f!==null)f.return=d,ie=f;else for(;ie!==null;){d=ie;var h=d.sibling,p=d.return;if(sk(d),d===u){ie=null;break}if(h!==null){h.return=p,ie=h;break}ie=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}ie=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ie=a;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ec(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ie=v;break e}ie=s.return}}var x=e.current;for(ie=x;ie!==null;){a=ie;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ie=b;else e:for(a=x;ie!==null;){if(o=ie,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Kh(9,o)}}catch(j){yt(o,o.return,j)}if(o===a){ie=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,ie=S;break e}ie=o.return}}if(Ue=i,Us(),li&&typeof li.onPostCommitFiberRoot=="function")try{li.onPostCommitFiberRoot(Uh,e)}catch{}r=!0}return r}finally{qe=n,br.transition=t}}return!1}function xS(e,t,n){t=al(n,t),t=KC(e,t,1),e=js(e,t,1),t=kn(),e!==null&&(Qu(e,1,t),Bn(e,t))}function yt(e,t,n){if(e.tag===3)xS(e,e,n);else for(;t!==null;){if(t.tag===3){xS(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_s===null||!_s.has(r))){e=al(n,e),e=GC(t,e,1),t=js(t,e,1),e=kn(),t!==null&&(Qu(t,1,e),Bn(t,e));break}}t=t.return}}function lL(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=kn(),e.pingedLanes|=e.suspendedLanes&n,qt===e&&(Gt&n)===n&&(It===4||It===3&&(Gt&130023424)===Gt&&500>St()-$x?xa(e,0):Mx|=n),Bn(e,t)}function mk(e,t){t===0&&(e.mode&1?(t=Td,Td<<=1,!(Td&130023424)&&(Td=4194304)):t=1);var n=kn();e=Di(e,t),e!==null&&(Qu(e,t,n),Bn(e,n))}function cL(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mk(e,n)}function uL(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),mk(e,n)}var gk;gk=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||zn.current)$n=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $n=!1,JF(e,t,n);$n=!!(e.flags&131072)}else $n=!1,lt&&t.flags&1048576&&bC(t,eh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ef(e,t),e=t.pendingProps;var i=nl(t,un.current);Fo(t,n),i=Ax(null,t,r,e,i,n);var s=Ox();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Hn(r)?(s=!0,Xf(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kx(t),i.updater=Qh,t.stateNode=i,i._reactInternals=t,bv(t,r,e,n),t=jv(null,t,r,!0,s,n)):(t.tag=0,lt&&s&&bx(t),_n(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ef(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=fL(r),e=Tr(r,e),i){case 0:t=Sv(null,t,r,e,n);break e;case 1:t=cS(null,t,r,e,n);break e;case 11:t=oS(null,t,r,e,n);break e;case 14:t=lS(null,t,r,Tr(r.type,e),n);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tr(r,i),Sv(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tr(r,i),cS(e,t,r,i,n);case 3:e:{if(ZC(t),e===null)throw Error(K(387));r=t.pendingProps,s=t.memoizedState,i=s.element,CC(e,t),rh(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=al(Error(K(423)),t),t=uS(e,t,r,n,i);break e}else if(r!==i){i=al(Error(K(424)),t),t=uS(e,t,r,n,i);break e}else for(Zn=Ss(t.stateNode.containerInfo.firstChild),er=t,lt=!0,Fr=null,n=_C(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rl(),r===i){t=Fi(e,t,n);break e}_n(e,t,r,n)}t=t.child}return t;case 5:return kC(t),e===null&&vv(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,fv(r,i)?a=null:s!==null&&fv(r,s)&&(t.flags|=32),XC(e,t),_n(e,t,a,n),t.child;case 6:return e===null&&vv(t),null;case 13:return ek(e,t,n);case 4:return Px(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=il(t,null,r,n):_n(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tr(r,i),oS(e,t,r,i,n);case 7:return _n(e,t,t.pendingProps,n),t.child;case 8:return _n(e,t,t.pendingProps.children,n),t.child;case 12:return _n(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,tt(th,r._currentValue),r._currentValue=a,s!==null)if(Hr(s.value,a)){if(s.children===i.children&&!zn.current){t=Fi(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Ai(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),yv(s.return,n,t),o.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(K(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),yv(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}_n(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Fo(t,n),i=_r(i),r=r(i),t.flags|=1,_n(e,t,r,n),t.child;case 14:return r=t.type,i=Tr(r,t.pendingProps),i=Tr(r.type,i),lS(e,t,r,i,n);case 15:return YC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tr(r,i),Ef(e,t),t.tag=1,Hn(r)?(e=!0,Xf(t)):e=!1,Fo(t,n),QC(t,r,i),bv(t,r,i,n),jv(null,t,r,!0,e,n);case 19:return tk(e,t,n);case 22:return JC(e,t,n)}throw Error(K(156,t.tag))};function vk(e,t){return qE(e,t)}function dL(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(e,t,n,r){return new dL(e,t,n,r)}function Bx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fL(e){if(typeof e=="function")return Bx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lx)return 11;if(e===cx)return 14}return 2}function Cs(e,t){var n=e.alternate;return n===null?(n=yr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pf(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")Bx(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case xo:return ba(n.children,i,s,t);case ox:a=8,i|=8;break;case qg:return e=yr(12,n,t,i|2),e.elementType=qg,e.lanes=s,e;case Wg:return e=yr(13,n,t,i),e.elementType=Wg,e.lanes=s,e;case Vg:return e=yr(19,n,t,i),e.elementType=Vg,e.lanes=s,e;case kE:return Yh(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case EE:a=10;break e;case CE:a=9;break e;case lx:a=11;break e;case cx:a=14;break e;case ss:a=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=yr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ba(e,t,n,r){return e=yr(7,e,r,t),e.lanes=n,e}function Yh(e,t,n,r){return e=yr(22,e,r,t),e.elementType=kE,e.lanes=n,e.stateNode={isHidden:!1},e}function Tm(e,t,n){return e=yr(6,e,null,t),e.lanes=n,e}function Am(e,t,n){return t=yr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hL(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fm(0),this.expirationTimes=fm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qx(e,t,n,r,i,s,a,o,c){return e=new hL(e,t,n,o,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=yr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kx(s),e}function pL(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function yk(e){if(!e)return Ts;e=e._reactInternals;e:{if(La(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Hn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(Hn(n))return yC(e,n,t)}return t}function xk(e,t,n,r,i,s,a,o,c){return e=qx(n,r,!0,e,i,s,a,o,c),e.context=yk(null),n=e.current,r=kn(),i=Es(n),s=Ai(r,i),s.callback=t??null,js(n,s,i),e.current.lanes=i,Qu(e,i,r),Bn(e,r),e}function Jh(e,t,n,r){var i=t.current,s=kn(),a=Es(i);return n=yk(n),t.context===null?t.context=n:t.pendingContext=n,t=Ai(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=js(i,t,a),e!==null&&(Mr(e,i,a,s),Sf(e,i,a)),a}function dh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wx(e,t){bS(e,t),(e=e.alternate)&&bS(e,t)}function mL(){return null}var bk=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vx(e){this._internalRoot=e}Xh.prototype.render=Vx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));Jh(e,t,null,null)};Xh.prototype.unmount=Vx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ca(function(){Jh(null,e,null,null)}),t[Ii]=null}};function Xh(e){this._internalRoot=e}Xh.prototype.unstable_scheduleHydration=function(e){if(e){var t=JE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<os.length&&t!==0&&t<os[n].priority;n++);os.splice(n,0,e),n===0&&ZE(e)}};function Qx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wS(){}function gL(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=dh(a);s.call(u)}}var a=xk(t,r,e,0,null,!1,!1,"",wS);return e._reactRootContainer=a,e[Ii]=a.current,Wc(e.nodeType===8?e.parentNode:e),Ca(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=dh(c);o.call(u)}}var c=qx(e,0,!1,null,null,!1,!1,"",wS);return e._reactRootContainer=c,e[Ii]=c.current,Wc(e.nodeType===8?e.parentNode:e),Ca(function(){Jh(t,c,n,r)}),c}function ep(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var c=dh(a);o.call(c)}}Jh(t,a,e,i)}else a=gL(n,t,e,i,r);return dh(a)}GE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=cc(t.pendingLanes);n!==0&&(fx(t,n|1),Bn(t,St()),!(Ue&6)&&(ol=St()+500,Us()))}break;case 13:Ca(function(){var r=Di(e,1);if(r!==null){var i=kn();Mr(r,e,1,i)}}),Wx(e,1)}};hx=function(e){if(e.tag===13){var t=Di(e,134217728);if(t!==null){var n=kn();Mr(t,e,134217728,n)}Wx(e,134217728)}};YE=function(e){if(e.tag===13){var t=Es(e),n=Di(e,t);if(n!==null){var r=kn();Mr(n,e,t,r)}Wx(e,t)}};JE=function(){return qe};XE=function(e,t){var n=qe;try{return qe=e,t()}finally{qe=n}};nv=function(e,t,n){switch(t){case"input":if(Gg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=qh(r);if(!i)throw Error(K(90));RE(r),Gg(r,i)}}}break;case"textarea":TE(e,n);break;case"select":t=n.value,t!=null&&Ao(e,!!n.multiple,t,!1)}};ME=Ux;$E=Ca;var vL={usingClientEntryPoint:!1,Events:[Gu,jo,qh,FE,LE,Ux]},Kl={findFiberByHostInstance:da,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yL={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=HE(e),e===null?null:e.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||mL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hd.isDisabled&&Hd.supportsFiber)try{Uh=Hd.inject(yL),li=Hd}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vL;or.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qx(t))throw Error(K(200));return pL(e,t,null,n)};or.createRoot=function(e,t){if(!Qx(e))throw Error(K(299));var n=!1,r="",i=bk;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=qx(e,1,!1,null,null,n,!1,r,i),e[Ii]=t.current,Wc(e.nodeType===8?e.parentNode:e),new Vx(t)};or.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=HE(t),e=e===null?null:e.stateNode,e};or.flushSync=function(e){return Ca(e)};or.hydrate=function(e,t,n){if(!Zh(t))throw Error(K(200));return ep(null,e,t,!0,n)};or.hydrateRoot=function(e,t,n){if(!Qx(e))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=bk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=xk(t,null,e,1,n??null,i,!1,s,a),e[Ii]=t.current,Wc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xh(t)};or.render=function(e,t,n){if(!Zh(t))throw Error(K(200));return ep(null,e,t,!1,n)};or.unmountComponentAtNode=function(e){if(!Zh(e))throw Error(K(40));return e._reactRootContainer?(Ca(function(){ep(null,null,e,!1,function(){e._reactRootContainer=null,e[Ii]=null})}),!0):!1};or.unstable_batchedUpdates=Ux;or.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zh(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return ep(e,t,n,!1,r)};or.version="18.3.1-next-f1338f8080-20240426";function wk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wk)}catch(e){console.error(e)}}wk(),wE.exports=or;var Ma=wE.exports;const Sk=Da(Ma);var jk,SS=Ma;jk=SS.createRoot,SS.hydrateRoot;const xL=1,bL=1e6;let Om=0;function wL(){return Om=(Om+1)%Number.MAX_SAFE_INTEGER,Om.toString()}const Im=new Map,jS=e=>{if(Im.has(e))return;const t=setTimeout(()=>{Im.delete(e),Pc({type:"REMOVE_TOAST",toastId:e})},bL);Im.set(e,t)},SL=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,xL)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?jS(n):e.toasts.forEach(r=>{jS(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Rf=[];let Nf={toasts:[]};function Pc(e){Nf=SL(Nf,e),Rf.forEach(t=>{t(Nf)})}function jL({...e}){const t=wL(),n=i=>Pc({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Pc({type:"DISMISS_TOAST",toastId:t});return Pc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Dt(){const[e,t]=y.useState(Nf);return y.useEffect(()=>(Rf.push(t),()=>{const n=Rf.indexOf(t);n>-1&&Rf.splice(n,1)}),[e]),{...e,toast:jL,dismiss:n=>Pc({type:"DISMISS_TOAST",toastId:n})}}function te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function _L(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function tp(...e){return t=>e.forEach(n=>_L(n,t))}function Le(...e){return y.useCallback(tp(...e),e)}function EL(e,t=[]){let n=[];function r(s,a){const o=y.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||o,w=y.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:w,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||o,g=y.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(a=>y.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,CL(i,...t)]}function CL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var As=y.forwardRef((e,t)=>{const{children:n,...r}=e,i=y.Children.toArray(n),s=i.find(kL);if(s){const a=s.props.children,o=i.map(c=>c===s?y.Children.count(a)>1?y.Children.only(null):y.isValidElement(a)?a.props.children:null:c);return l.jsx(Dv,{...r,ref:t,children:y.isValidElement(a)?y.cloneElement(a,void 0,o):null})}return l.jsx(Dv,{...r,ref:t,children:n})});As.displayName="Slot";var Dv=y.forwardRef((e,t)=>{const{children:n,...r}=e;if(y.isValidElement(n)){const i=RL(n);return y.cloneElement(n,{...PL(r,n.props),ref:t?tp(t,i):i})}return y.Children.count(n)>1?y.Children.only(null):null});Dv.displayName="SlotClone";var Kx=({children:e})=>l.jsx(l.Fragment,{children:e});function kL(e){return y.isValidElement(e)&&e.type===Kx}function PL(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{s(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function RL(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function np(e){const t=e+"CollectionProvider",[n,r]=EL(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:g,children:m}=p,w=q.useRef(null),v=q.useRef(new Map).current;return l.jsx(i,{scope:g,itemMap:v,collectionRef:w,children:m})};a.displayName=t;const o=e+"CollectionSlot",c=q.forwardRef((p,g)=>{const{scope:m,children:w}=p,v=s(o,m),x=Le(g,v.collectionRef);return l.jsx(As,{ref:x,children:w})});c.displayName=o;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=q.forwardRef((p,g)=>{const{scope:m,children:w,...v}=p,x=q.useRef(null),b=Le(g,x),S=s(u,m);return q.useEffect(()=>(S.itemMap.set(x,{ref:x,...v}),()=>void S.itemMap.delete(x))),l.jsx(As,{[d]:"",ref:b,children:w})});f.displayName=u;function h(p){const g=s(e+"CollectionConsumer",p);return q.useCallback(()=>{const w=g.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((S,j)=>v.indexOf(S.ref.current)-v.indexOf(j.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:a,Slot:c,ItemSlot:f},h,r]}function NL(e,t){const n=y.createContext(t),r=s=>{const{children:a,...o}=s,c=y.useMemo(()=>o,Object.values(o));return l.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function i(s){const a=y.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function qi(e,t=[]){let n=[];function r(s,a){const o=y.createContext(a),c=n.length;n=[...n,a];const u=f=>{var v;const{scope:h,children:p,...g}=f,m=((v=h==null?void 0:h[e])==null?void 0:v[c])||o,w=y.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:w,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||o,g=y.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(a=>y.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,TL(i,...t)]}function TL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var AL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ye=AL.reduce((e,t)=>{const n=y.forwardRef((r,i)=>{const{asChild:s,...a}=r,o=s?As:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(o,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Gx(e,t){e&&Ma.flushSync(()=>e.dispatchEvent(t))}function dn(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function OL(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e);y.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var IL="DismissableLayer",Fv="dismissableLayer.update",DL="dismissableLayer.pointerDownOutside",FL="dismissableLayer.focusOutside",_S,_k=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sl=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...c}=e,u=y.useContext(_k),[d,f]=y.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),g=Le(t,P=>f(P)),m=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(w),x=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=x>=v,j=ML(P=>{const R=P.target,F=[...u.branches].some(k=>k.contains(R));!S||F||(i==null||i(P),a==null||a(P),P.defaultPrevented||o==null||o())},h),_=$L(P=>{const R=P.target;[...u.branches].some(k=>k.contains(R))||(s==null||s(P),a==null||a(P),P.defaultPrevented||o==null||o())},h);return OL(P=>{x===u.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&o&&(P.preventDefault(),o()))},h),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(_S=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ES(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=_S)}},[d,h,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ES())},[d,u]),y.useEffect(()=>{const P=()=>p({});return document.addEventListener(Fv,P),()=>document.removeEventListener(Fv,P)},[]),l.jsx(ye.div,{...c,ref:g,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:te(e.onFocusCapture,_.onFocusCapture),onBlurCapture:te(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:te(e.onPointerDownCapture,j.onPointerDownCapture)})});Sl.displayName=IL;var LL="DismissableLayerBranch",Ek=y.forwardRef((e,t)=>{const n=y.useContext(_k),r=y.useRef(null),i=Le(t,r);return y.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),l.jsx(ye.div,{...e,ref:i})});Ek.displayName=LL;function ML(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let c=function(){Ck(DL,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function $L(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e),r=y.useRef(!1);return y.useEffect(()=>{const i=s=>{s.target&&!r.current&&Ck(FL,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ES(){const e=new CustomEvent(Fv);document.dispatchEvent(e)}function Ck(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Gx(i,s):i.dispatchEvent(s)}var UL=Sl,zL=Ek,fn=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},HL="Portal",Ju=y.forwardRef((e,t)=>{var o;const{container:n,...r}=e,[i,s]=y.useState(!1);fn(()=>s(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?Sk.createPortal(l.jsx(ye.div,{...r,ref:t}),a):null});Ju.displayName=HL;function BL(e,t){return y.useReducer((n,r)=>t[n][r]??n,e)}var Cr=e=>{const{present:t,children:n}=e,r=qL(t),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),s=Le(r.ref,WL(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:s}):null};Cr.displayName="Presence";function qL(e){const[t,n]=y.useState(),r=y.useRef({}),i=y.useRef(e),s=y.useRef("none"),a=e?"mounted":"unmounted",[o,c]=BL(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Bd(r.current);s.current=o==="mounted"?u:"none"},[o]),fn(()=>{const u=r.current,d=i.current;if(d!==e){const h=s.current,p=Bd(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),fn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Bd(r.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=p=>{p.target===t&&(s.current=Bd(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:y.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Bd(e){return(e==null?void 0:e.animationName)||"none"}function WL(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Li({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=VL({defaultProp:t,onChange:n}),s=e!==void 0,a=s?e:r,o=dn(n),c=y.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&o(f)}else i(u)},[s,e,i,o]);return[a,c]}function VL({defaultProp:e,onChange:t}){const n=y.useState(e),[r]=n,i=y.useRef(r),s=dn(t);return y.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var QL="VisuallyHidden",Xu=y.forwardRef((e,t)=>l.jsx(ye.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Xu.displayName=QL;var KL=Xu,Yx="ToastProvider",[Jx,GL,YL]=np("Toast"),[kk,sie]=qi("Toast",[YL]),[JL,rp]=kk(Yx),Pk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=e,[o,c]=y.useState(null),[u,d]=y.useState(0),f=y.useRef(!1),h=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Yx}\`. Expected non-empty \`string\`.`),l.jsx(Jx.Provider,{scope:t,children:l.jsx(JL,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:y.useCallback(()=>d(p=>p+1),[]),onToastRemove:y.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};Pk.displayName=Yx;var Rk="ToastViewport",XL=["F8"],Lv="toast.viewportPause",Mv="toast.viewportResume",Nk=y.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=XL,label:i="Notifications ({hotkey})",...s}=e,a=rp(Rk,n),o=GL(n),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),f=y.useRef(null),h=Le(t,f,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;y.useEffect(()=>{const w=v=>{var b;r.length!==0&&r.every(S=>v[S]||v.code===S)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),y.useEffect(()=>{const w=c.current,v=f.current;if(g&&w&&v){const x=()=>{if(!a.isClosePausedRef.current){const _=new CustomEvent(Lv);v.dispatchEvent(_),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const _=new CustomEvent(Mv);v.dispatchEvent(_),a.isClosePausedRef.current=!1}},S=_=>{!w.contains(_.relatedTarget)&&b()},j=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",x),w.addEventListener("focusout",S),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",j),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",S),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",j),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[g,a.isClosePausedRef]);const m=y.useCallback(({tabbingDirection:w})=>{const x=o().map(b=>{const S=b.ref.current,j=[S,...dM(S)];return w==="forwards"?j:j.reverse()});return(w==="forwards"?x.reverse():x).flat()},[o]);return y.useEffect(()=>{const w=f.current;if(w){const v=x=>{var j,_,P;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const R=document.activeElement,F=x.shiftKey;if(x.target===w&&F){(j=u.current)==null||j.focus();return}const L=m({tabbingDirection:F?"backwards":"forwards"}),$=L.findIndex(A=>A===R);Dm(L.slice($+1))?x.preventDefault():F?(_=u.current)==null||_.focus():(P=d.current)==null||P.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[o,m]),l.jsxs(zL,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&l.jsx($v,{ref:u,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"forwards"});Dm(w)}}),l.jsx(Jx.Slot,{scope:n,children:l.jsx(ye.ol,{tabIndex:-1,...s,ref:h})}),g&&l.jsx($v,{ref:d,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"backwards"});Dm(w)}})]})});Nk.displayName=Rk;var Tk="ToastFocusProxy",$v=y.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=rp(Tk,n);return l.jsx(Xu,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(o))&&r()}})});$v.displayName=Tk;var ip="Toast",ZL="toast.swipeStart",eM="toast.swipeMove",tM="toast.swipeCancel",nM="toast.swipeEnd",Ak=y.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=e,[o=!0,c]=Li({prop:r,defaultProp:i,onChange:s});return l.jsx(Cr,{present:n||o,children:l.jsx(sM,{open:o,...a,ref:t,onClose:()=>c(!1),onPause:dn(e.onPause),onResume:dn(e.onResume),onSwipeStart:te(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:te(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:te(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:te(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Ak.displayName=ip;var[rM,iM]=kk(ip,{onClose(){}}),sM=y.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...g}=e,m=rp(ip,n),[w,v]=y.useState(null),x=Le(t,A=>v(A)),b=y.useRef(null),S=y.useRef(null),j=i||m.duration,_=y.useRef(0),P=y.useRef(j),R=y.useRef(0),{onToastAdd:F,onToastRemove:k}=m,D=dn(()=>{var U;(w==null?void 0:w.contains(document.activeElement))&&((U=m.viewport)==null||U.focus()),a()}),L=y.useCallback(A=>{!A||A===1/0||(window.clearTimeout(R.current),_.current=new Date().getTime(),R.current=window.setTimeout(D,A))},[D]);y.useEffect(()=>{const A=m.viewport;if(A){const U=()=>{L(P.current),u==null||u()},T=()=>{const H=new Date().getTime()-_.current;P.current=P.current-H,window.clearTimeout(R.current),c==null||c()};return A.addEventListener(Lv,T),A.addEventListener(Mv,U),()=>{A.removeEventListener(Lv,T),A.removeEventListener(Mv,U)}}},[m.viewport,j,c,u,L]),y.useEffect(()=>{s&&!m.isClosePausedRef.current&&L(j)},[s,j,m.isClosePausedRef,L]),y.useEffect(()=>(F(),()=>k()),[F,k]);const $=y.useMemo(()=>w?$k(w):null,[w]);return m.viewport?l.jsxs(l.Fragment,{children:[$&&l.jsx(aM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),l.jsx(rM,{scope:n,onClose:D,children:Ma.createPortal(l.jsx(Jx.ItemSlot,{scope:n,children:l.jsx(UL,{asChild:!0,onEscapeKeyDown:te(o,()=>{m.isFocusedToastEscapeKeyDownRef.current||D(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ye.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:te(e.onKeyDown,A=>{A.key==="Escape"&&(o==null||o(A.nativeEvent),A.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:te(e.onPointerDown,A=>{A.button===0&&(b.current={x:A.clientX,y:A.clientY})}),onPointerMove:te(e.onPointerMove,A=>{if(!b.current)return;const U=A.clientX-b.current.x,T=A.clientY-b.current.y,H=!!S.current,E=["left","right"].includes(m.swipeDirection),O=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,C=E?O(0,U):0,I=E?0:O(0,T),z=A.pointerType==="touch"?10:2,N={x:C,y:I},ne={originalEvent:A,delta:N};H?(S.current=N,qd(eM,f,ne,{discrete:!1})):CS(N,m.swipeDirection,z)?(S.current=N,qd(ZL,d,ne,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(U)>z||Math.abs(T)>z)&&(b.current=null)}),onPointerUp:te(e.onPointerUp,A=>{const U=S.current,T=A.target;if(T.hasPointerCapture(A.pointerId)&&T.releasePointerCapture(A.pointerId),S.current=null,b.current=null,U){const H=A.currentTarget,E={originalEvent:A,delta:U};CS(U,m.swipeDirection,m.swipeThreshold)?qd(nM,p,E,{discrete:!0}):qd(tM,h,E,{discrete:!0}),H.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),aM=e=>{const{__scopeToast:t,children:n,...r}=e,i=rp(ip,t),[s,a]=y.useState(!1),[o,c]=y.useState(!1);return cM(()=>a(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(Ju,{asChild:!0,children:l.jsx(Xu,{...r,children:s&&l.jsxs(l.Fragment,{children:[i.label," ",n]})})})},oM="ToastTitle",Ok=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(ye.div,{...r,ref:t})});Ok.displayName=oM;var lM="ToastDescription",Ik=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(ye.div,{...r,ref:t})});Ik.displayName=lM;var Dk="ToastAction",Fk=y.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(Mk,{altText:n,asChild:!0,children:l.jsx(Xx,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Dk}\`. Expected non-empty \`string\`.`),null)});Fk.displayName=Dk;var Lk="ToastClose",Xx=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=iM(Lk,n);return l.jsx(Mk,{asChild:!0,children:l.jsx(ye.button,{type:"button",...r,ref:t,onClick:te(e.onClick,i.onClose)})})});Xx.displayName=Lk;var Mk=y.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return l.jsx(ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function $k(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),uM(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...$k(r))}}),t}function qd(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Gx(i,s):i.dispatchEvent(s)}var CS=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return t==="left"||t==="right"?s&&r>n:!s&&i>n};function cM(e=()=>{}){const t=dn(e);fn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function uM(e){return e.nodeType===e.ELEMENT_NODE}function dM(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Dm(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var fM=Pk,Uk=Nk,zk=Ak,Hk=Ok,Bk=Ik,qk=Fk,Wk=Xx;function Vk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Vk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Qk(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Vk(e))&&(r&&(r+=" "),r+=t);return r}const kS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,PS=Qk,Zu=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return PS(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=kS(d)||kS(f);return i[u][h]}),o=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,w]=g;return Array.isArray(w)?w.includes({...s,...o}[m]):{...s,...o}[m]===w})?[...u,f,h]:u},[]);return PS(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kk=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},c)=>y.createElement("svg",{ref:c,...pM,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Kk("lucide",i),...o},[...a.map(([u,d])=>y.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const n=y.forwardRef(({className:r,...i},s)=>y.createElement(mM,{ref:s,iconNode:t,className:Kk(`lucide-${hM(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=xe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=xe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=xe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=xe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=xe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=xe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=xe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=xe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=xe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=xe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=xe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=xe("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=xe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=xe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=xe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=xe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=xe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=xe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=xe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=xe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ib="-",OM=e=>{const t=DM(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const o=a.split(ib);return o[0]===""&&o.length!==1&&o.shift(),tP(o,t)||IM(a)},getConflictingClassGroupIds:(a,o)=>{const c=n[a]||[];return o&&r[a]?[...c,...r[a]]:c}}},tP=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?tP(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(ib);return(a=t.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},NS=/^\[(.+)\]$/,IM=e=>{if(NS.test(e)){const t=NS.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},DM=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return LM(Object.entries(e.classGroups),n).forEach(([s,a])=>{zv(a,r,s,t)}),r},zv=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:TS(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(FM(i)){zv(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{zv(a,TS(t,s),n,r)})})},TS=(e,t)=>{let n=e;return t.split(ib).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},FM=e=>e.isThemeGetter,LM=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[t+a,o])):s);return[n,i]}):e,MM=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},nP="!",$M=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,a=o=>{const c=[];let u=0,d=0,f;for(let w=0;w<o.length;w++){let v=o[w];if(u===0){if(v===i&&(r||o.slice(w,w+s)===t)){c.push(o.slice(d,w)),d=w+s;continue}if(v==="/"){f=w;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?o:o.substring(d),p=h.startsWith(nP),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return n?o=>n({className:o,parseClassName:a}):a},UM=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},zM=e=>({cache:MM(e.cacheSize),parseClassName:$M(e),...OM(e)}),HM=/\s+/,BM=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(HM);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let g=!!p,m=r(g?h.substring(0,p):h);if(!m){if(!g){o=u+(o.length>0?" "+o:o);continue}if(m=r(h),!m){o=u+(o.length>0?" "+o:o);continue}g=!1}const w=UM(d).join(":"),v=f?w+nP:w,x=v+m;if(s.includes(x))continue;s.push(x);const b=i(m,g);for(let S=0;S<b.length;++S){const j=b[S];s.push(v+j)}o=u+(o.length>0?" "+o:o)}return o};function qM(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=rP(t))&&(r&&(r+=" "),r+=n);return r}const rP=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=rP(e[r]))&&(n&&(n+=" "),n+=t);return n};function WM(e,...t){let n,r,i,s=a;function a(c){const u=t.reduce((d,f)=>f(d),e());return n=zM(u),r=n.cache.get,i=n.cache.set,s=o,o(c)}function o(c){const u=r(c);if(u)return u;const d=BM(c,n);return i(c,d),d}return function(){return s(qM.apply(null,arguments))}}const nt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},iP=/^\[(?:([a-z-]+):)?(.+)\]$/i,VM=/^\d+\/\d+$/,QM=new Set(["px","full","screen"]),KM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,YM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,JM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xi=e=>Mo(e)||QM.has(e)||VM.test(e),Gi=e=>jl(e,"length",a$),Mo=e=>!!e&&!Number.isNaN(Number(e)),Fm=e=>jl(e,"number",Mo),Gl=e=>!!e&&Number.isInteger(Number(e)),ZM=e=>e.endsWith("%")&&Mo(e.slice(0,-1)),Ee=e=>iP.test(e),Yi=e=>KM.test(e),e$=new Set(["length","size","percentage"]),t$=e=>jl(e,e$,sP),n$=e=>jl(e,"position",sP),r$=new Set(["image","url"]),i$=e=>jl(e,r$,l$),s$=e=>jl(e,"",o$),Yl=()=>!0,jl=(e,t,n)=>{const r=iP.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},a$=e=>GM.test(e)&&!YM.test(e),sP=()=>!1,o$=e=>JM.test(e),l$=e=>XM.test(e),c$=()=>{const e=nt("colors"),t=nt("spacing"),n=nt("blur"),r=nt("brightness"),i=nt("borderColor"),s=nt("borderRadius"),a=nt("borderSpacing"),o=nt("borderWidth"),c=nt("contrast"),u=nt("grayscale"),d=nt("hueRotate"),f=nt("invert"),h=nt("gap"),p=nt("gradientColorStops"),g=nt("gradientColorStopPositions"),m=nt("inset"),w=nt("margin"),v=nt("opacity"),x=nt("padding"),b=nt("saturate"),S=nt("scale"),j=nt("sepia"),_=nt("skew"),P=nt("space"),R=nt("translate"),F=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Ee,t],L=()=>[Ee,t],$=()=>["",xi,Gi],A=()=>["auto",Mo,Ee],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",Ee],C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>[Mo,Ee];return{cacheSize:500,separator:":",theme:{colors:[Yl],spacing:[xi,Gi],blur:["none","",Yi,Ee],brightness:I(),borderColor:[e],borderRadius:["none","","full",Yi,Ee],borderSpacing:L(),borderWidth:$(),contrast:I(),grayscale:O(),hueRotate:I(),invert:O(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[ZM,Gi],inset:D(),margin:D(),opacity:I(),padding:L(),saturate:I(),scale:I(),sepia:O(),skew:I(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[Yi]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),Ee]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gl,Ee]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Gl,Ee]}],"grid-cols":[{"grid-cols":[Yl]}],"col-start-end":[{col:["auto",{span:["full",Gl,Ee]},Ee]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[Yl]}],"row-start-end":[{row:["auto",{span:[Gl,Ee]},Ee]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,t]}],"min-w":[{"min-w":[Ee,t,"min","max","fit"]}],"max-w":[{"max-w":[Ee,t,"none","full","min","max","fit","prose",{screen:[Yi]},Yi]}],h:[{h:[Ee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Yi,Gi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fm]}],"font-family":[{font:[Yl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",Mo,Fm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xi,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xi,Gi]}],"underline-offset":[{"underline-offset":["auto",xi,Ee]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),n$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",t$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},i$]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:T()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[xi,Ee]}],"outline-w":[{outline:[xi,Gi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[xi,Gi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Yi,s$]}],"shadow-color":[{shadow:[Yl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Yi,Ee]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Gl,Ee]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xi,Gi,Fm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},u$=WM(c$);/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */var Lm,AS;function OS(){if(AS)return Lm;AS=1;const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:i}=Object;let{freeze:s,seal:a,create:o}=Object,{apply:c,construct:u}=typeof Reflect<"u"&&Reflect;s||(s=function(oe){return oe}),a||(a=function(oe){return oe}),c||(c=function(oe,De,Re){return oe.apply(De,Re)}),u||(u=function(oe,De){return new oe(...De)});const d=R(Array.prototype.forEach),f=R(Array.prototype.lastIndexOf),h=R(Array.prototype.pop),p=R(Array.prototype.push),g=R(Array.prototype.splice),m=R(String.prototype.toLowerCase),w=R(String.prototype.toString),v=R(String.prototype.match),x=R(String.prototype.replace),b=R(String.prototype.indexOf),S=R(String.prototype.trim),j=R(Object.prototype.hasOwnProperty),_=R(RegExp.prototype.test),P=F(TypeError);function R(Pe){return function(oe){oe instanceof RegExp&&(oe.lastIndex=0);for(var De=arguments.length,Re=new Array(De>1?De-1:0),B=1;B<De;B++)Re[B-1]=arguments[B];return c(Pe,oe,Re)}}function F(Pe){return function(){for(var oe=arguments.length,De=new Array(oe),Re=0;Re<oe;Re++)De[Re]=arguments[Re];return u(Pe,De)}}function k(Pe,oe){let De=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m;t&&t(Pe,null);let Re=oe.length;for(;Re--;){let B=oe[Re];if(typeof B=="string"){const V=De(B);V!==B&&(n(oe)||(oe[Re]=V),B=V)}Pe[B]=!0}return Pe}function D(Pe){for(let oe=0;oe<Pe.length;oe++)j(Pe,oe)||(Pe[oe]=null);return Pe}function L(Pe){const oe=o(null);for(const[De,Re]of e(Pe))j(Pe,De)&&(Array.isArray(Re)?oe[De]=D(Re):Re&&typeof Re=="object"&&Re.constructor===Object?oe[De]=L(Re):oe[De]=Re);return oe}function $(Pe,oe){for(;Pe!==null;){const Re=i(Pe,oe);if(Re){if(Re.get)return R(Re.get);if(typeof Re.value=="function")return R(Re.value)}Pe=r(Pe)}function De(){return null}return De}const A=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),U=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),T=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),H=s(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),E=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),O=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),C=s(["#text"]),I=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),z=s(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),N=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ne=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ae=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Y=a(/<%[\w\W]*|[\w\W]*%>/gm),J=a(/\$\{[\w\W]*/gm),re=a(/^data-[\-\w.\u00B7-\uFFFF]+$/),le=a(/^aria-[\-\w]+$/),ue=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),we=a(/^(?:\w+script|data):/i),ke=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),mt=a(/^html$/i),Pt=a(/^[a-z][.\w]*(-[.\w]+)+$/i);var Rt=Object.freeze({__proto__:null,ARIA_ATTR:le,ATTR_WHITESPACE:ke,CUSTOM_ELEMENT:Pt,DATA_ATTR:re,DOCTYPE_NAME:mt,ERB_EXPR:Y,IS_ALLOWED_URI:ue,IS_SCRIPT_OR_DATA:we,MUSTACHE_EXPR:ae,TMPLIT_EXPR:J});const ct={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},cr=function(){return typeof window>"u"?null:window},Ys=function(oe,De){if(typeof oe!="object"||typeof oe.createPolicy!="function")return null;let Re=null;const B="data-tt-policy-suffix";De&&De.hasAttribute(B)&&(Re=De.getAttribute(B));const V="dompurify"+(Re?"#"+Re:"");try{return oe.createPolicy(V,{createHTML(fe){return fe},createScriptURL(fe){return fe}})}catch{return console.warn("TrustedTypes policy "+V+" could not be created."),null}},ut=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ur(){let Pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cr();const oe=de=>ur(de);if(oe.version="3.2.6",oe.removed=[],!Pe||!Pe.document||Pe.document.nodeType!==ct.document||!Pe.Element)return oe.isSupported=!1,oe;let{document:De}=Pe;const Re=De,B=Re.currentScript,{DocumentFragment:V,HTMLTemplateElement:fe,Node:be,Element:Me,NodeFilter:Nt,NamedNodeMap:dr=Pe.NamedNodeMap||Pe.MozNamedAttrMap,HTMLFormElement:Tn,DOMParser:mi,trustedTypes:An}=Pe,We=Me.prototype,Qr=$(We,"cloneNode"),he=$(We,"remove"),Ke=$(We,"nextSibling"),Ve=$(We,"childNodes"),yn=$(We,"parentNode");if(typeof fe=="function"){const de=De.createElement("template");de.content&&de.content.ownerDocument&&(De=de.content.ownerDocument)}let Ye,Kr="";const{implementation:Fl,createNodeIterator:PI,createDocumentFragment:RI,getElementsByTagName:NI}=De,{importNode:TI}=Re;let xn=ut();oe.isSupported=typeof e=="function"&&typeof yn=="function"&&Fl&&Fl.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Vp,ERB_EXPR:Qp,TMPLIT_EXPR:Kp,DATA_ATTR:AI,ARIA_ATTR:OI,IS_SCRIPT_OR_DATA:II,ATTR_WHITESPACE:Hw,CUSTOM_ELEMENT:DI}=Rt;let{IS_ALLOWED_URI:Bw}=Rt,Ft=null;const qw=k({},[...A,...U,...T,...E,...C]);let Wt=null;const Ww=k({},[...I,...z,...N,...ne]);let bt=Object.seal(o(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ll=null,Gp=null,Vw=!0,Yp=!0,Qw=!1,Kw=!0,Wa=!1,yd=!0,Js=!1,Jp=!1,Xp=!1,Va=!1,xd=!1,bd=!1,Gw=!0,Yw=!1;const FI="user-content-";let Zp=!0,Ml=!1,Qa={},Ka=null;const Jw=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Xw=null;const Zw=k({},["audio","video","img","source","image","track"]);let em=null;const e0=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),wd="http://www.w3.org/1998/Math/MathML",Sd="http://www.w3.org/2000/svg",gi="http://www.w3.org/1999/xhtml";let Ga=gi,tm=!1,nm=null;const LI=k({},[wd,Sd,gi],w);let jd=k({},["mi","mo","mn","ms","mtext"]),_d=k({},["annotation-xml"]);const MI=k({},["title","style","font","a","script"]);let $l=null;const $I=["application/xhtml+xml","text/html"],UI="text/html";let Lt=null,Ya=null;const zI=De.createElement("form"),t0=function(M){return M instanceof RegExp||M instanceof Function},rm=function(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ya&&Ya===M)){if((!M||typeof M!="object")&&(M={}),M=L(M),$l=$I.indexOf(M.PARSER_MEDIA_TYPE)===-1?UI:M.PARSER_MEDIA_TYPE,Lt=$l==="application/xhtml+xml"?w:m,Ft=j(M,"ALLOWED_TAGS")?k({},M.ALLOWED_TAGS,Lt):qw,Wt=j(M,"ALLOWED_ATTR")?k({},M.ALLOWED_ATTR,Lt):Ww,nm=j(M,"ALLOWED_NAMESPACES")?k({},M.ALLOWED_NAMESPACES,w):LI,em=j(M,"ADD_URI_SAFE_ATTR")?k(L(e0),M.ADD_URI_SAFE_ATTR,Lt):e0,Xw=j(M,"ADD_DATA_URI_TAGS")?k(L(Zw),M.ADD_DATA_URI_TAGS,Lt):Zw,Ka=j(M,"FORBID_CONTENTS")?k({},M.FORBID_CONTENTS,Lt):Jw,Ll=j(M,"FORBID_TAGS")?k({},M.FORBID_TAGS,Lt):L({}),Gp=j(M,"FORBID_ATTR")?k({},M.FORBID_ATTR,Lt):L({}),Qa=j(M,"USE_PROFILES")?M.USE_PROFILES:!1,Vw=M.ALLOW_ARIA_ATTR!==!1,Yp=M.ALLOW_DATA_ATTR!==!1,Qw=M.ALLOW_UNKNOWN_PROTOCOLS||!1,Kw=M.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Wa=M.SAFE_FOR_TEMPLATES||!1,yd=M.SAFE_FOR_XML!==!1,Js=M.WHOLE_DOCUMENT||!1,Va=M.RETURN_DOM||!1,xd=M.RETURN_DOM_FRAGMENT||!1,bd=M.RETURN_TRUSTED_TYPE||!1,Xp=M.FORCE_BODY||!1,Gw=M.SANITIZE_DOM!==!1,Yw=M.SANITIZE_NAMED_PROPS||!1,Zp=M.KEEP_CONTENT!==!1,Ml=M.IN_PLACE||!1,Bw=M.ALLOWED_URI_REGEXP||ue,Ga=M.NAMESPACE||gi,jd=M.MATHML_TEXT_INTEGRATION_POINTS||jd,_d=M.HTML_INTEGRATION_POINTS||_d,bt=M.CUSTOM_ELEMENT_HANDLING||{},M.CUSTOM_ELEMENT_HANDLING&&t0(M.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(bt.tagNameCheck=M.CUSTOM_ELEMENT_HANDLING.tagNameCheck),M.CUSTOM_ELEMENT_HANDLING&&t0(M.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(bt.attributeNameCheck=M.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),M.CUSTOM_ELEMENT_HANDLING&&typeof M.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(bt.allowCustomizedBuiltInElements=M.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Wa&&(Yp=!1),xd&&(Va=!0),Qa&&(Ft=k({},C),Wt=[],Qa.html===!0&&(k(Ft,A),k(Wt,I)),Qa.svg===!0&&(k(Ft,U),k(Wt,z),k(Wt,ne)),Qa.svgFilters===!0&&(k(Ft,T),k(Wt,z),k(Wt,ne)),Qa.mathMl===!0&&(k(Ft,E),k(Wt,N),k(Wt,ne))),M.ADD_TAGS&&(Ft===qw&&(Ft=L(Ft)),k(Ft,M.ADD_TAGS,Lt)),M.ADD_ATTR&&(Wt===Ww&&(Wt=L(Wt)),k(Wt,M.ADD_ATTR,Lt)),M.ADD_URI_SAFE_ATTR&&k(em,M.ADD_URI_SAFE_ATTR,Lt),M.FORBID_CONTENTS&&(Ka===Jw&&(Ka=L(Ka)),k(Ka,M.FORBID_CONTENTS,Lt)),Zp&&(Ft["#text"]=!0),Js&&k(Ft,["html","head","body"]),Ft.table&&(k(Ft,["tbody"]),delete Ll.tbody),M.TRUSTED_TYPES_POLICY){if(typeof M.TRUSTED_TYPES_POLICY.createHTML!="function")throw P('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof M.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw P('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ye=M.TRUSTED_TYPES_POLICY,Kr=Ye.createHTML("")}else Ye===void 0&&(Ye=Ys(An,B)),Ye!==null&&typeof Kr=="string"&&(Kr=Ye.createHTML(""));s&&s(M),Ya=M}},n0=k({},[...U,...T,...H]),r0=k({},[...E,...O]),HI=function(M){let X=yn(M);(!X||!X.tagName)&&(X={namespaceURI:Ga,tagName:"template"});const ce=m(M.tagName),at=m(X.tagName);return nm[M.namespaceURI]?M.namespaceURI===Sd?X.namespaceURI===gi?ce==="svg":X.namespaceURI===wd?ce==="svg"&&(at==="annotation-xml"||jd[at]):!!n0[ce]:M.namespaceURI===wd?X.namespaceURI===gi?ce==="math":X.namespaceURI===Sd?ce==="math"&&_d[at]:!!r0[ce]:M.namespaceURI===gi?X.namespaceURI===Sd&&!_d[at]||X.namespaceURI===wd&&!jd[at]?!1:!r0[ce]&&(MI[ce]||!n0[ce]):!!($l==="application/xhtml+xml"&&nm[M.namespaceURI]):!1},Gr=function(M){p(oe.removed,{element:M});try{yn(M).removeChild(M)}catch{he(M)}},Ja=function(M,X){try{p(oe.removed,{attribute:X.getAttributeNode(M),from:X})}catch{p(oe.removed,{attribute:null,from:X})}if(X.removeAttribute(M),M==="is")if(Va||xd)try{Gr(X)}catch{}else try{X.setAttribute(M,"")}catch{}},i0=function(M){let X=null,ce=null;if(Xp)M="<remove></remove>"+M;else{const Tt=v(M,/^[\r\n\t ]+/);ce=Tt&&Tt[0]}$l==="application/xhtml+xml"&&Ga===gi&&(M='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+M+"</body></html>");const at=Ye?Ye.createHTML(M):M;if(Ga===gi)try{X=new mi().parseFromString(at,$l)}catch{}if(!X||!X.documentElement){X=Fl.createDocument(Ga,"template",null);try{X.documentElement.innerHTML=tm?Kr:at}catch{}}const Jt=X.body||X.documentElement;return M&&ce&&Jt.insertBefore(De.createTextNode(ce),Jt.childNodes[0]||null),Ga===gi?NI.call(X,Js?"html":"body")[0]:Js?X.documentElement:Jt},s0=function(M){return PI.call(M.ownerDocument||M,M,Nt.SHOW_ELEMENT|Nt.SHOW_COMMENT|Nt.SHOW_TEXT|Nt.SHOW_PROCESSING_INSTRUCTION|Nt.SHOW_CDATA_SECTION,null)},im=function(M){return M instanceof Tn&&(typeof M.nodeName!="string"||typeof M.textContent!="string"||typeof M.removeChild!="function"||!(M.attributes instanceof dr)||typeof M.removeAttribute!="function"||typeof M.setAttribute!="function"||typeof M.namespaceURI!="string"||typeof M.insertBefore!="function"||typeof M.hasChildNodes!="function")},a0=function(M){return typeof be=="function"&&M instanceof be};function vi(de,M,X){d(de,ce=>{ce.call(oe,M,X,Ya)})}const o0=function(M){let X=null;if(vi(xn.beforeSanitizeElements,M,null),im(M))return Gr(M),!0;const ce=Lt(M.nodeName);if(vi(xn.uponSanitizeElement,M,{tagName:ce,allowedTags:Ft}),yd&&M.hasChildNodes()&&!a0(M.firstElementChild)&&_(/<[/\w!]/g,M.innerHTML)&&_(/<[/\w!]/g,M.textContent)||M.nodeType===ct.progressingInstruction||yd&&M.nodeType===ct.comment&&_(/<[/\w]/g,M.data))return Gr(M),!0;if(!Ft[ce]||Ll[ce]){if(!Ll[ce]&&c0(ce)&&(bt.tagNameCheck instanceof RegExp&&_(bt.tagNameCheck,ce)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(ce)))return!1;if(Zp&&!Ka[ce]){const at=yn(M)||M.parentNode,Jt=Ve(M)||M.childNodes;if(Jt&&at){const Tt=Jt.length;for(let On=Tt-1;On>=0;--On){const yi=Qr(Jt[On],!0);yi.__removalCount=(M.__removalCount||0)+1,at.insertBefore(yi,Ke(M))}}}return Gr(M),!0}return M instanceof Me&&!HI(M)||(ce==="noscript"||ce==="noembed"||ce==="noframes")&&_(/<\/no(script|embed|frames)/i,M.innerHTML)?(Gr(M),!0):(Wa&&M.nodeType===ct.text&&(X=M.textContent,d([Vp,Qp,Kp],at=>{X=x(X,at," ")}),M.textContent!==X&&(p(oe.removed,{element:M.cloneNode()}),M.textContent=X)),vi(xn.afterSanitizeElements,M,null),!1)},l0=function(M,X,ce){if(Gw&&(X==="id"||X==="name")&&(ce in De||ce in zI))return!1;if(!(Yp&&!Gp[X]&&_(AI,X))){if(!(Vw&&_(OI,X))){if(!Wt[X]||Gp[X]){if(!(c0(M)&&(bt.tagNameCheck instanceof RegExp&&_(bt.tagNameCheck,M)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(M))&&(bt.attributeNameCheck instanceof RegExp&&_(bt.attributeNameCheck,X)||bt.attributeNameCheck instanceof Function&&bt.attributeNameCheck(X))||X==="is"&&bt.allowCustomizedBuiltInElements&&(bt.tagNameCheck instanceof RegExp&&_(bt.tagNameCheck,ce)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(ce))))return!1}else if(!em[X]){if(!_(Bw,x(ce,Hw,""))){if(!((X==="src"||X==="xlink:href"||X==="href")&&M!=="script"&&b(ce,"data:")===0&&Xw[M])){if(!(Qw&&!_(II,x(ce,Hw,"")))){if(ce)return!1}}}}}}return!0},c0=function(M){return M!=="annotation-xml"&&v(M,DI)},u0=function(M){vi(xn.beforeSanitizeAttributes,M,null);const{attributes:X}=M;if(!X||im(M))return;const ce={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Wt,forceKeepAttr:void 0};let at=X.length;for(;at--;){const Jt=X[at],{name:Tt,namespaceURI:On,value:yi}=Jt,Ul=Lt(Tt),sm=yi;let Xt=Tt==="value"?sm:S(sm);if(ce.attrName=Ul,ce.attrValue=Xt,ce.keepAttr=!0,ce.forceKeepAttr=void 0,vi(xn.uponSanitizeAttribute,M,ce),Xt=ce.attrValue,Yw&&(Ul==="id"||Ul==="name")&&(Ja(Tt,M),Xt=FI+Xt),yd&&_(/((--!?|])>)|<\/(style|title)/i,Xt)){Ja(Tt,M);continue}if(ce.forceKeepAttr)continue;if(!ce.keepAttr){Ja(Tt,M);continue}if(!Kw&&_(/\/>/i,Xt)){Ja(Tt,M);continue}Wa&&d([Vp,Qp,Kp],f0=>{Xt=x(Xt,f0," ")});const d0=Lt(M.nodeName);if(!l0(d0,Ul,Xt)){Ja(Tt,M);continue}if(Ye&&typeof An=="object"&&typeof An.getAttributeType=="function"&&!On)switch(An.getAttributeType(d0,Ul)){case"TrustedHTML":{Xt=Ye.createHTML(Xt);break}case"TrustedScriptURL":{Xt=Ye.createScriptURL(Xt);break}}if(Xt!==sm)try{On?M.setAttributeNS(On,Tt,Xt):M.setAttribute(Tt,Xt),im(M)?Gr(M):h(oe.removed)}catch{Ja(Tt,M)}}vi(xn.afterSanitizeAttributes,M,null)},BI=function de(M){let X=null;const ce=s0(M);for(vi(xn.beforeSanitizeShadowDOM,M,null);X=ce.nextNode();)vi(xn.uponSanitizeShadowNode,X,null),o0(X),u0(X),X.content instanceof V&&de(X.content);vi(xn.afterSanitizeShadowDOM,M,null)};return oe.sanitize=function(de){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=null,ce=null,at=null,Jt=null;if(tm=!de,tm&&(de="<!-->"),typeof de!="string"&&!a0(de))if(typeof de.toString=="function"){if(de=de.toString(),typeof de!="string")throw P("dirty is not a string, aborting")}else throw P("toString is not a function");if(!oe.isSupported)return de;if(Jp||rm(M),oe.removed=[],typeof de=="string"&&(Ml=!1),Ml){if(de.nodeName){const yi=Lt(de.nodeName);if(!Ft[yi]||Ll[yi])throw P("root node is forbidden and cannot be sanitized in-place")}}else if(de instanceof be)X=i0("<!---->"),ce=X.ownerDocument.importNode(de,!0),ce.nodeType===ct.element&&ce.nodeName==="BODY"||ce.nodeName==="HTML"?X=ce:X.appendChild(ce);else{if(!Va&&!Wa&&!Js&&de.indexOf("<")===-1)return Ye&&bd?Ye.createHTML(de):de;if(X=i0(de),!X)return Va?null:bd?Kr:""}X&&Xp&&Gr(X.firstChild);const Tt=s0(Ml?de:X);for(;at=Tt.nextNode();)o0(at),u0(at),at.content instanceof V&&BI(at.content);if(Ml)return de;if(Va){if(xd)for(Jt=RI.call(X.ownerDocument);X.firstChild;)Jt.appendChild(X.firstChild);else Jt=X;return(Wt.shadowroot||Wt.shadowrootmode)&&(Jt=TI.call(Re,Jt,!0)),Jt}let On=Js?X.outerHTML:X.innerHTML;return Js&&Ft["!doctype"]&&X.ownerDocument&&X.ownerDocument.doctype&&X.ownerDocument.doctype.name&&_(mt,X.ownerDocument.doctype.name)&&(On="<!DOCTYPE "+X.ownerDocument.doctype.name+`>
`+On),Wa&&d([Vp,Qp,Kp],yi=>{On=x(On,yi," ")}),Ye&&bd?Ye.createHTML(On):On},oe.setConfig=function(){let de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};rm(de),Jp=!0},oe.clearConfig=function(){Ya=null,Jp=!1},oe.isValidAttribute=function(de,M,X){Ya||rm({});const ce=Lt(de),at=Lt(M);return l0(ce,at,X)},oe.addHook=function(de,M){typeof M=="function"&&p(xn[de],M)},oe.removeHook=function(de,M){if(M!==void 0){const X=f(xn[de],M);return X===-1?void 0:g(xn[de],X,1)[0]}return h(xn[de])},oe.removeHooks=function(de){xn[de]=[]},oe.removeAllHooks=function(){xn=ut()},oe}var Dl=ur();return Lm=Dl,Lm}window.DOMPurify||(window.DOMPurify=OS().default||OS());function se(...e){return u$(Qk(e))}const d$=fM,aP=y.forwardRef(({className:e,...t},n)=>l.jsx(Uk,{ref:n,className:se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));aP.displayName=Uk.displayName;const f$=Zu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),oP=y.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(zk,{ref:r,className:se(f$({variant:t}),e),...n}));oP.displayName=zk.displayName;const h$=y.forwardRef(({className:e,...t},n)=>l.jsx(qk,{ref:n,className:se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));h$.displayName=qk.displayName;const lP=y.forwardRef(({className:e,...t},n)=>l.jsx(Wk,{ref:n,className:se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(ap,{className:"h-4 w-4"})}));lP.displayName=Wk.displayName;const cP=y.forwardRef(({className:e,...t},n)=>l.jsx(Hk,{ref:n,className:se("text-sm font-semibold",e),...t}));cP.displayName=Hk.displayName;const uP=y.forwardRef(({className:e,...t},n)=>l.jsx(Bk,{ref:n,className:se("text-sm opacity-90",e),...t}));uP.displayName=Bk.displayName;function p$(){const{toasts:e}=Dt();return l.jsxs(d$,{children:[e.map(function({id:t,title:n,description:r,action:i,...s}){return l.jsxs(oP,{...s,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(cP,{children:n}),r&&l.jsx(uP,{children:r})]}),i,l.jsx(lP,{})]},t)}),l.jsx(aP,{})]})}var IS=["light","dark"],m$="(prefers-color-scheme: dark)",g$=y.createContext(void 0),v$={setTheme:e=>{},themes:[]},y$=()=>{var e;return(e=y.useContext(g$))!=null?e:v$};y.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,attrs:o,nonce:c})=>{let u=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?IS.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,m=!1,w=!0)=>{let v=a?a[g]:g,x=m?g+"|| ''":`'${v}'`,b="";return i&&w&&!m&&IS.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),n==="class"?m||v?b+=`c.add(${x})`:b+="null":v&&(b+=`d[s](n,${x})`),b},p=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${m$}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return y.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var x$=e=>{switch(e){case"success":return S$;case"info":return _$;case"warning":return j$;case"error":return E$;default:return null}},b$=Array(12).fill(0),w$=({visible:e})=>q.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},q.createElement("div",{className:"sonner-spinner"},b$.map((t,n)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),S$=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),j$=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_$=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),E$=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),C$=()=>{let[e,t]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Hv=1,k$=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Hv++,s=this.toasts.find(o=>o.id===i),a=e.dismissible===void 0?!0:e.dismissible;return s?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...e,id:i,title:n}),{...o,...e,id:i,dismissible:a,title:n}):o):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0;return r.then(async s=>{if(R$(s)&&!s.ok){i=!1;let a=typeof t.error=="function"?await t.error(`HTTP error! status: ${s.status}`):t.error,o=typeof t.description=="function"?await t.description(`HTTP error! status: ${s.status}`):t.description;this.create({id:n,type:"error",message:a,description:o})}else if(t.success!==void 0){i=!1;let a=typeof t.success=="function"?await t.success(s):t.success,o=typeof t.description=="function"?await t.description(s):t.description;this.create({id:n,type:"success",message:a,description:o})}}).catch(async s=>{if(t.error!==void 0){i=!1;let a=typeof t.error=="function"?await t.error(s):t.error,o=typeof t.description=="function"?await t.description(s):t.description;this.create({id:n,type:"error",message:a,description:o})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=t.finally)==null||s.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Hv++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},Kn=new k$,P$=(e,t)=>{let n=(t==null?void 0:t.id)||Hv++;return Kn.addToast({title:e,...t,id:n}),n},R$=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",N$=P$,T$=()=>Kn.toasts,jn=Object.assign(N$,{success:Kn.success,info:Kn.info,warning:Kn.warning,error:Kn.error,custom:Kn.custom,message:Kn.message,promise:Kn.promise,dismiss:Kn.dismiss,loading:Kn.loading},{getHistory:T$});function A$(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}A$(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Wd(e){return e.label!==void 0}var O$=3,I$="32px",D$=4e3,F$=356,L$=14,M$=20,$$=200;function U$(...e){return e.filter(Boolean).join(" ")}var z$=e=>{var t,n,r,i,s,a,o,c,u,d;let{invert:f,toast:h,unstyled:p,interacting:g,setHeights:m,visibleToasts:w,heights:v,index:x,toasts:b,expanded:S,removeToast:j,defaultRichColors:_,closeButton:P,style:R,cancelButtonStyle:F,actionButtonStyle:k,className:D="",descriptionClassName:L="",duration:$,position:A,gap:U,loadingIcon:T,expandByDefault:H,classNames:E,icons:O,closeButtonAriaLabel:C="Close toast",pauseWhenPageIsHidden:I,cn:z}=e,[N,ne]=q.useState(!1),[ae,Y]=q.useState(!1),[J,re]=q.useState(!1),[le,ue]=q.useState(!1),[we,ke]=q.useState(0),[mt,Pt]=q.useState(0),Rt=q.useRef(null),ct=q.useRef(null),cr=x===0,Ys=x+1<=w,ut=h.type,ur=h.dismissible!==!1,Dl=h.className||"",Pe=h.descriptionClassName||"",oe=q.useMemo(()=>v.findIndex(he=>he.toastId===h.id)||0,[v,h.id]),De=q.useMemo(()=>{var he;return(he=h.closeButton)!=null?he:P},[h.closeButton,P]),Re=q.useMemo(()=>h.duration||$||D$,[h.duration,$]),B=q.useRef(0),V=q.useRef(0),fe=q.useRef(0),be=q.useRef(null),[Me,Nt]=A.split("-"),dr=q.useMemo(()=>v.reduce((he,Ke,Ve)=>Ve>=oe?he:he+Ke.height,0),[v,oe]),Tn=C$(),mi=h.invert||f,An=ut==="loading";V.current=q.useMemo(()=>oe*U+dr,[oe,dr]),q.useEffect(()=>{ne(!0)},[]),q.useLayoutEffect(()=>{if(!N)return;let he=ct.current,Ke=he.style.height;he.style.height="auto";let Ve=he.getBoundingClientRect().height;he.style.height=Ke,Pt(Ve),m(yn=>yn.find(Ye=>Ye.toastId===h.id)?yn.map(Ye=>Ye.toastId===h.id?{...Ye,height:Ve}:Ye):[{toastId:h.id,height:Ve,position:h.position},...yn])},[N,h.title,h.description,m,h.id]);let We=q.useCallback(()=>{Y(!0),ke(V.current),m(he=>he.filter(Ke=>Ke.toastId!==h.id)),setTimeout(()=>{j(h)},$$)},[h,j,m,V]);q.useEffect(()=>{if(h.promise&&ut==="loading"||h.duration===1/0||h.type==="loading")return;let he,Ke=Re;return S||g||I&&Tn?(()=>{if(fe.current<B.current){let Ve=new Date().getTime()-B.current;Ke=Ke-Ve}fe.current=new Date().getTime()})():Ke!==1/0&&(B.current=new Date().getTime(),he=setTimeout(()=>{var Ve;(Ve=h.onAutoClose)==null||Ve.call(h,h),We()},Ke)),()=>clearTimeout(he)},[S,g,H,h,Re,We,h.promise,ut,I,Tn]),q.useEffect(()=>{let he=ct.current;if(he){let Ke=he.getBoundingClientRect().height;return Pt(Ke),m(Ve=>[{toastId:h.id,height:Ke,position:h.position},...Ve]),()=>m(Ve=>Ve.filter(yn=>yn.toastId!==h.id))}},[m,h.id]),q.useEffect(()=>{h.delete&&We()},[We,h.delete]);function Qr(){return O!=null&&O.loading?q.createElement("div",{className:"sonner-loader","data-visible":ut==="loading"},O.loading):T?q.createElement("div",{className:"sonner-loader","data-visible":ut==="loading"},T):q.createElement(w$,{visible:ut==="loading"})}return q.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ct,className:z(D,Dl,E==null?void 0:E.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,E==null?void 0:E.default,E==null?void 0:E[ut],(n=h==null?void 0:h.classNames)==null?void 0:n[ut]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:_,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":N,"data-promise":!!h.promise,"data-removed":ae,"data-visible":Ys,"data-y-position":Me,"data-x-position":Nt,"data-index":x,"data-front":cr,"data-swiping":J,"data-dismissible":ur,"data-type":ut,"data-invert":mi,"data-swipe-out":le,"data-expanded":!!(S||H&&N),style:{"--index":x,"--toasts-before":x,"--z-index":b.length-x,"--offset":`${ae?we:V.current}px`,"--initial-height":H?"auto":`${mt}px`,...R,...h.style},onPointerDown:he=>{An||!ur||(Rt.current=new Date,ke(V.current),he.target.setPointerCapture(he.pointerId),he.target.tagName!=="BUTTON"&&(re(!0),be.current={x:he.clientX,y:he.clientY}))},onPointerUp:()=>{var he,Ke,Ve,yn;if(le||!ur)return;be.current=null;let Ye=Number(((he=ct.current)==null?void 0:he.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Kr=new Date().getTime()-((Ke=Rt.current)==null?void 0:Ke.getTime()),Fl=Math.abs(Ye)/Kr;if(Math.abs(Ye)>=M$||Fl>.11){ke(V.current),(Ve=h.onDismiss)==null||Ve.call(h,h),We(),ue(!0);return}(yn=ct.current)==null||yn.style.setProperty("--swipe-amount","0px"),re(!1)},onPointerMove:he=>{var Ke;if(!be.current||!ur)return;let Ve=he.clientY-be.current.y,yn=he.clientX-be.current.x,Ye=(Me==="top"?Math.min:Math.max)(0,Ve),Kr=he.pointerType==="touch"?10:2;Math.abs(Ye)>Kr?(Ke=ct.current)==null||Ke.style.setProperty("--swipe-amount",`${Ve}px`):Math.abs(yn)>Kr&&(be.current=null)}},De&&!h.jsx?q.createElement("button",{"aria-label":C,"data-disabled":An,"data-close-button":!0,onClick:An||!ur?()=>{}:()=>{var he;We(),(he=h.onDismiss)==null||he.call(h,h)},className:z(E==null?void 0:E.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||q.isValidElement(h.title)?h.jsx||h.title:q.createElement(q.Fragment,null,ut||h.icon||h.promise?q.createElement("div",{"data-icon":"",className:z(E==null?void 0:E.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Qr():null,h.type!=="loading"?h.icon||(O==null?void 0:O[ut])||x$(ut):null):null,q.createElement("div",{"data-content":"",className:z(E==null?void 0:E.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},q.createElement("div",{"data-title":"",className:z(E==null?void 0:E.title,(o=h==null?void 0:h.classNames)==null?void 0:o.title)},h.title),h.description?q.createElement("div",{"data-description":"",className:z(L,Pe,E==null?void 0:E.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),q.isValidElement(h.cancel)?h.cancel:h.cancel&&Wd(h.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||F,onClick:he=>{var Ke,Ve;Wd(h.cancel)&&ur&&((Ve=(Ke=h.cancel).onClick)==null||Ve.call(Ke,he),We())},className:z(E==null?void 0:E.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,q.isValidElement(h.action)?h.action:h.action&&Wd(h.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||k,onClick:he=>{var Ke,Ve;Wd(h.action)&&(he.defaultPrevented||((Ve=(Ke=h.action).onClick)==null||Ve.call(Ke,he),We()))},className:z(E==null?void 0:E.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function DS(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var H$=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:a,offset:o,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=O$,toastOptions:p,dir:g=DS(),gap:m=L$,loadingIcon:w,icons:v,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:b,cn:S=U$}=e,[j,_]=q.useState([]),P=q.useMemo(()=>Array.from(new Set([n].concat(j.filter(I=>I.position).map(I=>I.position)))),[j,n]),[R,F]=q.useState([]),[k,D]=q.useState(!1),[L,$]=q.useState(!1),[A,U]=q.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=q.useRef(null),H=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=q.useRef(null),O=q.useRef(!1),C=q.useCallback(I=>{var z;(z=j.find(N=>N.id===I.id))!=null&&z.delete||Kn.dismiss(I.id),_(N=>N.filter(({id:ne})=>ne!==I.id))},[j]);return q.useEffect(()=>Kn.subscribe(I=>{if(I.dismiss){_(z=>z.map(N=>N.id===I.id?{...N,delete:!0}:N));return}setTimeout(()=>{Sk.flushSync(()=>{_(z=>{let N=z.findIndex(ne=>ne.id===I.id);return N!==-1?[...z.slice(0,N),{...z[N],...I},...z.slice(N+1)]:[I,...z]})})})}),[]),q.useEffect(()=>{if(c!=="system"){U(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:I})=>{U(I?"dark":"light")})},[c]),q.useEffect(()=>{j.length<=1&&D(!1)},[j]),q.useEffect(()=>{let I=z=>{var N,ne;r.every(ae=>z[ae]||z.code===ae)&&(D(!0),(N=T.current)==null||N.focus()),z.code==="Escape"&&(document.activeElement===T.current||(ne=T.current)!=null&&ne.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[r]),q.useEffect(()=>{if(T.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,O.current=!1)}},[T.current]),j.length?q.createElement("section",{"aria-label":`${x} ${H}`,tabIndex:-1},P.map((I,z)=>{var N;let[ne,ae]=I.split("-");return q.createElement("ol",{key:I,dir:g==="auto"?DS():g,tabIndex:-1,ref:T,className:a,"data-sonner-toaster":!0,"data-theme":A,"data-y-position":ne,"data-x-position":ae,style:{"--front-toast-height":`${((N=R[0])==null?void 0:N.height)||0}px`,"--offset":typeof o=="number"?`${o}px`:o||I$,"--width":`${F$}px`,"--gap":`${m}px`,...f},onBlur:Y=>{O.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(O.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||O.current||(O.current=!0,E.current=Y.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{L||D(!1)},onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},j.filter(Y=>!Y.position&&z===0||Y.position===I).map((Y,J)=>{var re,le;return q.createElement(z$,{key:Y.id,icons:v,index:J,toast:Y,defaultRichColors:u,duration:(re=p==null?void 0:p.duration)!=null?re:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:h,closeButton:(le=p==null?void 0:p.closeButton)!=null?le:s,interacting:L,position:I,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:C,toasts:j.filter(ue=>ue.position==Y.position),heights:R.filter(ue=>ue.position==Y.position),setHeights:F,expandByDefault:i,gap:m,loadingIcon:w,expanded:k,pauseWhenPageIsHidden:b,cn:S})}))})):null};const B$=({...e})=>{const{theme:t="system"}=y$();return l.jsx(H$,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var q$=rx.useId||(()=>{}),W$=0;function $r(e){const[t,n]=y.useState(q$());return fn(()=>{e||n(r=>r??String(W$++))},[e]),e||(t?`radix-${t}`:"")}const V$=["top","right","bottom","left"],Os=Math.min,Yn=Math.max,ph=Math.round,Vd=Math.floor,Is=e=>({x:e,y:e}),Q$={left:"right",right:"left",bottom:"top",top:"bottom"},K$={start:"end",end:"start"};function Bv(e,t,n){return Yn(e,Os(t,n))}function $i(e,t){return typeof e=="function"?e(t):e}function Ui(e){return e.split("-")[0]}function _l(e){return e.split("-")[1]}function sb(e){return e==="x"?"y":"x"}function ab(e){return e==="y"?"height":"width"}function Ds(e){return["top","bottom"].includes(Ui(e))?"y":"x"}function ob(e){return sb(Ds(e))}function G$(e,t,n){n===void 0&&(n=!1);const r=_l(e),i=ob(e),s=ab(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=mh(a)),[a,mh(a)]}function Y$(e){const t=mh(e);return[qv(e),t,qv(t)]}function qv(e){return e.replace(/start|end/g,t=>K$[t])}function J$(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:a;default:return[]}}function X$(e,t,n,r){const i=_l(e);let s=J$(Ui(e),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(qv)))),s}function mh(e){return e.replace(/left|right|bottom|top/g,t=>Q$[t])}function Z$(e){return{top:0,right:0,bottom:0,left:0,...e}}function dP(e){return typeof e!="number"?Z$(e):{top:e,right:e,bottom:e,left:e}}function gh(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function FS(e,t,n){let{reference:r,floating:i}=e;const s=Ds(t),a=ob(t),o=ab(a),c=Ui(t),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(c){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(_l(t)){case"start":p[a]-=h*(n&&u?-1:1);break;case"end":p[a]+=h*(n&&u?-1:1);break}return p}const e4=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=FS(u,r,c),h=r,p={},g=0;for(let m=0;m<o.length;m++){const{name:w,fn:v}=o[m],{x,y:b,data:S,reset:j}=await v({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=x??d,f=b??f,p={...p,[w]:{...p[w],...S}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):j.rects),{x:d,y:f}=FS(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function ru(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=$i(t,e),g=dP(p),w=o[h?f==="floating"?"reference":"floating":f],v=gh(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),S=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},j=gh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:b,strategy:c}):x);return{top:(v.top-j.top+g.top)/S.y,bottom:(j.bottom-v.bottom+g.bottom)/S.y,left:(v.left-j.left+g.left)/S.x,right:(j.right-v.right+g.right)/S.x}}const t4=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=$i(e,t)||{};if(u==null)return{};const f=dP(d),h={x:n,y:r},p=ob(i),g=ab(p),m=await a.getDimensions(u),w=p==="y",v=w?"top":"left",x=w?"bottom":"right",b=w?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[p]-h[p]-s.floating[g],j=h[p]-s.reference[p],_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let P=_?_[b]:0;(!P||!await(a.isElement==null?void 0:a.isElement(_)))&&(P=o.floating[b]||s.floating[g]);const R=S/2-j/2,F=P/2-m[g]/2-1,k=Os(f[v],F),D=Os(f[x],F),L=k,$=P-m[g]-D,A=P/2-m[g]/2+R,U=Bv(L,A,$),T=!c.arrow&&_l(i)!=null&&A!==U&&s.reference[g]/2-(A<L?k:D)-m[g]/2<0,H=T?A<L?A-L:A-$:0;return{[p]:h[p]+H,data:{[p]:U,centerOffset:A-U-H,...T&&{alignmentOffset:H}},reset:T}}}),n4=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...w}=$i(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Ui(i),x=Ds(o),b=Ui(o)===o,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(b||!m?[mh(o)]:Y$(o)),_=g!=="none";!h&&_&&j.push(...X$(o,m,g,S));const P=[o,...j],R=await ru(t,w),F=[];let k=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&F.push(R[v]),f){const A=G$(i,a,S);F.push(R[A[0]],R[A[1]])}if(k=[...k,{placement:i,overflows:F}],!F.every(A=>A<=0)){var D,L;const A=(((D=s.flip)==null?void 0:D.index)||0)+1,U=P[A];if(U)return{data:{index:A,overflows:k},reset:{placement:U}};let T=(L=k.filter(H=>H.overflows[0]<=0).sort((H,E)=>H.overflows[1]-E.overflows[1])[0])==null?void 0:L.placement;if(!T)switch(p){case"bestFit":{var $;const H=($=k.filter(E=>{if(_){const O=Ds(E.placement);return O===x||O==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(O=>O>0).reduce((O,C)=>O+C,0)]).sort((E,O)=>E[1]-O[1])[0])==null?void 0:$[0];H&&(T=H);break}case"initialPlacement":T=o;break}if(i!==T)return{reset:{placement:T}}}return{}}}};function LS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function MS(e){return V$.some(t=>e[t]>=0)}const r4=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=$i(e,t);switch(r){case"referenceHidden":{const s=await ru(t,{...i,elementContext:"reference"}),a=LS(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:MS(a)}}}case"escaped":{const s=await ru(t,{...i,altBoundary:!0}),a=LS(s,n.floating);return{data:{escapedOffsets:a,escaped:MS(a)}}}default:return{}}}}};async function i4(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Ui(n),o=_l(n),c=Ds(n)==="y",u=["left","top"].includes(a)?-1:1,d=s&&c?-1:1,f=$i(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const s4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=t,c=await i4(t,e);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},a4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:w=>{let{x:v,y:x}=w;return{x:v,y:x}}},...c}=$i(e,t),u={x:n,y:r},d=await ru(t,c),f=Ds(Ui(i)),h=sb(f);let p=u[h],g=u[f];if(s){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=p+d[w],b=p-d[v];p=Bv(x,p,b)}if(a){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=g+d[w],b=g-d[v];g=Bv(x,g,b)}const m=o.fn({...t,[h]:p,[f]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:s,[f]:a}}}}}},o4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=$i(e,t),d={x:n,y:r},f=Ds(i),h=sb(f);let p=d[h],g=d[f];const m=$i(o,t),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",S=s.reference[h]-s.floating[b]+w.mainAxis,j=s.reference[h]+s.reference[b]-w.mainAxis;p<S?p=S:p>j&&(p=j)}if(u){var v,x;const b=h==="y"?"width":"height",S=["top","left"].includes(Ui(i)),j=s.reference[f]-s.floating[b]+(S&&((v=a.offset)==null?void 0:v[f])||0)+(S?0:w.crossAxis),_=s.reference[f]+s.reference[b]+(S?0:((x=a.offset)==null?void 0:x[f])||0)-(S?w.crossAxis:0);g<j?g=j:g>_&&(g=_)}return{[h]:p,[f]:g}}}},l4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:o}=t,{apply:c=()=>{},...u}=$i(e,t),d=await ru(t,u),f=Ui(i),h=_l(i),p=Ds(i)==="y",{width:g,height:m}=s.floating;let w,v;f==="top"||f==="bottom"?(w=f,v=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=f,w=h==="end"?"top":"bottom");const x=m-d.top-d.bottom,b=g-d.left-d.right,S=Os(m-d[w],x),j=Os(g-d[v],b),_=!t.middlewareData.shift;let P=S,R=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(P=x),_&&!h){const k=Yn(d.left,0),D=Yn(d.right,0),L=Yn(d.top,0),$=Yn(d.bottom,0);p?R=g-2*(k!==0||D!==0?k+D:Yn(d.left,d.right)):P=m-2*(L!==0||$!==0?L+$:Yn(d.top,d.bottom))}await c({...t,availableWidth:R,availableHeight:P});const F=await a.getDimensions(o.floating);return g!==F.width||m!==F.height?{reset:{rects:!0}}:{}}}};function op(){return typeof window<"u"}function El(e){return fP(e)?(e.nodeName||"").toLowerCase():"#document"}function tr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fi(e){var t;return(t=(fP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function fP(e){return op()?e instanceof Node||e instanceof tr(e).Node:!1}function Br(e){return op()?e instanceof Element||e instanceof tr(e).Element:!1}function ui(e){return op()?e instanceof HTMLElement||e instanceof tr(e).HTMLElement:!1}function $S(e){return!op()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof tr(e).ShadowRoot}function nd(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=qr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function c4(e){return["table","td","th"].includes(El(e))}function lp(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function lb(e){const t=cb(),n=Br(e)?qr(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function u4(e){let t=Fs(e);for(;ui(t)&&!ll(t);){if(lb(t))return t;if(lp(t))return null;t=Fs(t)}return null}function cb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ll(e){return["html","body","#document"].includes(El(e))}function qr(e){return tr(e).getComputedStyle(e)}function cp(e){return Br(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fs(e){if(El(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$S(e)&&e.host||fi(e);return $S(t)?t.host:t}function hP(e){const t=Fs(e);return ll(t)?e.ownerDocument?e.ownerDocument.body:e.body:ui(t)&&nd(t)?t:hP(t)}function iu(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=hP(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=tr(i);if(s){const o=Wv(a);return t.concat(a,a.visualViewport||[],nd(i)?i:[],o&&n?iu(o):[])}return t.concat(i,iu(i,[],n))}function Wv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function pP(e){const t=qr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ui(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,o=ph(n)!==s||ph(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function ub(e){return Br(e)?e:e.contextElement}function $o(e){const t=ub(e);if(!ui(t))return Is(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=pP(t);let a=(s?ph(n.width):n.width)/r,o=(s?ph(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const d4=Is(0);function mP(e){const t=tr(e);return!cb()||!t.visualViewport?d4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function f4(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==tr(e)?!1:t}function Ta(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=ub(e);let a=Is(1);t&&(r?Br(r)&&(a=$o(r)):a=$o(e));const o=f4(s,n,r)?mP(s):Is(0);let c=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const h=tr(s),p=r&&Br(r)?tr(r):r;let g=h,m=Wv(g);for(;m&&r&&p!==g;){const w=$o(m),v=m.getBoundingClientRect(),x=qr(m),b=v.left+(m.clientLeft+parseFloat(x.paddingLeft))*w.x,S=v.top+(m.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=b,u+=S,g=tr(m),m=Wv(g)}}return gh({width:d,height:f,x:c,y:u})}function h4(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=fi(r),o=t?lp(t.floating):!1;if(r===a||o&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Is(1);const d=Is(0),f=ui(r);if((f||!f&&!s)&&((El(r)!=="body"||nd(a))&&(c=cp(r)),ui(r))){const h=Ta(r);u=$o(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function p4(e){return Array.from(e.getClientRects())}function Vv(e,t){const n=cp(e).scrollLeft;return t?t.left+n:Ta(fi(e)).left+n}function m4(e){const t=fi(e),n=cp(e),r=e.ownerDocument.body,i=Yn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Yn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Vv(e);const o=-n.scrollTop;return qr(r).direction==="rtl"&&(a+=Yn(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function g4(e,t){const n=tr(e),r=fi(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,c=0;if(i){s=i.width,a=i.height;const u=cb();(!u||u&&t==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:o,y:c}}function v4(e,t){const n=Ta(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=ui(e)?$o(e):Is(1),a=e.clientWidth*s.x,o=e.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:o,x:c,y:u}}function US(e,t,n){let r;if(t==="viewport")r=g4(e,n);else if(t==="document")r=m4(fi(e));else if(Br(t))r=v4(t,n);else{const i=mP(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return gh(r)}function gP(e,t){const n=Fs(e);return n===t||!Br(n)||ll(n)?!1:qr(n).position==="fixed"||gP(n,t)}function y4(e,t){const n=t.get(e);if(n)return n;let r=iu(e,[],!1).filter(o=>Br(o)&&El(o)!=="body"),i=null;const s=qr(e).position==="fixed";let a=s?Fs(e):e;for(;Br(a)&&!ll(a);){const o=qr(a),c=lb(a);!c&&o.position==="fixed"&&(i=null),(s?!c&&!i:!c&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||nd(a)&&!c&&gP(e,a))?r=r.filter(d=>d!==a):i=o,a=Fs(a)}return t.set(e,r),r}function x4(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?lp(t)?[]:y4(t,this._c):[].concat(n),r],o=a[0],c=a.reduce((u,d)=>{const f=US(t,d,i);return u.top=Yn(f.top,u.top),u.right=Os(f.right,u.right),u.bottom=Os(f.bottom,u.bottom),u.left=Yn(f.left,u.left),u},US(t,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function b4(e){const{width:t,height:n}=pP(e);return{width:t,height:n}}function w4(e,t,n){const r=ui(t),i=fi(t),s=n==="fixed",a=Ta(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const c=Is(0);if(r||!r&&!s)if((El(t)!=="body"||nd(i))&&(o=cp(t)),r){const p=Ta(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&(c.x=Vv(i));let u=0,d=0;if(i&&!r&&!s){const p=i.getBoundingClientRect();d=p.top+o.scrollTop,u=p.left+o.scrollLeft-Vv(i,p)}const f=a.left+o.scrollLeft-c.x-u,h=a.top+o.scrollTop-c.y-d;return{x:f,y:h,width:a.width,height:a.height}}function Mm(e){return qr(e).position==="static"}function zS(e,t){if(!ui(e)||qr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return fi(e)===n&&(n=n.ownerDocument.body),n}function vP(e,t){const n=tr(e);if(lp(e))return n;if(!ui(e)){let i=Fs(e);for(;i&&!ll(i);){if(Br(i)&&!Mm(i))return i;i=Fs(i)}return n}let r=zS(e,t);for(;r&&c4(r)&&Mm(r);)r=zS(r,t);return r&&ll(r)&&Mm(r)&&!lb(r)?n:r||u4(e)||n}const S4=async function(e){const t=this.getOffsetParent||vP,n=this.getDimensions,r=await n(e.floating);return{reference:w4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function j4(e){return qr(e).direction==="rtl"}const _4={convertOffsetParentRelativeRectToViewportRelativeRect:h4,getDocumentElement:fi,getClippingRect:x4,getOffsetParent:vP,getElementRects:S4,getClientRects:p4,getDimensions:b4,getScale:$o,isElement:Br,isRTL:j4};function E4(e,t){let n=null,r;const i=fi(e);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(o||t(),!f||!h)return;const p=Vd(d),g=Vd(i.clientWidth-(u+f)),m=Vd(i.clientHeight-(d+h)),w=Vd(u),x={rootMargin:-p+"px "+-g+"px "+-m+"px "+-w+"px",threshold:Yn(0,Os(1,c))||1};let b=!0;function S(j){const _=j[0].intersectionRatio;if(_!==c){if(!b)return a();_?a(!1,_):r=setTimeout(()=>{a(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(S,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,x)}n.observe(e)}return a(!0),s}function C4(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=ub(e),d=i||s?[...u?iu(u):[],...iu(t)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const f=u&&o?E4(u,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(v=>{let[x]=v;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let g,m=c?Ta(e):null;c&&w();function w(){const v=Ta(e);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,g=requestAnimationFrame(w)}return n(),()=>{var v;d.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const k4=s4,P4=a4,R4=n4,N4=l4,T4=r4,HS=t4,A4=o4,O4=(e,t,n)=>{const r=new Map,i={platform:_4,...n},s={...i.platform,_c:r};return e4(e,t,{...i,platform:s})};var Of=typeof document<"u"?y.useLayoutEffect:y.useEffect;function vh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!vh(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!vh(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function yP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function BS(e,t){const n=yP(e);return Math.round(t*n)/n}function $m(e){const t=y.useRef(e);return Of(()=>{t.current=e}),t}function I4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[d,f]=y.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=y.useState(r);vh(h,r)||p(r);const[g,m]=y.useState(null),[w,v]=y.useState(null),x=y.useCallback(E=>{E!==_.current&&(_.current=E,m(E))},[]),b=y.useCallback(E=>{E!==P.current&&(P.current=E,v(E))},[]),S=s||g,j=a||w,_=y.useRef(null),P=y.useRef(null),R=y.useRef(d),F=c!=null,k=$m(c),D=$m(i),L=$m(u),$=y.useCallback(()=>{if(!_.current||!P.current)return;const E={placement:t,strategy:n,middleware:h};D.current&&(E.platform=D.current),O4(_.current,P.current,E).then(O=>{const C={...O,isPositioned:L.current!==!1};A.current&&!vh(R.current,C)&&(R.current=C,Ma.flushSync(()=>{f(C)}))})},[h,t,n,D,L]);Of(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(E=>({...E,isPositioned:!1})))},[u]);const A=y.useRef(!1);Of(()=>(A.current=!0,()=>{A.current=!1}),[]),Of(()=>{if(S&&(_.current=S),j&&(P.current=j),S&&j){if(k.current)return k.current(S,j,$);$()}},[S,j,$,k,F]);const U=y.useMemo(()=>({reference:_,floating:P,setReference:x,setFloating:b}),[x,b]),T=y.useMemo(()=>({reference:S,floating:j}),[S,j]),H=y.useMemo(()=>{const E={position:n,left:0,top:0};if(!T.floating)return E;const O=BS(T.floating,d.x),C=BS(T.floating,d.y);return o?{...E,transform:"translate("+O+"px, "+C+"px)",...yP(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:O,top:C}},[n,o,T.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:$,refs:U,elements:T,floatingStyles:H}),[d,$,U,T,H])}const D4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?HS({element:r.current,padding:i}).fn(n):{}:r?HS({element:r,padding:i}).fn(n):{}}}},F4=(e,t)=>({...k4(e),options:[e,t]}),L4=(e,t)=>({...P4(e),options:[e,t]}),M4=(e,t)=>({...A4(e),options:[e,t]}),$4=(e,t)=>({...R4(e),options:[e,t]}),U4=(e,t)=>({...N4(e),options:[e,t]}),z4=(e,t)=>({...T4(e),options:[e,t]}),H4=(e,t)=>({...D4(e),options:[e,t]});var B4="Arrow",xP=y.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return l.jsx(ye.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});xP.displayName=B4;var q4=xP;function W4(e,t=[]){let n=[];function r(s,a){const o=y.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||o,w=y.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:w,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||o,g=y.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(a=>y.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,V4(i,...t)]}function V4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function bP(e){const[t,n]=y.useState(void 0);return fn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=e.offsetWidth,o=e.offsetHeight;n({width:a,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var db="Popper",[wP,Cl]=W4(db),[Q4,SP]=wP(db),jP=e=>{const{__scopePopper:t,children:n}=e,[r,i]=y.useState(null);return l.jsx(Q4,{scope:t,anchor:r,onAnchorChange:i,children:n})};jP.displayName=db;var _P="PopperAnchor",EP=y.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=SP(_P,n),a=y.useRef(null),o=Le(t,a);return y.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:l.jsx(ye.div,{...i,ref:o})});EP.displayName=_P;var fb="PopperContent",[K4,G4]=wP(fb),CP=y.forwardRef((e,t)=>{var J,re,le,ue,we,ke;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,w=SP(fb,n),[v,x]=y.useState(null),b=Le(t,mt=>x(mt)),[S,j]=y.useState(null),_=bP(S),P=(_==null?void 0:_.width)??0,R=(_==null?void 0:_.height)??0,F=r+(s!=="center"?"-"+s:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],L=D.length>0,$={padding:k,boundary:D.filter(J4),altBoundary:L},{refs:A,floatingStyles:U,placement:T,isPositioned:H,middlewareData:E}=I4({strategy:"fixed",placement:F,whileElementsMounted:(...mt)=>C4(...mt,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[F4({mainAxis:i+R,alignmentAxis:a}),c&&L4({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?M4():void 0,...$}),c&&$4({...$}),U4({...$,apply:({elements:mt,rects:Pt,availableWidth:Rt,availableHeight:ct})=>{const{width:cr,height:Ys}=Pt.reference,ut=mt.floating.style;ut.setProperty("--radix-popper-available-width",`${Rt}px`),ut.setProperty("--radix-popper-available-height",`${ct}px`),ut.setProperty("--radix-popper-anchor-width",`${cr}px`),ut.setProperty("--radix-popper-anchor-height",`${Ys}px`)}}),S&&H4({element:S,padding:o}),X4({arrowWidth:P,arrowHeight:R}),h&&z4({strategy:"referenceHidden",...$})]}),[O,C]=RP(T),I=dn(g);fn(()=>{H&&(I==null||I())},[H,I]);const z=(J=E.arrow)==null?void 0:J.x,N=(re=E.arrow)==null?void 0:re.y,ne=((le=E.arrow)==null?void 0:le.centerOffset)!==0,[ae,Y]=y.useState();return fn(()=>{v&&Y(window.getComputedStyle(v).zIndex)},[v]),l.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:H?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(ue=E.transformOrigin)==null?void 0:ue.x,(we=E.transformOrigin)==null?void 0:we.y].join(" "),...((ke=E.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(K4,{scope:n,placedSide:O,onArrowChange:j,arrowX:z,arrowY:N,shouldHideArrow:ne,children:l.jsx(ye.div,{"data-side":O,"data-align":C,...m,ref:b,style:{...m.style,animation:H?void 0:"none"}})})})});CP.displayName=fb;var kP="PopperArrow",Y4={top:"bottom",right:"left",bottom:"top",left:"right"},PP=y.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=G4(kP,r),a=Y4[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(q4,{...i,ref:n,style:{...i.style,display:"block"}})})});PP.displayName=kP;function J4(e){return e!==null}var X4=e=>({name:"transformOrigin",options:e,fn(t){var w,v,x;const{placement:n,rects:r,middlewareData:i}=t,a=((w=i.arrow)==null?void 0:w.centerOffset)!==0,o=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=RP(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=i.arrow)==null?void 0:v.x)??0)+o/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=a?f:`${h}px`,m=`${-c}px`):u==="top"?(g=a?f:`${h}px`,m=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=a?f:`${p}px`):u==="left"&&(g=`${r.floating.width+c}px`,m=a?f:`${p}px`),{data:{x:g,y:m}}}});function RP(e){const[t,n="center"]=e.split("-");return[t,n]}var hb=jP,pb=EP,mb=CP,gb=PP,[up,aie]=qi("Tooltip",[Cl]),dp=Cl(),NP="TooltipProvider",Z4=700,Qv="tooltip.open",[e3,vb]=up(NP),TP=e=>{const{__scopeTooltip:t,delayDuration:n=Z4,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,[a,o]=y.useState(!0),c=y.useRef(!1),u=y.useRef(0);return y.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),l.jsx(e3,{scope:t,isOpenDelayed:a,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(u.current),o(!1)},[]),onClose:y.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:y.useCallback(d=>{c.current=d},[]),disableHoverableContent:i,children:s})};TP.displayName=NP;var fp="Tooltip",[t3,hp]=up(fp),AP=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:a,delayDuration:o}=e,c=vb(fp,e.__scopeTooltip),u=dp(t),[d,f]=y.useState(null),h=$r(),p=y.useRef(0),g=a??c.disableHoverableContent,m=o??c.delayDuration,w=y.useRef(!1),[v=!1,x]=Li({prop:r,defaultProp:i,onChange:P=>{P?(c.onOpen(),document.dispatchEvent(new CustomEvent(Qv))):c.onClose(),s==null||s(P)}}),b=y.useMemo(()=>v?w.current?"delayed-open":"instant-open":"closed",[v]),S=y.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w.current=!1,x(!0)},[x]),j=y.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),_=y.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,x(!0),p.current=0},m)},[m,x]);return y.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),l.jsx(hb,{...u,children:l.jsx(t3,{scope:t,contentId:h,open:v,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:y.useCallback(()=>{c.isOpenDelayed?_():S()},[c.isOpenDelayed,_,S]),onTriggerLeave:y.useCallback(()=>{g?j():(window.clearTimeout(p.current),p.current=0)},[j,g]),onOpen:S,onClose:j,disableHoverableContent:g,children:n})})};AP.displayName=fp;var Kv="TooltipTrigger",OP=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=hp(Kv,n),s=vb(Kv,n),a=dp(n),o=y.useRef(null),c=Le(t,o,i.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(pb,{asChild:!0,...a,children:l.jsx(ye.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:te(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:te(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:te(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:te(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:te(e.onBlur,i.onClose),onClick:te(e.onClick,i.onClose)})})});OP.displayName=Kv;var n3="TooltipPortal",[oie,r3]=up(n3,{forceMount:void 0}),cl="TooltipContent",IP=y.forwardRef((e,t)=>{const n=r3(cl,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,a=hp(cl,e.__scopeTooltip);return l.jsx(Cr,{present:r||a.open,children:a.disableHoverableContent?l.jsx(DP,{side:i,...s,ref:t}):l.jsx(i3,{side:i,...s,ref:t})})}),i3=y.forwardRef((e,t)=>{const n=hp(cl,e.__scopeTooltip),r=vb(cl,e.__scopeTooltip),i=y.useRef(null),s=Le(t,i),[a,o]=y.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=y.useCallback(()=>{o(null),f(!1)},[f]),p=y.useCallback((g,m)=>{const w=g.currentTarget,v={x:g.clientX,y:g.clientY},x=l3(v,w.getBoundingClientRect()),b=c3(v,x),S=u3(m.getBoundingClientRect()),j=f3([...b,...S]);o(j),f(!0)},[f]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(c&&d){const g=w=>p(w,d),m=w=>p(w,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),y.useEffect(()=>{if(a){const g=m=>{const w=m.target,v={x:m.clientX,y:m.clientY},x=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),b=!d3(v,a);x?h():b&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,a,u,h]),l.jsx(DP,{...e,ref:s})}),[s3,a3]=up(fp,{isInside:!1}),DP=y.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=e,c=hp(cl,n),u=dp(n),{onClose:d}=c;return y.useEffect(()=>(document.addEventListener(Qv,d),()=>document.removeEventListener(Qv,d)),[d]),y.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Sl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(mb,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(Kx,{children:r}),l.jsx(s3,{scope:n,isInside:!0,children:l.jsx(KL,{id:c.contentId,role:"tooltip",children:i||r})})]})})});IP.displayName=cl;var FP="TooltipArrow",o3=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=dp(n);return a3(FP,n).isInside?null:l.jsx(gb,{...i,...r,ref:t})});o3.displayName=FP;function l3(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function c3(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function u3(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function d3(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const o=t[s].x,c=t[s].y,u=t[a].x,d=t[a].y;c>r!=d>r&&n<(u-o)*(r-c)/(d-c)+o&&(i=!i)}return i}function f3(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),h3(t)}function h3(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var p3=TP,m3=AP,g3=OP,LP=IP;const ia=p3,Za=m3,eo=g3,sa=y.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(LP,{ref:r,sideOffset:t,className:se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));sa.displayName=LP.displayName;var pp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mp=typeof window>"u"||"Deno"in globalThis;function Ar(){}function v3(e,t){return typeof e=="function"?e(t):e}function y3(e){return typeof e=="number"&&e>=0&&e!==1/0}function x3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qS(e,t){return typeof e=="function"?e(t):e}function b3(e,t){return typeof e=="function"?e(t):e}function WS(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==yb(a,t.options))return!1}else if(!au(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||s&&!s(t))}function VS(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(su(t.options.mutationKey)!==su(s))return!1}else if(!au(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function yb(e,t){return((t==null?void 0:t.queryKeyHashFn)||su)(e)}function su(e){return JSON.stringify(e,(t,n)=>Gv(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function au(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!au(e[n],t[n])):!1}function MP(e,t){if(e===t)return e;const n=QS(e)&&QS(t);if(n||Gv(e)&&Gv(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),a=s.length,o=n?[]:{};let c=0;for(let u=0;u<a;u++){const d=n?u:s[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(o[d]=void 0,c++):(o[d]=MP(e[d],t[d]),o[d]===e[d]&&e[d]!==void 0&&c++)}return i===a&&c===i?e:o}return t}function QS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Gv(e){if(!KS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!KS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function KS(e){return Object.prototype.toString.call(e)==="[object Object]"}function w3(e){return new Promise(t=>{setTimeout(t,e)})}function S3(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?MP(e,t):t}function j3(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function _3(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var xb=Symbol();function $P(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===xb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ma,ds,Vo,nE,E3=(nE=class extends pp{constructor(){super();Be(this,ma);Be(this,ds);Be(this,Vo);Ne(this,Vo,t=>{if(!mp&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){W(this,ds)||this.setEventListener(W(this,Vo))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,ds))==null||t.call(this),Ne(this,ds,void 0))}setEventListener(t){var n;Ne(this,Vo,t),(n=W(this,ds))==null||n.call(this),Ne(this,ds,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){W(this,ma)!==t&&(Ne(this,ma,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof W(this,ma)=="boolean"?W(this,ma):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ma=new WeakMap,ds=new WeakMap,Vo=new WeakMap,nE),UP=new E3,Qo,fs,Ko,rE,C3=(rE=class extends pp{constructor(){super();Be(this,Qo,!0);Be(this,fs);Be(this,Ko);Ne(this,Ko,t=>{if(!mp&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,fs)||this.setEventListener(W(this,Ko))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,fs))==null||t.call(this),Ne(this,fs,void 0))}setEventListener(t){var n;Ne(this,Ko,t),(n=W(this,fs))==null||n.call(this),Ne(this,fs,t(this.setOnline.bind(this)))}setOnline(t){W(this,Qo)!==t&&(Ne(this,Qo,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return W(this,Qo)}},Qo=new WeakMap,fs=new WeakMap,Ko=new WeakMap,rE),yh=new C3;function k3(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function P3(e){return Math.min(1e3*2**e,3e4)}function zP(e){return(e??"online")==="online"?yh.isOnline():!0}var HP=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Um(e){return e instanceof HP}function BP(e){let t=!1,n=0,r=!1,i;const s=k3(),a=m=>{var w;r||(h(new HP(m)),(w=e.abort)==null||w.call(e))},o=()=>{t=!0},c=()=>{t=!1},u=()=>UP.isFocused()&&(e.networkMode==="always"||yh.isOnline())&&e.canRun(),d=()=>zP(e.networkMode)&&e.canRun(),f=m=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,m),i==null||i(),s.resolve(m))},h=m=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,m),i==null||i(),s.reject(m))},p=()=>new Promise(m=>{var w;i=v=>{(r||u())&&m(v)},(w=e.onPause)==null||w.call(e)}).then(()=>{var m;i=void 0,r||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(r)return;let m;const w=n===0?e.initialPromise:void 0;try{m=w??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(f).catch(v=>{var _;if(r)return;const x=e.retry??(mp?0:3),b=e.retryDelay??P3,S=typeof b=="function"?b(n,v):b,j=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,v);if(t||!j){h(v);return}n++,(_=e.onFail)==null||_.call(e,n,v),w3(S).then(()=>u()?void 0:p()).then(()=>{t?h(v):g()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),s)}}function R3(){let e=[],t=0,n=o=>{o()},r=o=>{o()},i=o=>setTimeout(o,0);const s=o=>{t?e.push(o):i(()=>{n(o)})},a=()=>{const o=e;e=[],o.length&&i(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||a()}return c},batchCalls:o=>(...c)=>{s(()=>{o(...c)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var En=R3(),ga,iE,qP=(iE=class{constructor(){Be(this,ga)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),y3(this.gcTime)&&Ne(this,ga,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(mp?1/0:5*60*1e3))}clearGcTimeout(){W(this,ga)&&(clearTimeout(W(this,ga)),Ne(this,ga,void 0))}},ga=new WeakMap,iE),Go,Yo,fr,sn,qu,va,Or,wi,sE,N3=(sE=class extends qP{constructor(t){super();Be(this,Or);Be(this,Go);Be(this,Yo);Be(this,fr);Be(this,sn);Be(this,qu);Be(this,va);Ne(this,va,!1),Ne(this,qu,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ne(this,fr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ne(this,Go,A3(this.options)),this.state=t.state??W(this,Go),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=W(this,sn))==null?void 0:t.promise}setOptions(t){this.options={...W(this,qu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,fr).remove(this)}setData(t,n){const r=S3(this.state.data,t,this.options);return Zt(this,Or,wi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Zt(this,Or,wi).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=W(this,sn))==null?void 0:r.promise;return(i=W(this,sn))==null||i.cancel(t),n?n.then(Ar).catch(Ar):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,Go))}isActive(){return this.observers.some(t=>b3(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!x3(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=W(this,sn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=W(this,sn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),W(this,fr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(W(this,sn)&&(W(this,va)?W(this,sn).cancel({revert:!0}):W(this,sn).cancelRetry()),this.scheduleGc()),W(this,fr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Zt(this,Or,wi).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(W(this,sn))return W(this,sn).continueRetry(),W(this,sn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Ne(this,va,!0),r.signal)})},s=()=>{const f=$P(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return i(h),Ne(this,va,!1),this.options.persister?this.options.persister(f,h,this):f(h)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),Ne(this,Yo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Zt(this,Or,wi).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const o=f=>{var h,p,g,m;Um(f)&&f.silent||Zt(this,Or,wi).call(this,{type:"error",error:f}),Um(f)||((p=(h=W(this,fr).config).onError)==null||p.call(h,f,this),(m=(g=W(this,fr).config).onSettled)==null||m.call(g,this.state.data,f,this)),this.scheduleGc()};return Ne(this,sn,BP({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,p,g,m;if(f===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){o(w);return}(p=(h=W(this,fr).config).onSuccess)==null||p.call(h,f,this),(m=(g=W(this,fr).config).onSettled)==null||m.call(g,f,this.state.error,this),this.scheduleGc()},onError:o,onFail:(f,h)=>{Zt(this,Or,wi).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Zt(this,Or,wi).call(this,{type:"pause"})},onContinue:()=>{Zt(this,Or,wi).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),W(this,sn).start()}},Go=new WeakMap,Yo=new WeakMap,fr=new WeakMap,sn=new WeakMap,qu=new WeakMap,va=new WeakMap,Or=new WeakSet,wi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...T3(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Um(i)&&i.revert&&W(this,Yo)?{...W(this,Yo),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),En.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),W(this,fr).notify({query:this,type:"updated",action:t})})},sE);function T3(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zP(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function A3(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ni,aE,O3=(aE=class extends pp{constructor(t={}){super();Be(this,ni);this.config=t,Ne(this,ni,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??yb(i,n);let a=this.get(s);return a||(a=new N3({cache:this,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){W(this,ni).has(t.queryHash)||(W(this,ni).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=W(this,ni).get(t.queryHash);n&&(t.destroy(),n===t&&W(this,ni).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){En.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return W(this,ni).get(t)}getAll(){return[...W(this,ni).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>WS(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>WS(t,r)):n}notify(t){En.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){En.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){En.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ni=new WeakMap,aE),ri,Sn,ya,ii,ns,oE,I3=(oE=class extends qP{constructor(t){super();Be(this,ii);Be(this,ri);Be(this,Sn);Be(this,ya);this.mutationId=t.mutationId,Ne(this,Sn,t.mutationCache),Ne(this,ri,[]),this.state=t.state||D3(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){W(this,ri).includes(t)||(W(this,ri).push(t),this.clearGcTimeout(),W(this,Sn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ne(this,ri,W(this,ri).filter(n=>n!==t)),this.scheduleGc(),W(this,Sn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){W(this,ri).length||(this.state.status==="pending"?this.scheduleGc():W(this,Sn).remove(this))}continue(){var t;return((t=W(this,ya))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,s,a,o,c,u,d,f,h,p,g,m,w,v,x,b,S,j,_,P;Ne(this,ya,BP({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(R,F)=>{Zt(this,ii,ns).call(this,{type:"failed",failureCount:R,error:F})},onPause:()=>{Zt(this,ii,ns).call(this,{type:"pause"})},onContinue:()=>{Zt(this,ii,ns).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,Sn).canRun(this)}));const n=this.state.status==="pending",r=!W(this,ya).canStart();try{if(!n){Zt(this,ii,ns).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(i=W(this,Sn).config).onMutate)==null?void 0:s.call(i,t,this));const F=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,t));F!==this.state.context&&Zt(this,ii,ns).call(this,{type:"pending",context:F,variables:t,isPaused:r})}const R=await W(this,ya).start();return await((u=(c=W(this,Sn).config).onSuccess)==null?void 0:u.call(c,R,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,R,t,this.state.context)),await((p=(h=W(this,Sn).config).onSettled)==null?void 0:p.call(h,R,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,R,null,t,this.state.context)),Zt(this,ii,ns).call(this,{type:"success",data:R}),R}catch(R){try{throw await((v=(w=W(this,Sn).config).onError)==null?void 0:v.call(w,R,t,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,R,t,this.state.context)),await((j=(S=W(this,Sn).config).onSettled)==null?void 0:j.call(S,void 0,R,this.state.variables,this.state.context,this)),await((P=(_=this.options).onSettled)==null?void 0:P.call(_,void 0,R,t,this.state.context)),R}finally{Zt(this,ii,ns).call(this,{type:"error",error:R})}}finally{W(this,Sn).runNext(this)}}},ri=new WeakMap,Sn=new WeakMap,ya=new WeakMap,ii=new WeakSet,ns=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),En.batch(()=>{W(this,ri).forEach(r=>{r.onMutationUpdate(t)}),W(this,Sn).notify({mutation:this,type:"updated",action:t})})},oE);function D3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qn,Wu,lE,F3=(lE=class extends pp{constructor(t={}){super();Be(this,Qn);Be(this,Wu);this.config=t,Ne(this,Qn,new Map),Ne(this,Wu,Date.now())}build(t,n,r){const i=new I3({mutationCache:this,mutationId:++Ed(this,Wu)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=Qd(t),r=W(this,Qn).get(n)??[];r.push(t),W(this,Qn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Qd(t);if(W(this,Qn).has(n)){const i=(r=W(this,Qn).get(n))==null?void 0:r.filter(s=>s!==t);i&&(i.length===0?W(this,Qn).delete(n):W(this,Qn).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=W(this,Qn).get(Qd(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=W(this,Qn).get(Qd(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){En.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...W(this,Qn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>VS(n,r))}findAll(t={}){return this.getAll().filter(n=>VS(t,n))}notify(t){En.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return En.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ar))))}},Qn=new WeakMap,Wu=new WeakMap,lE);function Qd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function GS(e){return{onFetch:(t,n)=>{var d,f,h,p,g;const r=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((p=t.state.data)==null?void 0:p.pages)||[],a=((g=t.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=$P(t.options,t.fetchOptions),x=async(b,S,j)=>{if(m)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const _={queryKey:t.queryKey,pageParam:S,direction:j?"backward":"forward",meta:t.options.meta};w(_);const P=await v(_),{maxPages:R}=t.options,F=j?_3:j3;return{pages:F(b.pages,P,R),pageParams:F(b.pageParams,S,R)}};if(i&&s.length){const b=i==="backward",S=b?L3:YS,j={pages:s,pageParams:a},_=S(r,j);o=await x(j,_,b)}else{const b=e??s.length;do{const S=c===0?a[0]??r.initialPageParam:YS(r,o);if(c>0&&S==null)break;o=await x(o,S),c++}while(c<b)}return o};t.options.persister?t.fetchFn=()=>{var m,w;return(w=(m=t.options).persister)==null?void 0:w.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function YS(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function L3(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var vt,hs,ps,Jo,Xo,ms,Zo,el,cE,M3=(cE=class{constructor(e={}){Be(this,vt);Be(this,hs);Be(this,ps);Be(this,Jo);Be(this,Xo);Be(this,ms);Be(this,Zo);Be(this,el);Ne(this,vt,e.queryCache||new O3),Ne(this,hs,e.mutationCache||new F3),Ne(this,ps,e.defaultOptions||{}),Ne(this,Jo,new Map),Ne(this,Xo,new Map),Ne(this,ms,0)}mount(){Ed(this,ms)._++,W(this,ms)===1&&(Ne(this,Zo,UP.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,vt).onFocus())})),Ne(this,el,yh.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,vt).onOnline())})))}unmount(){var e,t;Ed(this,ms)._--,W(this,ms)===0&&((e=W(this,Zo))==null||e.call(this),Ne(this,Zo,void 0),(t=W(this,el))==null||t.call(this),Ne(this,el,void 0))}isFetching(e){return W(this,vt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return W(this,hs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=W(this,vt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=W(this,vt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(qS(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return W(this,vt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=W(this,vt).get(r.queryHash),s=i==null?void 0:i.state.data,a=v3(t,s);if(a!==void 0)return W(this,vt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return En.batch(()=>W(this,vt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=W(this,vt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=W(this,vt);En.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=W(this,vt),r={type:"active",...e};return En.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=En.batch(()=>W(this,vt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Ar).catch(Ar)}invalidateQueries(e={},t={}){return En.batch(()=>{if(W(this,vt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=En.batch(()=>W(this,vt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Ar)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Ar)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=W(this,vt).build(this,t);return n.isStaleByTime(qS(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ar).catch(Ar)}fetchInfiniteQuery(e){return e.behavior=GS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ar).catch(Ar)}ensureInfiniteQueryData(e){return e.behavior=GS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return yh.isOnline()?W(this,hs).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,vt)}getMutationCache(){return W(this,hs)}getDefaultOptions(){return W(this,ps)}setDefaultOptions(e){Ne(this,ps,e)}setQueryDefaults(e,t){W(this,Jo).set(su(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...W(this,Jo).values()];let n={};return t.forEach(r=>{au(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){W(this,Xo).set(su(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...W(this,Xo).values()];let n={};return t.forEach(r=>{au(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...W(this,ps).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=yb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===xb&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...W(this,ps).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){W(this,vt).clear(),W(this,hs).clear()}},vt=new WeakMap,hs=new WeakMap,ps=new WeakMap,Jo=new WeakMap,Xo=new WeakMap,ms=new WeakMap,Zo=new WeakMap,el=new WeakMap,cE),$3=y.createContext(void 0),U3=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx($3.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ou.apply(this,arguments)}var ys;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ys||(ys={}));const JS="popstate";function z3(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:o}=r.location;return Yv("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xh(i)}return B3(t,n,null,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function WP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function H3(){return Math.random().toString(36).substr(2,8)}function XS(e,t){return{usr:e.state,key:e.key,idx:t}}function Yv(e,t,n,r){return n===void 0&&(n=null),ou({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?kl(t):t,{state:n,key:t&&t.key||r||H3()})}function xh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function kl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function B3(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=ys.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(ou({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=ys.Pop;let w=d(),v=w==null?null:w-u;u=w,c&&c({action:o,location:m.location,delta:v})}function h(w,v){o=ys.Push;let x=Yv(m.location,w,v);u=d()+1;let b=XS(x,u),S=m.createHref(x);try{a.pushState(b,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(S)}s&&c&&c({action:o,location:m.location,delta:1})}function p(w,v){o=ys.Replace;let x=Yv(m.location,w,v);u=d();let b=XS(x,u),S=m.createHref(x);a.replaceState(b,"",S),s&&c&&c({action:o,location:m.location,delta:0})}function g(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof w=="string"?w:xh(w);return x=x.replace(/ $/,"%20"),_t(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let m={get action(){return o},get location(){return e(i,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(JS,f),c=w,()=>{i.removeEventListener(JS,f),c=null}},createHref(w){return t(i,w)},createURL:g,encodeLocation(w){let v=g(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(w){return a.go(w)}};return m}var ZS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ZS||(ZS={}));function q3(e,t,n){return n===void 0&&(n="/"),W3(e,t,n,!1)}function W3(e,t,n,r){let i=typeof t=="string"?kl(t):t,s=bb(i.pathname||"/",n);if(s==null)return null;let a=VP(e);V3(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=r5(s);o=t5(a[c],u,r)}return o}function VP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(_t(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ks([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(_t(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),VP(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Z3(u,s.index),routesMeta:d})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let c of QP(s.path))i(s,a,c)}),t}function QP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=QP(r.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function V3(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:e5(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Q3=/^:[\w-]+$/,K3=3,G3=2,Y3=1,J3=10,X3=-2,e1=e=>e==="*";function Z3(e,t){let n=e.split("/"),r=n.length;return n.some(e1)&&(r+=X3),t&&(r+=G3),n.filter(i=>!e1(i)).reduce((i,s)=>i+(Q3.test(s)?K3:s===""?Y3:J3),r)}function e5(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function t5(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=t1({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=t1({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:ks([s,f.pathname]),pathnameBase:o5(ks([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=ks([s,f.pathnameBase]))}return a}function t1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=n5(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=o[f]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function n5(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),WP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function r5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return WP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function bb(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function i5(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?kl(e):e;return{pathname:n?n.startsWith("/")?n:s5(n,t):t,search:l5(r),hash:c5(i)}}function s5(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zm(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function a5(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function wb(e,t){let n=a5(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Sb(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=kl(e):(i=ou({},e),_t(!i.pathname||!i.pathname.includes("?"),zm("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),zm("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),zm("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=i5(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ks=e=>e.join("/").replace(/\/\/+/g,"/"),o5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),l5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,c5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function u5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const KP=["post","put","patch","delete"];new Set(KP);const d5=["get",...KP];new Set(d5);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lu.apply(this,arguments)}const jb=y.createContext(null),f5=y.createContext(null),zs=y.createContext(null),gp=y.createContext(null),Hs=y.createContext({outlet:null,matches:[],isDataRoute:!1}),GP=y.createContext(null);function h5(e,t){let{relative:n}=t===void 0?{}:t;Pl()||_t(!1);let{basename:r,navigator:i}=y.useContext(zs),{hash:s,pathname:a,search:o}=JP(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:ks([r,a])),i.createHref({pathname:c,search:o,hash:s})}function Pl(){return y.useContext(gp)!=null}function Bs(){return Pl()||_t(!1),y.useContext(gp).location}function YP(e){y.useContext(zs).static||y.useLayoutEffect(e)}function $a(){let{isDataRoute:e}=y.useContext(Hs);return e?C5():p5()}function p5(){Pl()||_t(!1);let e=y.useContext(jb),{basename:t,future:n,navigator:r}=y.useContext(zs),{matches:i}=y.useContext(Hs),{pathname:s}=Bs(),a=JSON.stringify(wb(i,n.v7_relativeSplatPath)),o=y.useRef(!1);return YP(()=>{o.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=Sb(u,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ks([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,s,e])}function JP(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=y.useContext(zs),{matches:i}=y.useContext(Hs),{pathname:s}=Bs(),a=JSON.stringify(wb(i,r.v7_relativeSplatPath));return y.useMemo(()=>Sb(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function m5(e,t){return g5(e,t)}function g5(e,t,n,r){Pl()||_t(!1);let{navigator:i}=y.useContext(zs),{matches:s}=y.useContext(Hs),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Bs(),d;if(t){var f;let w=typeof t=="string"?kl(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||_t(!1),d=w}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=q3(e,{pathname:p}),m=w5(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:ks([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ks([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return t&&m?y.createElement(gp.Provider,{value:{location:lu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ys.Pop}},m):m}function v5(){let e=E5(),t=u5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:i},n):null,null)}const y5=y.createElement(v5,null);class x5 extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(Hs.Provider,{value:this.props.routeContext},y.createElement(GP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function b5(e){let{routeContext:t,match:n,children:r}=e,i=y.useContext(jb);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Hs.Provider,{value:t},r)}function w5(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||_t(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,g=!1,m=null,w=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||y5,c&&(u<0&&h===0?(g=!0,w=null):u===h&&(g=!0,w=f.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,h+1)),x=()=>{let b;return p?b=m:g?b=w:f.route.Component?b=y.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,y.createElement(b5,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(x5,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var XP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(XP||{}),bh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bh||{});function S5(e){let t=y.useContext(jb);return t||_t(!1),t}function j5(e){let t=y.useContext(f5);return t||_t(!1),t}function _5(e){let t=y.useContext(Hs);return t||_t(!1),t}function ZP(e){let t=_5(),n=t.matches[t.matches.length-1];return n.route.id||_t(!1),n.route.id}function E5(){var e;let t=y.useContext(GP),n=j5(bh.UseRouteError),r=ZP(bh.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function C5(){let{router:e}=S5(XP.UseNavigateStable),t=ZP(bh.UseNavigateStable),n=y.useRef(!1);return YP(()=>{n.current=!0}),y.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,lu({fromRouteId:t},s)))},[e,t])}function eR(e){let{to:t,replace:n,state:r,relative:i}=e;Pl()||_t(!1);let{future:s,static:a}=y.useContext(zs),{matches:o}=y.useContext(Hs),{pathname:c}=Bs(),u=$a(),d=Sb(t,wb(o,s.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Wn(e){_t(!1)}function k5(e){let{basename:t="/",children:n=null,location:r,navigationType:i=ys.Pop,navigator:s,static:a=!1,future:o}=e;Pl()&&_t(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:s,static:a,future:lu({v7_relativeSplatPath:!1},o)}),[c,o,s,a]);typeof r=="string"&&(r=kl(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=r,m=y.useMemo(()=>{let w=bb(d,c);return w==null?null:{location:{pathname:w,search:f,hash:h,state:p,key:g},navigationType:i}},[c,d,f,h,p,g,i]);return m==null?null:y.createElement(zs.Provider,{value:u},y.createElement(gp.Provider,{children:n,value:m}))}function P5(e){let{children:t,location:n}=e;return m5(Jv(t),n)}new Promise(()=>{});function Jv(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,i)=>{if(!y.isValidElement(r))return;let s=[...t,i];if(r.type===y.Fragment){n.push.apply(n,Jv(r.props.children,s));return}r.type!==Wn&&_t(!1),!r.props.index||!r.props.children||_t(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Jv(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xv.apply(this,arguments)}function R5(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function N5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function T5(e,t){return e.button===0&&(!t||t==="_self")&&!N5(e)}function Zv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function A5(e,t){let n=Zv(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const O5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],I5="6";try{window.__reactRouterVersion=I5}catch{}const D5="startTransition",n1=rx[D5];function F5(e){let{basename:t,children:n,future:r,window:i}=e,s=y.useRef();s.current==null&&(s.current=z3({window:i,v5Compat:!0}));let a=s.current,[o,c]=y.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=y.useCallback(f=>{u&&n1?n1(()=>c(f)):c(f)},[c,u]);return y.useLayoutEffect(()=>a.listen(d),[a,d]),y.createElement(k5,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const L5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wt=y.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=R5(t,O5),{basename:p}=y.useContext(zs),g,m=!1;if(typeof u=="string"&&M5.test(u)&&(g=u,L5))try{let b=new URL(window.location.href),S=u.startsWith("//")?new URL(b.protocol+u):new URL(u),j=bb(S.pathname,p);S.origin===b.origin&&j!=null?u=j+S.search+S.hash:m=!0}catch{}let w=h5(u,{relative:i}),v=$5(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:i,viewTransition:f});function x(b){r&&r(b),b.defaultPrevented||v(b)}return y.createElement("a",Xv({},h,{href:g||w,onClick:m||s?r:x,ref:n,target:c}))});var r1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(r1||(r1={}));var i1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(i1||(i1={}));function $5(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,c=$a(),u=Bs(),d=JP(e,{relative:a});return y.useCallback(f=>{if(T5(f,n)){f.preventDefault();let h=r!==void 0?r:xh(u)===xh(d);c(e,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,c,d,r,i,n,e,s,a,o])}function U5(e){let t=y.useRef(Zv(e)),n=y.useRef(!1),r=Bs(),i=y.useMemo(()=>A5(r.search,n.current?null:t.current),[r.search]),s=$a(),a=y.useCallback((o,c)=>{const u=Zv(typeof o=="function"?o(i):o);n.current=!0,s("?"+u,c)},[s,i]);return[i,a]}const z5="modulepreload",H5=function(e){return"/"+e},s1={},rd=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=H5(c),c in s1)return;s1[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":z5,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},B5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>rd(async()=>{const{default:r}=await Promise.resolve().then(()=>Rl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class _b extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class q5 extends _b{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class a1 extends _b{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class o1 extends _b{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ey;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ey||(ey={}));var W5=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class V5{constructor(t,{headers:n={},customFetch:r,region:i=ey.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=B5(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return W5(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=n;let o={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(m=>{throw new q5(m)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new a1(f);if(!f.ok)throw new o1(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield f.json():p==="application/octet-stream"?g=yield f.blob():p==="text/event-stream"?g=f:p==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof o1||i instanceof a1?i.context:void 0}}})}}var Mn={},Eb={},vp={},id={},yp={},xp={},Q5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ul=Q5();const K5=ul.fetch,tR=ul.fetch.bind(ul),nR=ul.Headers,G5=ul.Request,Y5=ul.Response,Rl=Object.freeze(Object.defineProperty({__proto__:null,Headers:nR,Request:G5,Response:Y5,default:tR,fetch:K5},Symbol.toStringTag,{value:"Module"})),J5=QI(Rl);var bp={};Object.defineProperty(bp,"__esModule",{value:!0});let X5=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};bp.default=X5;var rR=cn&&cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xp,"__esModule",{value:!0});const Z5=rR(J5),eU=rR(bp);let tU=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Z5.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,c;let u=null,d=null,f=null,h=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const v=await s.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const m=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");m&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await s.text();try{u=JSON.parse(m),Array.isArray(u)&&s.status===404&&(d=[],u=null,h=200,p="OK")}catch{s.status===404&&m===""?(h=204,p="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new eU.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};xp.default=tU;var nU=cn&&cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yp,"__esModule",{value:!0});const rU=nU(xp);let iU=class extends rU.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};yp.default=iU;var sU=cn&&cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(id,"__esModule",{value:!0});const aU=sU(yp);let oU=class extends aU.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};id.default=oU;var lU=cn&&cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vp,"__esModule",{value:!0});const Jl=lU(id);let cU=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new Jl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){const o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Jl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const a="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Jl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Jl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Jl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};vp.default=cU;var wp={},Sp={};Object.defineProperty(Sp,"__esModule",{value:!0});Sp.version=void 0;Sp.version="0.0.0-automated";Object.defineProperty(wp,"__esModule",{value:!0});wp.DEFAULT_HEADERS=void 0;const uU=Sp;wp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${uU.version}`};var iR=cn&&cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eb,"__esModule",{value:!0});const dU=iR(vp),fU=iR(id),hU=wp;let pU=class sR{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},hU.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new dU.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new sR(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let c;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(a="POST",c=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new fU.default({method:a,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Eb.default=pU;var Nl=cn&&cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.PostgrestError=Mn.PostgrestBuilder=Mn.PostgrestTransformBuilder=Mn.PostgrestFilterBuilder=Mn.PostgrestQueryBuilder=Mn.PostgrestClient=void 0;const aR=Nl(Eb);Mn.PostgrestClient=aR.default;const oR=Nl(vp);Mn.PostgrestQueryBuilder=oR.default;const lR=Nl(id);Mn.PostgrestFilterBuilder=lR.default;const cR=Nl(yp);Mn.PostgrestTransformBuilder=cR.default;const uR=Nl(xp);Mn.PostgrestBuilder=uR.default;const dR=Nl(bp);Mn.PostgrestError=dR.default;var mU=Mn.default={PostgrestClient:aR.default,PostgrestQueryBuilder:oR.default,PostgrestFilterBuilder:lR.default,PostgrestTransformBuilder:cR.default,PostgrestBuilder:uR.default,PostgrestError:dR.default};const{PostgrestClient:gU,PostgrestQueryBuilder:hie,PostgrestFilterBuilder:pie,PostgrestTransformBuilder:mie,PostgrestBuilder:gie,PostgrestError:vie}=mU;function vU(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const yU=vU(),xU="2.11.15",bU=`realtime-js/${xU}`,wU="1.0.0",fR=1e4,SU=1e3;var Rc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rc||(Rc={}));var rn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rn||(rn={}));var Dr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Dr||(Dr={}));var ty;(function(e){e.websocket="websocket"})(ty||(ty={}));var la;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(la||(la={}));class jU{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(t.slice(a,a+i));a=a+i;const c=r.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class hR{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ze||(Ze={}));const l1=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,a)=>(s[a]=_U(a,e,t,i),s),{})},_U=(e,t,n,r)=>{const i=t.find(o=>o.name===e),s=i==null?void 0:i.type,a=n[e];return s&&!r.includes(s)?pR(s,a):ny(a)},pR=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return PU(t,n)}switch(e){case Ze.bool:return EU(t);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return CU(t);case Ze.json:case Ze.jsonb:return kU(t);case Ze.timestamp:return RU(t);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return ny(t);default:return ny(t)}},ny=e=>e,EU=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},CU=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},kU=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},PU=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const a=e.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>pR(t,o))}return e},RU=e=>typeof e=="string"?e.replace(" ","T"):e,mR=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Hm{constructor(t,n,r={},i=fR){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var c1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(c1||(c1={}));class Nc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nc.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=Nc.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Nc.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),a=this.transformState(n),o={},c={};return this.map(s,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=s[u];if(f){const h=d.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),g=d.filter(w=>p.indexOf(w.presence_ref)<0),m=f.filter(w=>h.indexOf(w.presence_ref)<0);g.length>0&&(o[u]=g),m.length>0&&(c[u]=m)}else o[u]=d}),this.syncDiff(s,{joins:o,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const f=t[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}r(o,d,c)}),this.map(a,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,i(o,u,c),u.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var u1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(u1||(u1={}));var d1;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(d1||(d1={}));var Ci;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ci||(Ci={}));class Cb{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=rn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Hm(this,Dr.join,this.params,this.timeout),this.rejoinTimer=new hR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dr.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Nc(this),this.broadcastEndpointURL=mR(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==rn.closed){const{config:{broadcast:s,presence:a,private:o}}=this.params;this._onError(d=>t==null?void 0:t(Ci.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Ci.CLOSED));const c={},u={broadcast:s,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Ci.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,g=[];for(let m=0;m<p;m++){const w=h[m],{filter:{event:v,schema:x,table:b,filter:S}}=w,j=d&&d[m];if(j&&j.event===v&&j.schema===x&&j.table===b&&j.filter===S)g.push(Object.assign(Object.assign({},w),{id:j.id}));else{this.unsubscribe(),this.state=rn.errored,t==null||t(Ci.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Ci.SUBSCRIBED);return}}).receive("error",d=>{this.state=rn.errored,t==null||t(Ci.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ci.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Hm(this,Dr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Hm(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const a=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=Dr;if(r&&[o,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,m,w;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(m=p.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(p=>p.callback(h,r)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var g,m,w,v,x,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const S=p.id,j=(g=p.filter)===null||g===void 0?void 0:g.event;return S&&((m=n.ids)===null||m===void 0?void 0:m.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const S=(x=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:w,commit_timestamp:v,type:x,errors:b}=g;h=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:v,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(g))}p.callback(h,r)})}_isClosed(){return this.state===rn.closed}_isJoined(){return this.state===rn.joined}_isJoining(){return this.state===rn.joining}_isLeaving(){return this.state===rn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Cb.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Dr.close,{},t)}_onError(t){this._on(Dr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=l1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=l1(t.columns,t.old_record)),n}}const f1=()=>{},NU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class TU{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fR,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=f1,this.ref=0,this.logger=f1,this.conn=null,this.sendBuffer=[],this.serializer=new jU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>rd(async()=>{const{default:c}=await Promise.resolve().then(()=>Rl);return{default:c}},void 0).then(({default:c})=>c(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${ty.websocket}`,this.httpEndpoint=mR(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,a)=>a(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new hR(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=yU),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wU}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Rc.connecting:return la.Connecting;case Rc.open:return la.Open;case Rc.closing:return la.Closing;default:return la.Closed}}isConnected(){return this.connectionState()===la.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Cb(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,a=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:bU};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Dr.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(SU,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:a}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(o=>o._isMember(r)).forEach(o=>o._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Dr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([NU],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class kb extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ut(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class AU extends kb{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ry extends kb{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var OU=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const gR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>rd(async()=>{const{default:r}=await Promise.resolve().then(()=>Rl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},IU=()=>OU(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield rd(()=>Promise.resolve().then(()=>Rl),void 0)).Response:Response}),iy=e=>{if(Array.isArray(e))return e.map(n=>iy(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=iy(r)}),t},DU=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ua=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const Bm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),FU=(e,t,n)=>Ua(void 0,void 0,void 0,function*(){const r=yield IU();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new AU(Bm(i),s,a))}).catch(i=>{t(new ry(Bm(i),i))}):t(new ry(Bm(e),e))}),LU=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(DU(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function sd(e,t,n,r,i,s){return Ua(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(n,LU(t,r,i,s)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>FU(c,o,r))})})}function wh(e,t,n,r){return Ua(this,void 0,void 0,function*(){return sd(e,"GET",t,n,r)})}function ki(e,t,n,r,i){return Ua(this,void 0,void 0,function*(){return sd(e,"POST",t,r,i,n)})}function sy(e,t,n,r,i){return Ua(this,void 0,void 0,function*(){return sd(e,"PUT",t,r,i,n)})}function MU(e,t,n,r){return Ua(this,void 0,void 0,function*(){return sd(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function vR(e,t,n,r,i){return Ua(this,void 0,void 0,function*(){return sd(e,"DELETE",t,r,i,n)})}var In=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const $U={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},h1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class UU{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=gR(i)}uploadOrUpdate(t,n,r,i){return In(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},h1),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?sy:ki)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(Ut(s))return{data:null,error:s};throw s}})}upload(t,n,r){return In(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return In(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:h1.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield sy(this.fetch,o.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(Ut(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return In(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield ki(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new kb("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}})}update(t,n,r){return In(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return In(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ut(i))return{data:null,error:i};throw i}})}copy(t,n,r){return In(this,void 0,void 0,function*(){try{return{data:{path:(yield ki(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ut(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return In(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield ki(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(Ut(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return In(this,void 0,void 0,function*(){try{const i=yield ki(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(Ut(i))return{data:null,error:i};throw i}})}download(t,n){return In(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield wh(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Ut(o))return{data:null,error:o};throw o}})}info(t){return In(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield wh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:iy(r),error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}})}exists(t){return In(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield MU(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ut(r)&&r instanceof ry){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(t){return In(this,void 0,void 0,function*(){try{return{data:yield vR(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ut(n))return{data:null,error:n};throw n}})}list(t,n,r){return In(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},$U),n),{prefix:t||""});return{data:yield ki(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ut(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const zU="2.10.4",HU={"X-Client-Info":`storage-js/${zU}`};var to=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class BU{constructor(t,n={},r,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},HU),n),this.fetch=gR(r)}listBuckets(){return to(this,void 0,void 0,function*(){try{return{data:yield wh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ut(t))return{data:null,error:t};throw t}})}getBucket(t){return to(this,void 0,void 0,function*(){try{return{data:yield wh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ut(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return to(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return to(this,void 0,void 0,function*(){try{return{data:yield sy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}})}emptyBucket(t){return to(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ut(n))return{data:null,error:n};throw n}})}deleteBucket(t){return to(this,void 0,void 0,function*(){try{return{data:yield vR(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ut(n))return{data:null,error:n};throw n}})}}class qU extends BU{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new UU(this.url,this.headers,t,this.fetch)}}const WU="2.53.0";let dc="";typeof Deno<"u"?dc="deno":typeof document<"u"?dc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dc="react-native":dc="node";const VU={"X-Client-Info":`supabase-js-${dc}/${WU}`},QU={headers:VU},KU={schema:"public"},GU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},YU={};var JU=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const XU=e=>{let t;return e?t=e:typeof fetch>"u"?t=tR:t=fetch,(...n)=>t(...n)},ZU=()=>typeof Headers>"u"?nR:Headers,ez=(e,t,n)=>{const r=XU(n),i=ZU();return(s,a)=>JU(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},a),{headers:u}))})};var tz=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};function nz(e){return e.endsWith("/")?e:e+"/"}function rz(e,t){var n,r;const{db:i,auth:s,realtime:a,global:o}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>tz(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const yR="2.71.1",mo=30*1e3,ay=3,qm=ay*mo,iz="http://localhost:9999",sz="supabase.auth.token",az={"X-Client-Info":`gotrue-js/${yR}`},oy="X-Supabase-Api-Version",xR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lz=10*60*1e3;class Pb extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function _e(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class cz extends Pb{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function uz(e){return _e(e)&&e.name==="AuthApiError"}class bR extends Pb{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class qs extends Pb{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class rs extends qs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dz(e){return _e(e)&&e.name==="AuthSessionMissingError"}class Kd extends qs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gd extends qs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Yd extends qs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fz(e){return _e(e)&&e.name==="AuthImplicitGrantRedirectError"}class p1 extends qs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ly extends qs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Wm(e){return _e(e)&&e.name==="AuthRetryableFetchError"}class m1 extends qs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class cy extends qs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),g1=` 	
\r=`.split(""),hz=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<g1.length;t+=1)e[g1[t].charCodeAt(0)]=-2;for(let t=0;t<Sh.length;t+=1)e[Sh[t].charCodeAt(0)]=t;return e})();function v1(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Sh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Sh[r]),t.queuedBits-=6}}function wR(e,t,n){const r=hz[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function y1(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{gz(a,r,n)};for(let a=0;a<e.length;a+=1)wR(e.charCodeAt(a),i,s);return t.join("")}function pz(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function mz(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}pz(r,t)}}function gz(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function vz(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)wR(e.charCodeAt(i),n,r);return new Uint8Array(t)}function yz(e){const t=[];return mz(e,n=>t.push(n)),new Uint8Array(t)}function xz(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>v1(i,n,r)),v1(null,n,r),t.join("")}function bz(e){return Math.round(Date.now()/1e3)+e}function wz(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Rr=()=>typeof window<"u"&&typeof document<"u",Xs={tested:!1,writable:!1},SR=()=>{if(!Rr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xs.tested)return Xs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xs.tested=!0,Xs.writable=!0}catch{Xs.tested=!0,Xs.writable=!1}return Xs.writable};function Sz(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const jR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>rd(async()=>{const{default:r}=await Promise.resolve().then(()=>Rl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},jz=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",go=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Zs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ji=async(e,t)=>{await e.removeItem(t)};class jp{constructor(){this.promise=new jp.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}jp.promiseConstructor=Promise;function Vm(e){const t=e.split(".");if(t.length!==3)throw new cy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!oz.test(t[r]))throw new cy("JWT not in base64url format");return{header:JSON.parse(y1(t[0])),payload:JSON.parse(y1(t[1])),signature:vz(t[2]),raw:{header:t[0],payload:t[1]}}}async function _z(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ez(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){r(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function Cz(e){return("0"+e.toString(16)).substr(-2)}function kz(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Cz).join("")}async function Pz(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Rz(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Pz(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function no(e,t,n=!1){const r=kz();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await go(e,`${t}-code-verifier`,i);const s=await Rz(r);return[s,r===s?"plain":"s256"]}const Nz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Tz(e){const t=e.headers.get(oy);if(!t||!t.match(Nz))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Az(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Oz(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Iz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ro(e){if(!Iz.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qm(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function x1(e){return JSON.parse(JSON.stringify(e))}var Dz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const aa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Fz=[502,503,504];async function b1(e){var t;if(!jz(e))throw new ly(aa(e),0);if(Fz.includes(e.status))throw new ly(aa(e),e.status);let n;try{n=await e.json()}catch(s){throw new bR(aa(s),s)}let r;const i=Tz(e);if(i&&i.getTime()>=xR["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new m1(aa(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new rs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new m1(aa(n),e.status,n.weak_password.reasons);throw new cz(aa(n),e.status||500,r)}const Lz=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ae(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[oy]||(s[oy]=xR["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await Mz(e,t,n+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Mz(e,t,n,r,i,s){const a=Lz(t,r,i,s);let o;try{o=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new ly(aa(c),0)}if(o.ok||await b1(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(c){await b1(c)}}function Si(e){var t;let n=null;Hz(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=bz(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function w1(e){const t=Si(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function cs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $z(e){return{data:e,error:null}}function Uz(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,a=Dz(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function zz(e){return e}function Hz(e){return e.access_token&&e.refresh_token&&e.expires_in}const Km=["global","local","others"];var Bz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class qz{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=jR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Km[0]){if(Km.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Km.join(", ")}`);try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:cs})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Bz(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Uz,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(_e(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:cs})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:zz});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(_e(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ro(t);try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:cs})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ro(t);try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:cs})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ro(t);try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:cs})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ro(t.userId);try{const{data:n,error:r}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ro(t.userId),ro(t.id);try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}}function S1(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Wz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const io={debug:!!(globalThis&&SR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _R extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Vz extends _R{}async function Qz(e,t,n){io.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),io.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){io.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{io.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw io.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Vz(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(io.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Wz();const Kz={url:iz,storageKey:sz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:az,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function j1(e,t,n){return await n()}const so={};class cu{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cu.nextInstanceID,cu.nextInstanceID+=1,this.instanceID>0&&Rr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Kz),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new qz({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=jR(i.fetch),this.lock=i.lock||j1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Rr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Qz:this.lock=j1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:SR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=S1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=S1(this.memoryStorage)),Rr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=so[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){so[this.storageKey]=Object.assign(Object.assign({},so[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=so[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){so[this.storageKey]=Object.assign(Object.assign({},so[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yR}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Sz(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Rr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),fz(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return _e(n)?{error:n}:{error:new bR("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Si}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await no(this.storage,this.storageKey)),s=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:Si})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Si})}else throw new Gd("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:a,options:o}=t;n=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:w1})}else if("phone"in t){const{phone:s,password:a,options:o}=t;n=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:w1})}else throw new Gd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Kd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,a,o,c,u,d,f,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:w,wallet:v,statement:x,options:b}=t;let S;if(Rr())if(typeof v=="object")S=v;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const j=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),x?{statement:x}:null));let P;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")P=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)P=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)g=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),m=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=_}}try{const{data:w,error:v}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:xz(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Si});if(v)throw v;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Kd}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:v})}catch(w){if(_e(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const n=await Zs(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Si});if(await Ji(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Kd}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(_e(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=t,o=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Si}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Kd}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,a;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await no(this.storage,this.storageKey));const{error:f}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Gd("You must provide either an email or phone number.")}catch(o){if(_e(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Si});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(_e(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await no(this.storage,this.storageKey)),await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:$z})}catch(s){if(_e(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new rs;const{error:i}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:a}=await Ae(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:a,error:o}=await Ae(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Gd("You must provide either an email or phone number and a type")}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Zs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<qm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Zs(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Qm()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:cs}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rs}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:cs})})}catch(n){if(_e(n))return dz(n)&&(await this._removeSession(),await Ji(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new rs;const a=i.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await no(this.storage,this.storageKey));const{data:u,error:d}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:cs});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new rs;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=Vm(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(_e(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new rs;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Rr())throw new Yd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Yd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new p1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new p1("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=t;if(!s||!o||!a||!u)throw new Yd("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=mo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:m,error:w}=await this._getUser(s);if(w)throw w;const v={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(_e(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Zs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(uz(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Ji(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=wz(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await no(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(_e(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,c,u,d;const{data:f,error:h}=s;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Rr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(_e(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Ez(async i=>(i>0&&await _z(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Si})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Wm(s)&&Date.now()+a-r<mo})}catch(r){if(this._debug(n,"error",r),_e(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Rr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Zs(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Zs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await go(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Qm()}else if(i&&!i.user&&!i.user){const a=await Zs(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Ji(this.storage,this.storageKey+"-user"),await go(this.storage,this.storageKey,i)):i.user=Qm()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<qm;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${qm}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Wm(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new rs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new jp;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new rs;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),_e(s)){const a={session:null,error:s};return Wm(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await go(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=x1(i);await go(this.storage,this.storageKey,s)}else{const i=x1(n);await go(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ji(this.storage,this.storageKey),await Ji(this.storage,this.storageKey+"-code-verifier"),await Ji(this.storage,this.storageKey+"-user"),this.userStorage&&await Ji(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Rr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),mo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/mo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${mo}ms, refresh threshold is ${ay} ticks`),i<=ay&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _R)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await no(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:a,error:o}=await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(n){if(_e(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(_e(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Vm(i.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+lz>i)return r;const{data:s,error:a}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};r=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:c}}=Vm(r);n!=null&&n.allowExpired||Az(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const d=Oz(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,yz(`${o}.${c}`)))throw new cy("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}}cu.nextInstanceID=0;const Gz=cu;class Yz extends Gz{constructor(t){super(t)}}var Jz=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class Xz{constructor(t,n,r){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=nz(t),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:KU,realtime:YU,auth:Object.assign(Object.assign({},GU),{storageKey:u}),global:QU},f=rz(r??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=ez(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new gU(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new qU(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new V5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Jz(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:a,lock:o,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yz({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:a,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new TU(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zz=(e,t,n)=>new Xz(e,t,n);function e6(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}e6()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const t6="https://wrodvaatdujbpfpvrzge.supabase.co",n6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indyb2R2YWF0ZHVqYnBmcHZyemdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM3MzE3MzgsImV4cCI6MjA2OTMwNzczOH0.0ac4Hjbb09n7V8orvD16jtj0ZA6Qz8T0PBM3y33fQ0s",r6=()=>{try{if(typeof window<"u"&&window.sessionStorage)return window.sessionStorage}catch{}},Q=Zz(t6,n6,{auth:{storage:r6(),persistSession:!0,autoRefreshToken:!0}}),ER=y.createContext(void 0),pt=()=>{const e=y.useContext(ER);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},i6=({children:e})=>{const[t,n]=y.useState(null),[r,i]=y.useState(null),[s,a]=y.useState(!0);y.useEffect(()=>{const{data:{subscription:f}}=Q.auth.onAuthStateChange(async(h,p)=>{i(p),n((p==null?void 0:p.user)??null),p!=null&&p.user&&setTimeout(async()=>{try{const{data:g,error:m}=await Q.from("users").select("workspace_id").eq("user_id",p.user.id).single();if(m){if(m.code!=="PGRST116"){const x=`auth_user_fetch_error_${m.code}_${p.user.id}`;sessionStorage.getItem(x)||(console.error("Error fetching user in auth:",m),sessionStorage.setItem(x,"logged"))}return}if(!g)return;const{data:w,error:v}=await Q.from("workspaces").select("plan_type").eq("id",g.workspace_id).single();if(v||!w)return;if(w.plan_type==="freemium"){const{data:x,error:b}=await Q.from("workspace_trials").select("expires_at").eq("workspace_id",g.workspace_id).single();!b&&x&&new Date(x.expires_at)<=new Date&&await Q.auth.signOut()}}catch(g){const m=`auth_trial_check_error_${p.user.id}`;sessionStorage.getItem(m)||(console.error("Error checking trial status:",g),sessionStorage.setItem(m,"logged"))}},0),a(!1)});return Q.auth.getSession().then(({data:{session:h}})=>{i(h),n((h==null?void 0:h.user)??null),a(!1)}),()=>f.unsubscribe()},[]);const o=async()=>{const{error:f}=await Q.auth.signOut();if(f)throw console.error("Error signing out:",f),f},c=async(f,h)=>{const{data:p,error:g}=await Q.auth.signInWithPassword({email:f,password:h});if(p!=null&&p.user&&!g)try{const{data:m,error:w}=await Q.from("users").select("workspace_id").eq("user_id",p.user.id).single();if(!w&&m){const{data:v,error:x}=await Q.from("workspaces").select("plan_type").eq("id",m.workspace_id).single();if(!x&&v&&v.plan_type==="freemium"){const{data:b,error:S}=await Q.from("workspace_trials").select("expires_at").eq("workspace_id",m.workspace_id).single();if(!S&&b&&new Date(b.expires_at)<=new Date)return await Q.auth.signOut(),{data:null,error:{message:"Votre période d'essai est expirée. Contactez notre équipe commerciale pour souscrire à un plan payant."}}}}}catch(m){console.error("Error checking trial status during login:",m)}return{data:p,error:g}},u=async(f,h,p)=>{const{data:g,error:m}=await Q.auth.signUp({email:f,password:h,options:{data:p}});return{data:g,error:m}},d=async()=>{const{data:f,error:h}=await Q.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/search`}});return{data:f,error:h}};return l.jsx(ER.Provider,{value:{user:t,session:r,loading:s,signOut:o,signIn:c,signUp:u,signInWithGoogle:d},children:e})},CR=y.createContext(void 0),Rb=()=>{const e=y.useContext(CR);if(!e)throw new Error("useUser must be used within a UserProvider");return e},s6=({children:e})=>{const{user:t}=pt(),[n,r]=y.useState(null),[i,s]=y.useState(!0),a=async()=>{if(!t){r(null),s(!1);return}try{const{data:c,error:u}=await Q.from("users").select("*").eq("user_id",t.id).limit(1).single();if(u)if(u.code==="PGRST116"){console.warn(`User ${t.id} exists in auth but not in public.users. This indicates data inconsistency.`),r(null),s(!1);return}else{const h=`user_fetch_error_${u.code}_${t.id}`;sessionStorage.getItem(h)||(console.error("Error fetching user profile:",u),sessionStorage.setItem(h,"logged")),r(null),s(!1);return}let d=null;try{const{data:h}=await Q.from("user_roles").select("role, workspace_id").eq("user_id",t.id).limit(1).single();d=h}catch{}const f={user_id:t.id,workspace_id:(c==null?void 0:c.workspace_id)||(d==null?void 0:d.workspace_id)||"",first_name:c==null?void 0:c.first_name,last_name:c==null?void 0:c.last_name,company:c==null?void 0:c.company,position:c==null?void 0:c.position,phone:c==null?void 0:c.phone,email:(c==null?void 0:c.email)||t.email||"",plan_type:c==null?void 0:c.plan_type,subscribed:c==null?void 0:c.subscribed,role:d==null?void 0:d.role};r(f)}catch(c){const u=`profile_fetch_error_${t.id}`;sessionStorage.getItem(u)||(console.error("Error in fetchProfile:",c),sessionStorage.setItem(u,"logged")),r(null)}s(!1)};y.useEffect(()=>{a()},[t]);const o=async()=>{s(!0),await a()};return l.jsx(CR.Provider,{value:{userProfile:n,loading:i,refreshProfile:o},children:e})},kR=y.createContext(void 0),hi=()=>{const e=y.useContext(kR);if(!e)throw new Error("useWorkspace must be used within a WorkspaceProvider");return e},a6=({children:e})=>{const{user:t}=pt(),{userProfile:n,loading:r}=Rb(),[i,s]=y.useState(null),[a,o]=y.useState(!0),c=async()=>{if(!t){s(null),o(!1);return}if(r){o(!0);return}if(!n||!n.workspace_id||n.workspace_id.trim()===""){s(null),o(!1);return}try{const{data:d,error:f}=await Q.from("workspaces").select("*").eq("id",n.workspace_id).single();f?(console.error("Error fetching workspace:",f),s(null)):s(d)}catch(d){console.error("Error in fetchWorkspace:",d),s(null)}o(!1)};y.useEffect(()=>{c()},[t,n==null?void 0:n.workspace_id,r]);const u=async()=>{o(!0),await c()};return l.jsx(kR.Provider,{value:{currentWorkspace:i,loading:a,refreshWorkspace:u},children:e})},Tl=()=>{const{user:e}=pt(),{currentWorkspace:t}=hi(),[n,r]=y.useState([]),[i,s]=y.useState([]);y.useEffect(()=>{(async()=>{if(!(!e||!t))try{const{data:f}=await Q.from("fe_sources").select("source_name").eq("access_level","standard").eq("is_global",!0);f&&s(f.map(p=>p.source_name));const{data:h}=await Q.from("fe_source_workspace_assignments").select("source_name").eq("workspace_id",t.id);h&&r(h.map(p=>p.source_name))}catch(f){console.error("Error fetching source data:",f)}})()},[e,t]);const a=y.useCallback(d=>!!e,[e]),o=y.useCallback(d=>!n.includes(d),[n]),c=y.useCallback(()=>!e||!t?!1:t.plan_type==="premium",[e,t==null?void 0:t.id,t==null?void 0:t.plan_type]),u=y.useCallback((d,f)=>d?{variant:"secondary",label:"Workspace"}:null,[]);return{hasAccess:a,shouldBlurPremiumContent:o,getSourceLabel:u,canUseFavorites:c,user:e,currentWorkspace:t,standardSources:i,assignedSources:n}},PR=y.createContext(void 0),ad=()=>{const e=y.useContext(PR);if(!e)throw new Error("useFavorites must be used within a FavoritesProvider");return e},o6=({children:e})=>{const{user:t}=pt(),{canUseFavorites:n}=Tl(),[r,i]=y.useState([]),[s,a]=y.useState(!1),[o,c]=y.useState(0),u=3e4,d=y.useRef(0),f=y.useCallback((v,x)=>({id:x,nom:v.Nom||v.nom||"",description:v.Description||v.description||"",fe:Number(v.FE||v.fe)||0,uniteActivite:v["Unité donnée d'activité"]||v.uniteActivite||"",source:v.Source||v.source||"",secteur:v.Secteur||v.secteur||"",sousSecteur:v["Sous-secteur"]||v.sousSecteur||"",localisation:v.Localisation||v.localisation||"",date:Number(v.Date||v.date)||0,incertitude:v.Incertitude||v.incertitude||"",perimetre:v.Périmètre||v.perimetre||"",contributeur:v.Contributeur||v.contributeur||"",commentaires:v.Commentaires||v.commentaires||"",isFavorite:!0}),[]),h=y.useCallback(async(v=!1)=>{if(!t||!n()){i([]),c(0),d.current=0;return}const x=Date.now();if(!(!v&&d.current&&x-d.current<u))try{a(!0);const{data:b,error:S}=await Q.from("favorites").select("item_id, item_data, created_at").eq("user_id",t.id).eq("item_type","emission_factor").order("created_at",{ascending:!1});if(S)throw S;if(!b||b.length===0){i([]),c(x),d.current=x;return}const j=b.map(_=>_.item_data?f(_.item_data,_.item_id):null).filter(Boolean);i(j),c(x),d.current=x}catch(b){console.error("Error fetching favorites:",b)}finally{a(!1)}},[t,n,f]),p=y.useCallback(async v=>{if(!(!t||!n()))try{const{error:x}=await Q.from("favorites").insert({user_id:t.id,item_type:"emission_factor",item_id:v.id,item_data:v});if(x)throw x;i(b=>[...b,{...v,isFavorite:!0}]),c(0)}catch(x){throw console.error("Error adding to favorites:",x),x}},[t,n]),g=y.useCallback(async v=>{if(!(!t||!n()))try{i(b=>b.filter(S=>S.id!==v));const{error:x}=await Q.from("favorites").delete().eq("user_id",t.id).eq("item_id",v);if(x)throw await h(!0),x;c(0)}catch(x){throw console.error("Error removing from favorites:",x),x}},[t,n,h]),m=y.useMemo(()=>new Set(r.map(v=>v.id)),[r]),w=y.useCallback(v=>m.has(v),[m]);return y.useEffect(()=>{let v;return t&&n()?v=setTimeout(()=>{h()},100):(i([]),c(0)),()=>{v&&clearTimeout(v)}},[t,n,h]),y.useEffect(()=>{if(!t||!n())return;const v=Q.channel(`favorites-realtime-${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"favorites",filter:`user_id=eq.${t.id}`},x=>{var b,S,j;try{if(x.eventType==="INSERT"&&((b=x.new)==null?void 0:b.item_type)==="emission_factor"){const _=f(x.new.item_data,x.new.item_id);i(P=>P.some(R=>R.id===_.id)?P:[...P,_])}if(x.eventType==="DELETE"){const _=(S=x.old)==null?void 0:S.item_id;_&&i(P=>P.filter(R=>R.id!==_))}if(x.eventType==="UPDATE"&&((j=x.new)==null?void 0:j.item_type)==="emission_factor"){const _=f(x.new.item_data,x.new.item_id);i(P=>P.map(R=>R.id===_.id?_:R))}}catch(_){console.error("favorites realtime handler error",_)}}).subscribe();return()=>{Q.removeChannel(v)}},[t,n,f]),l.jsx(PR.Provider,{value:{favorites:r,loading:s,addToFavorites:p,removeFromFavorites:g,isFavorite:w,refreshFavorites:h},children:e})},l6=Zu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),hn=y.forwardRef(({className:e,variant:t,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:se(l6({variant:t}),e),...n}));hn.displayName="Alert";const jh=y.forwardRef(({className:e,...t},n)=>l.jsx("h5",{ref:n,className:se("mb-1 font-medium leading-none tracking-tight",e),...t}));jh.displayName="AlertTitle";const pn=y.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:se("text-sm [&_p]:leading-relaxed",e),...t}));pn.displayName="AlertDescription";const Nb=Zu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-semibold uppercase tracking-wide ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:shadow-soft active:shadow-none [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:brightness-105 active:brightness-95",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary text-primary bg-transparent hover:bg-primary/10 active:bg-primary/20",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90 active:bg-secondary/95",hero:"bg-primary-foreground text-primary hover:bg-primary-foreground/90 active:bg-primary-foreground/95",ghost:"text-foreground hover:bg-accent/10 hover:text-primary",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=y.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const a=r?As:"button";return l.jsx(a,{className:se(Nb({variant:t,size:n,className:e})),ref:s,...i})});Z.displayName="Button";const RR=()=>{const{user:e}=pt(),[t,n]=y.useState({isImpersonating:!1,impersonatedUser:null,originalUser:null});return y.useEffect(()=>{const s=sessionStorage.getItem("impersonation_data");if(s)try{const a=JSON.parse(s);n(a)}catch(a){console.error("Error parsing impersonation data:",a),sessionStorage.removeItem("impersonation_data")}},[]),{...t,startImpersonation:async(s,a,o,c)=>{if(!e)return!1;try{const{data:u,error:d}=await Q.functions.invoke("impersonate-user",{body:{targetUserId:s,originalUserId:e.id}});if(d)throw d;const f={isImpersonating:!0,impersonatedUser:{id:s,email:a,workspace_id:o,workspace_name:c},originalUser:e};return n(f),sessionStorage.setItem("impersonation_data",JSON.stringify(f)),u.access_token&&u.refresh_token&&await Q.auth.setSession({access_token:u.access_token,refresh_token:u.refresh_token}),!0}catch(u){return console.error("Error starting impersonation:",u),!1}},stopImpersonation:async()=>{if(!t.originalUser)return!1;try{const{data:s,error:a}=await Q.functions.invoke("stop-impersonation",{body:{originalUserId:t.originalUser.id}});if(a)throw a;return s.access_token&&s.refresh_token&&await Q.auth.setSession({access_token:s.access_token,refresh_token:s.refresh_token}),n({isImpersonating:!1,impersonatedUser:null,originalUser:null}),sessionStorage.removeItem("impersonation_data"),!0}catch(s){return console.error("Error stopping impersonation:",s),!1}}}},c6=()=>{const{isImpersonating:e,impersonatedUser:t,stopImpersonation:n}=RR(),{toast:r}=Dt();if(!e||!t)return null;const i=async()=>{await n()?(r({title:"Impersonation terminée",description:"Vous êtes de nouveau connecté avec votre compte admin"}),window.location.href="/admin"):r({variant:"destructive",title:"Erreur",description:"Impossible de terminer l'impersonation"})};return l.jsxs(hn,{className:"bg-orange-50 border-orange-200 mb-4",children:[l.jsx(Mi,{className:"h-4 w-4 text-orange-600"}),l.jsxs(pn,{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-orange-800",children:[l.jsx("strong",{children:"Mode Impersonation:"})," Vous êtes connecté en tant que"," ",l.jsx("strong",{children:t.email})," dans le workspace"," ",l.jsx("strong",{children:t.workspace_name})]}),l.jsxs(Z,{variant:"outline",size:"sm",onClick:i,className:"ml-4 border-orange-300 text-orange-700 hover:bg-orange-100",children:[l.jsx(Zk,{className:"h-4 w-4 mr-2"}),"Retour admin"]})]})]})},ge=y.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ge.displayName="Card";const Se=y.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:se("flex flex-col space-y-1.5 p-6",e),...t}));Se.displayName="CardHeader";const je=y.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:se("text-2xl font-semibold leading-none tracking-tight",e),...t}));je.displayName="CardTitle";const xt=y.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:se("text-sm text-muted-foreground",e),...t}));xt.displayName="CardDescription";const ve=y.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:se("p-6 pt-0",e),...t}));ve.displayName="CardContent";const u6=y.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:se("flex items-center p-6 pt-0",e),...t}));u6.displayName="CardFooter";function d6(e,t=[]){let n=[];function r(s,a){const o=y.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||o,w=y.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:w,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||o,g=y.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(a=>y.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,f6(i,...t)]}function f6(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var h6=y.createContext(void 0);function _p(e){const t=y.useContext(h6);return e||t||"ltr"}var Gm="rovingFocusGroup.onEntryFocus",p6={bubbles:!1,cancelable:!0},Ep="RovingFocusGroup",[uy,NR,m6]=np(Ep),[g6,Cp]=d6(Ep,[m6]),[v6,y6]=g6(Ep),TR=y.forwardRef((e,t)=>l.jsx(uy.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(uy.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(x6,{...e,ref:t})})}));TR.displayName=Ep;var x6=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=y.useRef(null),p=Le(t,h),g=_p(s),[m=null,w]=Li({prop:a,defaultProp:o,onChange:c}),[v,x]=y.useState(!1),b=dn(u),S=NR(n),j=y.useRef(!1),[_,P]=y.useState(0);return y.useEffect(()=>{const R=h.current;if(R)return R.addEventListener(Gm,b),()=>R.removeEventListener(Gm,b)},[b]),l.jsx(v6,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:m,onItemFocus:y.useCallback(R=>w(R),[w]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>P(R=>R+1),[]),onFocusableItemRemove:y.useCallback(()=>P(R=>R-1),[]),children:l.jsx(ye.div,{tabIndex:v||_===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:te(e.onMouseDown,()=>{j.current=!0}),onFocus:te(e.onFocus,R=>{const F=!j.current;if(R.target===R.currentTarget&&F&&!v){const k=new CustomEvent(Gm,p6);if(R.currentTarget.dispatchEvent(k),!k.defaultPrevented){const D=S().filter(T=>T.focusable),L=D.find(T=>T.active),$=D.find(T=>T.id===m),U=[L,$,...D].filter(Boolean).map(T=>T.ref.current);IR(U,d)}}j.current=!1}),onBlur:te(e.onBlur,()=>x(!1))})})}),AR="RovingFocusGroupItem",OR=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...a}=e,o=$r(),c=s||o,u=y6(AR,n),d=u.currentTabStopId===c,f=NR(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return y.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),l.jsx(uy.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:l.jsx(ye.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:te(e.onMouseDown,g=>{r?u.onItemFocus(c):g.preventDefault()}),onFocus:te(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:te(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=S6(g,u.orientation,u.dir);if(m!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let v=f().filter(x=>x.focusable).map(x=>x.ref.current);if(m==="last")v.reverse();else if(m==="prev"||m==="next"){m==="prev"&&v.reverse();const x=v.indexOf(g.currentTarget);v=u.loop?j6(v,x+1):v.slice(x+1)}setTimeout(()=>IR(v))}})})})});OR.displayName=AR;var b6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function w6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function S6(e,t,n){const r=w6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return b6[r]}function IR(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function j6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var DR=TR,FR=OR,Tb="Tabs",[_6,yie]=qi(Tb,[Cp]),LR=Cp(),[E6,Ab]=_6(Tb),MR=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:c="automatic",...u}=e,d=_p(o),[f,h]=Li({prop:r,onChange:i,defaultProp:s});return l.jsx(E6,{scope:n,baseId:$r(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:c,children:l.jsx(ye.div,{dir:d,"data-orientation":a,...u,ref:t})})});MR.displayName=Tb;var $R="TabsList",UR=y.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=Ab($R,n),a=LR(n);return l.jsx(DR,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:l.jsx(ye.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});UR.displayName=$R;var zR="TabsTrigger",HR=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,a=Ab(zR,n),o=LR(n),c=WR(a.baseId,r),u=VR(a.baseId,r),d=r===a.value;return l.jsx(FR,{asChild:!0,...o,focusable:!i,active:d,children:l.jsx(ye.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:te(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:te(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:te(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(r)})})})});HR.displayName=zR;var BR="TabsContent",qR=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=e,o=Ab(BR,n),c=WR(o.baseId,r),u=VR(o.baseId,r),d=r===o.value,f=y.useRef(d);return y.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(Cr,{present:i||d,children:({present:h})=>l.jsx(ye.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});qR.displayName=BR;function WR(e,t){return`${e}-trigger-${t}`}function VR(e,t){return`${e}-content-${t}`}var C6=MR,QR=UR,KR=HR,GR=qR;const _h=C6,uu=y.forwardRef(({className:e,...t},n)=>l.jsx(QR,{ref:n,className:se("inline-flex h-12 items-center justify-center rounded-md p-1 gap-1 text-muted-foreground","bg-transparent",e),...t}));uu.displayName=QR.displayName;const Jn=y.forwardRef(({className:e,...t},n)=>l.jsx(KR,{ref:n,className:se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-6 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","bg-primary text-primary-foreground hover:bg-primary/90 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-sm",e),...t}));Jn.displayName=KR.displayName;const Xn=y.forwardRef(({className:e,...t},n)=>l.jsx(GR,{ref:n,className:se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Xn.displayName=GR.displayName;const Te=({src:e,alt:t,className:n})=>l.jsx("span",{role:"img","aria-label":t,className:se("block",n),style:{backgroundColor:"hsl(var(--primary))",WebkitMaskImage:`url(${e})`,maskImage:`url(${e})`,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskPosition:"center",maskPosition:"center",WebkitMaskSize:"contain",maskSize:"contain",display:"block"}}),k6=()=>{const e=$a(),{user:t}=pt();return y.useEffect(()=>{var a,o;const n=new URLSearchParams(window.location.search),r=new URLSearchParams(window.location.hash.substring(1)),i=n.get("access_token")||r.get("access_token"),s=n.get("type")||r.get("type");if(i&&(s==="signup"||s==="invite")){console.log("Invitation détectée sur la page d'accueil, redirection..."),e("/invitation"+window.location.search+window.location.hash);return}if((a=t==null?void 0:t.user_metadata)!=null&&a.workspace_id&&((o=t==null?void 0:t.user_metadata)==null?void 0:o.invitation_type)==="workspace"){console.log("Utilisateur connecté avec invitation en attente, redirection..."),e("/invitation");return}},[e,t]),l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("nav",{className:"bg-background border-b border-border sticky top-0 z-50",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("img",{src:"/lovable-uploads/415a981c-a454-47dc-a601-b214f6e857d0.png",alt:"DataCarb",className:"h-16"})}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(wt,{to:"/signup",children:l.jsx(Z,{variant:"outline",children:"S'inscrire"})}),l.jsx(wt,{to:"/login",children:l.jsx(Z,{children:"Se connecter"})})]})]})})}),l.jsx("section",{className:"py-20 px-4 bg-primary text-primary-foreground",children:l.jsx("div",{className:"container mx-auto",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{className:"space-y-6 order-2 lg:order-1",children:[l.jsxs("h1",{className:"text-5xl md:text-6xl font-bold leading-tight text-primary-foreground",children:["Le moteur de recherche",l.jsx("br",{}),"de FE le plus puissant",l.jsx("br",{}),"du marché"]}),l.jsxs("p",{className:"text-primary-foreground/90",children:["Accédez à plus de 255 000 facteurs d'émissions français et internationaux",l.jsx("br",{}),"agrégés et enrichis par nos experts."]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx(wt,{to:"/signup",children:l.jsx(Z,{variant:"hero",className:"w-full sm:w-auto",children:"Tester le moteur de recherche"})}),l.jsx(wt,{to:"/login",children:l.jsx(Z,{variant:"outline",className:"w-full sm:w-auto border-primary-foreground text-primary-foreground hover:bg-primary-foreground/10",children:"Se connecter"})})]})]}),l.jsx("div",{className:"order-1 lg:order-2",children:l.jsx("img",{src:"/lovable-uploads/b3596089-c93c-4b3d-87ea-8598f493120b.png",alt:"Interface de recherche de facteurs d'émission",className:"w-full h-auto rounded-lg"})})]})})}),l.jsx("section",{className:"py-16 bg-background",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsx("h4",{className:"font-bold mb-12",children:"Retrouvez les plus grandes bases françaises et internationales"}),l.jsxs("div",{className:"grid grid-cols-7 gap-8 items-center",children:[l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Te,{src:"/lovable-uploads/3fdbfe68-8e5e-4c44-8ac1-edd24a2d8fac.png",alt:"Empreinte",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Te,{src:"/lovable-uploads/ac4b2170-676b-424b-906d-7f65f939022c.png",alt:"Ecobalyse",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Te,{src:"/lovable-uploads/f51cec17-9b6f-417a-919b-c29f1a77ac1a.png",alt:"exiobase",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Te,{src:"/lovable-uploads/9d73d9ce-baf8-4a47-bdd7-bcbcc41e709d.png",alt:"inies",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Te,{src:"/lovable-uploads/8edc4de0-1e88-4d97-972f-ed5d481c1b30.png",alt:"AGRI BALYSE",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Te,{src:"/lovable-uploads/a39b6717-f7d1-4045-a4ab-921fe28e5c53.png",alt:"Electricity Maps",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Te,{src:"/lovable-uploads/c27135f4-de5c-49fd-9e9f-4dc89a29274f.png",alt:"PCAF",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Te,{src:"/lovable-uploads/5310da27-1ab7-4efe-a090-a25937048f60.png",alt:"ecoinvent",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Te,{src:"/lovable-uploads/08a66c66-7e5d-4050-918f-aa08fd2d8612.png",alt:"AIB",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Te,{src:"/lovable-uploads/aa03a266-0170-4b29-b12a-2f86dea065a2.png",alt:"EMBER",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Te,{src:"/lovable-uploads/c0650cbc-f7d4-40e6-a022-e6b2bac57c2a.png",alt:"Climate Trace",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Te,{src:"/lovable-uploads/ba02a326-86d5-4773-8777-e613296e2582.png",alt:"European Environment Agency",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Te,{src:"/lovable-uploads/2d97e89d-91a3-4143-8432-605a4422e9f0.png",alt:"Department for Business, Energy & Industrial Strategy",className:"max-h-[50px] w-full h-[50px]"})}),l.jsx("div",{className:"flex flex-col items-center",children:l.jsx(Te,{src:"/lovable-uploads/01ca909f-ef8b-4b32-aea1-50f98ae9e4a6.png",alt:"eco",className:"max-h-[50px] w-full h-[50px]"})})]})]})}),l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"container mx-auto text-center",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-12",children:["Découvrez la puissance",l.jsx("br",{}),"du moteur de recherche"]}),l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx("div",{style:{position:"relative",paddingBottom:"calc(52.44791666666667% + 41px)",height:0,width:"100%"},children:l.jsx("iframe",{src:"https://demo.arcade.software/rg5Pizw2AGo4sO73KGPN?embed&embed_mobile=tab&embed_desktop=inline&show_copy_link=true",title:"Moteur de recherche de FE Sami - Démo",frameBorder:"0",loading:"lazy",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",colorScheme:"light"},allow:"clipboard-write",className:"rounded-lg"})})})]})}),l.jsx("section",{className:"py-20 px-4 bg-background",children:l.jsxs("div",{className:"container mx-auto",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Un moteur de recherche",l.jsx("br",{}),"puissant et personnalisable"]}),l.jsxs(_h,{defaultValue:"donnees",className:"max-w-6xl mx-auto",children:[l.jsxs(uu,{className:"grid w-full grid-cols-4 mb-12 rounded-full items-center",children:[l.jsx(Jn,{value:"donnees",className:"rounded-full",children:"Données"}),l.jsx(Jn,{value:"recherche",className:"rounded-full",children:"Recherche"}),l.jsx(Jn,{value:"personnalisation",className:"rounded-full",children:"Personnalisation"}),l.jsx(Jn,{value:"plus-loin",className:"rounded-full",children:"Pour aller plus loin"})]}),l.jsxs(Xn,{value:"donnees",className:"grid lg:grid-cols-2 gap-12 items-start",children:[l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Le guichet unique de vos",l.jsx("br",{}),"données carbone"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Une donnée structurée"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Une structuration unique et homogène de plus de 20 bases de",l.jsx("br",{}),"données de références internationales."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Une donnée à jour"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Une mise à jour en continu des bases pour une garantie de",l.jsx("br",{}),"qualité des FE."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"+ 250K FE à disposition"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Plus de 250k FE génériques et spécifiques en cumulé,",l.jsx("br",{}),"disponibles au sein d'une structure commune."]})]})]})]}),l.jsx("div",{className:"bg-white rounded-lg p-6",children:l.jsx("img",{src:"/lovable-uploads/71d74bc4-61b0-4e95-befc-12b9508a15e4.png",alt:"Interface base de données",className:"w-full h-auto"})})]}),l.jsxs(Xn,{value:"recherche",className:"grid lg:grid-cols-2 gap-12 items-start",children:[l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Moteur fluide et simple",l.jsx("br",{}),"d'utilisation"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Recherche intelligente"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Recherchez par mots-clés, codes, catégories ou filtres",l.jsx("br",{}),"avancés pour trouver rapidement vos FE."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Interface intuitive"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Navigation simple et rapide avec des suggestions",l.jsx("br",{}),"automatiques et tri personnalisable."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Résultats précis"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Algorithme optimisé pour vous proposer les facteurs",l.jsx("br",{}),"d'émission les plus pertinents selon vos critères."]})]})]})]}),l.jsx("div",{className:"bg-white rounded-lg p-6",children:l.jsx("img",{src:"/lovable-uploads/501e99e2-29fe-4086-8d1f-9bd8028d151d.png",alt:"Interface de recherche",className:"w-full h-auto"})})]}),l.jsxs(Xn,{value:"personnalisation",className:"grid lg:grid-cols-2 gap-12 items-start",children:[l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Personnalisez le moteur",l.jsx("br",{}),"selon vos besoins"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Favoris et collections"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Sauvegardez vos FE préférés et créez des collections",l.jsx("br",{}),"thématiques pour un accès rapide."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Filtres personnalisés"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Configurez des filtres selon vos secteurs d'activité",l.jsx("br",{}),"et vos besoins métier spécifiques."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Données sur-mesure"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Intégrez vos propres FE spécifiques et créez votre",l.jsx("br",{}),"base de données personnalisée."]})]})]})]}),l.jsx("div",{className:"bg-white rounded-lg p-6",children:l.jsx("img",{src:"/lovable-uploads/e3feeaa6-9229-46a9-a227-0700f479943f.png",alt:"Interface de personnalisation",className:"w-full h-auto"})})]}),l.jsxs(Xn,{value:"plus-loin",className:"grid lg:grid-cols-2 gap-12 items-start",children:[l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Allez plus loin que",l.jsx("br",{}),"la recherche de FE"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Réalisez des benchmarks approfondis"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Positionnez facilement un produit ou une entreprise par",l.jsx("br",{}),"rapport à des concurrents et des moyennes sectorielles de marché."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Plan d'action et décarbonation"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Identifiez rapidement les bénéfices de changements de produits,",l.jsx("br",{}),"relocalisation, de fournisseurs (achats responsables), etc."]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Support expert"}),l.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Bénéficiez de l'accompagnement de nos experts",l.jsx("br",{}),"carbone pour optimiser vos calculs."]})]})]})]}),l.jsx("div",{className:"bg-white rounded-lg p-6",children:l.jsx("img",{src:"/lovable-uploads/d9ebca49-6f11-4b52-a6b0-07a9d348c5b2.png",alt:"Interface avancée",className:"w-full h-auto"})})]})]})]})}),l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"container mx-auto",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Toutes les bases de données",l.jsx("br",{}),"sur une seule plateforme"]}),l.jsxs(_h,{defaultValue:"standards",className:"max-w-6xl mx-auto",children:[l.jsxs(uu,{className:"grid w-full grid-cols-2 mb-12 rounded-full items-center",children:[l.jsx(Jn,{value:"standards",className:"rounded-full",children:"Datasets standards"}),l.jsx(Jn,{value:"premium",className:"rounded-full",children:"Datasets premium"})]}),l.jsx(Xn,{value:"standards",children:l.jsx("div",{className:"grid grid-cols-7 gap-8",children:["AIB","Agribalyse","BEIS","Base Carbone","Base Impacts","CCF","Climate Trace","EEA","EPA","Exiobase","EcoInvent","Ecobalyse","Electricity Maps","Ember","GESPoint5","GLEC","Kering","OMEGA TP","Open CEDA","PCAF"].map((n,r)=>l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",children:n==="AIB"?l.jsx(Te,{src:"/lovable-uploads/04c097ec-c73b-4fb8-8788-7db8dce6aae6.png",alt:"AIB Logo",className:"w-full h-full"}):n==="Agribalyse"?l.jsx(Te,{src:"/lovable-uploads/fda086b7-f932-4837-beff-453157e04098.png",alt:"Agribalyse Logo",className:"w-full h-full"}):n==="BEIS"?l.jsx(Te,{src:"/lovable-uploads/6a36c45c-748d-4f7b-83c3-06ab2651649f.png",alt:"BEIS Logo",className:"w-full h-full"}):n==="Base Carbone"?l.jsx(Te,{src:"/lovable-uploads/e9be0482-b48d-476b-8536-b92ea3b88ea5.png",alt:"Base Carbone Logo",className:"w-full h-full"}):n==="Base Impacts"?l.jsx(Te,{src:"/lovable-uploads/8351c94f-afcc-498e-b8fa-73f47451686a.png",alt:"Base Impacts Logo",className:"w-full h-full"}):n==="CCF"?l.jsx(Te,{src:"/lovable-uploads/c9bb06bc-2cc4-4420-9704-4c9f16118e97.png",alt:"CCF Logo",className:"w-full h-full"}):n==="Climate Trace"?l.jsx(Te,{src:"/lovable-uploads/47300cd4-f205-4264-a5b0-6f1406b312f8.png",alt:"Climate Trace Logo",className:"w-full h-full"}):n==="EEA"?l.jsx(Te,{src:"/lovable-uploads/d2dffb4b-f32d-43ed-82bf-b071db714f91.png",alt:"European Environment Agency Logo",className:"w-full h-full"}):n==="EPA"?l.jsx(Te,{src:"/lovable-uploads/75c9eac2-554f-4bb0-9719-08a698c80e1d.png",alt:"US EPA Logo",className:"w-full h-full"}):n==="Exiobase"?l.jsx(Te,{src:"/lovable-uploads/373cff1a-5089-4167-b40a-38ff4d50cc36.png",alt:"Exiobase Logo",className:"w-full h-full"}):n==="EcoInvent"?l.jsx(Te,{src:"/lovable-uploads/5cc1caa1-f312-4760-849c-0b4ec3ab5f76.png",alt:"EcoInvent Logo",className:"w-full h-full"}):n==="Ecobalyse"?l.jsx(Te,{src:"/lovable-uploads/f775ed4f-912f-41cf-9ade-08338aadf665.png",alt:"Ecobalyse Logo",className:"w-full h-full"}):n==="Electricity Maps"?l.jsx(Te,{src:"/lovable-uploads/0cc5974c-e436-42f5-9776-ad4cd768b072.png",alt:"Electricity Maps Logo",className:"w-full h-full"}):n==="Ember"?l.jsx(Te,{src:"/lovable-uploads/88e14343-4589-4e34-b420-395130de1641.png",alt:"Ember Logo",className:"w-full h-full"}):n==="GESPoint5"?l.jsx(Te,{src:"/lovable-uploads/8de84824-fb1b-441b-a7c2-50b92b4072e2.png",alt:"1point5 Logo",className:"w-full h-full"}):n==="GLEC"?l.jsx(Te,{src:"/lovable-uploads/a5f3dea0-840a-4eed-b0ce-58ef94a75d67.png",alt:"GLEC Logo",className:"w-full h-full"}):n==="Kering"?l.jsx(Te,{src:"/lovable-uploads/faa38581-8c17-443c-b8de-77a4ffc6c72e.png",alt:"Kering Logo",className:"w-full h-full"}):n==="OMEGA TP"?l.jsx(Te,{src:"/lovable-uploads/4cce460f-a743-4cdf-9fdf-215ba86522d8.png",alt:"OMEGA TP Logo",className:"w-full h-full"}):n==="Open CEDA"?l.jsx(Te,{src:"/lovable-uploads/6bd2c0d0-f9d1-4f7d-853f-cc2a7932bff5.png",alt:"Open CEDA Logo",className:"w-full h-full"}):n==="PCAF"?l.jsx(Te,{src:"/lovable-uploads/b5978785-2cff-49c0-996a-225457820050.png",alt:"PCAF Logo",className:"w-full h-full"}):l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center",children:l.jsx("div",{className:"w-8 h-8 bg-primary rounded"})})}),l.jsx("span",{className:"text-sm text-center",children:n})]},r))})}),l.jsx(Xn,{value:"premium",children:l.jsx("div",{className:"grid grid-cols-7 gap-8",children:["Inies","Eco-platform","EcoInvent"].map((n,r)=>l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",children:n==="Inies"?l.jsx(Te,{src:"/lovable-uploads/59011962-91d0-4310-a1a6-4ce1c3bbb4b6.png",alt:"Inies Logo",className:"w-full h-full"}):n==="Eco-platform"?l.jsx(Te,{src:"/lovable-uploads/7d492fef-d5aa-4fa5-9732-938c9b53680d.png",alt:"Eco-platform Logo",className:"w-full h-full"}):n==="EcoInvent"?l.jsx(Te,{src:"/lovable-uploads/95586b3d-873f-4be8-a627-63fce61a19fd.png",alt:"EcoInvent Logo",className:"w-full h-full"}):l.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center",children:l.jsx("div",{className:"w-8 h-8 bg-primary rounded"})})}),l.jsx("span",{className:"text-sm text-center",children:n})]},r))})})]})]})}),l.jsx("section",{className:"py-20 px-4 bg-background",children:l.jsx("div",{className:"container mx-auto",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[l.jsx("div",{className:"flex justify-center",children:l.jsx("img",{src:"/lovable-uploads/aa4e0a75-7d42-444e-8f29-bd985c64a491.png",alt:"Expert",className:"w-full max-w-lg h-auto object-cover rounded-lg"})}),l.jsxs("div",{className:"space-y-8 py-4",children:[l.jsxs("h2",{className:"text-3xl md:text-4xl font-bold leading-tight",children:["Une base de données",l.jsx("br",{}),"structurée et enrichie par nos",l.jsx("br",{}),"experts"]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold mb-2",children:"Des bases de données nettoyées et structurées"}),l.jsx("p",{className:"text-base font-light leading-relaxed",children:"Nos experts nettoient et restructurent l'ensemble des bases de données intégrées afin de disposer d'un format unique de données."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold mb-2",children:"Enrichissement des bases de données"}),l.jsx("p",{className:"text-base font-light leading-relaxed",children:"Vérification des facteurs par poste d'émissions, correction des effets de l'inflation, traduction des métadonnées..."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold mb-2",children:"Versionnage"}),l.jsx("p",{className:"text-base font-light leading-relaxed",children:"Profitez d'un versionnage d'un maintien en temps réel de la base au gré des mises à jour des différentes sources de données."})]})]})]})]})})}),l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"container mx-auto",children:[l.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Un prix qui s'adapte",l.jsx("br",{}),"à vos besoins"]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[l.jsxs(ge,{className:"p-8 border border-border",children:[l.jsxs(Se,{className:"pb-4",children:[l.jsx(je,{className:"text-xl font-semibold",children:"STANDARD"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"À partir de"}),l.jsxs("div",{className:"text-4xl font-bold text-foreground",children:["850€",l.jsx("span",{className:"text-lg font-normal",children:"/an"})]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Profitez des datasets standards et du moteur de recherche"})]}),l.jsxs(ve,{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(zt,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Accès au moteur de recherche"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(zt,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Datasets standards (165k FE)"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(zt,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Mises à jour hebdomadaires"})]}),l.jsx(Z,{className:"w-full mt-6",children:"En savoir plus"})]})]}),l.jsxs(ge,{className:"p-8 relative border border-border",children:[l.jsxs(Se,{className:"pb-4",children:[l.jsx(je,{className:"text-xl font-semibold",children:"PREMIUM"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"À partir de"}),l.jsxs("div",{className:"text-4xl font-bold text-foreground",children:["3000€",l.jsx("span",{className:"text-lg font-normal",children:"/an"})]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Profitez des bases standards et premium et des fonctionnalités d'exports de données"})]}),l.jsxs(ve,{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(zt,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Accès au moteur de recherche"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(zt,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Datasets standards (165k FE)"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(zt,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Datasets premium (90K FE)"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(zt,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Mises à jour hebdomadaires"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(zt,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Gestion des favoris"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(zt,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Export des données"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(zt,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm",children:"Assistance de nos experts"})]}),l.jsx(Z,{className:"w-full mt-6",children:"En savoir plus"})]})]})]})]})}),l.jsx("section",{className:"py-20 px-4 bg-primary",children:l.jsx("div",{className:"container mx-auto text-center",children:l.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[l.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-primary-foreground",children:"Prêt à explorer nos facteurs d'émission ?"}),l.jsx("p",{className:"text-primary-foreground text-lg",children:"Accédez dès maintenant au moteur de recherche le plus puissant du marché"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(wt,{to:"/signup",children:l.jsx(Z,{variant:"hero",className:"w-full sm:w-auto",children:"Tester le moteur de recherche"})}),l.jsx(wt,{to:"/login",children:l.jsx(Z,{variant:"outline",className:"border-primary-foreground px-8 py-3 rounded-md font-semibold font-montserrat w-full sm:w-auto hover:bg-primary-foreground/10 text-primary-foreground",children:"Se connecter"})})]})]})})}),l.jsx("footer",{className:"bg-primary text-primary-foreground py-16",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex flex-col items-center text-center space-y-8",children:[l.jsx("img",{src:"/lovable-uploads/c8972ef9-8dcc-4223-95de-2f4927d40419.png",alt:"DataCarb",className:"h-12"}),l.jsx("p",{className:"text-primary-foreground/80 max-w-md",children:"Le moteur de recherche de facteurs d'émission le plus puissant du marché."}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx(Z,{variant:"ghost",size:"sm",className:"p-2 text-primary-foreground/80 hover:text-primary-foreground hover:bg-primary-foreground/10",children:l.jsx(EM,{className:"h-4 w-4"})}),l.jsx(Z,{variant:"ghost",size:"sm",className:"p-2 text-primary-foreground/80 hover:text-primary-foreground hover:bg-primary-foreground/10",children:l.jsx(rb,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 w-full pt-8 border-t border-primary-foreground/20",children:[l.jsx("div",{className:"text-primary-foreground/80 text-sm",children:"© 2025 DataCarb. Tous droits réservés."}),l.jsxs("div",{className:"flex space-x-6 text-sm text-primary-foreground/80",children:[l.jsx(wt,{to:"/privacy",className:"hover:text-primary-foreground transition-colors",children:"Politique de confidentialité"}),l.jsx(wt,{to:"/terms",className:"hover:text-primary-foreground transition-colors",children:"Conditions d'utilisation"}),l.jsx(wt,{to:"/cookies",className:"hover:text-primary-foreground transition-colors",children:"Cookies"})]})]})]})})})]})},Ot=y.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Ot.displayName="Input";var P6="Label",YR=y.forwardRef((e,t)=>l.jsx(ye.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));YR.displayName=P6;var JR=YR;const R6=Zu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),jt=y.forwardRef(({className:e,...t},n)=>l.jsx(JR,{ref:n,className:se(R6(),e),...t}));jt.displayName=JR.displayName;const XR=({provider:e,onClick:t,loading:n=!1,disabled:r=!1,children:i,icon:s,className:a=""})=>{const o={google:"border-red-200 hover:border-red-300 hover:bg-red-50 text-gray-700"};return l.jsxs(Z,{type:"button",variant:"outline",onClick:t,disabled:r||n,className:`w-full transition-smooth ${o[e]} ${a}`,children:[n?l.jsx(Pa,{className:"w-4 h-4 mr-2 animate-spin"}):l.jsx("span",{className:"mr-2",children:s}),i]})},ZR=y.createContext(void 0),eN=()=>{const e=y.useContext(ZR);if(!e)throw new Error("useSSO must be used within an SSOProvider");return e},tN=({children:e})=>{const[t,n]=y.useState({loading:{google:!1},lastError:null}),r=(a,o)=>{n(c=>({...c,loading:{...c.loading,[a]:o}}))},i=a=>{n(o=>({...o,lastError:a}))},s=()=>{i(null)};return l.jsx(ZR.Provider,{value:{ssoState:t,setProviderLoading:r,setLastError:i,clearError:s},children:e})},N6=()=>{const[e,t]=y.useState(""),[n,r]=y.useState(""),[i,s]=y.useState(!1),[a,o]=y.useState(!1),{toast:c}=Dt(),{signIn:u,signInWithGoogle:d}=pt(),{ssoState:f,setProviderLoading:h,setLastError:p}=eN(),g=Bs();y.useEffect(()=>{(async()=>{if(new URLSearchParams(g.search).get("trial_expired")==="true"){o(!0);return}try{const{data:{session:b}}=await Q.auth.getSession();if(b!=null&&b.user){const{data:S}=await Q.from("users").select("workspace_id").eq("user_id",b.user.id).single();if(S){const{data:j}=await Q.from("workspaces").select("plan_type").eq("id",S.workspace_id).single();if((j==null?void 0:j.plan_type)==="freemium"){const{data:_}=await Q.from("workspace_trials").select("expires_at").eq("workspace_id",S.workspace_id).single();_&&new Date(_.expires_at)<=new Date&&(o(!0),await Q.auth.signOut())}}}}catch(b){console.error("Error checking trial status:",b)}})()},[g]);const m=async v=>{v.preventDefault(),s(!0),p(null);try{const x=await u(e,n);x.error&&(c({variant:"destructive",title:"Erreur lors de la connexion",description:x.error.message}),p(x.error.message))}catch{c({variant:"destructive",title:"Erreur lors de la connexion",description:"Une erreur inattendue s'est produite"}),p("Une erreur inattendue s'est produite")}finally{s(!1)}},w=async v=>{h(v,!0),p(null);try{const x=await d();x.error&&(c({variant:"destructive",title:"Erreur lors de la connexion avec Google",description:x.error.message}),p(x.error.message))}catch{c({variant:"destructive",title:"Erreur lors de la connexion avec Google",description:"Une erreur inattendue s'est produite"}),p("Une erreur inattendue s'est produite")}finally{h(v,!1)}};return l.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(wt,{to:"/",className:"inline-flex items-center text-primary-foreground hover:opacity-80 transition-colors",children:[l.jsx(Zx,{className:"w-4 h-4 mr-2"}),"Retour à l'accueil"]})}),l.jsxs(ge,{children:[l.jsxs(Se,{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:l.jsx("img",{src:"/lovable-uploads/8c10071b-a5e9-495c-ac9b-f3cf48b467a1.png",alt:"DataCarb",className:"w-full h-full object-contain"})}),l.jsx(je,{className:"text-2xl",children:"Se connecter"}),l.jsx(xt,{children:"Connectez-vous à votre compte DataCarb"})]}),l.jsxs(ve,{children:[a&&l.jsxs(hn,{variant:"destructive",className:"mb-6",children:[l.jsx(xr,{className:"h-4 w-4"}),l.jsx(pn,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"font-medium",children:"Votre plan freemium est terminé."}),l.jsx("p",{children:"Merci de contacter notre équipe commerciale afin de souscrire à un plan payant."})]})})]}),l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{htmlFor:"email",children:"Email"}),l.jsx(Ot,{id:"email",type:"email",value:e,onChange:v=>t(v.target.value),required:!0,placeholder:"votre@email.com"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{htmlFor:"password",children:"Mot de passe"}),l.jsx(Ot,{id:"password",type:"password",value:n,onChange:v=>r(v.target.value),required:!0,placeholder:"Votre mot de passe"})]}),l.jsx(Z,{type:"submit",className:"w-full",disabled:i,children:i?l.jsxs(l.Fragment,{children:[l.jsx(Pa,{className:"w-4 h-4 mr-2 animate-spin"}),"Connexion..."]}):"Se connecter"})]}),l.jsx("div",{className:"my-6 text-center text-sm text-gray-500",children:l.jsx("span",{children:"ou"})}),l.jsx(XR,{provider:"google",onClick:()=>w("google"),loading:f.loading.google,disabled:i||f.loading.google,icon:l.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),children:"Se connecter avec Google"}),f.lastError&&l.jsxs(hn,{variant:"destructive",className:"mt-4",children:[l.jsx(xr,{className:"h-4 w-4"}),l.jsx(pn,{children:f.lastError})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Pas encore de compte ?"," ",l.jsx(wt,{to:"/signup",className:"text-blue-600 hover:underline",children:"S'inscrire"})]})})]})]})]})})},T6=()=>l.jsx(tN,{children:l.jsx(N6,{})}),A6=()=>{const[e,t]=y.useState(""),[n,r]=y.useState(""),[i,s]=y.useState(""),[a,o]=y.useState(""),[c,u]=y.useState(""),[d,f]=y.useState(""),[h,p]=y.useState(!1),{toast:g}=Dt(),{signUp:m,signInWithGoogle:w}=pt(),{ssoState:v,setProviderLoading:x,setLastError:b}=eN(),S=async _=>{if(_.preventDefault(),n!==i){g({variant:"destructive",title:"Erreur",description:"Les mots de passe ne correspondent pas"});return}if(n.length<6){g({variant:"destructive",title:"Erreur",description:"Le mot de passe doit contenir au moins 6 caractères"});return}p(!0),b(null);try{const P=await m(e,n,{firstName:a,lastName:c,company:d||"Mon Entreprise"});P.error?(g({variant:"destructive",title:"Erreur lors de l'inscription",description:P.error.message}),b(P.error.message)):(g({title:"Inscription réussie",description:"Un email de confirmation a été envoyé. Vérifiez votre boîte mail."}),setTimeout(()=>{window.location.href="/login"},2e3))}catch{g({variant:"destructive",title:"Erreur lors de l'inscription",description:"Une erreur inattendue s'est produite"}),b("Une erreur inattendue s'est produite")}finally{p(!1)}},j=async _=>{x(_,!0),b(null);try{const P=await w();P.error&&(g({variant:"destructive",title:"Erreur lors de l'inscription avec Google",description:P.error.message}),b(P.error.message))}catch{g({variant:"destructive",title:"Erreur lors de l'inscription avec Google",description:"Une erreur inattendue s'est produite"}),b("Une erreur inattendue s'est produite")}finally{x(_,!1)}};return l.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(wt,{to:"/",className:"inline-flex items-center text-primary-foreground hover:opacity-80 transition-colors",children:[l.jsx(Zx,{className:"w-4 h-4 mr-2"}),"Retour à l'accueil"]})}),l.jsxs(ge,{children:[l.jsxs(Se,{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:l.jsx("img",{src:"/lovable-uploads/8c10071b-a5e9-495c-ac9b-f3cf48b467a1.png",alt:"DataCarb",className:"w-full h-full object-contain"})}),l.jsx(je,{className:"text-2xl",children:"Créer un compte"}),l.jsx(xt,{children:"Rejoignez DataCarb et accédez à notre base de données complète"})]}),l.jsxs(ve,{children:[l.jsxs("form",{onSubmit:S,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{htmlFor:"firstName",children:"Prénom"}),l.jsx(Ot,{id:"firstName",type:"text",value:a,onChange:_=>o(_.target.value),required:!0,placeholder:"Votre prénom"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{htmlFor:"lastName",children:"Nom"}),l.jsx(Ot,{id:"lastName",type:"text",value:c,onChange:_=>u(_.target.value),required:!0,placeholder:"Votre nom"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{htmlFor:"company",children:"Nom de l'entreprise"}),l.jsx(Ot,{id:"company",type:"text",value:d,onChange:_=>f(_.target.value),required:!0,placeholder:"Nom de votre entreprise"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{htmlFor:"email",children:"Email"}),l.jsx(Ot,{id:"email",type:"email",value:e,onChange:_=>t(_.target.value),required:!0,placeholder:"votre@email.com"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{htmlFor:"password",children:"Mot de passe"}),l.jsx(Ot,{id:"password",type:"password",value:n,onChange:_=>r(_.target.value),required:!0,placeholder:"Au moins 6 caractères"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),l.jsx(Ot,{id:"confirmPassword",type:"password",value:i,onChange:_=>s(_.target.value),required:!0,placeholder:"Confirmez votre mot de passe"})]}),l.jsx(Z,{type:"submit",className:"w-full",disabled:h,children:h?l.jsxs(l.Fragment,{children:[l.jsx(Pa,{className:"w-4 h-4 mr-2 animate-spin"}),"Création en cours..."]}):"Créer un compte"})]}),l.jsx("div",{className:"my-6 text-center text-sm text-gray-500",children:l.jsx("span",{children:"ou"})}),l.jsx(XR,{provider:"google",onClick:()=>j("google"),loading:v.loading.google,disabled:h||v.loading.google,icon:l.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),children:"S'inscrire avec Google"}),v.lastError&&l.jsxs(hn,{variant:"destructive",className:"mt-4",children:[l.jsx(xr,{className:"h-4 w-4"}),l.jsx(pn,{children:v.lastError})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["Vous avez déjà un compte ?"," ",l.jsx(wt,{to:"/login",className:"text-blue-600 hover:underline",children:"Se connecter"})]})})]})]})]})})},O6=()=>l.jsx(tN,{children:l.jsx(A6,{})});function gr({className:e,...t}){return l.jsx("div",{className:se("animate-pulse rounded-md bg-muted",e),...t})}const I6=()=>{const[e]=U5(),t=$a(),{toast:n}=Dt(),[r,i]=y.useState(!0),[s,a]=y.useState(null);y.useEffect(()=>{(async()=>{var u;try{const{data:d,error:f}=await Q.auth.getSession();if(f)throw new Error(`Erreur d'authentification: ${f.message}`);const h=e.get("type"),p=e.get("workspaceId"),g=e.get("role");if((u=d.session)!=null&&u.user)console.log("Utilisateur authentifié:",d.session.user.email),h==="invite"&&p&&g?await o(d.session.user,p,g):t("/search");else throw new Error("Aucune session utilisateur trouvée")}catch(d){console.error("Erreur lors du callback auth:",d),a(d.message||"Erreur lors de l'authentification")}finally{i(!1)}})()},[e,t]);const o=async(c,u,d)=>{var f,h;try{const{data:p}=await Q.from("users").select("*").eq("user_id",c.id).eq("workspace_id",u).single();if(p){n({title:"Déjà membre",description:"Vous êtes déjà membre de ce workspace"}),t("/search");return}const{data:g}=await Q.from("workspaces").select("name").eq("id",u).single(),m=(g==null?void 0:g.name)||"Workspace",{error:w}=await Q.from("users").insert({user_id:c.id,workspace_id:u,first_name:((f=c.user_metadata)==null?void 0:f.first_name)||"",last_name:((h=c.user_metadata)==null?void 0:h.last_name)||"",company:m,email:c.email,plan_type:"freemium",subscribed:!1,assigned_by:c.id});if(w)throw w;const{error:v}=await Q.from("user_roles").insert({user_id:c.id,workspace_id:u,role:d,assigned_by:c.id,is_supra_admin:!1});if(v)throw v;const{error:x}=await Q.from("search_quotas").insert({user_id:c.id,exports_limit:10,clipboard_copies_limit:10,favorites_limit:10});x&&console.warn("Erreur quotas (non critique):",x),n({title:"Bienvenue !",description:`Vous avez rejoint le workspace "${m}" avec succès`}),t("/search")}catch(p){console.error("Erreur lors de l'ajout au workspace:",p),n({variant:"destructive",title:"Erreur",description:"Impossible de rejoindre le workspace"}),t("/search")}};return r?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:l.jsxs(ge,{className:"w-full max-w-md",children:[l.jsxs(Se,{className:"text-center",children:[l.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:l.jsx(Ra,{className:"h-6 w-6 text-primary animate-spin"})}),l.jsx(je,{children:"Authentification en cours..."})]}),l.jsxs(ve,{className:"space-y-4",children:[l.jsx(gr,{className:"h-4 w-full"}),l.jsx(gr,{className:"h-4 w-3/4"})]})]})}):s?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:l.jsxs(ge,{className:"w-full max-w-md",children:[l.jsxs(Se,{className:"text-center",children:[l.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-destructive/10 flex items-center justify-center",children:l.jsx(yM,{className:"h-6 w-6 text-destructive"})}),l.jsx(je,{className:"text-destructive",children:"Erreur d'authentification"})]}),l.jsx(ve,{children:l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:s})})]})}):l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:l.jsxs(ge,{className:"w-full max-w-md",children:[l.jsxs(Se,{className:"text-center",children:[l.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:l.jsx(zt,{className:"h-6 w-6 text-green-600"})}),l.jsx(je,{children:"Authentification réussie"})]}),l.jsx(ve,{children:l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Redirection en cours..."})})]})})},dy="7.16.2";function mn(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var Ob=mn;mn.prototype._events=void 0;mn.prototype._maxListeners=void 0;mn.defaultMaxListeners=10;mn.prototype.setMaxListeners=function(e){if(!D6(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this};mn.prototype.emit=function(e){var t,n,r,i,s,a;if(this._events||(this._events={}),e==="error"&&(!this._events.error||du(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var o=new Error('Uncaught, unspecified "error" event. ('+t+")");throw o.context=t,o}if(n=this._events[e],nN(n))return!1;if(zi(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(du(n))for(i=Array.prototype.slice.call(arguments,1),a=n.slice(),r=a.length,s=0;s<r;s++)a[s].apply(this,i);return!0};mn.prototype.addListener=function(e,t){var n;if(!zi(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,zi(t.listener)?t.listener:t),this._events[e]?du(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,du(this._events[e])&&!this._events[e].warned&&(nN(this._maxListeners)?n=mn.defaultMaxListeners:n=this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),typeof console.trace=="function"&&console.trace())),this};mn.prototype.on=mn.prototype.addListener;mn.prototype.once=function(e,t){if(!zi(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this};mn.prototype.removeListener=function(e,t){var n,r,i,s;if(!zi(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||zi(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(du(n)){for(s=i;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;n.length===1?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this};mn.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[e]&&delete this._events[e],this;if(arguments.length===0){for(t in this._events)t!=="removeListener"&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],zi(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this};mn.prototype.listeners=function(e){var t;return!this._events||!this._events[e]?t=[]:zi(this._events[e])?t=[this._events[e]]:t=this._events[e].slice(),t};mn.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(zi(t))return 1;if(t)return t.length}return 0};mn.listenerCount=function(e,t){return e.listenerCount(t)};function zi(e){return typeof e=="function"}function D6(e){return typeof e=="number"}function du(e){return typeof e=="object"&&e!==null}function nN(e){return e===void 0}const F6=Da(Ob);function L6(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}var rN=L6,M6=Ob,$6=rN;function od(e,t,n){this.main=e,this.fn=t,this.recommendFn=n,this.lastResults=null,this.lastRecommendResults=null}$6(od,M6);od.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)};od.prototype.getModifiedState=function(e){return this.fn(e)};od.prototype.getModifiedRecommendState=function(e){return this.recommendFn(e)};var U6=od;function z6(e){return typeof e!="string"?e:String(e).replace(/^-/,"\\-")}function H6(e){return typeof e!="string"?e:e.replace(/^\\-/,"-")}var Ib={escapeFacetValue:z6,unescapeFacetValue:H6};function B6(e){return typeof e=="object"&&e!==null?Db(Array.isArray(e)?[]:{},e):e}function Eh(e){return typeof e=="function"||Array.isArray(e)||Object.prototype.toString.call(e)==="[object Object]"}function Db(e,t){if(e===t)return e;for(var n in t)if(!(!Object.prototype.hasOwnProperty.call(t,n)||n==="__proto__"||n==="constructor")){var r=t[n],i=e[n];typeof i<"u"&&typeof r>"u"||(Eh(i)&&Eh(r)?e[n]=Db(i,r):e[n]=B6(r))}return e}function q6(e){Eh(e)||(e={});for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];Eh(r)&&Db(e,r)}return e}var Fb=q6;function W6(e){return e&&Object.keys(e).length>0}var Lb=W6;function V6(e,t){if(e===null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Mb=V6;function fc(e){e=e||{},this.params=e.params||[]}fc.prototype={constructor:fc,addParams:function(e){var t=this.params.slice();return t.push(e),new fc({params:t})},removeParams:function(e){return new fc({params:this.params.filter(function(t){return t.$$id!==e})})},addFrequentlyBoughtTogether:function(e){return this.addParams(Object.assign({},e,{model:"bought-together"}))},addRelatedProducts:function(e){return this.addParams(Object.assign({},e,{model:"related-products"}))},addTrendingItems:function(e){return this.addParams(Object.assign({},e,{model:"trending-items"}))},addTrendingFacets:function(e){return this.addParams(Object.assign({},e,{model:"trending-facets"}))},addLookingSimilar:function(e){return this.addParams(Object.assign({},e,{model:"looking-similar"}))},_buildQueries:function(e,t){return this.params.filter(function(n){return t[n.$$id]===void 0}).map(function(n){var r=Object.assign({},n,{indexName:e,threshold:n.threshold||0});return delete r.$$id,r})}};var iN=fc;function fy(e,t){this._state=e,this._rawResults={};var n=this;e.params.forEach(function(r){var i=r.$$id;n[i]=t[i],n._rawResults[i]=t[i]})}fy.prototype={constructor:fy};var sN=fy,Jd=Fb;function Xd(e){return Object.keys(e).sort().reduce(function(t,n){return t[n]=e[n],t},{})}var Mt={_getQueries:function(t,n){var r=[];return r.push({indexName:t,params:Mt._getHitsSearchParams(n)}),n.getRefinedDisjunctiveFacets().forEach(function(i){r.push({indexName:t,params:Mt._getDisjunctiveFacetSearchParams(n,i)})}),n.getRefinedHierarchicalFacets().forEach(function(i){var s=n.getHierarchicalFacetByName(i),a=n.getHierarchicalRefinement(i),o=n._getHierarchicalFacetSeparator(s);if(a.length>0&&a[0].split(o).length>1){var c=a[0].split(o).slice(0,-1).reduce(function(d,f,h){return d.concat({attribute:s.attributes[h],value:h===0?f:[d[d.length-1].value,f].join(o)})},[]);c.forEach(function(u,d){var f=Mt._getDisjunctiveFacetSearchParams(n,u.attribute,d===0);function h(m){return s.attributes.some(function(w){return w===m.split(":")[0]})}var p=(f.facetFilters||[]).reduce(function(m,w){if(Array.isArray(w)){var v=w.filter(function(x){return!h(x)});v.length>0&&m.push(v)}return typeof w=="string"&&!h(w)&&m.push(w),m},[]),g=c[d-1];d>0?f.facetFilters=p.concat(g.attribute+":"+g.value):p.length>0?f.facetFilters=p:delete f.facetFilters,r.push({indexName:t,params:f})})}}),r},_getCompositionQueries:function(t){return[{compositionID:t.index,requestBody:{params:Mt._getCompositionHitsSearchParams(t)}}]},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(Mt._getHitsHierarchicalFacetsAttributes(e)).sort(),n=Mt._getFacetFilters(e),r=Mt._getNumericFilters(e),i=Mt._getTagFilters(e),s={};return t.length>0&&(s.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(s.tagFilters=i),n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r),Xd(Jd({},e.getQueryParams(),s))},_getCompositionHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets.map(function(o){return e.disjunctiveFacetsRefinements&&e.disjunctiveFacetsRefinements[o]&&e.disjunctiveFacetsRefinements[o].length>0?"disjunctive("+o+")":o})).concat(Mt._getHitsHierarchicalFacetsAttributes(e)).sort(),n=Mt._getFacetFilters(e),r=Mt._getNumericFilters(e),i=Mt._getTagFilters(e),s={};t.length>0&&(s.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(s.tagFilters=i),n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r);var a=e.getQueryParams();return delete a.highlightPreTag,delete a.highlightPostTag,delete a.index,Xd(Jd({},a,s))},_getDisjunctiveFacetSearchParams:function(e,t,n){var r=Mt._getFacetFilters(e,t,n),i=Mt._getNumericFilters(e,t),s=Mt._getTagFilters(e),a={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};s.length>0&&(a.tagFilters=s);var o=e.getHierarchicalFacetByName(t);return o?a.facets=Mt._getDisjunctiveHierarchicalFacetAttribute(e,o,n):a.facets=t,i.length>0&&(a.numericFilters=i),r.length>0&&(a.facetFilters=r),Xd(Jd({},e.getQueryParams(),a))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r]||{};Object.keys(i).forEach(function(s){var a=i[s]||[];t!==r&&a.forEach(function(o){if(Array.isArray(o)){var c=o.map(function(u){return r+s+u});n.push(c)}else n.push(r+s+o)})})}),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[],i=e.facetsRefinements||{};Object.keys(i).sort().forEach(function(c){var u=i[c]||[];u.slice().sort().forEach(function(d){r.push(c+":"+d)})});var s=e.facetsExcludes||{};Object.keys(s).sort().forEach(function(c){var u=s[c]||[];u.sort().forEach(function(d){r.push(c+":-"+d)})});var a=e.disjunctiveFacetsRefinements||{};Object.keys(a).sort().forEach(function(c){var u=a[c]||[];if(!(c===t||!u||u.length===0)){var d=[];u.slice().sort().forEach(function(f){d.push(c+":"+f)}),r.push(d)}});var o=e.hierarchicalFacetsRefinements||{};return Object.keys(o).sort().forEach(function(c){var u=o[c]||[],d=u[0];if(d!==void 0){var f=e.getHierarchicalFacetByName(c),h=e._getHierarchicalFacetSeparator(f),p=e._getHierarchicalRootPath(f),g,m;if(t===c){if(d.indexOf(h)===-1||!p&&n===!0||p&&p.split(h).length===d.split(h).length)return;p?(m=p.split(h).length-1,d=p):(m=d.split(h).length-2,d=d.slice(0,d.lastIndexOf(h))),g=f.attributes[m]}else m=d.split(h).length-1,g=f.attributes[m];g&&r.push([g+":"+d])}}),r},_getHitsHierarchicalFacetsAttributes:function(e){var t=[];return e.hierarchicalFacets.reduce(function(r,i){var s=e.getHierarchicalRefinement(i.name)[0];if(!s)return r.push(i.attributes[0]),r;var a=e._getHierarchicalFacetSeparator(i),o=s.split(a).length,c=i.attributes.slice(0,o+1);return r.concat(c)},t)},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(n===!0){var i=e._getHierarchicalRootPath(t),s=0;return i&&(s=i.split(r).length),[t.attributes[s]]}var a=e.getHierarchicalRefinement(t.name)[0]||"",o=a.split(r).length-1;return t.attributes.slice(0,o+1)},getSearchForFacetQuery:function(e,t,n,r){var i=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,s={facetQuery:t,facetName:e};return typeof n=="number"&&(s.maxFacetHits=n),Xd(Jd({},Mt._getHitsSearchParams(i),s))}},Q6=Mt,$b=function(){var t=Array.prototype.slice.call(arguments);return t.reduceRight(function(n,r){return Object.keys(Object(r)).forEach(function(i){r[i]!==void 0&&(n[i]!==void 0&&delete n[i],n[i]=r[i])}),n},{})},ld=function(t,n){if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(n(t[r]))return t[r]}};function K6(e,t){return e.filter(function(n,r){return t.indexOf(n)>-1&&e.indexOf(n)===r})}var G6=K6;function aN(e){if(typeof e=="number")return e;if(typeof e=="string")return parseFloat(e);if(Array.isArray(e))return e.map(aN);throw new Error("The value should be a number, a parsable string or an array of those.")}var Y6=aN,J6=function(t){return t===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(t)},X6=$b,Z6=Lb,eH=Mb,oa={addRefinement:function(t,n,r){if(oa.isRefined(t,n,r))return t;var i=""+r,s=t[n]?t[n].concat(i):[i],a={};return a[n]=s,X6(a,t)},removeRefinement:function(t,n,r){if(r===void 0)return oa.clearRefinement(t,function(s,a){return n===a});var i=""+r;return oa.clearRefinement(t,function(s,a){return n===a&&i===s})},toggleRefinement:function(t,n,r){if(r===void 0)throw new Error("toggleRefinement should be used with a value");return oa.isRefined(t,n,r)?oa.removeRefinement(t,n,r):oa.addRefinement(t,n,r)},clearRefinement:function(t,n,r){if(n===void 0)return Z6(t)?{}:t;if(typeof n=="string")return eH(t,[n]);if(typeof n=="function"){var i=!1,s=Object.keys(t).reduce(function(a,o){var c=t[o]||[],u=c.filter(function(d){return!n(d,o,r)});return u.length!==c.length&&(i=!0),a[o]=u,a},{});return i?s:t}},isRefined:function(t,n,r){var i=!!t[n]&&t[n].length>0;if(r===void 0||!i)return i;var s=""+r;return t[n].indexOf(s)!==-1}},tH=oa,Ym=$b,oN=ld,_1=G6,hy=Fb,py=Lb,E1=Mb,Jm=Y6,nH=J6,gt=tH;function Ub(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(n,r){return Ub(t[r],n)}):e===t}function rH(e,t){return oN(e,function(n){return Ub(n,t)})}function Un(e){var t=e?Un._parseNumbers(e):{};t.userToken!==void 0&&!nH(t.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var n=this;Object.keys(t).forEach(function(r){var i=Un.PARAMETERS.indexOf(r)!==-1,s=t[r]!==void 0;!i&&s&&(n[r]=t[r])})}Un.PARAMETERS=Object.keys(new Un);Un._parseNumbers=function(e){if(e instanceof Un)return e;var t={},n=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(n.forEach(function(i){var s=e[i];if(typeof s=="string"){var a=parseFloat(s);t[i]=isNaN(a)?s:a}}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(i){return Array.isArray(i)?i.map(function(s){return parseFloat(s)}):i})),e.numericRefinements){var r={};Object.keys(e.numericRefinements).forEach(function(i){var s=e.numericRefinements[i]||{};r[i]={},Object.keys(s).forEach(function(a){var o=s[a],c=o.map(function(u){return Array.isArray(u)?u.map(function(d){return typeof d=="string"?parseFloat(d):d}):typeof u=="string"?parseFloat(u):u});r[i][a]=c})}),t.numericRefinements=r}return hy(e,t)};Un.make=function(t){var n=new Un(t),r=t.hierarchicalFacets||[];return r.forEach(function(i){if(i.rootPath){var s=n.getHierarchicalRefinement(i.name);s.length>0&&s[0].indexOf(i.rootPath)!==0&&(n=n.clearRefinements(i.name)),s=n.getHierarchicalRefinement(i.name),s.length===0&&(n=n.toggleHierarchicalFacetRefinement(i.name,i.rootPath))}}),n};Un.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&py(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):py(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null};Un.prototype={constructor:Un,clearRefinements:function(t){var n={numericRefinements:this._clearNumericRefinements(t),facetsRefinements:gt.clearRefinement(this.facetsRefinements,t,"conjunctiveFacet"),facetsExcludes:gt.clearRefinement(this.facetsExcludes,t,"exclude"),disjunctiveFacetsRefinements:gt.clearRefinement(this.disjunctiveFacetsRefinements,t,"disjunctiveFacet"),hierarchicalFacetsRefinements:gt.clearRefinement(this.hierarchicalFacetsRefinements,t,"hierarchicalFacet")};return n.numericRefinements===this.numericRefinements&&n.facetsRefinements===this.facetsRefinements&&n.facetsExcludes===this.facetsExcludes&&n.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&n.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(n)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(t){return t===this.index?this:this.setQueryParameters({index:t})},setQuery:function(t){return t===this.query?this:this.setQueryParameters({query:t})},setPage:function(t){return t===this.page?this:this.setQueryParameters({page:t})},setFacets:function(t){return this.setQueryParameters({facets:t})},setDisjunctiveFacets:function(t){return this.setQueryParameters({disjunctiveFacets:t})},setHitsPerPage:function(t){return this.hitsPerPage===t?this:this.setQueryParameters({hitsPerPage:t})},setTypoTolerance:function(t){return this.typoTolerance===t?this:this.setQueryParameters({typoTolerance:t})},addNumericRefinement:function(e,t,n){var r=Jm(n);if(this.isNumericRefined(e,t,r))return this;var i=hy({},this.numericRefinements);return i[e]=hy({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(r)):i[e][t]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsRefinements[e]||[]:[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)?this.disjunctiveFacetsRefinements[e]||[]:[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsExcludes[e]||[]:[]},removeNumericRefinement:function(e,t,n){var r=n;return r!==void 0?this.isNumericRefined(e,t,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e&&i.op===t&&Ub(i.val,Jm(r))})}):this:t!==void 0?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e&&i.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(t){if(t===void 0)return py(this.numericRefinements)?{}:this.numericRefinements;if(typeof t=="string")return E1(this.numericRefinements,[t]);if(typeof t=="function"){var n=!1,r=this.numericRefinements,i=Object.keys(r).reduce(function(s,a){var o=r[a],c={};return o=o||{},Object.keys(o).forEach(function(u){var d=o[u]||[],f=[];d.forEach(function(h){var p=t({val:h,op:u},a,"numeric");p||f.push(h)}),f.length!==d.length&&(n=!0),c[u]=f}),s[a]=c,s},{});return n?i:this.numericRefinements}},addFacet:function(t){return this.isConjunctiveFacet(t)?this:this.setQueryParameters({facets:this.facets.concat([t])})},addDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([t])})},addHierarchicalFacet:function(t){if(this.isHierarchicalFacet(t.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+t.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([t])})},addFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return gt.isRefined(this.facetsRefinements,t,n)?this:this.setQueryParameters({facetsRefinements:gt.addRefinement(this.facetsRefinements,t,n)})},addExcludeRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return gt.isRefined(this.facetsExcludes,t,n)?this:this.setQueryParameters({facetsExcludes:gt.addRefinement(this.facetsExcludes,t,n)})},addDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return gt.isRefined(this.disjunctiveFacetsRefinements,t,n)?this:this.setQueryParameters({disjunctiveFacetsRefinements:gt.addRefinement(this.disjunctiveFacetsRefinements,t,n)})},addTagRefinement:function(t){if(this.isTagRefined(t))return this;var n={tagRefinements:this.tagRefinements.concat(t)};return this.setQueryParameters(n)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:this.facets.filter(function(n){return n!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(n){return n!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(n){return n.name!==t})}):this},removeFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return gt.isRefined(this.facetsRefinements,t,n)?this.setQueryParameters({facetsRefinements:gt.removeRefinement(this.facetsRefinements,t,n)}):this},removeExcludeRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return gt.isRefined(this.facetsExcludes,t,n)?this.setQueryParameters({facetsExcludes:gt.removeRefinement(this.facetsExcludes,t,n)}):this},removeDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return gt.isRefined(this.disjunctiveFacetsRefinements,t,n)?this.setQueryParameters({disjunctiveFacetsRefinements:gt.removeRefinement(this.disjunctiveFacetsRefinements,t,n)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var n={tagRefinements:this.tagRefinements.filter(function(r){return r!==t})};return this.setQueryParameters(n)},toggleRefinement:function(t,n){return this.toggleFacetRefinement(t,n)},toggleFacetRefinement:function(t,n){if(this.isHierarchicalFacet(t))return this.toggleHierarchicalFacetRefinement(t,n);if(this.isConjunctiveFacet(t))return this.toggleConjunctiveFacetRefinement(t,n);if(this.isDisjunctiveFacet(t))return this.toggleDisjunctiveFacetRefinement(t,n);throw new Error("Cannot refine the undeclared facet "+t+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:gt.toggleRefinement(this.facetsRefinements,t,n)})},toggleExcludeFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:gt.toggleRefinement(this.facetsExcludes,t,n)})},toggleDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:gt.toggleRefinement(this.disjunctiveFacetsRefinements,t,n)})},toggleHierarchicalFacetRefinement:function(t,n){if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t)),i={},s=this.hierarchicalFacetsRefinements[t]!==void 0&&this.hierarchicalFacetsRefinements[t].length>0&&(this.hierarchicalFacetsRefinements[t][0]===n||this.hierarchicalFacetsRefinements[t][0].indexOf(n+r)===0);return s?n.indexOf(r)===-1?i[t]=[]:i[t]=[n.slice(0,n.lastIndexOf(r))]:i[t]=[n],this.setQueryParameters({hierarchicalFacetsRefinements:Ym(i,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:Ym(n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:Ym(t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(t){return this.isTagRefined(t)?this.removeTagRefinement(t):this.addTagRefinement(t)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return this.getHierarchicalFacetByName(e)!==void 0},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(t,n){return this.isConjunctiveFacet(t)?gt.isRefined(this.facetsRefinements,t,n):!1},isExcludeRefined:function(t,n){return this.isConjunctiveFacet(t)?gt.isRefined(this.facetsExcludes,t,n):!1},isDisjunctiveFacetRefined:function(t,n){return this.isDisjunctiveFacet(t)?gt.isRefined(this.disjunctiveFacetsRefinements,t,n):!1},isHierarchicalFacetRefined:function(t,n){if(!this.isHierarchicalFacet(t))return!1;var r=this.getHierarchicalRefinement(t);return n?r.indexOf(n)!==-1:r.length>0},isNumericRefined:function(t,n,r){if(r===void 0&&n===void 0)return!!this.numericRefinements[t];var i=this.numericRefinements[t]&&this.numericRefinements[t][n]!==void 0;if(r===void 0||!i)return i;var s=Jm(r),a=rH(this.numericRefinements[t][n],s)!==void 0;return i&&a},isTagRefined:function(t){return this.tagRefinements.indexOf(t)!==-1},getRefinedDisjunctiveFacets:function(){var t=this,n=_1(Object.keys(this.numericRefinements).filter(function(r){return Object.keys(t.numericRefinements[r]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(r){return t.disjunctiveFacetsRefinements[r].length>0}).concat(n).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var t=this;return _1(this.hierarchicalFacets.map(function(n){return n.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(n){return t.hierarchicalFacetsRefinements[n].length>0})).sort()},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(t){return e.indexOf(t)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var t=this.managedParameters,n={},r=this;return Object.keys(this).forEach(function(i){var s=r[i];t.indexOf(i)===-1&&s!==void 0&&(n[i]=s)}),n},setQueryParameter:function(t,n){if(this[t]===n)return this;var r={};return r[t]=n,this.setQueryParameters(r)},setQueryParameters:function(t){if(!t)return this;var n=Un.validate(this,t);if(n)throw n;var r=this,i=Un._parseNumbers(t),s=Object.keys(this).reduce(function(o,c){return o[c]=r[c],o},{}),a=Object.keys(i).reduce(function(o,c){var u=o[c]!==void 0,d=i[c]!==void 0;return u&&!d?E1(o,[c]):(d&&(o[c]=i[c]),o)},s);return new this.constructor(a)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return typeof e.showParentLevel=="boolean"?e.showParentLevel:!0},getHierarchicalFacetByName:function(e){return oN(this.hierarchicalFacets,function(t){return t.name===e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r=t.split(n);return r.map(function(i){return i.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var lN=Un,iH=function(t){return Array.isArray(t)?t.filter(Boolean):[]},sH=function(t,n){if(!Array.isArray(t))return-1;for(var r=0;r<t.length;r++)if(n(t[r]))return r;return-1},aH=ld,cN=function(t,n){var r=(n||[]).map(function(i){return i.split(":")});return t.reduce(function(s,a){var o=a.split(":"),c=aH(r,function(u){return u[0]===o[0]});return o.length>1||!c?(s[0].push(o[0]),s[1].push(o[1]),s):(s[0].push(c[0]),s[1].push(c[1]),s)},[[],[]])};function oH(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(t,n){return Object.keys(Object(n)).forEach(function(r){var i=typeof t[r]=="number"?t[r]:0,s=n[r];s!==void 0&&s>=i&&(t[r]!==void 0&&delete t[r],t[r]=s)}),t},{})}var lH=oH;function cH(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=t!==void 0,s=t===null;if(!s&&e>t||r&&i||!n)return 1;if(!r&&e<t||s&&n||!i)return-1}return 0}function uH(e,t,n){if(!Array.isArray(e))return[];Array.isArray(n)||(n=[]);var r=e.map(function(i,s){return{criteria:t.map(function(a){return i[a]}),index:s,value:i}});return r.sort(function(s,a){for(var o=-1;++o<s.criteria.length;){var c=cH(s.criteria[o],a.criteria[o]);if(c)return o>=n.length?c:n[o]==="desc"?-c:c}return s.index-a.index}),r.map(function(i){return i.value})}var uN=uH,dH=vH,dN=Ib,fH=ld,hH=cN,pH=uN,mH=dN.escapeFacetValue,gH=dN.unescapeFacetValue;function vH(e){return function(n,r){var i=e.hierarchicalFacets[r],s=e.hierarchicalFacetsRefinements[i.name]&&e.hierarchicalFacetsRefinements[i.name][0]||"",a=e._getHierarchicalFacetSeparator(i),o=e._getHierarchicalRootPath(i),c=e._getHierarchicalShowParentLevel(i),u=hH(e._getHierarchicalFacetSortBy(i)),d=n.every(function(p){return p.exhaustive}),f=yH(u,a,o,c,s),h=n;return o&&(h=n.slice(o.split(a).length)),h.reduce(f,{name:e.hierarchicalFacets[r].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:d,data:null})}}function yH(e,t,n,r,i){return function(a,o,c){var u=a;if(c>0){var d=0;for(u=a;d<c;){var f=u&&Array.isArray(u.data)?u.data:[];u=fH(f,function(p){return p.isRefined}),d++}}if(u){var h=Object.keys(o.data).map(function(p){return[p,o.data[p]]}).filter(function(p){var g=p[0];return xH(g,u.path||n,i,t,n,r)});u.data=pH(h.map(function(p){var g=p[0],m=p[1];return bH(m,g,t,gH(i),o.exhaustive)}),e[0],e[1])}return a}}function xH(e,t,n,r,i,s){return i&&(e.indexOf(i)!==0||i===e)?!1:!i&&e.indexOf(r)===-1||i&&e.split(r).length-i.split(r).length===1||e.indexOf(r)===-1&&n.indexOf(r)===-1||n.indexOf(e)===0||e.indexOf(t+r)===0&&(s||e.indexOf(n)===0)}function bH(e,t,n,r,i){var s=t.split(n);return{name:s[s.length-1].trim(),path:t,escapedValue:mH(t),count:e,isRefined:r===t||r.indexOf(t+n)===0,exhaustive:i,data:null}}var Xm=iH,Tc=$b,fN=Ib,Ur=ld,Xl=sH,wH=cN,C1=lH,hN=uN,k1=fN.escapeFacetValue,pN=fN.unescapeFacetValue,SH=dH;function P1(e){var t={};return e.forEach(function(n,r){t[n]=r}),t}function Zm(e,t,n){t&&t[n]&&(e.stats=t[n])}function jH(e,t){return Ur(e,function(r){var i=r.attributes||[];return i.indexOf(t)>-1})}function Ps(e,t,n){var r=t[0]||{};this._rawResults=t;var i=this;Object.keys(r).forEach(function(f){i[f]=r[f]});var s=Tc(n,{persistHierarchicalRootCount:!1});Object.keys(s).forEach(function(f){i[f]=s[f]}),this.processingTimeMS=t.reduce(function(f,h){return h.processingTimeMS===void 0?f:f+h.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map(function(){return[]}),this.facets=[];var a=e.getRefinedDisjunctiveFacets(),o=P1(e.facets),c=P1(e.disjunctiveFacets),u=1,d=r.facets||{};Object.keys(d).forEach(function(f){var h=d[f],p=jH(e.hierarchicalFacets,f);if(p){var g=p.attributes.indexOf(f),m=Xl(e.hierarchicalFacets,function(b){return b.name===p.name});i.hierarchicalFacets[m][g]={attribute:f,data:h,exhaustive:r.exhaustiveFacetsCount}}else{var w=e.disjunctiveFacets.indexOf(f)!==-1,v=e.facets.indexOf(f)!==-1,x;w&&(x=c[f],i.disjunctiveFacets[x]={name:f,data:h,exhaustive:r.exhaustiveFacetsCount},Zm(i.disjunctiveFacets[x],r.facets_stats,f)),v&&(x=o[f],i.facets[x]={name:f,data:h,exhaustive:r.exhaustiveFacetsCount},Zm(i.facets[x],r.facets_stats,f))}}),this.hierarchicalFacets=Xm(this.hierarchicalFacets),a.forEach(function(f){var h=t[u],p=h&&h.facets?h.facets:{},g=e.getHierarchicalFacetByName(f);Object.keys(p).forEach(function(m){var w=p[m],v;if(g){v=Xl(e.hierarchicalFacets,function(S){return S.name===g.name});var x=Xl(i.hierarchicalFacets[v],function(S){return S.attribute===m});if(x===-1)return;i.hierarchicalFacets[v][x].data=i.persistHierarchicalRootCount?C1(i.hierarchicalFacets[v][x].data,w):Tc(w,i.hierarchicalFacets[v][x].data)}else{v=c[m];var b=r.facets&&r.facets[m]||{};i.disjunctiveFacets[v]={name:m,data:C1(b,w),exhaustive:h.exhaustiveFacetsCount},Zm(i.disjunctiveFacets[v],h.facets_stats,m),e.disjunctiveFacetsRefinements[m]&&e.disjunctiveFacetsRefinements[m].forEach(function(S){!i.disjunctiveFacets[v].data[S]&&e.disjunctiveFacetsRefinements[m].indexOf(pN(S))>-1&&(i.disjunctiveFacets[v].data[S]=0)})}}),u++}),e.getRefinedHierarchicalFacets().forEach(function(f){var h=e.getHierarchicalFacetByName(f),p=e._getHierarchicalFacetSeparator(h),g=e.getHierarchicalRefinement(f);g.length===0||g[0].split(p).length<2||t.slice(u).forEach(function(m){var w=m&&m.facets?m.facets:{};Object.keys(w).forEach(function(v){var x=w[v],b=Xl(e.hierarchicalFacets,function(P){return P.name===h.name}),S=Xl(i.hierarchicalFacets[b],function(P){return P.attribute===v});if(S!==-1){var j={};if(g.length>0&&!i.persistHierarchicalRootCount){var _=g[0].split(p)[0];j[_]=i.hierarchicalFacets[b][S].data[_]}i.hierarchicalFacets[b][S].data=Tc(j,x,i.hierarchicalFacets[b][S].data)}}),u++})}),Object.keys(e.facetsExcludes).forEach(function(f){var h=e.facetsExcludes[f],p=o[f];i.facets[p]={name:f,data:d[f],exhaustive:r.exhaustiveFacetsCount},h.forEach(function(g){i.facets[p]=i.facets[p]||{name:f},i.facets[p].data=i.facets[p].data||{},i.facets[p].data[g]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(SH(e)),this.facets=Xm(this.facets),this.disjunctiveFacets=Xm(this.disjunctiveFacets),this._state=e}Ps.prototype.getFacetByName=function(e){function t(n){return n.name===e}return Ur(this.facets,t)||Ur(this.disjunctiveFacets,t)||Ur(this.hierarchicalFacets,t)};function _H(e,t){function n(d){return d.name===t}if(e._state.isConjunctiveFacet(t)){var r=Ur(e.facets,n);return r?Object.keys(r.data).map(function(d){var f=k1(d);return{name:d,escapedValue:f,count:r.data[d],isRefined:e._state.isFacetRefined(t,f),isExcluded:e._state.isExcludeRefined(t,d)}}):[]}else if(e._state.isDisjunctiveFacet(t)){var i=Ur(e.disjunctiveFacets,n);return i?Object.keys(i.data).map(function(d){var f=k1(d);return{name:d,escapedValue:f,count:i.data[d],isRefined:e._state.isDisjunctiveFacetRefined(t,f)}}):[]}else if(e._state.isHierarchicalFacet(t)){var s=Ur(e.hierarchicalFacets,n);if(!s)return s;var a=e._state.getHierarchicalFacetByName(t),o=e._state._getHierarchicalFacetSeparator(a),c=pN(e._state.getHierarchicalRefinement(t)[0]||"");c.indexOf(a.rootPath)===0&&(c=c.replace(a.rootPath+o,""));var u=c.split(o);return u.unshift(t),mN(s,u,0),s}}function mN(e,t,n){e.isRefined=e.name===(t[n]&&t[n].trim()),e.data&&e.data.forEach(function(r){mN(r,t,n+1)})}function gN(e,t,n,r){if(r=r||0,Array.isArray(t))return e(t,n[r]);if(!t.data||t.data.length===0)return t;var i=t.data.map(function(o){return gN(e,o,n,r+1)}),s=e(i,n[r]),a=Tc({data:s},t);return a}Ps.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function EH(e,t){return t.sort(e)}function CH(e,t){var n=[],r=[],i=t.hide||[],s=t.order||[],a=s.reduce(function(u,d,f){return u[d]=f,u},{});e.forEach(function(u){var d=u.path||u.name,f=i.indexOf(d)>-1;!f&&a[d]!==void 0?n[a[d]]=u:f||r.push(u)}),n=n.filter(function(u){return u});var o=t.sortRemainingBy,c;return o==="hidden"?n:(o==="alpha"?c=[["path","name"],["asc","asc"]]:c=[["count"],["desc"]],n.concat(hN(r,c[0],c[1])))}function kH(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}Ps.prototype.getFacetValues=function(e,t){var n=_H(this,e);if(n){var r=Tc(t,{sortBy:Ps.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),i=this,s;if(Array.isArray(n))s=[e];else{var a=i._state.getHierarchicalFacetByName(n.name);s=a.attributes}return gN(function(o,c){if(r.facetOrdering){var u=kH(i,c);if(u)return CH(o,u)}if(Array.isArray(r.sortBy)){var d=wH(r.sortBy,Ps.DEFAULT_SORT);return hN(o,d[0],d[1])}else if(typeof r.sortBy=="function")return EH(r.sortBy,o);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},n,s)}};Ps.prototype.getFacetStats=function(e){if(this._state.isConjunctiveFacet(e))return R1(this.facets,e);if(this._state.isDisjunctiveFacet(e))return R1(this.disjunctiveFacets,e)};function R1(e,t){var n=Ur(e,function(r){return r.name===t});return n&&n.stats}Ps.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Object.keys(e.facetsRefinements).forEach(function(r){e.facetsRefinements[r].forEach(function(i){n.push(eg(e,"facet",r,i,t.facets))})}),Object.keys(e.facetsExcludes).forEach(function(r){e.facetsExcludes[r].forEach(function(i){n.push(eg(e,"exclude",r,i,t.facets))})}),Object.keys(e.disjunctiveFacetsRefinements).forEach(function(r){e.disjunctiveFacetsRefinements[r].forEach(function(i){n.push(eg(e,"disjunctive",r,i,t.disjunctiveFacets))})}),Object.keys(e.hierarchicalFacetsRefinements).forEach(function(r){e.hierarchicalFacetsRefinements[r].forEach(function(i){n.push(PH(e,r,i,t.hierarchicalFacets))})}),Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r];Object.keys(i).forEach(function(s){i[s].forEach(function(a){n.push({type:"numeric",attributeName:r,name:a,numericValue:a,operator:s})})})}),e.tagRefinements.forEach(function(r){n.push({type:"tag",attributeName:"_tags",name:r})}),n};function eg(e,t,n,r,i){var s=Ur(i,function(c){return c.name===n}),a=s&&s.data&&s.data[r]?s.data[r]:0,o=s&&s.exhaustive||!1;return{type:t,attributeName:n,name:r,count:a,exhaustive:o}}function PH(e,t,n,r){var i=e.getHierarchicalFacetByName(t),s=e._getHierarchicalFacetSeparator(i),a=n.split(s),o=Ur(r,function(h){return h.name===t}),c=a.reduce(function(h,p){var g=h&&Ur(h.data,function(m){return m.name===p});return g!==void 0?g:h},o),u=c&&c.count||0,d=c&&c.exhaustive||!1,f=c&&c.path||"";return{type:"hierarchical",attributeName:t,name:f,count:u,exhaustive:d}}var vN=Ps,RH=function(t){return t.reduce(function(n,r){return n.concat(r)},[])},NH=ld,TH=RH;function AH(e,t){var n=[];return Object.keys(e).forEach(function(r){e[r].count<2&&(e[r].indexSum+=100),n.push({objectID:r,avgOfIndices:e[r].indexSum/t})}),n.sort(function(r,i){return r.avgOfIndices>i.avgOfIndices?1:-1})}function OH(e,t){var n={};t.forEach(function(s){s.forEach(function(a,o){e.includes(a.objectID)||(n[a.objectID]?n[a.objectID]={indexSum:n[a.objectID].indexSum+o,count:n[a.objectID].count+1}:n[a.objectID]={indexSum:o,count:1})})});var r=AH(n,t.length),i=r.reduce(function(s,a){var o=NH(TH(t),function(c){return c.objectID===a.objectID});return o?s.concat(o):s},[]);return i}var IH=OH,yN="3.26.0",DH=Ob,FH=U6,xN=Ib.escapeFacetValue,LH=rN,MH=Fb,$H=Lb,UH=Mb,bN=iN,zH=sN,Ls=Q6,zb=lN,my=vN,HH=IH,wN=yN;function ee(e,t,n,r){typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+wN+")"),this.setClient(e);var i=n||{};i.index=t,this.state=zb.make(i),this.recommendState=new bN({params:i.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=r,this._recommendCache={}}LH(ee,DH);ee.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this};ee.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this};ee.prototype.searchWithComposition=function(){return this._runComposition({onlyWithDerivedHelpers:!0}),this};ee.prototype.recommend=function(){return this._recommend(),this};ee.prototype.getQuery=function(){var e=this.state;return Ls._getHitsSearchParams(e)};ee.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=Ls._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),t){this.client.search(r).then(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(null,new my(n,s.results),n)}).catch(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(s,null,n)});return}return this.client.search(r).then(function(s){return i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),{content:new my(n,s.results),state:n,_originalResponse:s}},function(s){throw i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),s})};ee.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(t),i=MH({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:UH(Ls._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),s="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(s);var a=this.client.initIndex(r.index);if(typeof a.findAnswers!="function")throw new Error(s);return a.findAnswers(r.query,e.queryLanguages,i)};ee.prototype.searchForFacetValues=function(e,t,n,r){var i=typeof this.client.searchForFacetValues=="function"&&typeof this.client.searchForFacets!="function",s=typeof this.client.initIndex=="function";if(!i&&!s&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var a=this.state.setQueryParameters(r||{}),o=a.isDisjunctiveFacet(e),c=Ls.getSearchForFacetQuery(e,t,n,a);this._currentNbQueries++;var u=this,d;i?d=this.client.searchForFacetValues([{indexName:a.index,params:c}]):s?d=this.client.initIndex(a.index).searchForFacetValues(c):(delete c.facetName,d=this.client.search([{type:"facet",facet:e,indexName:a.index,params:c}]).then(function(p){return p.results[0]})),this.emit("searchForFacetValues",{state:a,facet:e,query:t});var f=this.lastResults&&this.lastResults.index===a.index&&this.lastResults.renderingContent&&this.lastResults.renderingContent.facetOrdering&&this.lastResults.renderingContent.facetOrdering.values&&this.lastResults.renderingContent.facetOrdering.values[e]&&this.lastResults.renderingContent.facetOrdering.values[e].hide||[];return d.then(function(p){return u._currentNbQueries--,u._currentNbQueries===0&&u.emit("searchQueueEmpty"),p=Array.isArray(p)?p[0]:p,p.facetHits.forEach(function(g,m){if(f.indexOf(g.value)>-1){p.facetHits.splice(m,1);return}g.escapedValue=xN(g.value),g.isRefined=o?a.isDisjunctiveFacetRefined(e,g.escapedValue):a.isFacetRefined(e,g.escapedValue)}),p},function(h){throw u._currentNbQueries--,u._currentNbQueries===0&&u.emit("searchQueueEmpty"),h})};ee.prototype.searchForCompositionFacetValues=function(e,t,n,r){if(typeof this.client.searchForFacetValues!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues");var i=this.state.setQueryParameters(r||{}),s=i.isDisjunctiveFacet(e);this._currentNbQueries++;var a=this,o;return o=this.client.searchForFacetValues({compositionID:i.index,facetName:e,searchForFacetValuesRequest:{params:{query:t,maxFacetHits:n,searchQuery:Ls._getCompositionHitsSearchParams(i)}}}),this.emit("searchForFacetValues",{state:i,facet:e,query:t}),o.then(function(u){return a._currentNbQueries--,a._currentNbQueries===0&&a.emit("searchQueueEmpty"),u=u.results[0],u.facetHits.forEach(function(d){d.escapedValue=xN(d.value),d.isRefined=s?i.isDisjunctiveFacetRefined(e,d.escapedValue):i.isFacetRefined(e,d.escapedValue)}),u},function(c){throw a._currentNbQueries--,a._currentNbQueries===0&&a.emit("searchQueueEmpty"),c})};ee.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this};ee.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this};ee.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this};ee.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)};ee.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this};ee.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)};ee.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this};ee.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)};ee.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this};ee.prototype.addFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(e)}),this};ee.prototype.addRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.addRelatedProducts(e)}),this};ee.prototype.addTrendingItems=function(e){return this._recommendChange({state:this.recommendState.addTrendingItems(e)}),this};ee.prototype.addTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.addTrendingFacets(e)}),this};ee.prototype.addLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.addLookingSimilar(e)}),this};ee.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this};ee.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)};ee.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this};ee.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)};ee.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this};ee.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)};ee.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this};ee.prototype.removeFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};ee.prototype.removeRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};ee.prototype.removeTrendingItems=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};ee.prototype.removeTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};ee.prototype.removeLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};ee.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)};ee.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)};ee.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)};ee.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this};ee.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)};ee.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)};function SN(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}ee.prototype.setCurrentPage=SN;ee.prototype.setPage=SN;ee.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this};ee.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this};ee.prototype.setState=function(e){return this._change({state:zb.make(e),isPageReset:!1}),this};ee.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new zb(e),this};ee.prototype.hasRefinements=function(e){return $H(this.state.getNumericRefinements(e))?!0:this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):this.state.isHierarchicalFacet(e)?this.state.isHierarchicalFacetRefined(e):!1};ee.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)};ee.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)};ee.prototype.hasTag=function(e){return this.state.isTagRefined(e)};ee.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)};ee.prototype.getIndex=function(){return this.state.index};function jN(){return this.state.page}ee.prototype.getCurrentPage=jN;ee.prototype.getPage=jN;ee.prototype.getTags=function(){return this.state.tagRefinements};ee.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e)){var n=this.state.getConjunctiveRefinements(e);n.forEach(function(a){t.push({value:a,type:"conjunctive"})});var r=this.state.getExcludeRefinements(e);r.forEach(function(a){t.push({value:a,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(e)){var i=this.state.getDisjunctiveRefinements(e);i.forEach(function(a){t.push({value:a,type:"disjunctive"})})}var s=this.state.getNumericRefinements(e);return Object.keys(s).forEach(function(a){var o=s[a];t.push({value:o,operator:a,type:"numeric"})}),t};ee.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)};ee.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)};ee.prototype._search=function(e){var t=this.state,n=[],r=[];e.onlyWithDerivedHelpers||(r=Ls._getQueries(t.index,t),n.push({state:t,queriesCount:r.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map(function(o){var c=o.getModifiedState(t),u=c.index?Ls._getQueries(c.index,c):[];return n.push({state:c,queriesCount:u.length,helper:o}),o.emit("search",{state:c,results:o.lastResults}),u}),s=Array.prototype.concat.apply(r,i),a=this._queryId++;if(this._currentNbQueries++,!s.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,n,a));try{this.client.search(s).then(this._dispatchAlgoliaResponse.bind(this,n,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(o){this.emit("error",{error:o})}};ee.prototype._runComposition=function(){var e=this.state,t=[],n=[],r=this.derivedHelpers.map(function(o){var c=o.getModifiedState(e),u=Ls._getCompositionQueries(c);return t.push({state:c,queriesCount:u.length,helper:o}),o.emit("search",{state:c,results:o.lastResults}),u}),i=Array.prototype.concat.apply(n,r),s=this._queryId++;if(this._currentNbQueries++,!i.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,t,s));if(i.length>1)throw new Error("Only one query is allowed when using a composition.");var a=i[0];try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,t,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(o){this.emit("error",{error:o})}};ee.prototype._recommend=function(){var e=this.state,t=this.recommendState,n=this.getIndex(),r=[{state:t,index:n,helper:this}],i=t.params.map(function(u){return u.$$id});this.emit("fetch",{recommend:{state:t,results:this.lastRecommendResults}});var s=this._recommendCache,a=this.derivedHelpers.map(function(u){var d=u.getModifiedState(e).index;if(!d)return[];var f=u.getModifiedRecommendState(new bN);return r.push({state:f,index:d,helper:u}),i=Array.prototype.concat.apply(i,f.params.map(function(h){return h.$$id})),u.emit("fetch",{recommend:{state:f,results:u.lastRecommendResults}}),f._buildQueries(d,s)}),o=Array.prototype.concat.apply(this.recommendState._buildQueries(n,s),a);if(o.length!==0){if(o.length>0&&typeof this.client.getRecommendations>"u"){console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");return}var c=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(o).then(this._dispatchRecommendResponse.bind(this,c,r,i)).catch(this._dispatchRecommendError.bind(this,c))}catch(u){this.emit("error",{error:u})}}};ee.prototype._dispatchAlgoliaResponse=function(e,t,n){var r=this;if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var i=n.results.slice(),s=Object.keys(n).reduce(function(a,o){return o!=="results"&&(a[o]=n[o]),a},{});Object.keys(s).length<=0&&(s=void 0),e.forEach(function(a){var o=a.state,c=a.queriesCount,u=a.helper,d=i.splice(0,c);if(!o.index){u.emit("result",{results:null,state:o});return}u.lastResults=new my(o,d,r._searchResultsOptions),s!==void 0&&(u.lastResults._rawContent=s),u.emit("result",{results:u.lastResults,state:o})})}};ee.prototype._dispatchRecommendResponse=function(e,t,n,r){if(!(e<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty");var i=this._recommendCache,s={};n.filter(function(o){return i[o]===void 0}).forEach(function(o,c){s[o]||(s[o]=[]),s[o].push(c)}),Object.keys(s).forEach(function(o){var c=s[o],u=r.results[c[0]];if(c.length===1){i[o]=u;return}i[o]=Object.assign({},u,{hits:HH(n,c.map(function(d){return r.results[d].hits}))})});var a={};n.forEach(function(o){a[o]=i[o]}),t.forEach(function(o){var c=o.state,u=o.helper;if(!o.index){u.emit("recommend:result",{results:null,state:c});return}u.lastRecommendResults=new zH(c,a),u.emit("recommend:result",{recommend:{results:u.lastRecommendResults,state:c}})})}};ee.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))};ee.prototype._dispatchRecommendError=function(e,t){e<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty"))};ee.prototype.containsRefinement=function(e,t,n,r){return e||t.length!==0||n.length!==0||r.length!==0};ee.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0};ee.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))};ee.prototype._recommendChange=function(e){var t=e.state;t!==this.recommendState&&(this.recommendState=t,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))};ee.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this};ee.prototype.setClient=function(e){return this.client===e?this:(typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+wN+")"),this.client=e,this)};ee.prototype.getClient=function(){return this.client};ee.prototype.derive=function(e,t){var n=new FH(this,e,t);return this.derivedHelpers.push(n),n};ee.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(t===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)};ee.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var BH=ee,_N=BH,qH=iN,WH=sN,VH=lN,QH=vN;function za(e,t,n,r){return new _N(e,t,n,r)}za.version=yN;za.AlgoliaSearchHelper=_N;za.SearchParameters=VH;za.RecommendParameters=qH;za.SearchResults=QH;za.RecommendResults=WH;var KH=za;const an=Da(KH);var GH=0;function YH(e){e.dependsOn==="recommend"&&(e.$$id=GH++)}function Ct(){}function JH(e){return Object.prototype.toString.call(e).slice(8,-1)}function Ws(e,t){if(e===void 0||typeof e!="function")throw new Error("The render function is not valid (received type ".concat(JH(e),`).

`).concat(t))}function N1(e){var t=e.helper,n=e.attributesToClear,r=n===void 0?[]:n,i=t.state.setPage(0);return i=r.reduce(function(s,a){return i.isNumericRefined(a)?s.removeNumericRefinement(a):i.isHierarchicalFacet(a)?s.removeHierarchicalFacetRefinement(a):i.isDisjunctiveFacet(a)?s.removeDisjunctiveFacetRefinement(a):i.isConjunctiveFacet(a)?s.removeFacetRefinement(a):s},i),r.indexOf("query")!==-1&&(i=i.setQuery("")),i}var XH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},EN=/[&<>"']/g,ZH=RegExp(EN.source);function eB(e){return e&&ZH.test(e)?e.replace(EN,function(t){return XH[t]}):e}var tB={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},CN=/&(amp|quot|lt|gt|#39);/g,nB=RegExp(CN.source);function rB(e){return e&&nB.test(e)?e.replace(CN,function(t){return tB[t]}):e}function gy(e){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gy(e)}function iB(e){return e===null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function sB(e){return gy(e)==="object"&&e!==null}function kN(e){if(!sB(e)||iB(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function aB(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vy.apply(this,arguments)}function T1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function No(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T1(Object(n),!0).forEach(function(r){PN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PN(e,t,n){return t=oB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oB(e){var t=lB(e,"string");return fu(t)=="symbol"?t:String(t)}function lB(e,t){if(fu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dl={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},gn={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function RN(e){return eB(e).replace(new RegExp(dl.highlightPreTag,"g"),gn.highlightPreTag).replace(new RegExp(dl.highlightPostTag,"g"),gn.highlightPostTag)}function Ch(e){return kN(e)&&typeof e.value!="string"?Object.keys(e).reduce(function(t,n){return No(No({},t),{},PN({},n,Ch(e[n])))},{}):Array.isArray(e)?e.map(Ch):No(No({},e),{},{value:RN(e.value)})}function cB(e){return e.__escaped===void 0&&(e=e.map(function(t){var n=vy({},(aB(t),t));return n._highlightResult&&(n._highlightResult=Ch(n._highlightResult)),n._snippetResult&&(n._snippetResult=Ch(n._snippetResult)),n}),e.__escaped=!0),e}function uB(e){return e.map(function(t){return No(No({},t),{},{highlighted:RN(t.highlighted)})})}function NN(e){var t=gn.highlightPreTag,n=gn.highlightPostTag;return e.map(function(r){return r.isHighlighted?t+r.value+n:r.value}).join("")}function dB(e,t,n){return e.state.isHierarchicalFacet(t)?e.state.isHierarchicalFacetRefined(t,n):e.state.isConjunctiveFacet(t)?e.state.isFacetRefined(t,n):e.state.isDisjunctiveFacetRefined(t,n)}function A1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A1(Object(n),!0).forEach(function(r){hB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hB(e,t,n){return t=pB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pB(e){var t=mB(e,"string");return fl(t)=="symbol"?t:String(t)}function mB(e,t){if(fl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function gB(e,t){return bB(e)||xB(e,t)||yB(e,t)||vB()}function vB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yB(e,t){if(e){if(typeof e=="string")return O1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O1(e,t)}}function O1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function bB(e){if(Array.isArray(e))return e}function wB(e){var t=e.instantSearchInstance,n=e.helper,r=e.attribute,i=e.widgetType,s=function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=c[1],f=c[2],h=f===void 0?"Filter Applied":f,p=c[3],g=p===void 0?{}:p,m=c[0].split(":"),w=gB(m,2),v=w[0],x=w[1],b=typeof r=="string"?r:r(d);if(c.length===1&&fl(c[0])==="object")t.sendEventToInsights(c[0]);else if(v==="click"&&c.length>=2&&c.length<=4&&!dB(n,b,d)){var S;t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:i,eventType:v,eventModifier:x,payload:fB({eventName:h,index:((S=n.lastResults)===null||S===void 0?void 0:S.index)||n.state.index,filters:["".concat(b,":").concat(d)]},g),attribute:b})}};return s}function TN(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function I1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I1(Object(n),!0).forEach(function(r){SB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SB(e,t,n){return t=jB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jB(e){var t=_B(e,"string");return hl(t)=="symbol"?t:String(t)}function _B(e,t){if(hl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EB(e,t){return RB(e)||PB(e,t)||kB(e,t)||CB()}function CB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kB(e,t){if(e){if(typeof e=="string")return D1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D1(e,t)}}function D1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function RB(e){if(Array.isArray(e))return e}function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function NB(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,n=[],r=0;r<Math.ceil(e.length/t);r++)n.push(e.slice(r*t,(r+1)*t));return n}function AN(e){var t=e.helper,n=e.widgetType;e.methodName;var r=e.args,i=e.instantSearchInstance;if(r.length===1&&hl(r[0])==="object")return[r[0]];var s=r[0].split(":"),a=EB(s,2),o=a[0],c=a[1],u=r[1],d=r[2],f=r[3]||{};if(!u)return[];if((o==="click"||o==="conversion")&&!d)return[];var h=Array.isArray(u)?u:[u];if(h.length===0)return[];var p=h[0].__queryID,g=NB(h),m=g.map(function(v){return v.map(function(x){return x.objectID})}),w=g.map(function(v){return v.map(function(x){return x.__position})});return o==="view"?i.status!=="idle"?[]:g.map(function(v,x){var b;return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:o,payload:tg({eventName:d||"Hits Viewed",index:((b=t.lastResults)===null||b===void 0?void 0:b.index)||t.state.index,objectIDs:m[x]},f),hits:v,eventModifier:c}}):o==="click"?g.map(function(v,x){var b;return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:o,payload:tg({eventName:d||"Hit Clicked",index:((b=t.lastResults)===null||b===void 0?void 0:b.index)||t.state.index,queryID:p,objectIDs:m[x],positions:w[x]},f),hits:v,eventModifier:c}}):o==="conversion"?g.map(function(v,x){var b;return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:o,payload:tg({eventName:d||"Hit Converted",index:((b=t.lastResults)===null||b===void 0?void 0:b.index)||t.state.index,queryID:p,objectIDs:m[x]},f),hits:v,eventModifier:c}}):[]}function TB(e){var t=e.instantSearchInstance,n=e.helper,r=e.widgetType,i={},s=void 0,a=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];var f=AN({widgetType:r,helper:n,methodName:"sendEvent",args:u,instantSearchInstance:t});f.forEach(function(h){h.eventType==="click"&&h.eventModifier==="internal"&&i[h.eventType]||(i[h.eventType]=!0,t.sendEventToInsights(h))}),clearTimeout(s),s=setTimeout(function(){i={}},0)};return a}function AB(e){var t=e.helper,n=e.widgetType,r=e.instantSearchInstance,i=function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];var u=AN({widgetType:n,helper:t,methodName:"bindEvent",args:o,instantSearchInstance:r});return u.length?"data-insights-event=".concat(TN(u)):""};return i}function vr(e){return e.$$type==="ais.index"}function yy(e,t){var n=e[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:n})),t.getWidgets().filter(vr).forEach(function(r){return yy(e,r)})}var OB=Promise.resolve();function Zl(e){var t=null,n=!1,r=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];t===null&&(t=OB.then(function(){if(t=null,n){n=!1;return}e.apply(void 0,a)}))};return r.wait=function(){if(t===null)throw new Error("The deferred function should be called before calling `wait()`");return t},r.cancel=function(){t!==null&&(n=!0)},r}function IB(e){var t=e.name,n=e.connector,r=n===void 0?!1:n;return["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",r?"#connector":""].join("")}function Wr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(i){return IB(i)}).join(", ");return function(i){return[i,"See documentation: ".concat(r)].filter(Boolean).join(`

`)}}function DB(e){return typeof e=="string"?e.replace(/^\\-/,"-"):e}function FB(e){return typeof e=="number"&&e<0||typeof e=="string"?String(e).replace(/^-/,"\\-"):e}function hu(e,t){for(var n,r=0;r<e.length;r++)if(n=e[r],t(n,r,e))return n}function LB(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function F1(e){if(e.appId&&e.apiKey)return[e.appId,e.apiKey];if(e.transporter){var t=e.transporter,n=t.headers||t.baseHeaders,r=t.queryParameters||t.baseQueryParameters,i="x-algolia-application-id",s="x-algolia-api-key",a=n[i]||r[i],o=n[s]||r[s];return[a,o]}else return[e.applicationID,e.apiKey]}function ON(e){var t=gn.highlightPostTag,n=gn.highlightPreTag,r=e.split(n),i=r.shift(),s=i?[{value:i,isHighlighted:!1}]:[];return r.forEach(function(a){var o=a.split(t);s.push({value:o[0],isHighlighted:!0}),o[1]!==""&&s.push({value:o[1],isHighlighted:!1})}),s}var MB=new RegExp(/\w/i);function $B(e,t){var n,r,i=e[t],s=((n=e[t+1])===null||n===void 0?void 0:n.isHighlighted)||!0,a=((r=e[t-1])===null||r===void 0?void 0:r.isHighlighted)||!0;return!MB.test(rB(i.value))&&a===s?a:i.isHighlighted}function kp(e,t){var n=Array.isArray(t)?t:t.split(".");return n.reduce(function(r,i){return r&&r[i]},e)}function ng(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],s={type:t,attribute:n,name:r,escapedValue:FB(r)},a=hu(i,function(p){return p.name===n}),o;if(t==="hierarchical"){for(var c=e.getHierarchicalFacetByName(n),u=r.split(c.separator),d=function(g){return function(m){return g[m]}},f=function(g){a=a&&a.data&&hu(Object.keys(a.data).map(d(a.data)),function(m){return m.name===u[g]})},h=0;a!==void 0&&h<u.length;++h)f(h);o=a&&a.count}else o=a&&a.data&&a.data[s.name];return o!==void 0&&(s.count=o),a&&a.exhaustive!==void 0&&(s.exhaustive=a.exhaustive),s}function UB(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e||{},i=[],s=t.facetsRefinements,a=s===void 0?{}:s,o=t.facetsExcludes,c=o===void 0?{}:o,u=t.disjunctiveFacetsRefinements,d=u===void 0?{}:u,f=t.hierarchicalFacetsRefinements,h=f===void 0?{}:f,p=t.numericRefinements,g=p===void 0?{}:p,m=t.tagRefinements,w=m===void 0?[]:m;return Object.keys(a).forEach(function(v){var x=a[v];x.forEach(function(b){i.push(ng(t,"facet",v,b,r.facets))})}),Object.keys(c).forEach(function(v){var x=c[v];x.forEach(function(b){i.push({type:"exclude",attribute:v,name:b,exclude:!0})})}),Object.keys(d).forEach(function(v){var x=d[v];x.forEach(function(b){i.push(ng(t,"disjunctive",v,DB(b),r.disjunctiveFacets))})}),Object.keys(h).forEach(function(v){var x=h[v];x.forEach(function(b){i.push(ng(t,"hierarchical",v,b,r.hierarchicalFacets))})}),Object.keys(g).forEach(function(v){var x=g[v];Object.keys(x).forEach(function(b){var S=b,j=x[S],_=Array.isArray(j)?j:[j];_.forEach(function(P){i.push({type:"numeric",attribute:v,name:"".concat(P),numericValue:P,operator:S})})})}),w.forEach(function(v){i.push({type:"tag",attribute:"_tags",name:v})}),n&&t.query&&t.query.trim()&&i.push({attribute:"query",type:"query",name:t.query,query:t.query}),i}function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function L1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function M1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(n),!0).forEach(function(r){zB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zB(e,t,n){return t=HB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HB(e){var t=BB(e,"string");return pu(t)=="symbol"?t:String(t)}function BB(e,t){if(pu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qB(e,t,n){return e.map(function(r,i){return M1(M1({},r),{},{__position:n*t+i+1})})}function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function $1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(n),!0).forEach(function(r){WB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WB(e,t,n){return t=VB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VB(e){var t=QB(e,"string");return mu(t)=="symbol"?t:String(t)}function QB(e,t){if(mu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KB(e,t){return t?e.map(function(n){return U1(U1({},n),{},{__queryID:t})}):e}function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function z1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function H1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z1(Object(n),!0).forEach(function(r){GB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GB(e,t,n){return t=YB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YB(e){var t=JB(e,"string");return gu(t)=="symbol"?t:String(t)}function JB(e,t){if(gu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XB(e,t){var n=Object.keys(t).reduce(function(r,i){var s=t[i];return s.recommendResults?H1(H1({},r),s.recommendResults.results):r},{});e._recommendCache=n}function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function ZB(e,t){return r8(e)||n8(e,t)||t8(e,t)||e8()}function e8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t8(e,t){if(e){if(typeof e=="string")return B1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B1(e,t)}}function B1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function r8(e){if(Array.isArray(e))return e}function q1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ec(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q1(Object(n),!0).forEach(function(r){IN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IN(e,t,n){return t=i8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i8(e){var t=s8(e,"string");return vu(t)=="symbol"?t:String(t)}function s8(e,t){if(vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a8(e,t){if(t&&!((!("transporter"in e)||e._cacheHydrated)&&(!e._useCache||typeof e.addAlgoliaAgent!="function"))){var n=[Object.keys(t).reduce(function(a,o){var c=t[o],u=c.state,d=c.requestParams,f=c.results,h=f&&u?f.map(function(p,g){return ec({indexName:u.index||p.index},d!=null&&d[g]||p.params?{params:rg((d==null?void 0:d[g])||o8(p.params))}:{})}):[];return a.concat(h)},[])],r=Object.keys(t).reduce(function(a,o){var c=t[o].results;return c?a.concat(c):a},[]);if("transporter"in e&&!e._cacheHydrated){e._cacheHydrated=!0;var i=e.search.bind(e);e.search=function(a){for(var o=arguments.length,c=new Array(o>1?o-1:0),u=1;u<o;u++)c[u-1]=arguments[u];var d=Array.isArray(a)?a.map(function(f){return ec(ec({},f),{},{params:rg(f.params)})}):rg(a.requestBody.params);return e.transporter.responsesCache.get({method:"search",args:[d].concat(c)},function(){return i.apply(void 0,[a].concat(c))})},e.transporter.responsesCache.set({method:"search",args:n},{results:r})}if(!("transporter"in e)){var s="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:n}));e.cache=ec(ec({},e.cache),{},IN({},s,JSON.stringify({results:Object.keys(t).map(function(a){return t[a].results})})))}}}function o8(e){return e.split("&").reduce(function(t,n){var r=n.split("="),i=ZB(r,2),s=i[0],a=i[1];return t[s]=a?decodeURIComponent(a):"",t},{})}function rg(e){var t=function(i){return Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"},n=function(i){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];var c=0;return i.replace(/%s/g,function(){return encodeURIComponent(a[c++])})};return Object.keys(e).map(function(r){return n("%s=%s",r,t(e[r])?JSON.stringify(e[r]):e[r])}).join("&")}function W1(e){return e!==Object(e)}function DN(e,t){if(e===t)return!0;if(W1(e)||W1(t)||typeof e=="function"||typeof t=="function")return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!(i in t)||!DN(e[i],t[i]))return!1}return!0}function Je(e){return typeof e=="number"&&isFinite(e)}function FN(e){return e.filter(function(t,n,r){return r.indexOf(t)===n})}function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}var l8=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function V1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V1(Object(n),!0).forEach(function(r){c8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c8(e,t,n){return t=u8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u8(e){var t=d8(e,"string");return yu(t)=="symbol"?t:String(t)}function d8(e,t){if(yu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f8(e,t){if(e==null)return{};var n=h8(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function h8(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var p8=function(t,n){n.facets,n.disjunctiveFacets,n.facetsRefinements,n.facetsExcludes,n.disjunctiveFacetsRefinements,n.numericRefinements,n.tagRefinements,n.hierarchicalFacets,n.hierarchicalFacetsRefinements,n.ruleContexts;var r=f8(n,l8);return t.setQueryParameters(r)},m8=function(t,n){return n.facets.reduce(function(r,i){return r.addFacet(i)},t)},g8=function(t,n){return n.disjunctiveFacets.reduce(function(r,i){return r.addDisjunctiveFacet(i)},t)},v8=function(t,n){return t.setQueryParameters({hierarchicalFacets:n.hierarchicalFacets.reduce(function(r,i){var s=LB(r,function(o){return o.name===i.name});if(s===-1)return r.concat(i);var a=r.slice();return a.splice(s,1,i),a},t.hierarchicalFacets)})},y8=function(t,n){return n.tagRefinements.reduce(function(r,i){return r.addTagRefinement(i)},t)},x8=function(t,n){return t.setQueryParameters({facetsRefinements:di(di({},t.facetsRefinements),n.facetsRefinements)})},b8=function(t,n){return t.setQueryParameters({facetsExcludes:di(di({},t.facetsExcludes),n.facetsExcludes)})},w8=function(t,n){return t.setQueryParameters({disjunctiveFacetsRefinements:di(di({},t.disjunctiveFacetsRefinements),n.disjunctiveFacetsRefinements)})},S8=function(t,n){return t.setQueryParameters({numericRefinements:di(di({},t.numericRefinements),n.numericRefinements)})},j8=function(t,n){return t.setQueryParameters({hierarchicalFacetsRefinements:di(di({},t.hierarchicalFacetsRefinements),n.hierarchicalFacetsRefinements)})},_8=function(t,n){var r=FN([].concat(t.ruleContexts).concat(n.ruleContexts).filter(Boolean));return r.length>0?t.setQueryParameters({ruleContexts:r}):t},Ac=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce(function(i,s){var a=j8(i,s),o=v8(a,s),c=y8(o,s),u=S8(c,s),d=w8(u,s),f=b8(d,s),h=x8(f,s),p=g8(h,s),g=_8(p,s),m=m8(g,s);return p8(m,s)})};function E8(e){return R8(e)||P8(e)||k8(e)||C8()}function C8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k8(e,t){if(e){if(typeof e=="string")return xy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xy(e,t)}}function P8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function R8(e){if(Array.isArray(e))return xy(e)}function xy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q1(e){var t=e.start,n=t===void 0?0:t,r=e.end,i=e.step,s=i===void 0?1:i,a=s===0?1:s,o=Math.round((r-n)/a);return E8(Array(o)).map(function(c,u){return n+u*a})}function hc(e,t,n){var r=t.getHelper();return{uiState:n,helper:r,parent:t,instantSearchInstance:e,state:r.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function K1(e,t,n){var r=t.getResultsForWidget(n),i=t.getHelper();return{helper:i,parent:t,instantSearchInstance:e,results:r,scopedResults:t.getScopedResults(),state:r&&"_state"in r?r._state:i.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function N8(e){for(var t=e.getParent(),n=[e.getHelper().state];t!==null;)n=[t.getHelper().state].concat(n),t=t.getParent();return n}function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function G1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(n),!0).forEach(function(r){T8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T8(e,t,n){return t=A8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A8(e){var t=O8(e,"string");return xu(t)=="symbol"?t:String(t)}function O8(e,t){if(xu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LN(e){return e.some(function(t){return t.isHighlighted})?e.map(function(t,n){return Zd(Zd({},t),{},{isHighlighted:!$B(e,n)})}):e.map(function(t){return Zd(Zd({},t),{},{isHighlighted:!1})})}function us(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},n=t.fallback;return typeof window>"u"?n():e({window})}function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function Y1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(n),!0).forEach(function(r){MN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MN(e,t,n){return t=I8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I8(e){var t=D8(e,"string");return bu(t)=="symbol"?t:String(t)}function D8(e,t){if(bu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F8=Wr({name:"configure",connector:!0});function J1(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce(function(n,r){return $t($t({},n),{},MN({},r,void 0))},{}))}var L8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ct,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct;return function(r){if(!r||!kN(r.searchParameters))throw new Error(F8("The `searchParameters` option expects an object."));var i={};function s(a){return function(o){var c=J1(a.state,r),u=Ac(c,new an.SearchParameters(o));r.searchParameters=o,a.setState(u).search()}}return{$$type:"ais.configure",init:function(o){var c=o.instantSearchInstance;t($t($t({},this.getWidgetRenderState(o)),{},{instantSearchInstance:c}),!0)},render:function(o){var c=o.instantSearchInstance;t($t($t({},this.getWidgetRenderState(o)),{},{instantSearchInstance:c}),!1)},dispose:function(o){var c=o.state;return n(),J1(c,r)},getRenderState:function(o,c){var u,d=this.getWidgetRenderState(c);return $t($t({},o),{},{configure:$t($t({},d),{},{widgetParams:$t($t({},d.widgetParams),{},{searchParameters:Ac(new an.SearchParameters((u=o.configure)===null||u===void 0?void 0:u.widgetParams.searchParameters),new an.SearchParameters(d.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(o){var c=o.helper;return i.refine||(i.refine=s(c)),{refine:i.refine,widgetParams:r}},getWidgetSearchParameters:function(o,c){var u=c.uiState;return Ac(o,new an.SearchParameters($t($t({},u.configure),r.searchParameters)))},getWidgetUiState:function(o){return $t($t({},o),{},{configure:$t($t({},o.configure),r.searchParameters)})}}}};function by(e){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},by(e)}var X1=Object.prototype.hasOwnProperty;function pl(e,t,n){if(n!=null&&n(e,t))return!0;var r,i;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((i=e.length)===t.length)for(;i--&&pl(e[i],t[i],n););return i===-1}if(!r||by(e)==="object"){i=0;for(r in e)if(X1.call(e,r)&&++i&&!X1.call(t,r)||!(r in t)||!pl(e[r],t[r],n))return!1;return Object.keys(t).length===i}}return e!==e&&t!==t}function Z1(e){var t,n,r;return new an.SearchResults(e,[{query:(t=e.query)!==null&&t!==void 0?t:"",page:(n=e.page)!==null&&n!==void 0?n:0,hitsPerPage:(r=e.hitsPerPage)!==null&&r!==void 0?r:20,hits:[],nbHits:0,nbPages:0,params:"",exhaustiveNbHits:!0,exhaustiveFacetsCount:!0,processingTimeMS:0,index:e.index}],{__isArtificial:!0})}function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ej(Object(n),!0).forEach(function(r){M8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M8(e,t,n){return t=$8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $8(e){var t=U8(e,"string");return wu(t)=="symbol"?t:String(t)}function U8(e,t){if(wu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z8(e){var t=e.getHelper(),n=e.getResults()||Z1(t.state),r=e.getScopedResults().map(function(i){var s=i.indexId===e.getIndexId()?n:Z1(i.helper.state);return tj(tj({},i),{},{results:i.results||s})});return{results:n,scopedResults:r,recommendResults:t.lastRecommendResults}}var $N=y.createContext(null);function UN(e,t){if(!e)throw new Error("Invariant failed")}function H8(){var e=y.useContext($N);return UN(e!==null),e}var zN=y.createContext(null);function HN(){var e=y.useContext(zN);return UN(e!==null),e}var B8=y.createContext(null);function BN(){return y.useContext(B8)}var q8=y.createContext(null);function qN(){return y.useContext(q8)}function W8(e,t){return G8(e)||K8(e,t)||Q8(e,t)||V8()}function V8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q8(e,t){if(e){if(typeof e=="string")return nj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nj(e,t)}}function nj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function G8(e){if(Array.isArray(e))return e}function rj(e){var t=y.useState(function(){return e}),n=W8(t,2),r=n[0],i=n[1];return pl(r,e)||i(e),r}var Y8="use",ij=rx[Y8],J8=typeof window<"u"?y.useLayoutEffect:y.useEffect,X8=y.createContext({countRef:{current:0},waitForResultsRef:null,ignoreMultipleHooksWarning:!1});function WN(){return y.useContext(X8)}function Z8(e){var t,n,r=e.widget,i=e.parentIndex,s=e.props,a=e.shouldSsr,o=e.skipSuspense,c=WN(),u=c.waitForResultsRef,d=c.countRef;c.ignoreMultipleHooksWarning;var f=y.useRef(s);y.useEffect(function(){f.current=s},[s]);var h=y.useRef(r);y.useEffect(function(){h.current=r},[r]);var p=y.useRef(null),g=a&&!i.getWidgets().includes(r),m=HN();if(J8(function(){var v=h.current;if(!p.current)a||i.addWidgets([r]);else{clearTimeout(p.current);var x=pl(s,f.current);x||(i.removeWidgets([v]),i.addWidgets([r]))}return function(){p.current=setTimeout(function(){m._schedule(function(){m._preventWidgetCleanup||i.removeWidgets([v])})})}},[i,r,a,m,s]),(g||(u==null||(t=u.current)===null||t===void 0?void 0:t.status)==="pending")&&i.addWidgets([r]),u!=null&&u.current&&!o){var w;ij(u.current),r.$$type!=="ais.dynamicWidgets"&&(w=m.helper)!==null&&w!==void 0&&w.lastResults&&ij(u.current)}(u==null||(n=u.current)===null||n===void 0?void 0:n.status)==="fulfilled"&&(d.current+=1)}function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}var eq=["skipSuspense"],tq=["instantSearchInstance","widgetParams"],nq=["widgetParams"];function rq(e,t){return oq(e)||aq(e,t)||sq(e,t)||iq()}function iq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sq(e,t){if(e){if(typeof e=="string")return sj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sj(e,t)}}function sj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aq(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function oq(e){if(Array.isArray(e))return e}function aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aj(Object(n),!0).forEach(function(r){lq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lq(e,t,n){return t=cq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cq(e){var t=uq(e,"string");return Su(t)=="symbol"?t:String(t)}function uq(e,t){if(Su(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ig(e,t){if(e==null)return{};var n=dq(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dq(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Wi(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipSuspense,i=r===void 0?!1:r,s=ig(n,eq),a=BN(),o=qN(),c=HN(),u=H8(),d=rj(t),f=rj(s),h=y.useRef(!0),p=y.useRef(null),g=y.useRef(c.status),m=y.useMemo(function(){var S=e(function(j,_){if(_){h.current=!0;return}if(h.current){var P=j.instantSearchInstance;j.widgetParams;var R=ig(j,tq);(!pl(R,p.current,function(F,k){return(F==null?void 0:F.constructor)===Function&&(k==null?void 0:k.constructor)===Function})||P.status!==g.current)&&(b(R),p.current=R,g.current=P.status)}},function(){h.current=!1});return oj(oj({},S(d)),f)},[e,d,f]),w=y.useState(function(){if(m.getWidgetRenderState){var S,j=u.getHelper(),_=u.getWidgetUiState({})[u.getIndexId()];j.state=((S=m.getWidgetSearchParameters)===null||S===void 0?void 0:S.call(m,j.state,{uiState:_}))||j.state;var P=z8(u),R=P.results,F=P.scopedResults,k=P.recommendResults,D=m.getWidgetRenderState({helper:j,parent:u,instantSearchInstance:c,results:m.dependsOn==="recommend"&&k&&o?k[o.recommendIdx.current++]:R,scopedResults:F,state:j.state,renderState:c.renderState,templatesConfig:c.templatesConfig,createURL:u.createURL,searchMetadata:{isSearchStalled:c.status==="stalled"},status:c.status,error:c.error});D.widgetParams;var L=ig(D,nq);return L}return{}}),v=rq(w,2),x=v[0],b=v[1];return Z8({widget:m,parentIndex:u,props:d,shouldSsr:!!a,skipSuspense:i}),x}function fq(e,t){return Wi(L8,{searchParameters:e},t)}function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function lj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(n),!0).forEach(function(r){pq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pq(e,t,n){return t=mq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mq(e){var t=gq(e,"string");return ju(t)=="symbol"?t:String(t)}function gq(e,t){if(ju(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VN(e){return fq(hq({},e),{$$widgetType:"ais.configure"}),null}function _u(e){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}var vq=["initialSearchParameters"],yq=["initialRecommendParameters"];function cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function si(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(n),!0).forEach(function(r){To(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function To(e,t,n){return t=xq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xq(e){var t=bq(e,"string");return _u(t)=="symbol"?t:String(t)}function bq(e,t){if(_u(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QN(e){return _q(e)||jq(e)||Sq(e)||wq()}function wq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sq(e,t){if(e){if(typeof e=="string")return wy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wy(e,t)}}function jq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _q(e){if(Array.isArray(e))return wy(e)}function wy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KN(e,t){if(e==null)return{};var n=Eq(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Eq(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var tc=Wr({name:"index-widget"});function GN(e,t){var n=t.state,r=t.recommendState,i=t.isPageReset,s=t._uiState;n!==e.state&&(e.state=n,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:i,_uiState:s})),r!==e.recommendState&&(e.recommendState=r)}function nc(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.reduce(function(r,i){return vr(i)||!i.getWidgetUiState&&!i.getWidgetState?r:i.getWidgetUiState?i.getWidgetUiState(r,t):i.getWidgetState(r,t)},n)}function rc(e,t){var n=t.initialSearchParameters,r=KN(t,vq);return e.reduce(function(i,s){return!s.getWidgetSearchParameters||vr(s)?i:s.dependsOn==="search"&&s.getWidgetParameters?s.getWidgetParameters(i,r):s.getWidgetSearchParameters(i,r)},n)}function uj(e,t){var n=t.initialRecommendParameters,r=KN(t,yq);return e.reduce(function(i,s){return!vr(s)&&s.dependsOn==="recommend"&&s.getWidgetParameters?s.getWidgetParameters(i,r):i},n)}function YN(e){var t=e.filter(vr);t.length!==0&&t.forEach(function(n){var r=n.getHelper();GN(r,{state:r.state.resetPage(),recommendState:r.recommendState,isPageReset:!0}),YN(n.getWidgets())})}function JN(e){var t=e.filter(vr);return t.reduce(function(n,r){return n.concat.apply(n,[{indexId:r.getIndexId(),results:r.getResults(),helper:r.getHelper()}].concat(QN(JN(r.getWidgets()))))},[])}var Cq=function(t){if(t===void 0||t.indexName===void 0)throw new Error(tc("The `indexName` option is required."));var n=t.indexName,r=t.indexId,i=r===void 0?n:r,s=[],a={},o=null,c=null,u=null,d=null,f=null,h=!1,p=!1;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return n},getIndexId:function(){return i},getHelper:function(){return u},getResults:function(){var m;return(m=d)!==null&&m!==void 0&&m.lastResults?(d.lastResults._state=u.state,d.lastResults):null},getResultsForWidget:function(m){var w;return m.dependsOn!=="recommend"||vr(m)||m.$$id===void 0?this.getResults():(w=u)!==null&&w!==void 0&&w.lastRecommendResults?u.lastRecommendResults[m.$$id]:null},getPreviousState:function(){return f},getScopedResults:function(){var m=this.getParent(),w;return m?w=m.getWidgets():n.length===0?w=this.getWidgets():w=[this],JN(w)},getParent:function(){return c},createURL:function(m){return typeof m=="function"?o._createURL(To({},i,m(a))):o._createURL(To({},i,nc(s,{searchParameters:m,helper:u})))},getWidgets:function(){return s},addWidgets:function(m){var w=this;if(!Array.isArray(m))throw new Error(tc("The `addWidgets` method expects an array of widgets."));if(m.some(function(v){return typeof v.init!="function"&&typeof v.render!="function"}))throw new Error(tc("The widget definition expects a `render` and/or an `init` method."));return m.forEach(function(v){vr(v)||(o&&v.dependsOn==="recommend"?o._hasRecommendWidget=!0:o?o._hasSearchWidget=!0:v.dependsOn==="recommend"?h=!0:p=!0,YH(v))}),s=s.concat(m),o&&m.length&&(GN(u,{state:rc(s,{uiState:a,initialSearchParameters:u.state}),recommendState:uj(s,{uiState:a,initialRecommendParameters:u.recommendState}),_uiState:a}),m.forEach(function(v){if(v.getRenderState){var x=v.getRenderState(o.renderState[w.getIndexId()]||{},hc(o,w,o._initialUiState));sg({renderState:x,instantSearchInstance:o,parent:w})}}),m.forEach(function(v){v.init&&v.init(hc(o,w,o._initialUiState))}),o.scheduleSearch()),this},removeWidgets:function(m){var w=this;if(!Array.isArray(m))throw new Error(tc("The `removeWidgets` method expects an array of widgets."));if(m.some(function(j){return typeof j.dispose!="function"}))throw new Error(tc("The widget definition expects a `dispose` method."));if(s=s.filter(function(j){return m.indexOf(j)===-1}),s.forEach(function(j){vr(j)||(o&&j.dependsOn==="recommend"?o._hasRecommendWidget=!0:o?o._hasSearchWidget=!0:j.dependsOn==="recommend"?h=!0:p=!0)}),o&&m.length){var v=m.reduce(function(j,_){var P=_.dispose({helper:u,state:j.cleanedSearchState,recommendState:j.cleanedRecommendState,parent:w});return P instanceof an.RecommendParameters?j.cleanedRecommendState=P:P&&(j.cleanedSearchState=P),j},{cleanedSearchState:u.state,cleanedRecommendState:u.recommendState}),x=v.cleanedSearchState,b=v.cleanedRecommendState,S=o.future.preserveSharedStateOnUnmount?rc(s,{uiState:a,initialSearchParameters:new an.SearchParameters({index:this.getIndexName()})}):rc(s,{uiState:nc(s,{searchParameters:x,helper:u}),initialSearchParameters:x});a=nc(s,{searchParameters:S,helper:u}),u.setState(S),u.recommendState=b,s.length&&o.scheduleSearch()}return this},init:function(m){var w=this,v,x=m.instantSearchInstance,b=m.parent,S=m.uiState;if(u===null){o=x,c=b,a=S[i]||{};var j=x.mainHelper,_=rc(s,{uiState:a,initialSearchParameters:new an.SearchParameters({index:n})}),P=uj(s,{uiState:a,initialRecommendParameters:new an.RecommendParameters});u=an({},_.index,_),u.recommendState=P,u.search=function(){return x.onStateChange?(x.onStateChange({uiState:x.mainIndex.getWidgetUiState({}),setUiState:function(L){return x.setUiState(L,!1)}}),j):j.search()},u.searchWithoutTriggeringOnStateChange=function(){return j.search()},u.searchForFacetValues=function(D,L,$,A){var U=u.state.setQueryParameters(A);return j.searchForFacetValues(D,L,$,U)},d=j.derive(function(){return Ac.apply(void 0,[j.state].concat(QN(N8(w))))},function(){return w.getHelper().recommendState});var R=(v=x._initialResults)===null||v===void 0?void 0:v[this.getIndexId()];if(R!=null&&R.results){var F=new an.SearchResults(new an.SearchParameters(R.state),R.results);d.lastResults=F,u.lastResults=F}if(R!=null&&R.recommendResults){var k=new an.RecommendResults(new an.RecommendParameters({params:R.recommendResults.params}),R.recommendResults.results);d.lastRecommendResults=k,u.lastRecommendResults=k}u.on("change",function(D){var L=D.isPageReset;L&&YN(s)}),d.on("search",function(){x.scheduleStalledRender()}),d.on("result",function(D){var L=D.results;x.scheduleRender(),u.lastResults=L,f=L==null?void 0:L._state}),d.on("recommend:result",function(D){var L=D.recommend;x.scheduleRender(),u.lastRecommendResults=L.results}),s.forEach(function(D){if(D.getRenderState){var L=D.getRenderState(x.renderState[w.getIndexId()]||{},hc(x,w,S));sg({renderState:L,instantSearchInstance:x,parent:w})}}),s.forEach(function(D){D.init&&D.init(hc(x,w,S))}),u.on("change",function(D){var L=D.state,$=D._uiState;a=nc(s,{searchParameters:L,helper:u},$||{}),x.onStateChange||x.onInternalStateChange()}),R&&x.scheduleRender(),h&&(x._hasRecommendWidget=!0),p&&(x._hasSearchWidget=!0)}},render:function(m){var w,v=this,x=m.instantSearchInstance;x.status==="error"&&!x.mainHelper.hasPendingRequests()&&f&&u.setState(f);var b=this.getResults()||(w=d)!==null&&w!==void 0&&w.lastRecommendResults?s:s.filter(vr);b=b.filter(function(S){return S.shouldRender?S.shouldRender({instantSearchInstance:x}):!0}),b.forEach(function(S){if(S.getRenderState){var j=S.getRenderState(x.renderState[v.getIndexId()]||{},K1(x,v,S));sg({renderState:j,instantSearchInstance:x,parent:v})}}),b.forEach(function(S){S.render&&S.render(K1(x,v,S))})},dispose:function(){var m=this,w,v;s.forEach(function(x){x.dispose&&u&&x.dispose({helper:u,state:u.state,recommendState:u.recommendState,parent:m})}),o=null,c=null,(w=u)===null||w===void 0||w.removeAllListeners(),u=null,(v=d)===null||v===void 0||v.detach(),d=null},getWidgetUiState:function(m){return s.filter(vr).reduce(function(w,v){return v.getWidgetUiState(w)},si(si({},m),{},To({},i,si(si({},m[i]),a))))},getWidgetState:function(m){return this.getWidgetUiState(m)},getWidgetSearchParameters:function(m,w){var v=w.uiState;return rc(s,{uiState:v,initialSearchParameters:m})},refreshUiState:function(){a=nc(s,{searchParameters:this.getHelper().state,helper:this.getHelper()},a)},setIndexUiState:function(m){var w=typeof m=="function"?m(a):m;o.setUiState(function(v){return si(si({},v),{},To({},i,w))})}}};function sg(e){var t=e.renderState,n=e.instantSearchInstance,r=e.parent,i=r?r.getIndexId():n.mainIndex.getIndexId();n.renderState=si(si({},n.renderState),{},To({},i,si(si({},n.renderState[i]),t)))}function kq(e,t){return Tq(e)||Nq(e,t)||Rq(e,t)||Pq()}function Pq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rq(e,t){if(e){if(typeof e=="string")return dj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dj(e,t)}}function dj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nq(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Tq(e){if(Array.isArray(e))return e}function Aq(){var e=y.useReducer(function(r){return r+1},0),t=kq(e,2),n=t[1];return n}var Oq="ais",Pp=function(t){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.descendantName,i=n.modifierName,s=r?"-".concat(r):"",a=i?"--".concat(i):"";return"".concat(Oq,"-").concat(t).concat(s).concat(a)}},Iq=Pp("Highlight");function Dq(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,o=kp(i._highlightResult,t),c=o||{},u=c.value,d=u===void 0?"":u,f=Iq({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return d.replace(new RegExp(gn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(gn.highlightPostTag,"g"),"</".concat(r,">"))}var Fq=Pp("ReverseHighlight");function Lq(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,o=kp(i._highlightResult,t),c=o||{},u=c.value,d=u===void 0?"":u,f=Fq({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):""),h=NN(LN(ON(d)));return h.replace(new RegExp(gn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(gn.highlightPostTag,"g"),"</".concat(r,">"))}var Mq=Pp("Snippet");function $q(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,o=kp(i._snippetResult,t),c=o||{},u=c.value,d=u===void 0?"":u,f=Mq({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return d.replace(new RegExp(gn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(gn.highlightPostTag,"g"),"</".concat(r,">"))}var Uq=Pp("ReverseSnippet");function zq(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,o=kp(i._snippetResult,t),c=o||{},u=c.value,d=u===void 0?"":u,f=Uq({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):""),h=NN(LN(ON(d)));return h.replace(new RegExp(gn.highlightPreTag,"g"),"<".concat(r,' class="').concat(f,'">')).replace(new RegExp(gn.highlightPostTag,"g"),"</".concat(r,">"))}function Sy(e){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sy(e)}function Hq(e){var t=e.method,n=e.payload;if(Sy(n)!=="object")throw new Error("The insights helper expects the payload to be an object.");var r;try{r=TN(n)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(t,'" data-insights-payload="').concat(r,'"')}function Bq(e,t){return Hq({method:e,payload:t})}function jy(e){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jy(e)}var qq="_ALGOLIA";function Wq(e){if(!((typeof document>"u"?"undefined":jy(document))!=="object"||typeof document.cookie!="string"))for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}}function Vq(){return Wq(qq)}function Qq(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function Eu(e){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}function fj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(n),!0).forEach(function(r){Kq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kq(e,t,n){return t=Gq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gq(e){var t=Yq(e,"string");return Eu(t)=="symbol"?t:String(t)}function Yq(e,t){if(Eu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ji(e,t){return Zq(e)||Xq(e,t)||XN(e,t)||Jq()}function Jq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xq(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Zq(e){if(Array.isArray(e))return e}function e9(e){return r9(e)||n9(e)||XN(e)||t9()}function t9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XN(e,t){if(e){if(typeof e=="string")return _y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _y(e,t)}}function n9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function r9(e){if(Array.isArray(e))return _y(e)}function _y(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ZN="2.17.2",i9="https://cdn.jsdelivr.net/npm/search-insights@".concat(ZN,"/dist/search-insights.min.js");function hj(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.insightsClient,n=e.insightsInitParams,r=e.onEvent,i=e.$$internal,s=i===void 0?!1:i,a=e.$$automatic,o=a===void 0?!1:a,c=t;!t&&t!==null&&us(function(d){var f=d.window,h=f.AlgoliaAnalyticsObject||"aa";typeof h=="string"&&(c=f[h]),c||(f.AlgoliaAnalyticsObject=h,f[h]||(f[h]=function(){f[h].queue||(f[h].queue=[]);for(var p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];f[h].queue.push(g)},f[h].version=ZN,f[h].shouldAddScript=!0),c=f[h])});var u=c||Ct;return function(d){var f=d.instantSearchInstance,h=f.middleware.filter(function(F){return F.instance.$$type==="ais.insights"&&F.instance.$$internal}).map(function(F){return F.creator});f.unuse.apply(f,e9(h));var p=F1(f.client),g=ji(p,2),m=g[0],w=g[1],v=void 0,x=void 0,b=void 0,S=u.queue;if(Array.isArray(S)){var j=["setUserToken","init"].map(function(F){var k=hu(S.slice().reverse(),function($){var A=ji($,1),U=A[0];return U===F})||[],D=ji(k,2),L=D[1];return L}),_=ji(j,2);x=_[0],v=_[1]}u("getUserToken",null,function(F,k){b=mj(k)}),(n||!pj(u))&&u("init",ea({appId:m,apiKey:w,partial:!0},n));var P,R;return{$$type:"ais.insights",$$internal:s,$$automatic:o,onStateChange:function(){},subscribe:function(){if(u.shouldAddScript){var k="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var D=document.createElement("script");D.async=!0,D.src=i9,D.onerror=function(){f.emit("error",new Error(k))},document.body.appendChild(D),u.shouldAddScript=!1}catch{u.shouldAddScript=!1,f.emit("error",new Error(k))}}},started:function(){u("addAlgoliaAgent","insights-middleware"),R=f.mainHelper;var k=u.queue;if(Array.isArray(k)){var D=["setUserToken","init"].map(function(ae){var Y=hu(k.slice().reverse(),function(le){var ue=ji(le,1),we=ue[0];return we===ae})||[],J=ji(Y,2),re=J[1];return re}),L=ji(D,2);x=L[0],v=L[1]}P=s9(f),o||R.overrideStateWithoutTriggeringChangeEvent(ea(ea({},R.state),{},{clickAnalytics:!0})),s||f.scheduleSearch();var $=function(Y){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,re=mj(Y);if(!re)return;var le=R.state.userToken;function ue(){R.overrideStateWithoutTriggeringChangeEvent(ea(ea({},R.state),{},{userToken:re})),le&&le!==Y&&f.scheduleSearch()}J?ue():setTimeout(ue,0)};function A(ae){$(ae,!0),u("setUserToken",ae)}var U=void 0,T=Vq();if(T)U=T;else{var H="anonymous-".concat(Qq());U=H}var E,O=P.userToken;if(n!=null&&n.userToken&&(E=n.userToken),E)A(E);else if(O)A(O);else if(b)A(b);else if(x)A(x);else if(U){var C;if(A(U),n!=null&&n.useCookie||(C=v)!==null&&C!==void 0&&C.useCookie){var I;a9(U,(n==null?void 0:n.cookieDuration)||((I=v)===null||I===void 0?void 0:I.cookieDuration))}}u("onUserTokenChange",function(ae){return $(ae,!0)},{immediate:!0});var z=u;pj(u)&&(z=function(Y,J){var re=F1(f.client),le=ji(re,2),ue=le[0],we=le[1],ke={headers:{"X-Algolia-Application-Id":ue,"X-Algolia-API-Key":we}};return u(Y,J,ke)});var N=new Set,ne;f.mainHelper.derivedHelpers[0].on("result",function(ae){var Y=ae.results;Y&&(!Y.queryID||Y.queryID!==ne)&&(ne=Y.queryID,N.clear())}),f.sendEventToInsights=function(ae){if(r)r(ae,z);else if(ae.insightsMethod){if(ae.insightsMethod==="viewedObjectIDs"){var Y=ae.payload,J=Y.objectIDs.filter(function(re){return!N.has(re)});if(J.length===0)return;J.forEach(function(re){return N.add(re)}),Y.objectIDs=J}ae.payload.algoliaSource=["instantsearch"],o&&ae.payload.algoliaSource.push("instantsearch-automatic"),ae.eventModifier==="internal"&&ae.payload.algoliaSource.push("instantsearch-internal"),z(ae.insightsMethod,ae.payload)}}},unsubscribe:function(){u("onUserTokenChange",void 0),f.sendEventToInsights=Ct,R&&P&&(R.overrideStateWithoutTriggeringChangeEvent(ea(ea({},R.state),P)),f.scheduleSearch())}}}}function s9(e){var t,n,r=((t=e._initialResults)===null||t===void 0||(n=t[e.indexName])===null||n===void 0?void 0:n.state)||{},i=e.mainHelper.state;return{userToken:r.userToken||i.userToken,clickAnalytics:r.clickAnalytics||i.clickAnalytics}}function a9(e,t){var n=2592e6,r=new Date;r.setTime(r.getTime()+(t||n*6));var i="expires=".concat(r.toUTCString());document.cookie="_ALGOLIA=".concat(e,";").concat(i,";path=/")}function pj(e){var t=(e.version||"").split(".").map(Number),n=ji(t,2),r=n[0],i=n[1],s=r>=3,a=r===2&&i>=6,o=r===1&&i>=10;return s||a||o}function mj(e){if(e)return typeof e=="number"?e.toString():e}function eT(e,t,n){var r=hc(t,t.mainIndex,t._initialUiState);e.forEach(function(i){var s={};if(i.getWidgetRenderState){var a=i.getWidgetRenderState(r);a&&a.widgetParams&&(s=a.widgetParams)}var o=Object.keys(s).filter(function(c){return s[c]!==void 0});n.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:o}),i.$$type==="ais.index"&&eT(i.getWidgets(),t,n)})}function o9(){return us(function(e){var t,n,r=e.window;return((t=r.navigator)===null||t===void 0||(n=t.userAgent)===null||n===void 0?void 0:n.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function l9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.$$internal,n=t===void 0?!1:t;return function(r){var i=r.instantSearchInstance,s={widgets:[]},a=document.createElement("meta"),o=document.querySelector("head");return a.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:n,onStateChange:function(){},subscribe:function(){setTimeout(function(){var u=i.client;s.ua=u.transporter&&u.transporter.userAgent?u.transporter.userAgent.value:u._ua,eT(i.mainIndex.getWidgets(),i,s),i.middleware.forEach(function(d){return s.widgets.push({middleware:!0,type:d.instance.$$type,internal:d.instance.$$internal})}),a.content=JSON.stringify(s),o.appendChild(a)},0)},started:function(){},unsubscribe:function(){a.remove()}}}}var c9=String.prototype.replace,u9=/%20/g,ag={RFC1738:"RFC1738",RFC3986:"RFC3986"},Hb={default:ag.RFC3986,formatters:{RFC1738:function(e){return c9.call(e,u9,"+")},RFC3986:function(e){return String(e)}},RFC1738:ag.RFC1738,RFC3986:ag.RFC3986},d9=Hb,og=Object.prototype.hasOwnProperty,ca=Array.isArray,Jr=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),f9=function(t){for(;t.length>1;){var n=t.pop(),r=n.obj[n.prop];if(ca(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},tT=function(t,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(r[i]=t[i]);return r},h9=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(ca(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!og.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var i=t;return ca(t)&&!ca(n)&&(i=tT(t,r)),ca(t)&&ca(n)?(n.forEach(function(s,a){if(og.call(t,a)){var o=t[a];o&&typeof o=="object"&&s&&typeof s=="object"?t[a]=e(o,s,r):t.push(s)}else t[a]=s}),t):Object.keys(n).reduce(function(s,a){var o=n[a];return og.call(s,a)?s[a]=e(s[a],o,r):s[a]=o,s},i)},p9=function(t,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},t)},m9=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},g9=function(t,n,r,i,s){if(t.length===0)return t;var a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),r==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var o="",c=0;c<a.length;++c){var u=a.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===d9.RFC1738&&(u===40||u===41)){o+=a.charAt(c);continue}if(u<128){o=o+Jr[u];continue}if(u<2048){o=o+(Jr[192|u>>6]+Jr[128|u&63]);continue}if(u<55296||u>=57344){o=o+(Jr[224|u>>12]+Jr[128|u>>6&63]+Jr[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|a.charCodeAt(c)&1023),o+=Jr[240|u>>18]+Jr[128|u>>12&63]+Jr[128|u>>6&63]+Jr[128|u&63]}return o},v9=function(t){for(var n=[{obj:{o:t},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],a=s.obj[s.prop],o=Object.keys(a),c=0;c<o.length;++c){var u=o[c],d=a[u];typeof d=="object"&&d!==null&&r.indexOf(d)===-1&&(n.push({obj:a,prop:u}),r.push(d))}return f9(n),t},y9=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},x9=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},b9=function(t,n){return[].concat(t,n)},w9=function(t,n){if(ca(t)){for(var r=[],i=0;i<t.length;i+=1)r.push(n(t[i]));return r}return n(t)},nT={arrayToObject:tT,assign:p9,combine:b9,compact:v9,decode:m9,encode:g9,isBuffer:x9,isRegExp:y9,maybeMap:w9,merge:h9},Ey=nT,Oc=Hb,S9=Object.prototype.hasOwnProperty,gj={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},pa=Array.isArray,j9=String.prototype.split,_9=Array.prototype.push,rT=function(e,t){_9.apply(e,pa(t)?t:[t])},E9=Date.prototype.toISOString,vj=Oc.default,Qt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Ey.encode,encodeValuesOnly:!1,format:vj,formatter:Oc.formatters[vj],indices:!1,serializeDate:function(t){return E9.call(t)},skipNulls:!1,strictNullHandling:!1},C9=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},k9=function e(t,n,r,i,s,a,o,c,u,d,f,h,p,g){var m=t;if(typeof o=="function"?m=o(n,m):m instanceof Date?m=d(m):r==="comma"&&pa(m)&&(m=Ey.maybeMap(m,function(D){return D instanceof Date?d(D):D})),m===null){if(i)return a&&!p?a(n,Qt.encoder,g,"key",f):n;m=""}if(C9(m)||Ey.isBuffer(m)){if(a){var w=p?n:a(n,Qt.encoder,g,"key",f);if(r==="comma"&&p){for(var v=j9.call(String(m),","),x="",b=0;b<v.length;++b)x+=(b===0?"":",")+h(a(v[b],Qt.encoder,g,"value",f));return[h(w)+"="+x]}return[h(w)+"="+h(a(m,Qt.encoder,g,"value",f))]}return[h(n)+"="+h(String(m))]}var S=[];if(typeof m>"u")return S;var j;if(r==="comma"&&pa(m))j=[{value:m.length>0?m.join(",")||null:void 0}];else if(pa(o))j=o;else{var _=Object.keys(m);j=c?_.sort(c):_}for(var P=0;P<j.length;++P){var R=j[P],F=typeof R=="object"&&typeof R.value<"u"?R.value:m[R];if(!(s&&F===null)){var k=pa(m)?typeof r=="function"?r(n,R):n:n+(u?"."+R:"["+R+"]");rT(S,e(F,k,r,i,s,a,o,c,u,d,f,h,p,g))}}return S},P9=function(t){if(!t)return Qt;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=t.charset||Qt.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Oc.default;if(typeof t.format<"u"){if(!S9.call(Oc.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var i=Oc.formatters[r],s=Qt.filter;return(typeof t.filter=="function"||pa(t.filter))&&(s=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Qt.addQueryPrefix,allowDots:typeof t.allowDots>"u"?Qt.allowDots:!!t.allowDots,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Qt.charsetSentinel,delimiter:typeof t.delimiter>"u"?Qt.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Qt.encode,encoder:typeof t.encoder=="function"?t.encoder:Qt.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Qt.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Qt.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Qt.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Qt.strictNullHandling}},R9=function(e,t){var n=e,r=P9(t),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):pa(r.filter)&&(s=r.filter,i=s);var a=[];if(typeof n!="object"||n===null)return"";var o;t&&t.arrayFormat in gj?o=t.arrayFormat:t&&"indices"in t?o=t.indices?"indices":"repeat":o="indices";var c=gj[o];i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var u=0;u<i.length;++u){var d=i[u];r.skipNulls&&n[d]===null||rT(a,k9(n[d],d,c,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset))}var f=a.join(r.delimiter),h=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),f.length>0?h+f:""},ml=nT,Cy=Object.prototype.hasOwnProperty,N9=Array.isArray,Vt={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ml.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},T9=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},iT=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},A9="utf8=%26%2310003%3B",O9="utf8=%E2%9C%93",I9=function(t,n){var r={},i=n.ignoreQueryPrefix?t.replace(/^\?/,""):t,s=n.parameterLimit===1/0?void 0:n.parameterLimit,a=i.split(n.delimiter,s),o=-1,c,u=n.charset;if(n.charsetSentinel)for(c=0;c<a.length;++c)a[c].indexOf("utf8=")===0&&(a[c]===O9?u="utf-8":a[c]===A9&&(u="iso-8859-1"),o=c,c=a.length);for(c=0;c<a.length;++c)if(c!==o){var d=a[c],f=d.indexOf("]="),h=f===-1?d.indexOf("="):f+1,p,g;h===-1?(p=n.decoder(d,Vt.decoder,u,"key"),g=n.strictNullHandling?null:""):(p=n.decoder(d.slice(0,h),Vt.decoder,u,"key"),g=ml.maybeMap(iT(d.slice(h+1),n),function(m){return n.decoder(m,Vt.decoder,u,"value")})),g&&n.interpretNumericEntities&&u==="iso-8859-1"&&(g=T9(g)),d.indexOf("[]=")>-1&&(g=N9(g)?[g]:g),Cy.call(r,p)?r[p]=ml.combine(r[p],g):r[p]=g}return r},D9=function(e,t,n,r){for(var i=r?t:iT(t,n),s=e.length-1;s>=0;--s){var a,o=e[s];if(o==="[]"&&n.parseArrays)a=[].concat(i);else{a=n.plainObjects?Object.create(null):{};var c=o.charAt(0)==="["&&o.charAt(o.length-1)==="]"?o.slice(1,-1):o,u=parseInt(c,10);!n.parseArrays&&c===""?a={0:i}:!isNaN(u)&&o!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(a=[],a[u]=i):c!=="__proto__"&&(a[c]=i)}i=a}return i},F9=function(t,n,r,i){if(t){var s=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,c=r.depth>0&&a.exec(s),u=c?s.slice(0,c.index):s,d=[];if(u){if(!r.plainObjects&&Cy.call(Object.prototype,u)&&!r.allowPrototypes)return;d.push(u)}for(var f=0;r.depth>0&&(c=o.exec(s))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&Cy.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;d.push(c[1])}return c&&d.push("["+s.slice(c.index)+"]"),D9(d,n,r,i)}},L9=function(t){if(!t)return Vt;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof t.charset>"u"?Vt.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?Vt.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:Vt.allowPrototypes,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:Vt.arrayLimit,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Vt.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:Vt.comma,decoder:typeof t.decoder=="function"?t.decoder:Vt.decoder,delimiter:typeof t.delimiter=="string"||ml.isRegExp(t.delimiter)?t.delimiter:Vt.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:Vt.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:Vt.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:Vt.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:Vt.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Vt.strictNullHandling}},M9=function(e,t){var n=L9(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?I9(e,n):e,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),a=0;a<s.length;++a){var o=s[a],c=F9(o,r[o],n,typeof e=="string");i=ml.merge(i,c,n)}return ml.compact(i)},$9=R9,U9=M9,z9=Hb,H9={formats:z9,parse:U9,stringify:$9};const yj=Da(H9);function Cu(e){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(e)}function B9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sT(r.key),r)}}function W9(e,t,n){return t&&q9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bn(e,t,n){return t=sT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sT(e){var t=V9(e,"string");return Cu(t)=="symbol"?t:String(t)}function V9(e,t){if(Cu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xj=function(t){t&&(window.document.title=t)},Q9=function(){function e(t){var n=this,r=t.windowTitle,i=t.writeDelay,s=i===void 0?400:i,a=t.createURL,o=t.parseURL,c=t.getLocation,u=t.start,d=t.dispose,f=t.push,h=t.cleanUrlOnDispose;B9(this,e),bn(this,"$$type","ais.browser"),bn(this,"windowTitle",void 0),bn(this,"writeDelay",void 0),bn(this,"_createURL",void 0),bn(this,"parseURL",void 0),bn(this,"getLocation",void 0),bn(this,"writeTimer",void 0),bn(this,"_onPopState",void 0),bn(this,"inPopState",!1),bn(this,"isDisposed",!1),bn(this,"latestAcknowledgedHistory",0),bn(this,"_start",void 0),bn(this,"_dispose",void 0),bn(this,"_push",void 0),bn(this,"_cleanUrlOnDispose",void 0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=s,this._createURL=a,this.parseURL=o,this.getLocation=c,this._start=u,this._dispose=d,this._push=f,this._cleanUrlOnDispose=typeof h>"u"?!0:h,us(function(p){var g=p.window,m=n.windowTitle&&n.windowTitle(n.read());xj(m),n.latestAcknowledgedHistory=g.history.length})}return W9(e,[{key:"read",value:function(){return this.parseURL({qsModule:yj,location:this.getLocation()})}},{key:"write",value:function(n){var r=this;us(function(i){var s=i.window,a=r.createURL(n),o=r.windowTitle&&r.windowTitle(n);r.writeTimer&&clearTimeout(r.writeTimer),r.writeTimer=setTimeout(function(){xj(o),r.shouldWrite(a)&&(r._push?r._push(a):s.history.pushState(n,o||"",a),r.latestAcknowledgedHistory=s.history.length),r.inPopState=!1,r.writeTimer=void 0},r.writeDelay)})}},{key:"onUpdate",value:function(n){var r=this;this._start&&this._start(function(){n(r.read())}),this._onPopState=function(){r.writeTimer&&(clearTimeout(r.writeTimer),r.writeTimer=void 0),r.inPopState=!0,n(r.read())},us(function(i){var s=i.window;s.addEventListener("popstate",r._onPopState)})}},{key:"createURL",value:function(n){var r=this._createURL({qsModule:yj,routeState:n,location:this.getLocation()});return r}},{key:"dispose",value:function(){var n=this;this._dispose&&this._dispose(),this.isDisposed=!0,us(function(r){var i=r.window;n._onPopState&&i.removeEventListener("popstate",n._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(n){var r=this;return us(function(i){var s=i.window;if(r.isDisposed&&!r._cleanUrlOnDispose)return!1;var a=!(r.isDisposed&&r.latestAcknowledgedHistory!==s.history.length);return!r.inPopState&&a&&n!==s.location.href})}}]),e}();function K9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.createURL,n=t===void 0?function(g){var m=g.qsModule,w=g.routeState,v=g.location,x=v.protocol,b=v.hostname,S=v.port,j=S===void 0?"":S,_=v.pathname,P=v.hash,R=m.stringify(w),F=j===""?"":":".concat(j);return R?"".concat(x,"//").concat(b).concat(F).concat(_,"?").concat(R).concat(P):"".concat(x,"//").concat(b).concat(F).concat(_).concat(P)}:t,r=e.parseURL,i=r===void 0?function(g){var m=g.qsModule,w=g.location;return m.parse(w.search.slice(1),{arrayLimit:99})}:r,s=e.writeDelay,a=s===void 0?400:s,o=e.windowTitle,c=e.getLocation,u=c===void 0?function(){return us(function(g){var m=g.window;return m.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:c,d=e.start,f=e.dispose,h=e.push,p=e.cleanUrlOnDispose;return new Q9({createURL:n,parseURL:i,writeDelay:a,windowTitle:o,getLocation:u,start:d,dispose:f,push:h,cleanUrlOnDispose:p})}function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}var G9=["configure"];function bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(n),!0).forEach(function(r){ky(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ky(e,t,n){return t=Y9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y9(e){var t=J9(e,"string");return ku(t)=="symbol"?t:String(t)}function J9(e,t){if(ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X9(e,t){if(e==null)return{};var n=Z9(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Z9(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function wj(e){e.configure;var t=X9(e,G9);return t}function eW(){return{$$type:"ais.simple",stateToRoute:function(t){return Object.keys(t).reduce(function(n,r){return ef(ef({},n),{},ky({},r,wj(t[r])))},{})},routeToState:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(n,r){return ef(ef({},n),{},ky({},r,wj(t[r])))},{})}}}function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}function Sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(n),!0).forEach(function(r){aT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aT(e,t,n){return t=tW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tW(e){var t=nW(e,"string");return Pu(t)=="symbol"?t:String(t)}function nW(e,t){if(Pu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.router,r=n===void 0?K9():n,i=t.stateMapping,s=i===void 0?eW():i,a=t.$$internal,o=a===void 0?!1:a;return function(c){var u=c.instantSearchInstance;function d(p){var g=u.mainIndex.getWidgets().length===0?u._initialUiState:u.mainIndex.getWidgetUiState({}),m=Object.keys(p).reduce(function(v,x){return tf(tf({},v),{},aT({},x,p[x]))},g),w=s.stateToRoute(m);return r.createURL(w)}u._createURL=d;var f=void 0,h=u._initialUiState;return{$$type:"ais.router({router:".concat(r.$$type||"__unknown__",", stateMapping:").concat(s.$$type||"__unknown__","})"),$$internal:o,onStateChange:function(g){var m=g.uiState,w=s.stateToRoute(m);(f===void 0||!DN(f,w))&&(r.write(w),f=w)},subscribe:function(){u._initialUiState=tf(tf({},h),s.routeToState(r.read())),r.onUpdate(function(g){u.mainIndex.getWidgets().length>0&&u.setUiState(s.routeToState(g))})},started:function(){var g;(g=r.start)===null||g===void 0||g.call(r)},unsubscribe:function(){r.dispose()}}}};function iW(e,t){return e.toLocaleString(t)}function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}function jj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(n),!0).forEach(function(r){sW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sW(e,t,n){return t=aW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aW(e){var t=oW(e,"string");return Ru(t)=="symbol"?t:String(t)}function oW(e,t){if(Ru(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lW(e){var t=e.numberLocale;return{formatNumber:function(r,i){return iW(Number(i(r)),t)},highlight:function(r,i){try{var s=JSON.parse(r);return i(Dq(bi(bi({},s),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(r,i){try{var s=JSON.parse(r);return i(Lq(bi(bi({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(r,i){try{var s=JSON.parse(r);return i($q(bi(bi({},s),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(r,i){try{var s=JSON.parse(r);return i(zq(bi(bi({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(r,i){try{var s=JSON.parse(r),a=s.method,o=s.payload;return i(Bq(a,bi({objectIDs:[this.objectID]},o)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}const cW="4.79.2";function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function _j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(n),!0).forEach(function(r){ze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oT(r.key),r)}}function fW(e,t,n){return t&&dW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Py(e,t)}function Py(e,t){return Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Py(e,t)}function pW(e){var t=gW();return function(){var r=kh(e),i;if(t){var s=kh(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return mW(this,i)}}function mW(e,t){if(t&&(gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(e)}function $e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gW(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kh(e){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kh(e)}function ze(e,t,n){return t=oT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oT(e){var t=vW(e,"string");return gl(t)=="symbol"?t:String(t)}function vW(e,t){if(gl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pr=Wr({name:"instantsearch"});function yW(){return"#"}var lT={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},xW=function(e){hW(n,e);var t=pW(n);function n(r){var i;uW(this,n),i=t.call(this),ze($e(i),"client",void 0),ze($e(i),"indexName",void 0),ze($e(i),"compositionID",void 0),ze($e(i),"insightsClient",void 0),ze($e(i),"onStateChange",null),ze($e(i),"future",void 0),ze($e(i),"helper",void 0),ze($e(i),"mainHelper",void 0),ze($e(i),"mainIndex",void 0),ze($e(i),"started",void 0),ze($e(i),"templatesConfig",void 0),ze($e(i),"renderState",{}),ze($e(i),"_stalledSearchDelay",void 0),ze($e(i),"_searchStalledTimer",void 0),ze($e(i),"_initialUiState",void 0),ze($e(i),"_initialResults",void 0),ze($e(i),"_manuallyResetScheduleSearch",!1),ze($e(i),"_resetScheduleSearch",void 0),ze($e(i),"_createURL",void 0),ze($e(i),"_searchFunction",void 0),ze($e(i),"_mainHelperSearch",void 0),ze($e(i),"_hasSearchWidget",!1),ze($e(i),"_hasRecommendWidget",!1),ze($e(i),"_insights",void 0),ze($e(i),"middleware",[]),ze($e(i),"sendEventToInsights",void 0),ze($e(i),"status","idle"),ze($e(i),"error",void 0),ze($e(i),"scheduleSearch",Zl(function(){i.started&&i.mainHelper.search()})),ze($e(i),"scheduleRender",Zl(function(){var L,$=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(L=i.mainHelper)!==null&&L!==void 0&&L.hasPendingRequests()||(clearTimeout(i._searchStalledTimer),i._searchStalledTimer=null,$&&(i.status="idle",i.error=void 0)),i.mainIndex.render({instantSearchInstance:$e(i)}),i.emit("render")})),ze($e(i),"onInternalStateChange",Zl(function(){var L=i.mainIndex.getWidgetUiState({});i.middleware.forEach(function($){var A=$.instance;A.onStateChange({uiState:L})})})),i.setMaxListeners(100);var s=r.indexName,a=s===void 0?"":s,o=r.compositionID,c=r.numberLocale,u=r.initialUiState,d=u===void 0?{}:u,f=r.routing,h=f===void 0?null:f,p=r.insights,g=p===void 0?void 0:p,m=r.searchFunction,w=r.stalledSearchDelay,v=w===void 0?200:w,x=r.searchClient,b=x===void 0?null:x,S=r.insightsClient,j=S===void 0?null:S,_=r.onStateChange,P=_===void 0?null:_,R=r.future,F=R===void 0?lg(lg({},lT),r.future||{}):R;if(b===null)throw new Error(Pr("The `searchClient` option is required."));if(typeof b.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof b.addAlgoliaAgent=="function"&&b.addAlgoliaAgent("instantsearch.js (".concat(cW,")")),j&&typeof j!="function")throw new Error(Pr("The `insightsClient` option should be a function."));if(i.client=b,i.future=F,i.insightsClient=j,i.indexName=a,i.compositionID=o,i.helper=null,i.mainHelper=null,i.mainIndex=Cq({indexName:i.compositionID||i.indexName}),i.onStateChange=P,i.started=!1,i.templatesConfig={helpers:lW({numberLocale:c}),compileOptions:{}},i._stalledSearchDelay=v,i._searchStalledTimer=null,i._createURL=yW,i._initialUiState=d,i._initialResults=null,i._insights=g,m&&(i._searchFunction=m),i.sendEventToInsights=Ct,h){var k=typeof h=="boolean"?{}:h;k.$$internal=!0,i.use(rW(k))}if(g){var D=typeof g=="boolean"?{}:g;D.$$internal=!0,i.use(hj(D))}return o9()&&i.use(l9({$$internal:!0})),i}return fW(n,[{key:"_isSearchStalled",get:function(){return this.status==="stalled"}},{key:"use",value:function(){for(var i=this,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];var c=a.map(function(u){var d=lg({$$type:"__unknown__",$$internal:!1,subscribe:Ct,started:Ct,unsubscribe:Ct,onStateChange:Ct},u({instantSearchInstance:i}));return i.middleware.push({creator:u,instance:d}),d});return this.started&&c.forEach(function(u){u.subscribe(),u.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return this.middleware.filter(function(o){return s.includes(o.creator)}).forEach(function(o){return o.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(o){return!s.includes(o.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(Pr("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(i.some(function(s){return typeof s.init!="function"&&typeof s.render!="function"}))throw new Error(Pr("The widget definition expects a `render` and/or an `init` method."));if(this.compositionID&&i.some(vr))throw new Error(Pr("The `index` widget cannot be used with a composition-based InstantSearch implementation."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(Pr("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(i.some(function(s){return typeof s.dispose!="function"}))throw new Error(Pr("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(Pr("The `start` method has already been called once."));var s=this.mainHelper||an(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(this.compositionID&&(s.searchForFacetValues=s.searchForCompositionFacetValues.bind(s)),s.search=function(){return i.status="loading",i.scheduleRender(!1),i._hasSearchWidget&&(i.compositionID?s.searchWithComposition():s.searchOnlyWithDerivedHelpers()),i._hasRecommendWidget&&s.recommend(),s},this._searchFunction){var a={search:function(){return new Promise(Ct)}};this._mainHelperSearch=s.search.bind(s),s.search=function(){var c=i.mainIndex.getHelper(),u=an(a,c.state.index,c.state);return u.once("search",function(d){var f=d.state;c.overrideStateWithoutTriggeringChangeEvent(f),i._mainHelperSearch()}),u.on("change",function(d){var f=d.state;c.setState(f)}),i._searchFunction(u),s}}if(s.on("error",function(c){var u=c.error;if(!(u instanceof Error)){var d=u;u=Object.keys(d).reduce(function(f,h){return f[h]=d[h],f},new Error(d.message))}u.error=u,i.error=u,i.status="error",i.scheduleRender(!1),i.emit("error",u)}),this.mainHelper=s,this.middleware.forEach(function(c){var u=c.instance;u.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){a8(this.client,this._initialResults),XB(this.mainHelper,this._initialResults);var o=this.scheduleSearch;this.scheduleSearch=Zl(Ct),this._manuallyResetScheduleSearch?this._resetScheduleSearch=function(){i.scheduleSearch=o}:Zl(function(){i.scheduleSearch=o})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(c){var u=c.instance;u.started()}),typeof this._insights>"u"&&s.derivedHelpers[0].once("result",function(){var c=i.mainIndex.getScopedResults().some(function(u){var d=u.results;return d==null?void 0:d._automaticInsights});c&&i.use(hj({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var i;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(i=this.mainHelper)===null||i===void 0||i.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(s){var a=s.instance;a.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(Pr("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var o=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&a?this.onStateChange({uiState:o,setUiState:function(u){yy(typeof u=="function"?u(o):u,s.mainIndex),s.scheduleSearch(),s.onInternalStateChange()}}):(yy(o,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(Pr("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(Pr("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),n}(F6),cT={exports:{}},uT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=y;function bW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wW=typeof Object.is=="function"?Object.is:bW,SW=vl.useState,jW=vl.useEffect,_W=vl.useLayoutEffect,EW=vl.useDebugValue;function CW(e,t){var n=t(),r=SW({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return _W(function(){i.value=n,i.getSnapshot=t,cg(i)&&s({inst:i})},[e,n,t]),jW(function(){return cg(i)&&s({inst:i}),e(function(){cg(i)&&s({inst:i})})},[e]),EW(n),n}function cg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wW(e,n)}catch{return!0}}function kW(e,t){return t()}var PW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kW:CW;uT.useSyncExternalStore=vl.useSyncExternalStore!==void 0?vl.useSyncExternalStore:PW;cT.exports=uT;var RW=cT.exports,NW={};function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}function Ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(n),!0).forEach(function(r){TW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TW(e,t,n){return t=AW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AW(e){var t=OW(e,"string");return Nu(t)=="symbol"?t:String(t)}function OW(e,t){if(Nu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kj=["react (".concat(y.version,")"),"react-instantsearch (".concat(dy,")"),"react-instantsearch-core (".concat(dy,")")],Pj="react-instantsearch-server (".concat(dy,")"),IW=function(t){return t?"next.js (".concat(t,")"):null};function DW(e){var t=Aq(),n=BN(),r=qN(),i=WN(),s=i.waitForResultsRef,a=r==null?void 0:r.initialResults,o=y.useRef(e),c=n||a||s,u=y.useRef(null);if(r!=null&&r.ssrSearchRef&&(u=r.ssrSearchRef),u.current===null){var d=new xW(e);d._schedule=function(v){d._schedule.queue.push(v),clearTimeout(d._schedule.timer),d._schedule.timer=setTimeout(function(){d._schedule.queue.forEach(function(x){x()}),d._schedule.queue=[]},0)},d._schedule.queue=[],c&&(d._initialResults=a||{},d._manuallyResetScheduleSearch=!0),Rj(e.searchClient,[].concat(kj,[n&&Pj,IW(FW())])),c&&d.start(),n&&n.notifyServer({search:d}),e.routing,u.current=d}{var f=u.current,h=o.current;if(h.indexName!==e.indexName&&(f.helper.setIndex(e.indexName||"").search(),o.current=e),h.searchClient!==e.searchClient&&(Rj(e.searchClient,[].concat(kj,[n&&Pj])),f.mainHelper.setClient(e.searchClient).search(),o.current=e),h.onStateChange!==e.onStateChange&&(f.onStateChange=e.onStateChange,o.current=e),h.searchFunction!==e.searchFunction&&(f._searchFunction=e.searchFunction,o.current=e),h.stalledSearchDelay!==e.stalledSearchDelay){var p;f._stalledSearchDelay=(p=e.stalledSearchDelay)!==null&&p!==void 0?p:200,o.current=e}pl(h.future,e.future)||(f.future=Cj(Cj({},lT),e.future),o.current=e)}var g=y.useRef(null),m=RW.useSyncExternalStore(y.useCallback(function(){var w=u.current;return g.current===null?w.started||(w.start(),t()):(clearTimeout(g.current),w._preventWidgetCleanup=!1),function(){if(r!=null&&r.ssrSearchRef)return;function v(){w.dispose()}clearTimeout(w._schedule.timer),g.current=setTimeout(v),w._preventWidgetCleanup=!0}},[t,r]),function(){return u.current},function(){return u.current});return m}function Rj(e,t){typeof e.addAlgoliaAgent=="function"&&t.filter(Boolean).forEach(function(n){e.addAlgoliaAgent(n)})}function FW(){var e,t;return typeof window<"u"&&((e=window.next)===null||e===void 0?void 0:e.version)||(typeof process<"u"?(t=NW)===null||t===void 0?void 0:t.NEXT_RUNTIME:void 0)}var LW=["children"];function MW(e,t){if(e==null)return{};var n=$W(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $W(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function UW(e){var t=e.children,n=MW(e,LW),r=DW(n);return r.started?q.createElement(zN.Provider,{value:r},q.createElement($N.Provider,{value:r.mainIndex},t,q.createElement(zW,{search:r}))):null}function zW(e){var t=e.search;return y.useEffect(function(){t._resetScheduleSearch&&t._resetScheduleSearch()},[t]),null}function Tu(e){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}function HW(e){return VW(e)||WW(e)||qW(e)||BW()}function BW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qW(e,t){if(e){if(typeof e=="string")return Ry(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ry(e,t)}}function WW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VW(e){if(Array.isArray(e))return Ry(e)}function Ry(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ao(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(n),!0).forEach(function(r){QW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QW(e,t,n){return t=KW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KW(e){var t=GW(e,"string");return Tu(t)=="symbol"?t:String(t)}function GW(e,t){if(Tu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tj=Wr({name:"clear-refinements",connector:!0}),YW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct;return Ws(t,Tj()),function(r){var i=r||{},s=i.includedAttributes,a=s===void 0?[]:s,o=i.excludedAttributes,c=o===void 0?["query"]:o,u=i.transformItems,d=u===void 0?function(g){return g}:u;if(r&&r.includedAttributes&&r.excludedAttributes)throw new Error(Tj("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var f={refine:Ct,createURL:function(){return""},attributesToClear:[]},h=function(){return f.refine()},p=function(){return f.createURL()};return{$$type:"ais.clearRefinements",init:function(m){var w=m.instantSearchInstance;t(ao(ao({},this.getWidgetRenderState(m)),{},{instantSearchInstance:w}),!0)},render:function(m){var w=m.instantSearchInstance;t(ao(ao({},this.getWidgetRenderState(m)),{},{instantSearchInstance:w}),!1)},dispose:function(){n()},getRenderState:function(m,w){return ao(ao({},m),{},{clearRefinements:this.getWidgetRenderState(w)})},getWidgetRenderState:function(m){var w=m.createURL,v=m.scopedResults,x=m.results;f.attributesToClear=v.reduce(function(S,j){return S.concat(JW({scopedResult:j,includedAttributes:a,excludedAttributes:c,transformItems:d,results:x}))},[]),f.refine=function(){f.attributesToClear.forEach(function(S){var j=S.helper,_=S.items;j.setState(N1({helper:j,attributesToClear:_})).search()})},f.createURL=function(){return w(Ac.apply(void 0,HW(f.attributesToClear.map(function(S){var j=S.helper,_=S.items;return N1({helper:j,attributesToClear:_})}))))};var b=f.attributesToClear.some(function(S){return S.items.length>0});return{canRefine:b,hasRefinements:b,refine:h,createURL:p,widgetParams:r}}}}};function JW(e){var t=e.scopedResult,n=e.includedAttributes,r=e.excludedAttributes,i=e.transformItems,s=e.results,a=n.indexOf("query")!==-1||r.indexOf("query")===-1;return{helper:t.helper,items:i(FN(UB(t.results,t.helper.state,a).map(function(o){return o.attribute}).filter(function(o){return n.length===0||n.indexOf(o)!==-1}).filter(function(o){return o==="query"&&a||r.indexOf(o)===-1})),{results:s})}}function XW(e,t){return Wi(YW,e,t)}function Au(e){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}function Aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(n),!0).forEach(function(r){dT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dT(e,t,n){return t=ZW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZW(e){var t=e7(e,"string");return Au(t)=="symbol"?t:String(t)}function e7(e,t){if(Au(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t7=Wr({name:"hits",connector:!0});const n7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct;return Ws(t,t7()),function(r){var i=r||{},s=i.escapeHTML,a=s===void 0?!0:s,o=i.transformItems,c=o===void 0?function(f){return f}:o,u,d;return{$$type:"ais.hits",init:function(h){t(Xi(Xi({},this.getWidgetRenderState(h)),{},{instantSearchInstance:h.instantSearchInstance}),!0)},render:function(h){var p=this.getWidgetRenderState(h);t(Xi(Xi({},p),{},{instantSearchInstance:h.instantSearchInstance}),!1),p.sendEvent("view:internal",p.items)},getRenderState:function(h,p){return Xi(Xi({},h),{},{hits:this.getWidgetRenderState(p)})},getWidgetRenderState:function(h){var p,g,m,w=h.results,v=h.helper,x=h.instantSearchInstance;if(u||(u=TB({instantSearchInstance:x,helper:v,widgetType:this.$$type})),d||(d=AB({helper:v,widgetType:this.$$type,instantSearchInstance:x})),!w)return{hits:[],items:[],results:void 0,banner:void 0,sendEvent:u,bindEvent:d,widgetParams:r};a&&w.hits.length>0&&(w.hits=cB(w.hits));var b=qB(w.hits,w.page,w.hitsPerPage),S=KB(b,w.queryID),j=c(S,{results:w}),_=(p=w.renderingContent)===null||p===void 0||(g=p.widgets)===null||g===void 0||(m=g.banners)===null||m===void 0?void 0:m[0];return{hits:j,items:j,results:w,banner:_,sendEvent:u,bindEvent:d,widgetParams:r}},dispose:function(h){var p=h.state;return n(),a?p.setQueryParameters(Object.keys(dl).reduce(function(g,m){return Xi(Xi({},g),{},dT({},m,void 0))},{})):p},getWidgetSearchParameters:function(h,p){return a?h.setQueryParameters(dl):h}}}};function Rp(e,t){return Wi(n7,e,t)}function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function r7(e){return o7(e)||a7(e)||s7(e)||i7()}function i7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s7(e,t){if(e){if(typeof e=="string")return Ny(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ny(e,t)}}function a7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o7(e){if(Array.isArray(e))return Ny(e)}function Ny(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(n),!0).forEach(function(r){l7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l7(e,t,n){return t=c7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c7(e){var t=u7(e,"string");return Ou(t)=="symbol"?t:String(t)}function u7(e,t){if(Ou(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nf=Wr({name:"hits-per-page",connector:!0}),d7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct;return Ws(t,nf()),function(r){var i=r||{},s=i.items,a=i.transformItems,o=a===void 0?function(p){return p}:a;if(!Array.isArray(s))throw new Error(nf("The `items` option expects an array of objects."));var c=s,u=c.filter(function(p){return p.default===!0});if(u.length===0)throw new Error(nf("A default value must be specified in `items`."));if(u.length>1)throw new Error(nf("More than one default value is specified in `items`."));var d=u[0],f=function(g){var m=g.hitsPerPage;return c.map(function(w){return Xr(Xr({},w),{},{isRefined:Number(w.value)===Number(m)})})},h={getRefine:function(g){return function(m){return!m&&m!==0?g.setQueryParameter("hitsPerPage",void 0).search():g.setQueryParameter("hitsPerPage",m).search()}},createURLFactory:function(g){var m=g.state,w=g.createURL,v=g.getWidgetUiState,x=g.helper;return function(b){return w(function(S){return v(S,{searchParameters:m.resetPage().setQueryParameter("hitsPerPage",!b&&b!==0?void 0:b),helper:x})})}}};return{$$type:"ais.hitsPerPage",init:function(g){var m=g.state,w=g.instantSearchInstance,v=c.some(function(x){return Number(m.hitsPerPage)===Number(x.value)});v||(c=[{value:"",label:""}].concat(r7(c))),t(Xr(Xr({},this.getWidgetRenderState(g)),{},{instantSearchInstance:w}),!0)},render:function(g){var m=g.instantSearchInstance;t(Xr(Xr({},this.getWidgetRenderState(g)),{},{instantSearchInstance:m}),!1)},dispose:function(g){var m=g.state;return n(),m.setQueryParameter("hitsPerPage",void 0)},getRenderState:function(g,m){return Xr(Xr({},g),{},{hitsPerPage:this.getWidgetRenderState(m)})},getWidgetRenderState:function(g){var m=g.state,w=g.results,v=g.createURL,x=g.helper,b=w?w.nbHits>0:!1;return{items:o(f(m),{results:w}),refine:h.getRefine(x),createURL:h.createURLFactory({state:m,createURL:v,getWidgetUiState:this.getWidgetUiState,helper:x}),hasNoResults:!b,canRefine:b,widgetParams:r}},getWidgetUiState:function(g,m){var w=m.searchParameters,v=w.hitsPerPage;return v===void 0||v===d.value?g:Xr(Xr({},g),{},{hitsPerPage:v})},getWidgetSearchParameters:function(g,m){var w=m.uiState;return g.setQueryParameters({hitsPerPage:w.hitsPerPage||d.value})}}}};function f7(e,t){return Wi(d7,e,t)}function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function h7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fT(r.key),r)}}function m7(e,t,n){return t&&p7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ug(e,t,n){return t=fT(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fT(e){var t=g7(e,"string");return Iu(t)=="symbol"?t:String(t)}function g7(e,t){if(Iu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v7=function(){function e(t){h7(this,e),ug(this,"currentPage",void 0),ug(this,"total",void 0),ug(this,"padding",void 0),this.currentPage=t.currentPage,this.total=t.total,this.padding=t.padding}return m7(e,[{key:"pages",value:function(){var n=this.total,r=this.currentPage,i=this.padding;if(n===0)return[0];var s=this.nbPagesDisplayed(i,n);if(s===n)return Q1({end:n});var a=this.calculatePaddingLeft(r,i,n,s),o=s-a,c=r-a,u=r+o;return Q1({start:c,end:u})}},{key:"nbPagesDisplayed",value:function(n,r){return Math.min(2*n+1,r)}},{key:"calculatePaddingLeft",value:function(n,r,i,s){return n<=r?n:n>=i-r?s-(i-n):r}},{key:"isLastPage",value:function(){return this.currentPage>=this.total-1}},{key:"isFirstPage",value:function(){return this.currentPage<=0}}]),e}();function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}function Ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(n),!0).forEach(function(r){y7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ij(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y7(e,t,n){return t=x7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x7(e){var t=b7(e,"string");return Du(t)=="symbol"?t:String(t)}function b7(e,t){if(Du(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w7=Wr({name:"pagination",connector:!0}),S7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct;return Ws(t,w7()),function(r){var i=r||{},s=i.totalPages,a=i.padding,o=a===void 0?3:a,c=new v7({currentPage:0,total:0,padding:o}),u={};function d(f){var h=f.nbPages;return s!==void 0?Math.min(s,h):h}return{$$type:"ais.pagination",init:function(h){var p=h.instantSearchInstance;t(Zr(Zr({},this.getWidgetRenderState(h)),{},{instantSearchInstance:p}),!0)},render:function(h){var p=h.instantSearchInstance;t(Zr(Zr({},this.getWidgetRenderState(h)),{},{instantSearchInstance:p}),!1)},dispose:function(h){var p=h.state;return n(),p.setQueryParameter("page",void 0)},getWidgetUiState:function(h,p){var g=p.searchParameters,m=g.page||0;return m?Zr(Zr({},h),{},{page:m+1}):h},getWidgetSearchParameters:function(h,p){var g=p.uiState,m=g.page?g.page-1:0;return h.setQueryParameter("page",m)},getWidgetRenderState:function(h){var p=h.results,g=h.helper,m=h.state,w=h.createURL;u.refine||(u.refine=function(b){g.setPage(b),g.search()}),u.createURL||(u.createURL=function(b){return w(function(S){return Zr(Zr({},S),{},{page:b+1})})});var v=m.page||0,x=d(p||{nbPages:0});return c.currentPage=v,c.total=x,{createURL:u.createURL,refine:u.refine,canRefine:x>1,currentRefinement:v,nbHits:(p==null?void 0:p.nbHits)||0,nbPages:x,pages:p?c.pages():[],isFirstPage:c.isFirstPage(),isLastPage:c.isLastPage(),widgetParams:r}},getRenderState:function(h,p){return Zr(Zr({},h),{},{pagination:this.getWidgetRenderState(p)})}}}};function hT(e,t){return Wi(S7,e,t)}function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function Dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(n),!0).forEach(function(r){If(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function If(e,t,n){return t=j7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j7(e){var t=_7(e,"string");return Fu(t)=="symbol"?t:String(t)}function _7(e,t){if(Fu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oo(e,t){return P7(e)||k7(e,t)||C7(e,t)||E7()}function E7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C7(e,t){if(e){if(typeof e=="string")return Fj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fj(e,t)}}function Fj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k7(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function P7(e){if(Array.isArray(e))return e}var dg=Wr({name:"range-input",connector:!0},{name:"range-slider",connector:!0}),R7="ais.range";function Lj(e){var t=e.min,n=e.max,r=e.precision,i=Math.pow(10,r);return{min:t&&Math.floor(t*i)/i,max:n&&Math.ceil(n*i)/i}}var N7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct;return Ws(t,dg()),function(r){var i=r||{},s=i.attribute,a=s===void 0?"":s,o=i.min,c=i.max,u=i.precision,d=u===void 0?0:u;if(!a)throw new Error(dg("The `attribute` option is required."));if(Je(o)&&Je(c)&&o>c)throw new Error(dg("The `max` option can't be lower than `min`."));var f=function(b){return Number(Number(b).toFixed(d))},h={from:function(b){return b.toLocaleString()},to:function(b){return f(b).toLocaleString()}},p=function(b,S,j,_){var P=b.state,R=S.min,F=S.max,k=P.getNumericRefinement(a,">=")||[],D=oo(k,1),L=D[0],$=P.getNumericRefinement(a,"<=")||[],A=oo($,1),U=A[0],T=j===void 0||j==="",H=_===void 0||_==="",E=Lj({min:T?void 0:parseFloat(j),max:H?void 0:parseFloat(_),precision:d}),O=E.min,C=E.max,I;!Je(o)&&R===O?I=void 0:Je(o)&&T?I=o:I=O;var z;!Je(c)&&F===C?z=void 0:Je(c)&&H?z=c:z=C;var N=I===void 0,ne=Je(R)&&R<=I,ae=N||Je(I)&&(!Je(R)||ne),Y=z===void 0,J=Je(z)&&F>=z,re=Y||Je(z)&&(!Je(F)||J),le=L!==I,ue=U!==z;return(le||ue)&&ae&&re?(P=P.removeNumericRefinement(a),Je(I)&&(P=P.addNumericRefinement(a,">=",I)),Je(z)&&(P=P.addNumericRefinement(a,"<=",z)),P.resetPage()):null},g=function(b){return function(){if(arguments.length===1){b.sendEventToInsights(arguments.length<=0?void 0:arguments[0]);return}}};function m(x){var b;Je(o)?b=o:Je(x.min)?b=x.min:b=0;var S;return Je(c)?S=c:Je(x.max)?S=x.max:S=0,Lj({min:b,max:S,precision:d})}function w(x){var b=x.getNumericRefinement(a,">=")||[],S=oo(b,1),j=S[0],_=x.getNumericRefinement(a,"<=")||[],P=oo(_,1),R=P[0],F=Je(j)?j:-1/0,k=Je(R)?R:1/0;return[F,k]}function v(x,b){return function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[void 0,void 0],j=oo(S,2),_=j[0],P=j[1],R=p(x,b,_,P);R&&x.setState(R).search()}}return{$$type:R7,init:function(b){t(nn(nn({},this.getWidgetRenderState(b)),{},{instantSearchInstance:b.instantSearchInstance}),!0)},render:function(b){t(nn(nn({},this.getWidgetRenderState(b)),{},{instantSearchInstance:b.instantSearchInstance}),!1)},getRenderState:function(b,S){return nn(nn({},b),{},{range:nn(nn({},b.range),{},If({},a,this.getWidgetRenderState(S)))})},getWidgetRenderState:function(b){var S=b.results,j=b.helper,_=b.instantSearchInstance,P=S&&S.disjunctiveFacets||[],R=hu(P,function($){return $.name===a}),F=R&&R.stats||{min:void 0,max:void 0},k=m(F),D=w(j),L;return S?L=v(j,k):L=v(j,{min:void 0,max:void 0}),{refine:L,canRefine:k.min!==k.max,format:h,range:k,sendEvent:g(_),widgetParams:nn(nn({},r),{},{precision:d}),start:D}},dispose:function(b){var S=b.state;return n(),S.removeDisjunctiveFacet(a).removeNumericRefinement(a)},getWidgetUiState:function(b,S){var j=S.searchParameters,_=j.getNumericRefinements(a),P=_[">="],R=P===void 0?[]:P,F=_["<="],k=F===void 0?[]:F;return R.length===0&&k.length===0?b:nn(nn({},b),{},{range:nn(nn({},b.range),{},If({},a,"".concat(R,":").concat(k)))})},getWidgetSearchParameters:function(b,S){var j=S.uiState,_=b.addDisjunctiveFacet(a).setQueryParameters({numericRefinements:nn(nn({},b.numericRefinements),{},If({},a,{}))});Je(o)&&(_=_.addNumericRefinement(a,">=",o)),Je(c)&&(_=_.addNumericRefinement(a,"<=",c));var P=j.range&&j.range[a];if(!P||P.indexOf(":")===-1)return _;var R=P.split(":").map(parseFloat),F=oo(R,2),k=F[0],D=F[1];return Je(k)&&(!Je(o)||o<k)&&(_=_.removeNumericRefinement(a,">="),_=_.addNumericRefinement(a,">=",k)),Je(D)&&(!Je(c)||D<c)&&(_=_.removeNumericRefinement(a,"<="),_=_.addNumericRefinement(a,"<=",D)),_}}}};function T7(e,t){return Wi(N7,e,t)}function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}var A7=["name","escapedValue"],O7=["escapedValue","value"];function Mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(n),!0).forEach(function(r){pc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pc(e,t,n){return t=I7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I7(e){var t=D7(e,"string");return Lu(t)=="symbol"?t:String(t)}function D7(e,t){if(Lu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $j(e,t){if(e==null)return{};var n=F7(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function F7(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var rf=Wr({name:"refinement-list",connector:!0}),Uj=["isRefined","count:desc","name:asc"],L7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct;return Ws(t,rf()),function(r){var i=r||{},s=i.attribute,a=i.operator,o=a===void 0?"or":a,c=i.limit,u=c===void 0?10:c,d=i.showMore,f=d===void 0?!1:d,h=i.showMoreLimit,p=h===void 0?20:h,g=i.sortBy,m=g===void 0?Uj:g,w=i.escapeFacetValues,v=w===void 0?!0:w,x=i.transformItems,b=x===void 0?function(H){return H}:x;if(!s)throw new Error(rf("The `attribute` option is required."));if(!/^(and|or)$/.test(o))throw new Error(rf('The `operator` must one of: `"and"`, `"or"` (got "'.concat(o,'").')));if(f===!0&&p<=u)throw new Error(rf("`showMoreLimit` should be greater than `limit`."));var S=function(E){var O=E.name,C=E.escapedValue,I=$j(E,A7);return Xe(Xe({},I),{},{value:C,label:O,highlighted:O})},j,_=[],P=!0,R,F,k=!1,D=function(){};function L(){D()}function $(H,E){return function(){k=!k,E.render(H)}}function A(){return k?p:u}var U=function(){return function(){}},T=function(E,O){return function(C){return function(I){var z=C.instantSearchInstance,N=C.results;if(I===""&&_)t(Xe(Xe({},O.getWidgetRenderState(Xe(Xe({},C),{},{results:j}))),{},{instantSearchInstance:z}),!1);else{var ne={highlightPreTag:v?dl.highlightPreTag:gn.highlightPreTag,highlightPostTag:v?dl.highlightPostTag:gn.highlightPostTag};E.searchForFacetValues(s,I,Math.min(A(),100),ne).then(function(ae){var Y=v?uB(ae.facetHits):ae.facetHits,J=b(Y.map(function(re){var le=re.escapedValue,ue=re.value,we=$j(re,O7);return Xe(Xe({},we),{},{value:le,label:ue})}),{results:N});t(Xe(Xe({},O.getWidgetRenderState(Xe(Xe({},C),{},{results:j}))),{},{items:J,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:z}),!1)})}}}};return{$$type:"ais.refinementList",init:function(E){t(Xe(Xe({},this.getWidgetRenderState(E)),{},{instantSearchInstance:E.instantSearchInstance}),!0)},render:function(E){t(Xe(Xe({},this.getWidgetRenderState(E)),{},{instantSearchInstance:E.instantSearchInstance}),!1)},getRenderState:function(E,O){return Xe(Xe({},E),{},{refinementList:Xe(Xe({},E.refinementList),{},pc({},s,this.getWidgetRenderState(O)))})},getWidgetRenderState:function(E){var O=this,C=E.results,I=E.state,z=E.createURL,N=E.instantSearchInstance,ne=E.helper,ae=[],Y=[];if((!F||!R||!U)&&(F=wB({instantSearchInstance:N,helper:ne,attribute:s,widgetType:this.$$type}),R=function(Rt){F("click:internal",Rt),ne.toggleFacetRefinement(s,Rt).search()},U=T(ne,this)),C){var J=C.getFacetValues(s,{sortBy:m,facetOrdering:m===Uj});Y=J&&Array.isArray(J)?J:[],ae=b(Y.slice(0,A()).map(S),{results:C});var re=I.maxValuesPerFacet,le=A();P=re>le?Y.length<=le:Y.length<le,j=C,_=ae,E.results&&(D=$(E,this))}var ue=U&&U(E),we=k&&_.length>u,ke=f&&!P,mt=we||ke;return{createURL:function(Rt){return z(function(ct){return O.getWidgetUiState(ct,{searchParameters:I.resetPage().toggleFacetRefinement(s,Rt),helper:ne})})},items:ae,refine:R,searchForItems:ue,isFromSearch:!1,canRefine:ae.length>0,widgetParams:r,isShowingMore:k,canToggleShowMore:mt,toggleShowMore:L,sendEvent:F,hasExhaustiveItems:P}},dispose:function(E){var O=E.state;n();var C=O.setQueryParameter("maxValuesPerFacet",void 0);return o==="and"?C.removeFacet(s):C.removeDisjunctiveFacet(s)},getWidgetUiState:function(E,O){var C=O.searchParameters,I=o==="or"?C.getDisjunctiveRefinements(s):C.getConjunctiveRefinements(s);return M7(Xe(Xe({},E),{},{refinementList:Xe(Xe({},E.refinementList),{},pc({},s,I))}),s)},getWidgetSearchParameters:function(E,O){var C=O.uiState,I=o==="or";if(E.isHierarchicalFacet(s)||I&&E.isConjunctiveFacet(s)||!I&&E.isDisjunctiveFacet(s))return E;var z=C.refinementList&&C.refinementList[s],N=I?E.addDisjunctiveFacet(s).removeDisjunctiveFacetRefinement(s):E.addFacet(s).removeFacetRefinement(s),ne=N.maxValuesPerFacet||0,ae=Math.max(ne,f?p:u),Y=N.setQueryParameter("maxValuesPerFacet",ae);if(!z){var J=I?"disjunctiveFacetsRefinements":"facetsRefinements";return Y.setQueryParameters(pc({},J,Xe(Xe({},Y[J]),{},pc({},s,[]))))}return z.reduce(function(re,le){return I?re.addDisjunctiveFacetRefinement(s,le):re.addFacetRefinement(s,le)},Y)}}}};function M7(e,t){return e.refinementList&&((!e.refinementList[t]||e.refinementList[t].length===0)&&delete e.refinementList[t],Object.keys(e.refinementList).length===0&&delete e.refinementList),e}function $7(e,t){return Wi(L7,e,t)}function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(n),!0).forEach(function(r){U7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U7(e,t,n){return t=z7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z7(e){var t=H7(e,"string");return Mu(t)=="symbol"?t:String(t)}function H7(e,t){if(Mu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B7=Wr({name:"search-box",connector:!0}),q7=function(t,n){return n(t)},W7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct;return Ws(t,B7()),function(r){var i=r||{},s=i.queryHook,a=s===void 0?q7:s,o,c;return{$$type:"ais.searchBox",init:function(d){var f=d.instantSearchInstance;t(Zi(Zi({},this.getWidgetRenderState(d)),{},{instantSearchInstance:f}),!0)},render:function(d){var f=d.instantSearchInstance;t(Zi(Zi({},this.getWidgetRenderState(d)),{},{instantSearchInstance:f}),!1)},dispose:function(d){var f=d.state;return n(),f.setQueryParameter("query",void 0)},getRenderState:function(d,f){return Zi(Zi({},d),{},{searchBox:this.getWidgetRenderState(f)})},getWidgetRenderState:function(d){var f=d.helper,h=d.instantSearchInstance,p=d.state;return o||(o=function(m){a(m,function(w){return f.setQuery(w).search()})},c=function(){f.setQuery("").search()}),{query:p.query||"",refine:o,clear:c,widgetParams:r,isSearchStalled:h.status==="stalled"}},getWidgetUiState:function(d,f){var h=f.searchParameters,p=h.query||"";return p===""||d&&d.query===p?d:Zi(Zi({},d),{},{query:p})},getWidgetSearchParameters:function(d,f){var h=f.uiState;return d.setQueryParameter("query",h.query||"")}}}};function Bb(e,t){return Wi(W7,e,t)}function $u(e){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function Hj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(n),!0).forEach(function(r){V7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V7(e,t,n){return t=Q7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q7(e){var t=K7(e,"string");return $u(t)=="symbol"?t:String(t)}function K7(e,t){if($u(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G7=Wr({name:"stats",connector:!0}),Y7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct;return Ws(t,G7()),function(r){return{$$type:"ais.stats",init:function(s){var a=s.instantSearchInstance;t(lo(lo({},this.getWidgetRenderState(s)),{},{instantSearchInstance:a}),!0)},render:function(s){var a=s.instantSearchInstance;t(lo(lo({},this.getWidgetRenderState(s)),{},{instantSearchInstance:a}),!1)},dispose:function(){n()},getRenderState:function(s,a){return lo(lo({},s),{},{stats:this.getWidgetRenderState(a)})},getWidgetRenderState:function(s){var a=s.results,o=s.state;return a?{hitsPerPage:a.hitsPerPage,nbHits:a.nbHits,nbSortedHits:a.nbSortedHits,areHitsSorted:typeof a.appliedRelevancyStrictness<"u"&&a.appliedRelevancyStrictness>0&&a.nbSortedHits!==a.nbHits,nbPages:a.nbPages,page:a.page,processingTimeMS:a.processingTimeMS,query:a.query,widgetParams:r}:{hitsPerPage:o.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:o.page||0,processingTimeMS:-1,query:o.query||"",widgetParams:r}}}}};function Np(e,t){return Wi(Y7,e,t)}const Tp=()=>{const{user:e}=pt(),[t,n]=y.useState(!1),[r,i]=y.useState(!0);return y.useEffect(()=>{(async()=>{if(!e){n(!1),i(!1);return}try{const{data:a,error:o}=await Q.rpc("is_supra_admin",{user_uuid:e.id});o?(console.error("Error checking supra admin status:",o),n(!1)):n(a||!1)}catch(a){console.error("Error in supra admin check:",a),n(!1)}i(!1)})()},[e]),{isSupraAdmin:t,loading:r}},Vs=()=>{pt();const{userProfile:e}=Rb(),{isSupraAdmin:t}=Tp(),{currentWorkspace:n}=hi(),r=t||(e==null?void 0:e.role)==="admin",i=t||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="gestionnaire",s=t||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="gestionnaire",a=t||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="gestionnaire",o=t||(e==null?void 0:e.role)==="admin",c=t||(e==null?void 0:e.role)==="admin",u=t||(e==null?void 0:e.role)==="admin";return{isSupraAdmin:t,canImportData:r,canExport:i,canCopyToClipboard:s,canAddToFavorites:a,canManageUsers:o,canManageWorkspace:c,canDeleteData:u,canAddUsers:o,role:e==null?void 0:e.role,planType:(n==null?void 0:n.plan_type)||(e==null?void 0:e.plan_type)}},J7={freemium:{exports_limit:10,clipboard_copies_limit:10,favorites_limit:10},standard:{exports_limit:100,clipboard_copies_limit:100,favorites_limit:100},premium:{exports_limit:1e3,clipboard_copies_limit:1e3,favorites_limit:null}},X7=()=>{const{user:e}=pt(),{planType:t,isSupraAdmin:n}=Vs(),r=y.useCallback(async()=>{if(!e)return;const s=J7[n?"premium":t||"freemium"];try{const{data:a,error:o}=await Q.from("search_quotas").select("*").eq("user_id",e.id).single();if(o&&o.code!=="PGRST116"){console.error("Erreur lors de la récupération des quotas:",o);return}const{error:c}=await Q.from("search_quotas").upsert({user_id:e.id,exports_limit:s.exports_limit,clipboard_copies_limit:s.clipboard_copies_limit,favorites_limit:s.favorites_limit,exports_used:(a==null?void 0:a.exports_used)||0,clipboard_copies_used:(a==null?void 0:a.clipboard_copies_used)||0,favorites_used:(a==null?void 0:a.favorites_used)||0,updated_at:new Date().toISOString()},{onConflict:"user_id"});c&&console.error("Erreur lors de la synchronisation des quotas:",c)}catch(a){console.error("Erreur lors de la synchronisation des quotas:",a)}},[e,t,n]);return y.useEffect(()=>{e&&t!==void 0&&r()},[e,t,n,r]),{syncUserQuotas:r}},pT=(e,t,n,r=[],i)=>{const s=y.useRef(null),a=y.useRef(null),o=y.useRef(!1),c=y.useCallback(d=>{a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{n(d)},t.debounceMs||100)},[n,t.debounceMs]);return y.useEffect(()=>{o.current=!1,s.current&&(Q.removeChannel(s.current),s.current=null);const d=Q.channel(e,{config:{presence:(i==null?void 0:i.presence)||{key:"default"},broadcast:(i==null?void 0:i.broadcast)||{self:!1},private:(i==null?void 0:i.private)||!0}}).on("postgres_changes",{event:t.event||"UPDATE",schema:t.schema||"public",table:t.table,filter:t.filter},c).subscribe(f=>{if(f==="CLOSED"){const h=o.current||typeof document<"u"&&document.visibilityState!=="visible";return}});return s.current=d,()=>{o.current=!0,a.current&&(clearTimeout(a.current),a.current=null),s.current&&(Q.removeChannel(s.current),s.current=null)}},r),{disconnect:y.useCallback(()=>{s.current&&(Q.removeChannel(s.current),s.current=null)},[])}},Z7=(e,t)=>pT(`quota-updates-${e}`,{table:"search_quotas",event:"UPDATE",filter:`user_id=eq.${e}`},t,[e],{presence:{key:e||"anonymous"},broadcast:{self:!1},private:!0}),eV=(e,t)=>pT(`workspace-assignments-${e}`,{table:"fe_source_workspace_assignments",event:"INSERT,DELETE",filter:`workspace_id=eq.${e}`,debounceMs:200},t,[e],{presence:{key:e||"default"},broadcast:{self:!1},private:!0}),qb=()=>{const{user:e}=pt(),{planType:t}=Vs(),[n,r]=y.useState(null),[i,s]=y.useState(!0),[a,o]=y.useState(null),{syncUserQuotas:c}=X7(),u=y.useCallback(async()=>{if(!e){s(!1);return}s(!0),o(null),await c();try{const{data:x,error:b}=await Q.from("search_quotas").select("*").eq("user_id",e.id).single();if(b&&b.code!=="PGRST116"){o(b.message);return}if(x){const S={...x,plan_type:t};r(S)}else{const{data:S,error:j}=await Q.from("search_quotas").insert({user_id:e.id,exports_limit:0,clipboard_copies_limit:10,favorites_limit:10,exports_used:0,clipboard_copies_used:0,favorites_used:0}).select().single();if(j){o(j.message);return}r(S)}}catch(x){o(x instanceof Error?x.message:"Unknown error")}finally{s(!1)}},[e,c,t]),d=y.useCallback(x=>{x.eventType==="UPDATE"&&x.new&&x.new.user_id===(e==null?void 0:e.id)&&r(x.new)},[e==null?void 0:e.id]);Z7(e==null?void 0:e.id,d),y.useEffect(()=>{u()},[u]);const f=n?n.exports_limit===null||n.exports_used<n.exports_limit:!1,h=n?n.clipboard_copies_limit===null||n.clipboard_copies_used<n.clipboard_copies_limit:!1,p=n?n.favorites_limit===null||n.favorites_used<n.favorites_limit:!1,g=n?!f||!h||!p:!1,m=y.useCallback(async(x=1)=>{if(!e||!n||n.exports_limit===null)return;const{error:b}=await Q.from("search_quotas").update({exports_used:n.exports_used+x}).eq("user_id",e.id);if(b)throw b;r(S=>S?{...S,exports_used:S.exports_used+x}:null)},[e,n]),w=y.useCallback(async(x=1)=>{if(!e||!n||n.clipboard_copies_limit===null)return;const{error:b}=await Q.from("search_quotas").update({clipboard_copies_used:n.clipboard_copies_used+x}).eq("user_id",e.id);if(b)throw b;r(S=>S?{...S,clipboard_copies_used:S.clipboard_copies_used+x}:null)},[e,n]),v=y.useCallback(async()=>{if(!e||!n||n.favorites_limit===null)return;const{error:x}=await Q.from("search_quotas").update({favorites_used:n.favorites_used+1}).eq("user_id",e.id);if(x)throw x;r(b=>b?{...b,favorites_used:b.favorites_used+1}:null)},[e,n]);return{quotaData:n,isLoading:i,error:a,canExport:f,canCopyToClipboard:h,canAddToFavorites:p,isAtLimit:g,incrementExport:m,incrementClipboardCopy:w,incrementFavorite:v,reloadQuota:u}},tV="ef_all",mT=!1,wn={ENABLE_CACHE:!0,ENABLE_DEDUPLICATION:!0,ENABLE_BATCHING:!0,ENABLE_SMART_THROTTLING:!0,ENABLE_SMART_SUGGESTIONS:!0,ENABLE_AUTO_TUNING:!0,ENABLE_PERFORMANCE_MONITORING:!0,DEBUG_PERFORMANCE:mT,CACHE_TTL_MS:5*60*1e3,MAX_CACHE_SIZE:1e3,THROTTLE_REQUESTS_PER_SECOND:5,DEBOUNCE_DELAY_MS:300,BATCH_DELAY_MS:50,MAX_BATCH_SIZE:10};class nV{constructor(){pe(this,"cache",new Map);pe(this,"metrics",{requestsPerMinute:0,cacheHitRate:0,avgResponseTime:0,duplicateRequests:0,totalRequests:0,savedRequests:0});pe(this,"requestTimestamps",[]);pe(this,"baseTTL",5*60*1e3);pe(this,"maxCacheSize",1e3)}generateCacheKey(t){const{query:n="",filters:r="",facetFilters:i=[],origin:s="all",hitsPerPage:a=20,page:o=0}=t,c=Array.isArray(i)?i.flat().sort().join("|"):String(i);return`${s}:${n}:${r}:${c}:${a}:${o}`}calculateAdaptiveTTL(t){var i;const n=t.query||"",r=t.filters||((i=t.facetFilters)==null?void 0:i.length)>0;return n.length>6&&r?this.baseTTL*2:n.length<3?this.baseTTL*.5:this.baseTTL}updateMetrics(){const n=Date.now()-60*1e3;this.requestTimestamps=this.requestTimestamps.filter(i=>i>n),this.metrics.requestsPerMinute=this.requestTimestamps.length;const r=this.metrics.totalRequests;this.metrics.cacheHitRate=r>0?this.metrics.savedRequests/r*100:0}evictOldEntries(){if(this.cache.size<=this.maxCacheSize)return;const n=Array.from(this.cache.entries()).sort((i,s)=>{const a=i[1].accessCount/(Date.now()-i[1].lastAccess),o=s[1].accessCount/(Date.now()-s[1].lastAccess);return a-o}),r=Math.floor(this.cache.size*.2);for(let i=0;i<r;i++)this.cache.delete(n[i][0])}get(t){const n=this.generateCacheKey(t),r=this.cache.get(n);if(this.metrics.totalRequests++,this.requestTimestamps.push(Date.now()),!r)return this.updateMetrics(),null;const i=Date.now();return i-r.timestamp>r.ttl?(this.cache.delete(n),this.updateMetrics(),null):(r.accessCount++,r.lastAccess=i,this.metrics.savedRequests++,this.updateMetrics(),r)}set(t,n,r="all"){const i=this.generateCacheKey(t),s=this.calculateAdaptiveTTL(t),a=Date.now(),o={key:i,data:n,timestamp:a,origin:r,ttl:s,accessCount:1,lastAccess:a};this.cache.set(i,o),this.evictOldEntries()}invalidateBySource(t){var n,r;for(const[i,s]of this.cache.entries())(r=(n=s.data)==null?void 0:n.results)!=null&&r.some(a=>{var o;return(o=a.hits)==null?void 0:o.some(c=>c.Source===t)})&&this.cache.delete(i)}invalidateByOrigin(t){for(const[n,r]of this.cache.entries())(r.origin===t||r.origin==="all")&&this.cache.delete(n)}clear(){this.cache.clear(),this.metrics={requestsPerMinute:0,cacheHitRate:0,avgResponseTime:0,duplicateRequests:0,totalRequests:0,savedRequests:0}}getMetrics(){return this.updateMetrics(),{...this.metrics}}autoTune(){const t=this.getMetrics();t.cacheHitRate<30&&(this.baseTTL=Math.min(this.baseTTL*1.2,15*60*1e3)),t.duplicateRequests>50&&(this.maxCacheSize=Math.min(this.maxCacheSize*1.1,2e3)),t.requestsPerMinute>100&&(this.baseTTL=Math.max(this.baseTTL*.8,2*60*1e3))}getCacheStats(){return{size:this.cache.size,maxSize:this.maxCacheSize,baseTTL:this.baseTTL,metrics:this.getMetrics(),entries:Array.from(this.cache.values()).map(t=>({key:t.key,age:Date.now()-t.timestamp,accessCount:t.accessCount,ttl:t.ttl}))}}}const Ht=new nV;class rV{constructor(){pe(this,"pendingRequests",new Map);pe(this,"requestQueue",new Map);pe(this,"timeout",5e3)}generateRequestKey(t){const{query:n="",filters:r="",facetFilters:i=[],origin:s="all",hitsPerPage:a=20,page:o=0,indexName:c=""}=t,u=Array.isArray(i)?i.flat().sort().join("|"):String(i);return`${c}:${s}:${n}:${r}:${u}:${a}:${o}`}cleanupExpiredRequests(){const t=Date.now();for(const[n,r]of this.pendingRequests.entries())t-r.timestamp>this.timeout&&(this.pendingRequests.delete(n),this.requestQueue.delete(n))}async deduplicateRequest(t,n){this.cleanupExpiredRequests();const r=this.generateRequestKey(t),i=this.pendingRequests.get(r);if(i)return i.requestCount++,this.requestQueue.has(r)||this.requestQueue.set(r,[]),this.requestQueue.get(r).push(t),i.promise;const s=n(),a=Date.now();return this.pendingRequests.set(r,{promise:s,timestamp:a,requestCount:1}),s.finally(()=>{this.pendingRequests.delete(r),this.requestQueue.delete(r)}),s}getDuplicationStats(){const t={activePendingRequests:this.pendingRequests.size,totalDuplicatedRequests:0,mostDuplicatedKeys:[]};for(const[n,r]of this.pendingRequests.entries())t.totalDuplicatedRequests+=r.requestCount-1;return t.mostDuplicatedKeys=Array.from(this.pendingRequests.entries()).map(([n,r])=>({key:n,count:r.requestCount})).sort((n,r)=>r.count-n.count).slice(0,10),t}batchSimilarRequests(t){const n=new Map;for(const r of t){const i=this.generateBatchKey(r);n.has(i)||n.set(i,[]),n.get(i).push(r)}return n}generateBatchKey(t){const{origin:n="all",indexName:r="",query:i=""}=t,s=i.substring(0,3);return`${r}:${n}:${s}`}clear(){this.pendingRequests.clear(),this.requestQueue.clear()}}const fg=new rV,iV=["query","queryType","typoTolerance","minWordSizefor1Typo","minWordSizefor2Typos","allowTyposOnNumericTokens","ignorePlurals","disableTypoToleranceOnAttributes","attributesToIndex","attributesToRetrieve","unretrievableAttributes","optionalWords","attributesToHighlight","attributesToSnippet","highlightPreTag","highlightPostTag","snippetEllipsisText","restrictHighlightAndSnippetArrays","hitsPerPage","page","offset","length","minProximity","getRankingInfo","clickAnalytics","analytics","analyticsTags","synonyms","replaceSynonymsInHighlight","responseFields","maxValuesPerFacet","sortFacetValuesBy","facets","maxFacetHits","attributesToRetrieve","facetFilters","filters","numericFilters","tagFilters","sumOrFiltersScores","facetName","facetQuery","restrictSearchableAttributes","facetingAfterDistinct","naturalLanguages","ruleContexts","personalizationImpact","userToken","enablePersonalization","distinct","attributeForDistinct","customRanking","ranking","relevancyStrictness","facetQuery","searchForFacetValues","attributesToHighlight","highlightPreTag","highlightPostTag"];function Bj(e){if(!e)return e;const t=n=>typeof n!="string"?!1:n.startsWith("source_index:")||n.startsWith("scope:");return Array.isArray(e)?e.map(r=>{if(Array.isArray(r)){const i=r.filter(s=>!t(s));return i.length>0?i:null}return t(r)?null:r}).filter(r=>r&&(Array.isArray(r)?r.length>0:!0)):typeof e=="string"?[[e]]:e}function sV(e={},t={}){const n={};return new Set([...Object.keys(e||{}),...Object.keys(t||{})]).forEach(i=>{const s=(e==null?void 0:e[i])||{},a=(t==null?void 0:t[i])||{},o=new Set([...Object.keys(s),...Object.keys(a)]);n[i]={},o.forEach(c=>{n[i][c]=(s[c]||0)+(a[c]||0)})}),n}function ic(e,t,n){const r={hits:[],nbHits:0,nbPages:0,page:0,processingTimeMS:0,facets:{},facets_stats:null,query:"",params:""},i=e||r,s=t||r,o={...i||s||r},c=new Set,u=[],d=g=>{for(const m of g||[]){const w=String((m==null?void 0:m.objectID)??"");c.has(w)||(c.add(w),u.push(m))}};d(i==null?void 0:i.hits),d(s==null?void 0:s.hits),o.hits=u;const f=g=>typeof(g==null?void 0:g.nbHits)=="number"?g.nbHits:(Array.isArray(g==null?void 0:g.hits)?g.hits:[]).length,h=n!=null&&n.sumNbHits?f(i)+f(s):f(i);o.nbHits=typeof h=="number"&&isFinite(h)?h:0;const p=g=>{if(!g||typeof g!="string")return;const m=g.match(/(?:^|&)hitsPerPage=(\d+)(?:&|$)/);if(!m)return;const w=Number(m[1]);return Number.isFinite(w)?w:void 0};if(n!=null&&n.sumNbHits){const g=p(i==null?void 0:i.params)||p(s==null?void 0:s.params)||20;o.nbPages=Math.ceil((o.nbHits||0)/g),o.page=typeof(i==null?void 0:i.page)=="number"?i.page:typeof(s==null?void 0:s.page)=="number"?s.page:0;const m=typeof(i==null?void 0:i.processingTimeMS)=="number"?i.processingTimeMS:0,w=typeof(s==null?void 0:s.processingTimeMS)=="number"?s.processingTimeMS:0;o.processingTimeMS=Math.max(m,w)}else o.nbPages=typeof(i==null?void 0:i.nbPages)=="number"?i.nbPages:typeof(s==null?void 0:s.nbPages)=="number"?s.nbPages:0,o.page=typeof(i==null?void 0:i.page)=="number"?i.page:typeof(s==null?void 0:s.page)=="number"?s.page:0,o.processingTimeMS=typeof(i==null?void 0:i.processingTimeMS)=="number"?i.processingTimeMS:typeof(s==null?void 0:s.processingTimeMS)=="number"?s.processingTimeMS:0;return o.facets=sV(i==null?void 0:i.facets,s==null?void 0:s.facets),o.facets_stats=(i==null?void 0:i.facets_stats)||(s==null?void 0:s.facets_stats)||null,o}function aV(e){return!e||e.length===0?"objectID:_none_":e.map(t=>`objectID:${t}`).join(" OR ")}const oV={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_USE_SECURED_KEYS:"true"};function hg(e,t,n){try{if(!(typeof import.meta<"u"&&oV&&!1))return}catch{return}try{console.debug(`[Algolia][Filters] ${e}`,{filters:t,...n||{}})}catch{}}class lV{async search(t){try{const{data:{session:n}}=await Q.auth.getSession(),r={};n!=null&&n.access_token&&(r.Authorization=`Bearer ${n.access_token}`);const{data:i,error:s}=await Q.functions.invoke("algolia-search-proxy",{body:{requests:t},headers:r});if(s)throw new Error(`Search proxy error: ${s.message||JSON.stringify(s)}`);const a=i;return Array.isArray(a==null?void 0:a.results)?{results:a.results}:{results:[a]}}catch(n){throw console.error("Proxy search client error:",n),n}}async singleSearch(t){const{results:n}=await this.search([t]);return n[0]}}const cV=new lV,pg=e=>({search:async t=>{const n=t.map(r=>{var i;return{...r.params,searchType:e,query:((i=r.params)==null?void 0:i.query)||""}});return cV.search(n)}});function uV(){function e(t){return new Promise(n=>{let r=new XMLHttpRequest;r.open(t.method,t.url,!0),Object.keys(t.headers).forEach(o=>r.setRequestHeader(o,t.headers[o]));let i=(o,c)=>setTimeout(()=>{r.abort(),n({status:0,content:c,isTimedOut:!0})},o),s=i(t.connectTimeout,"Connection timeout"),a;r.onreadystatechange=()=>{r.readyState>r.OPENED&&a===void 0&&(clearTimeout(s),a=i(t.responseTimeout,"Socket timeout"))},r.onerror=()=>{r.status===0&&(clearTimeout(s),clearTimeout(a),n({content:r.responseText||"Network request failed",status:r.status,isTimedOut:!1}))},r.onload=()=>{clearTimeout(s),clearTimeout(a),n({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(t.data)})}return{send:e}}function dV(e){let t;const n=`algolia-client-js-${e.key}`;function r(){return t===void 0&&(t=e.localStorage||window.localStorage),t}function i(){return JSON.parse(r().getItem(n)||"{}")}function s(o){r().setItem(n,JSON.stringify(o))}function a(){const o=e.timeToLive?e.timeToLive*1e3:null,c=i(),u=Object.fromEntries(Object.entries(c).filter(([,f])=>f.timestamp!==void 0));if(s(u),!o)return;const d=Object.fromEntries(Object.entries(u).filter(([,f])=>{const h=new Date().getTime();return!(f.timestamp+o<h)}));s(d)}return{get(o,c,u={miss:()=>Promise.resolve()}){return Promise.resolve().then(()=>(a(),i()[JSON.stringify(o)])).then(d=>Promise.all([d?d.value:c(),d!==void 0])).then(([d,f])=>Promise.all([d,f||u.miss(d)])).then(([d])=>d)},set(o,c){return Promise.resolve().then(()=>{const u=i();return u[JSON.stringify(o)]={timestamp:new Date().getTime(),value:c},r().setItem(n,JSON.stringify(u)),c})},delete(o){return Promise.resolve().then(()=>{const c=i();delete c[JSON.stringify(o)],r().setItem(n,JSON.stringify(c))})},clear(){return Promise.resolve().then(()=>{r().removeItem(n)})}}}function fV(){return{get(e,t,n={miss:()=>Promise.resolve()}){return t().then(i=>Promise.all([i,n.miss(i)])).then(([i])=>i)},set(e,t){return Promise.resolve(t)},delete(e){return Promise.resolve()},clear(){return Promise.resolve()}}}function mc(e){const t=[...e.caches],n=t.shift();return n===void 0?fV():{get(r,i,s={miss:()=>Promise.resolve()}){return n.get(r,i,s).catch(()=>mc({caches:t}).get(r,i,s))},set(r,i){return n.set(r,i).catch(()=>mc({caches:t}).set(r,i))},delete(r){return n.delete(r).catch(()=>mc({caches:t}).delete(r))},clear(){return n.clear().catch(()=>mc({caches:t}).clear())}}}function mg(e={serializable:!0}){let t={};return{get(n,r,i={miss:()=>Promise.resolve()}){const s=JSON.stringify(n);if(s in t)return Promise.resolve(e.serializable?JSON.parse(t[s]):t[s]);const a=r();return a.then(o=>i.miss(o)).then(()=>a)},set(n,r){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete(n){return delete t[JSON.stringify(n)],Promise.resolve()},clear(){return t={},Promise.resolve()}}}function hV(e){const t={value:`Algolia for JavaScript (${e})`,add(n){const r=`; ${n.segment}${n.version!==void 0?` (${n.version})`:""}`;return t.value.indexOf(r)===-1&&(t.value=`${t.value}${r}`),t}};return t}function pV(e,t,n="WithinHeaders"){const r={"x-algolia-api-key":t,"x-algolia-application-id":e};return{headers(){return n==="WithinHeaders"?r:{}},queryParameters(){return n==="WithinQueryParameters"?r:{}}}}function mV({algoliaAgents:e,client:t,version:n}){const r=hV(n).add({segment:t,version:n});return e.forEach(i=>r.add(i)),r}function gV(){return{debug(e,t){return Promise.resolve()},info(e,t){return Promise.resolve()},error(e,t){return Promise.resolve()}}}var qj=2*60*1e3;function Wj(e,t="up"){const n=Date.now();function r(){return t==="up"||Date.now()-n>qj}function i(){return t==="timed out"&&Date.now()-n<=qj}return{...e,status:t,lastUpdate:n,isUp:r,isTimedOut:i}}var gT=class extends Error{constructor(t,n){super(t);pe(this,"name","AlgoliaError");n&&(this.name=n)}},vT=class extends gT{constructor(t,n,r){super(t,r);pe(this,"stackTrace");this.stackTrace=n}},vV=class extends vT{constructor(e){super("Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support.",e,"RetryError")}},Ty=class extends vT{constructor(t,n,r,i="ApiError"){super(t,r,i);pe(this,"status");this.status=n}},yV=class extends gT{constructor(t,n){super(t,"DeserializationError");pe(this,"response");this.response=n}},xV=class extends Ty{constructor(t,n,r,i){super(t,n,i,"DetailedApiError");pe(this,"error");this.error=r}};function bV(e){const t=e;for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1)),i=e[n];t[n]=e[r],t[r]=i}return t}function wV(e,t,n){const r=SV(n);let i=`${e.protocol}://${e.url}${e.port?`:${e.port}`:""}/${t.charAt(0)==="/"?t.substring(1):t}`;return r.length&&(i+=`?${r}`),i}function SV(e){return Object.keys(e).filter(t=>e[t]!==void 0).sort().map(t=>`${t}=${encodeURIComponent(Object.prototype.toString.call(e[t])==="[object Array]"?e[t].join(","):e[t]).replace(/\+/g,"%20")}`).join("&")}function jV(e,t){if(e.method==="GET"||e.data===void 0&&t.data===void 0)return;const n=Array.isArray(e.data)?e.data:{...e.data,...t.data};return JSON.stringify(n)}function _V(e,t,n){const r={Accept:"application/json",...e,...t,...n},i={};return Object.keys(r).forEach(s=>{const a=r[s];i[s.toLowerCase()]=a}),i}function EV(e){try{return JSON.parse(e.content)}catch(t){throw new yV(t.message,e)}}function CV({content:e,status:t},n){try{const r=JSON.parse(e);return"error"in r?new xV(r.message,t,r.error,n):new Ty(r.message,t,n)}catch{}return new Ty(e,t,n)}function kV({isTimedOut:e,status:t}){return!e&&~~t===0}function PV({isTimedOut:e,status:t}){return e||kV({isTimedOut:e,status:t})||~~(t/100)!==2&&~~(t/100)!==4}function RV({status:e}){return~~(e/100)===2}function NV(e){return e.map(t=>yT(t))}function yT(e){const t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...e,request:{...e.request,headers:{...e.request.headers,...t}}}}function TV({hosts:e,hostsCache:t,baseHeaders:n,logger:r,baseQueryParameters:i,algoliaAgent:s,timeouts:a,requester:o,requestsCache:c,responsesCache:u}){async function d(p){const g=await Promise.all(p.map(b=>t.get(b,()=>Promise.resolve(Wj(b))))),m=g.filter(b=>b.isUp()),w=g.filter(b=>b.isTimedOut()),v=[...m,...w];return{hosts:v.length>0?v:p,getTimeout(b,S){return(w.length===0&&b===0?1:w.length+3+b)*S}}}async function f(p,g,m=!0){const w=[],v=jV(p,g),x=_V(n,p.headers,g.headers),b=p.method==="GET"?{...p.data,...g.data}:{},S={...i,...p.queryParameters,...b};if(s.value&&(S["x-algolia-agent"]=s.value),g&&g.queryParameters)for(const F of Object.keys(g.queryParameters))!g.queryParameters[F]||Object.prototype.toString.call(g.queryParameters[F])==="[object Object]"?S[F]=g.queryParameters[F]:S[F]=g.queryParameters[F].toString();let j=0;const _=async(F,k)=>{const D=F.pop();if(D===void 0)throw new vV(NV(w));const L={...a,...g.timeouts},$={data:v,headers:x,method:p.method,url:wV(D,p.path,S),connectTimeout:k(j,L.connect),responseTimeout:k(j,m?L.read:L.write)},A=T=>{const H={request:$,response:T,host:D,triesLeft:F.length};return w.push(H),H},U=await o.send($);if(PV(U)){const T=A(U);return U.isTimedOut&&j++,r.info("Retryable failure",yT(T)),await t.set(D,Wj(D,U.isTimedOut?"timed out":"down")),_(F,k)}if(RV(U))return EV(U);throw A(U),CV(U,w)},P=e.filter(F=>F.accept==="readWrite"||(m?F.accept==="read":F.accept==="write")),R=await d(P);return _([...R.hosts].reverse(),R.getTimeout)}function h(p,g={}){const m=p.useReadTransporter||p.method==="GET";if(!m)return f(p,g,m);const w=()=>f(p,g);if((g.cacheable||p.cacheable)!==!0)return w();const x={request:p,requestOptions:g,transporter:{queryParameters:i,headers:n}};return u.get(x,()=>c.get(x,()=>c.set(x,w()).then(b=>Promise.all([c.delete(x),b]),b=>Promise.all([c.delete(x),Promise.reject(b)])).then(([b,S])=>S)),{miss:b=>u.set(x,b)})}return{hostsCache:t,requester:o,timeouts:a,logger:r,algoliaAgent:s,baseHeaders:n,baseQueryParameters:i,hosts:e,request:h,requestsCache:c,responsesCache:u}}var xT="5.35.0";function AV(e){return[{url:`${e}-dsn.algolia.net`,accept:"read",protocol:"https"},{url:`${e}.algolia.net`,accept:"write",protocol:"https"}].concat(bV([{url:`${e}-1.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${e}-2.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${e}-3.algolianet.com`,accept:"readWrite",protocol:"https"}]))}function OV({appId:e,apiKey:t,authMode:n,algoliaAgents:r,...i}){const s=pV(e,t,n),a=TV({hosts:AV(e),...i,algoliaAgent:mV({algoliaAgents:r,client:"Lite",version:xT}),baseHeaders:{"content-type":"text/plain",...s.headers(),...i.baseHeaders},baseQueryParameters:{...s.queryParameters(),...i.baseQueryParameters}});return{transporter:a,appId:e,apiKey:t,clearCache(){return Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then(()=>{})},get _ua(){return a.algoliaAgent.value},addAlgoliaAgent(o,c){a.algoliaAgent.add({segment:o,version:c})},setClientApiKey({apiKey:o}){!n||n==="WithinHeaders"?a.baseHeaders["x-algolia-api-key"]=o:a.baseQueryParameters["x-algolia-api-key"]=o},searchForHits(o,c){return this.search(o,c)},searchForFacets(o,c){return this.search(o,c)},customPost({path:o,parameters:c,body:u},d){if(!o)throw new Error("Parameter `path` is required when calling `customPost`.");const g={method:"POST",path:"/{path}".replace("{path}",o),queryParameters:c||{},headers:{},data:u||{}};return a.request(g,d)},getRecommendations(o,c){if(o&&Array.isArray(o)&&(o={requests:o}),!o)throw new Error("Parameter `getRecommendationsParams` is required when calling `getRecommendations`.");if(!o.requests)throw new Error("Parameter `getRecommendationsParams.requests` is required when calling `getRecommendations`.");const h={method:"POST",path:"/1/indexes/*/recommendations",queryParameters:{},headers:{},data:o,useReadTransporter:!0,cacheable:!0};return a.request(h,c)},search(o,c){if(o&&Array.isArray(o)&&(o={requests:o.map(({params:g,...m})=>m.type==="facet"?{...m,...g,type:"facet"}:{...m,...g,facet:void 0,maxFacetHits:void 0,facetQuery:void 0})}),!o)throw new Error("Parameter `searchMethodParams` is required when calling `search`.");if(!o.requests)throw new Error("Parameter `searchMethodParams.requests` is required when calling `search`.");const h={method:"POST",path:"/1/indexes/*/queries",queryParameters:{},headers:{},data:o,useReadTransporter:!0,cacheable:!0};return a.request(h,c)}}}function gg(e,t,n){return OV({appId:e,apiKey:t,timeouts:{connect:1e3,read:2e3,write:3e4},logger:gV(),requester:uV(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:mg(),requestsCache:mg({serializable:!1}),hostsCache:mc({caches:[dV({key:`${xT}-${e}`}),mg()]}),...n})}const sf="6BGAS85TYS",af="e06b7614aaff866708fbd2872de90d37";let Ph=0,Df=0;function of(){return Date.now()<Ph}function vg(){Df=Math.min(Df+1,6);const e=10*6e4,t=Math.min(e*Math.pow(2,Df-1),60*60*1e3);Ph=Date.now()+t,typeof window<"u"&&(window.__algoliaBlockedUntil=Ph)}function IV(){Ph=0,Df=0,typeof window<"u"&&(window.__algoliaBlockedUntil=0)}function yg(e){var r;const t=(e==null?void 0:e.status)??(e==null?void 0:e.httpStatusCode)??((r=e==null?void 0:e.response)==null?void 0:r.status),n=String((e==null?void 0:e.message)||"").toLowerCase();return t===403||n.includes("forbidden")||n.includes("blocked")}function Ff(e){var r,i;const t=((r=e==null?void 0:e.params)==null?void 0:r.hitsPerPage)||10,n=((i=e==null?void 0:e.params)==null?void 0:i.query)||"";return{hits:[],nbHits:0,page:0,nbPages:0,hitsPerPage:t,processingTimeMS:0,query:n,params:""}}function lf(e){const t=e[0];return{results:e.map(()=>Ff(t))}}class DV{constructor(t,n=[]){pe(this,"clients",null);pe(this,"initPromise",null);pe(this,"requestQueue",[]);pe(this,"batchTimer",null);pe(this,"batchDelay",50);pe(this,"maxBatchSize",10);this.workspaceId=t,this.assignedSources=n,this.initializeClients()}async initializeClients(){return this.initPromise?this.initPromise:(this.initPromise=(async()=>{typeof window<"u"&&/^(localhost|127\.0\.0\.1)$/i.test(window.location.hostname)&&sf&&af?this.clients={fullPublic:gg(sf,af),fullPrivate:gg(sf,af),teaser:gg(sf,af)}:this.clients={fullPublic:pg("fullPublic"),fullPrivate:pg("fullPrivate"),teaser:pg("teaserPublic")}})(),this.initPromise)}async search(t,n={}){if(await this.initializeClients(),of())return lf(t||[]);const{enableCache:r=!0,enableDeduplication:i=!0,enableBatching:s=!0,forceRefresh:a=!1,timeout:o=5e3}=n,c=this.cleanRequests(t);return s&&!a&&c.length===1?this.addToBatch(c[0]):this.processRequests(c,{enableCache:r,enableDeduplication:i,forceRefresh:a,timeout:o})}cleanRequests(t){return t.map(n=>({...n,params:Object.fromEntries(Object.entries(n.params||{}).filter(([r])=>iV.includes(r)))}))}async addToBatch(t){return new Promise((n,r)=>{if(t.resolve=n,t.reject=r,this.requestQueue.push(t),this.requestQueue.length>=this.maxBatchSize){this.processBatch();return}this.scheduleBatch()})}scheduleBatch(){this.batchTimer||(this.batchTimer=setTimeout(()=>{this.processBatch()},this.batchDelay))}async processBatch(){if(this.batchTimer&&(clearTimeout(this.batchTimer),this.batchTimer=null),this.requestQueue.length===0)return;const t=this.requestQueue.splice(0,this.maxBatchSize);try{if(of()){const r=lf(t);t.forEach((i,s)=>{const a=i.resolve;a&&a({results:[r.results[s]]})});return}const n=await this.processRequests(t.map(r=>({...r,resolve:void 0,reject:void 0})));t.forEach((r,i)=>{const s=r.resolve;s&&s({results:[n.results[i]]})})}catch(n){if(yg(n)){vg(),console.log("ℹ️ Algolia temporairement indisponible (plan payant requis)"),t.forEach(r=>{const i=r.resolve;i&&i({results:[Ff(r)]})});return}t.forEach(r=>{const i=r.reject;i&&i(n)})}this.requestQueue.length>0&&this.scheduleBatch()}async processRequests(t,n={}){var a;const{enableCache:r=!0,enableDeduplication:i=!0,forceRefresh:s=!1}=n;if(of())return lf(t);try{if(t.length<=1){const f=[];for(const h of t){if(r&&!s){const g=Ht.get(h);if(g){f.push(g.data);continue}}const p=i?await fg.deduplicateRequest(h,()=>this.executeSingleRequest(h)):await this.executeSingleRequest(h);f.push(p),r&&Ht.set(h,p,h.origin)}return{results:f}}const o=((a=t[0])==null?void 0:a.origin)||"all",c=[],u=[];r&&!s?t.forEach((f,h)=>{const p=Ht.get(f);p?c.push({index:h,data:p.data}):u.push({index:h,req:f})}):t.forEach((f,h)=>u.push({index:h,req:f}));const d=new Array(t.length);if(c.forEach(f=>{d[f.index]=f.data}),u.length>0){const f=b=>{const S={...b.params||{}},j=Bj(S.facetFilters);return{baseParams:S,safeFacetFilters:j}},h=[],p=[],g=[];for(const b of u){const{baseParams:S,safeFacetFilters:j}=f(b.req);if(o==="public"){const _=this.assignedSources&&this.assignedSources.length>0?[["access_level:standard",...this.assignedSources.map(P=>`Source:${P}`)]]:[["access_level:standard"]];h.push({indexName:"ef_all",params:{...S,facetFilters:[["scope:public"],..._,...j||[]],filters:S.filters}}),g.push({index:b.index,which:"public"})}else if(o==="private"){const _=this.workspaceId?[["workspace_id:"+this.workspaceId]]:[["workspace_id:_none_"]];p.push({indexName:"ef_all",params:{...S,facetFilters:[["scope:private"],..._,...j||[]],filters:S.filters}}),g.push({index:b.index,which:"private"})}else{const _=this.assignedSources&&this.assignedSources.length>0?[["access_level:standard",...this.assignedSources.map(R=>`Source:${R}`)]]:[["access_level:standard"]];h.push({indexName:"ef_all",params:{...S,facetFilters:[["scope:public"],..._,...j||[]],filters:S.filters}});const P=this.workspaceId?[["workspace_id:"+this.workspaceId]]:[["workspace_id:_none_"]];p.push({indexName:"ef_all",params:{...S,facetFilters:[["scope:private"],...P,...j||[]],filters:S.filters}}),g.push({index:b.index,which:"both"})}}let m=[],w=[];if(o==="public"){const b=await this.clients.fullPublic.search(h),j=(await this.clients.teaser.search(h)).results||[];m=(b.results||[]).map((_,P)=>ic(_,j[P]||{hits:[]}))}else if(o==="private")w=(await this.clients.fullPrivate.search(p)).results||[];else{const[b,S,j]=await Promise.all([this.clients.fullPublic.search(h),this.clients.fullPrivate.search(p),this.clients.teaser.search(h)]),_=j.results||[];m=(b.results||[]).map((P,R)=>ic(P,_[R]||{hits:[]})),w=S.results||[]}let v=0,x=0;for(const b of g){let S={hits:[],nbHits:0,nbPages:0,page:0,processingTimeMS:0,facets:{},facets_stats:null,query:"",params:""};if(b.which==="public")S=m[v++]||S;else if(b.which==="private")S=w[x++]||S;else{const j=m[v++]||S,_=w[x++]||S;S=ic(j,_,{sumNbHits:!0})}d[b.index]=S}r&&u.forEach(b=>{const S=d[b.index];S&&Ht.set(b.req,S,b.req.origin)})}return IV(),{results:d}}catch(o){return yg(o)&&(vg(),console.log("ℹ️ Algolia temporairement indisponible (plan payant requis)")),lf(t)}}async executeSingleRequest(t){if(!this.clients)throw new Error("Clients not initialized");if(of())return Ff(t);try{const n=t.origin||"all",r={...t.params||{}};hg("1. Raw incoming facetFilters",r.facetFilters,{origin:n});const i=Bj(r.facetFilters);switch(hg("2. After sanitizeFacetFilters",i),n){case"public":return this.searchPublicOnly(r,i);case"private":return this.searchPrivateOnly(r,i);default:return this.searchFederated(r,i)}}catch(n){return yg(n)&&(vg(),console.log("ℹ️ Algolia temporairement indisponible (plan payant requis)")),Ff(t)}}async searchPublicOnly(t,n){const r=this.assignedSources&&this.assignedSources.length>0?[["access_level:standard",...this.assignedSources.map(a=>`Source:${a}`)]]:[["access_level:standard"]],i={indexName:"ef_all",params:{...t,facetFilters:[["scope:public"],...r,...n||[]],filters:t.filters}};return(await this.clients.fullPublic.search([i])).results[0]}async searchPrivateOnly(t,n){const r=this.workspaceId?[["workspace_id:"+this.workspaceId]]:[["workspace_id:_none_"]],i={indexName:"ef_all",params:{...t,facetFilters:[["scope:private"],...r,...n||[]],filters:t.filters}};return(await this.clients.fullPrivate.search([i])).results[0]}async searchFederated(t,n){const r=this.assignedSources&&this.assignedSources.length>0?[["access_level:standard",...this.assignedSources.map(h=>`Source:${h}`)]]:[["access_level:standard"]],i=this.workspaceId?[["workspace_id:"+this.workspaceId]]:[["workspace_id:_none_"]],s=[["scope:public"],...r,...n||[]];hg("3. Final PUBLIC facetFilters",s);const a={indexName:"ef_all",params:{...t,facetFilters:s,filters:t.filters}},o={indexName:"ef_all",params:{...t,facetFilters:[["scope:private"],...i,...n||[]],filters:t.filters}},[c,u,d]=await Promise.all([this.clients.fullPublic.search([a]),this.clients.fullPrivate.search([o]),this.clients.teaser.search([a])]),f=ic(c.results[0],d.results[0]);return ic(f,u.results[0],{sumNbHits:!0})}combineFilters(...t){const n=t.filter(r=>r&&r.trim().length>0);if(n.length!==0)return n.length===1?n[0]:n.map(r=>`(${r})`).join(" AND ")}getPerformanceMetrics(){return{cache:Ht.getMetrics(),deduplication:fg.getDuplicationStats(),queueSize:this.requestQueue.length,clientsInitialized:!!this.clients}}invalidateCache(t,n){t?Ht.invalidateBySource(t):n?Ht.invalidateByOrigin(n):Ht.clear()}optimize(){Ht.autoTune()}dispose(){this.batchTimer&&(clearTimeout(this.batchTimer),this.batchTimer=null),this.requestQueue=[],Ht.clear(),fg.clear()}}const bT=(e,t=[])=>new DV(e,t);class FV{constructor(t){pe(this,"metrics");pe(this,"requestTimes",[]);pe(this,"requestTimestamps",[]);pe(this,"uniqueUsers",new Set);pe(this,"searchTerms",new Map);pe(this,"maxHistorySize",1e3);pe(this,"metricsRetentionTime",24*60*60*1e3);pe(this,"alertConfig");pe(this,"alertCallbacks",[]);this.alertConfig={errorRateThreshold:5,responseTimeThreshold:2e3,cacheHitRateThreshold:70,requestRateThreshold:100,...t},this.metrics=this.initializeMetrics(),this.startPeriodicCalculations()}initializeMetrics(){return{totalRequests:0,successfulRequests:0,failedRequests:0,averageResponseTime:0,p95ResponseTime:0,p99ResponseTime:0,cacheHitRate:0,cacheMissRate:0,cacheSize:0,duplicateRequestsAvoided:0,deduplicationRate:0,throttledRequests:0,debouncedRequests:0,totalRequestsSaved:0,estimatedCostSavings:0,searchesPerMinute:0,uniqueUsers:0,topSearchTerms:[],lastUpdated:Date.now()}}recordRequest(t,n,r,i,s=!1){if(this.metrics.totalRequests++,n?this.metrics.successfulRequests++:this.metrics.failedRequests++,s||(this.requestTimes.push(t),this.limitArraySize(this.requestTimes)),this.requestTimestamps.push(Date.now()),this.limitArraySize(this.requestTimestamps),r&&this.uniqueUsers.add(r),i&&i.trim()){const a=i.trim().toLowerCase();this.searchTerms.set(a,(this.searchTerms.get(a)||0)+1)}this.updateDerivedMetrics(),this.checkAlerts()}recordSaving(t,n=1){switch(t){case"cache":break;case"deduplication":this.metrics.duplicateRequestsAvoided+=n;break;case"throttling":this.metrics.throttledRequests+=n;break;case"debouncing":this.metrics.debouncedRequests+=n;break}this.metrics.totalRequestsSaved+=n,this.updateDerivedMetrics()}updateDerivedMetrics(){const t=Date.now();if(this.requestTimes.length>0){const a=[...this.requestTimes].sort((o,c)=>o-c);this.metrics.averageResponseTime=a.reduce((o,c)=>o+c,0)/a.length,this.metrics.p95ResponseTime=a[Math.floor(a.length*.95)]||0,this.metrics.p99ResponseTime=a[Math.floor(a.length*.99)]||0}const n=this.metrics.totalRequests;if(n>0){const a=this.metrics.totalRequestsSaved+this.metrics.duplicateRequestsAvoided;this.metrics.cacheHitRate=a/n*100,this.metrics.cacheMissRate=100-this.metrics.cacheHitRate}this.metrics.totalRequests>0&&(this.metrics.deduplicationRate=this.metrics.duplicateRequestsAvoided/this.metrics.totalRequests*100);const r=t-60*1e3,i=this.requestTimestamps.filter(a=>a>r);this.metrics.searchesPerMinute=i.length,this.metrics.uniqueUsers=this.uniqueUsers.size,this.metrics.topSearchTerms=Array.from(this.searchTerms.entries()).sort((a,o)=>o[1]-a[1]).slice(0,10).map(([a])=>a);const s=.01;this.metrics.estimatedCostSavings=this.metrics.totalRequestsSaved*s,this.metrics.lastUpdated=t}checkAlerts(){const t=[],n=this.metrics.failedRequests/this.metrics.totalRequests*100;n>this.alertConfig.errorRateThreshold&&t.push({type:"error_rate",severity:"high",message:`Taux d'erreur élevé: ${n.toFixed(1)}%`,threshold:this.alertConfig.errorRateThreshold,current:n}),this.metrics.averageResponseTime>this.alertConfig.responseTimeThreshold&&t.push({type:"response_time",severity:"medium",message:`Temps de réponse élevé: ${this.metrics.averageResponseTime.toFixed(0)}ms`,threshold:this.alertConfig.responseTimeThreshold,current:this.metrics.averageResponseTime}),this.metrics.cacheHitRate<this.alertConfig.cacheHitRateThreshold&&t.push({type:"cache_hit_rate",severity:"medium",message:`Taux de cache faible: ${this.metrics.cacheHitRate.toFixed(1)}%`,threshold:this.alertConfig.cacheHitRateThreshold,current:this.metrics.cacheHitRate}),this.metrics.searchesPerMinute>this.alertConfig.requestRateThreshold&&t.push({type:"request_rate",severity:"low",message:`Taux de requêtes élevé: ${this.metrics.searchesPerMinute} req/min`,threshold:this.alertConfig.requestRateThreshold,current:this.metrics.searchesPerMinute}),t.forEach(r=>{this.alertCallbacks.forEach(i=>{try{i(r)}catch(s){console.error("Error in alert callback:",s)}})})}generateRecommendations(){const t=[];this.metrics.cacheHitRate<60&&t.push({type:"cache",priority:"high",title:"Améliorer le taux de cache",description:`Le taux de cache actuel est de ${this.metrics.cacheHitRate.toFixed(1)}%, ce qui est sous-optimal.`,impact:"Réduction significative des requêtes Algolia",action:"Augmenter le TTL du cache et implémenter un cache préfixe plus agressif",estimatedSavings:this.calculateCacheSavings()}),this.metrics.averageResponseTime>1e3&&t.push({type:"architecture",priority:"medium",title:"Optimiser les temps de réponse",description:`Le temps de réponse moyen est de ${this.metrics.averageResponseTime.toFixed(0)}ms.`,impact:"Amélioration de l'expérience utilisateur",action:"Implémenter plus de parallélisme et optimiser les requêtes",estimatedSavings:0}),this.metrics.deduplicationRate<30&&t.push({type:"architecture",priority:"medium",title:"Améliorer la déduplication",description:`Seulement ${this.metrics.deduplicationRate.toFixed(1)}% des requêtes sont dédupliquées.`,impact:"Réduction des requêtes redondantes",action:"Améliorer les clés de déduplication et augmenter la fenêtre de déduplication",estimatedSavings:this.calculateDeduplicationSavings()}),this.metrics.searchesPerMinute>200&&t.push({type:"indexing",priority:"low",title:"Optimiser la structure d'index",description:"Volume de recherches élevé détecté.",impact:"Amélioration des performances générales",action:"Réviser la structure des index et les attributs de recherche",estimatedSavings:0});const n={critical:0,high:1,medium:2,low:3};return t.sort((r,i)=>n[r.priority]-n[i.priority])}calculateCacheSavings(){const n=this.metrics.totalRequestsSaved,r=this.metrics.totalRequests*80/100-n;return Math.max(0,r*.01)}calculateDeduplicationSavings(){const n=this.metrics.duplicateRequestsAvoided,r=this.metrics.totalRequests*50/100-n;return Math.max(0,r*.01)}autoTune(){const t={cacheAdjustments:{},throttlingAdjustments:{},debounceAdjustments:{}};return this.metrics.cacheHitRate<50&&(t.cacheAdjustments={increaseTTL:!0,newTTL:Math.min(6e5,3e5*1.5),increaseMaxSize:!0,newMaxSize:Math.min(2e3,1e3*1.2)}),this.metrics.searchesPerMinute>150&&(t.throttlingAdjustments={reduceMaxRequestsPerSecond:!0,newMaxRequestsPerSecond:Math.max(3,5*.8),increaseBurstAllowance:!1}),this.metrics.averageResponseTime>1500&&(t.debounceAdjustments={increaseDelay:!0,newBaseDelay:Math.min(500,300*1.3),newMaxDelay:Math.min(1500,1e3*1.2)}),t}limitArraySize(t){t.length>this.maxHistorySize&&t.splice(0,t.length-this.maxHistorySize)}startPeriodicCalculations(){setInterval(()=>{this.updateDerivedMetrics(),this.cleanOldData()},3e4)}cleanOldData(){const t=Date.now()-this.metricsRetentionTime;this.requestTimestamps=this.requestTimestamps.filter(n=>n>t);for(const[n,r]of this.searchTerms.entries())r<2&&this.searchTerms.delete(n)}getMetrics(){return{...this.metrics}}onAlert(t){this.alertCallbacks.push(t)}offAlert(t){const n=this.alertCallbacks.indexOf(t);n>-1&&this.alertCallbacks.splice(n,1)}reset(){this.metrics=this.initializeMetrics(),this.requestTimes=[],this.requestTimestamps=[],this.uniqueUsers.clear(),this.searchTerms.clear()}exportMetrics(){return{metrics:this.getMetrics(),recommendations:this.generateRecommendations(),autoTuneSettings:this.autoTune(),rawData:{requestTimes:[...this.requestTimes],requestTimestamps:[...this.requestTimestamps],searchTerms:Object.fromEntries(this.searchTerms),uniqueUsersCount:this.uniqueUsers.size}}}}const Fn=new FV,Ay=({error:e,showOptimizationInfo:t=!0})=>{const n=(e==null?void 0:e.includes("blocked"))||(e==null?void 0:e.includes("403"));return l.jsxs("div",{className:"space-y-4 p-4",children:[n?l.jsxs(hn,{children:[l.jsx(_M,{className:"h-4 w-4"}),l.jsx(jh,{children:"Service de recherche temporairement indisponible"}),l.jsx(pn,{children:"Le service de recherche Algolia nécessite un plan payant pour fonctionner. L'application continue de fonctionner avec les optimisations en place."})]}):l.jsxs(hn,{variant:"destructive",children:[l.jsx(Na,{className:"h-4 w-4"}),l.jsx(jh,{children:"Erreur de recherche"}),l.jsx(pn,{children:e||"Une erreur est survenue lors de la recherche. Veuillez réessayer."})]}),t&&l.jsxs(ge,{children:[l.jsxs(Se,{children:[l.jsxs(je,{className:"flex items-center gap-2",children:[l.jsx(nu,{className:"h-5 w-5 text-blue-500"}),"Système d'optimisation Algolia actif"]}),l.jsx(xt,{children:"Même sans accès complet à Algolia, le système d'optimisation est opérationnel"})]}),l.jsxs(ve,{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),l.jsx("span",{children:"Cache intelligent configuré"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),l.jsx("span",{children:"Déduplication des requêtes"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),l.jsx("span",{children:"Throttling adaptatif"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),l.jsx("span",{children:"Monitoring des performances"})]})]}),l.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:l.jsxs("p",{className:"text-xs text-gray-600",children:["💡 ",l.jsx("strong",{children:"Économies projetées :"})," -75% de requêtes Algolia, -67% de temps de réponse, +650% de cache hit rate une fois le service rétabli."]})})]})]}),l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-sm text-gray-500",children:"L'application continue de fonctionner normalement. Les optimisations Algolia sont prêtes à s'activer dès que le service sera disponible."})})]})},LV=({error:e,onRetry:t})=>{const n=()=>{t?t():window.location.reload()};return l.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(tu,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Page de recherche temporairement indisponible"}),l.jsx("p",{className:"text-lg text-gray-600",children:"Nous travaillons à résoudre le problème"})]}),l.jsxs("div",{className:"space-y-6",children:[e&&l.jsxs(hn,{variant:"destructive",children:[l.jsx(xr,{className:"h-4 w-4"}),l.jsx(jh,{children:"Erreur technique détectée"}),l.jsx(pn,{className:"mt-2",children:l.jsxs("details",{className:"text-sm",children:[l.jsx("summary",{className:"cursor-pointer font-medium",children:"Détails de l'erreur (cliquez pour voir)"}),l.jsx("pre",{className:"mt-2 p-2 bg-gray-100 rounded text-xs overflow-auto",children:e})]})})]}),l.jsxs(ge,{children:[l.jsxs(Se,{children:[l.jsx(je,{children:"🔧 Système d'optimisation Algolia"}),l.jsx(xt,{children:"Malgré l'erreur, nos optimisations restent opérationnelles"})]}),l.jsxs(ve,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),l.jsx("span",{children:"Cache intelligent configuré"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),l.jsx("span",{children:"Déduplication des requêtes"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),l.jsx("span",{children:"Throttling adaptatif"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),l.jsx("span",{children:"Monitoring des performances"})]})]}),l.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[l.jsxs("p",{className:"text-sm text-blue-800",children:["💡 ",l.jsx("strong",{children:"Bonne nouvelle :"})," Une fois la recherche rétablie, vous bénéficierez automatiquement de :"]}),l.jsxs("ul",{className:"text-sm text-blue-700 mt-2 list-disc list-inside",children:[l.jsx("li",{children:"75% de réduction des requêtes Algolia"}),l.jsx("li",{children:"67% d'amélioration des performances"}),l.jsx("li",{children:"650% d'augmentation du taux de cache"}),l.jsx("li",{children:"Gestion automatique des pics de charge"})]})]})]})]}),l.jsxs("div",{className:"text-center space-y-4",children:[l.jsxs(Z,{onClick:n,size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:[l.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Réessayer"]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Si le problème persiste, contactez l'équipe technique"})]}),l.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Que pouvez-vous faire en attendant ?"}),l.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[l.jsxs("li",{children:["• Accéder au ",l.jsx("a",{href:"/admin",className:"text-blue-600 hover:underline",children:"dashboard admin"})," pour voir les métriques"]}),l.jsxs("li",{children:["• Consulter vos ",l.jsx("a",{href:"/favorites",className:"text-blue-600 hover:underline",children:"favoris"})," sauvegardés"]}),l.jsxs("li",{children:["• Vérifier la ",l.jsx("a",{href:"/settings",className:"text-blue-600 hover:underline",children:"configuration"})," de votre workspace"]})]})]})]})]})};class MV extends y.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){var r,i,s,a,o,c;const n=((r=t.message)==null?void 0:r.includes("blocked"))||((i=t.message)==null?void 0:i.includes("Algolia"))||((s=t.message)==null?void 0:s.includes("length"))||((a=t.message)==null?void 0:a.includes("Cannot read properties"))||((o=t.stack)==null?void 0:o.includes("SearchBox"))||((c=t.stack)==null?void 0:c.includes("SmartSuggestions"))||(t==null?void 0:t.status)===403;return{hasError:n,error:n?t:null}}componentDidCatch(t,n){var i,s,a,o,c,u;((i=t.message)==null?void 0:i.includes("blocked"))||((s=t.message)==null?void 0:s.includes("Algolia"))||((a=t.message)==null?void 0:a.includes("length"))||((o=t.message)==null?void 0:o.includes("Cannot read properties"))||((c=t.stack)==null?void 0:c.includes("SearchBox"))||((u=t.stack)==null?void 0:u.includes("SmartSuggestions"))||(t==null?void 0:t.status)===403?console.log("ℹ️ Erreur liée à la recherche gérée gracieusement:",t.message):console.error("Error boundary caught an error:",t,n)}render(){var t,n,r;return this.state.hasError&&this.state.error?((t=this.state.error.message)==null?void 0:t.includes("blocked"))||((n=this.state.error.message)==null?void 0:n.includes("Algolia"))||((r=this.state.error)==null?void 0:r.status)===403?l.jsx(Ay,{error:this.state.error.message,showOptimizationInfo:!0}):l.jsx(LV,{error:this.state.error.message,onRetry:()=>window.location.reload()}):this.props.children}}const Wb=()=>{const{user:e}=pt(),{currentWorkspace:t}=hi(),[n,r]=y.useState([]),i=y.useCallback(async(o,c,u)=>{if(e)try{const{error:d}=await Q.from("search_history").insert({user_id:e.id,workspace_id:t==null?void 0:t.id,search_query:o,search_filters:c,results_count:u});d&&console.error("Error recording search history:",d)}catch(d){console.error("Error recording search history:",d)}},[e,t]),s=y.useCallback(async()=>{if(!e)return[];try{const{data:o,error:c}=await Q.from("search_history").select("search_query").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);if(c)throw c;return[...new Set((o==null?void 0:o.map(d=>d.search_query))||[])].slice(0,3)}catch(o){return console.error("Error fetching recent searches:",o),[]}},[e]);return y.useEffect(()=>{e?(async()=>{try{const c=await s();r(c)}catch(c){console.warn("Erreur lors du chargement des recherches récentes:",c),r([])}})():r([])},[e,s]),{recordSearch:y.useCallback(async(o,c,u)=>{await i(o,c,u),r(d=>[o,...d.filter(h=>h!==o)].slice(0,3))},[i]),getRecentSearches:s,recentSearches:n}},$V=()=>(Wb(),null);function UV(e,t=[]){const[n,r]=y.useState(null);return y.useEffect(()=>{let i=!1;async function s(){if(!i){const a=bT(e,t);r(a)}}return s(),()=>{i=!0,n&&n.dispose()}},[e,JSON.stringify(t)]),n}const wT=y.createContext(null),zV=()=>{const e=y.useContext(wT);if(!e)throw new Error("useQuotaContext must be used within SearchProvider");return e},Vb=y.createContext(null),ST=()=>{const e=y.useContext(Vb);if(!e)throw new Error("useOrigin must be used within SearchProvider");return e},HV=({children:e})=>{const[t,n]=y.useState("all");return l.jsx(Vb.Provider,{value:{origin:t,setOrigin:n},children:e})},jT=({children:e})=>{const{user:t,loading:n}=pt(),r=qb(),{currentWorkspace:i}=hi(),{assignedSources:s}=Tl(),a=UV(i==null?void 0:i.id,s),[o,c]=y.useState("all"),u=y.useRef("all");y.useEffect(()=>{u.current=o},[o]);const d=y.useRef(i==null?void 0:i.id);y.useEffect(()=>{d.current=i==null?void 0:i.id},[i==null?void 0:i.id]);const f=y.useRef(null);a&&!f.current&&(f.current={search:async p=>{var w,v;const g=Date.now();let m=!0;try{const x=p.map(S=>({...S,origin:u.current,params:{...S.params,_search_context:{workspace_id:d.current,origin:u.current,timestamp:Date.now()}}}));return await a.search(x,{enableCache:!0,enableDeduplication:!0,enableBatching:!0})}catch{m=!1;const b={hits:[],nbHits:0,nbPages:0,page:0,processingTimeMS:0,facets:{},facets_stats:null,query:"",params:""};return{results:(p||[]).map(()=>b)}}finally{const x=Date.now()-g;Fn.recordRequest(x,m,d.current,((v=(w=p==null?void 0:p[0])==null?void 0:w.params)==null?void 0:v.query)||"",!1)}}});const h=a?f.current:null;return l.jsx(MV,{children:l.jsx(wT.Provider,{value:r,children:l.jsx(Vb.Provider,{value:{origin:o,setOrigin:c},children:n||!t?l.jsx(Ay,{error:"Initialisation de l'authentification...",showOptimizationInfo:!0}):h?l.jsxs(UW,{searchClient:h,indexName:tV,future:{preserveSharedStateOnUnmount:!0},children:[e,l.jsx($V,{})]}):l.jsx(Ay,{error:"Chargement du client de recherche...",showOptimizationInfo:!0})})})})};class _T{constructor(t={}){pe(this,"requestTimestamps",[]);pe(this,"burstTokens");pe(this,"lastRequestTime",0);pe(this,"consecutiveRequests",0);pe(this,"config");this.config={maxRequestsPerSecond:5,maxRequestsPerMinute:60,burstAllowance:10,adaptiveThrottling:!0,...t},this.burstTokens=this.config.burstAllowance}async throttle(t){const n=Date.now();this.cleanOldTimestamps(n);const r=this.calculateDelay(n);r>0&&await this.sleep(r),this.recordRequest(n+r);try{const i=await t();return this.consecutiveRequests++,i}catch(i){throw this.consecutiveRequests=0,i}}calculateDelay(t){const n=t-1e3,r=t-6e4,i=this.requestTimestamps.filter(a=>a>n).length,s=this.requestTimestamps.filter(a=>a>r).length;if(i>=this.config.maxRequestsPerSecond){if(this.burstTokens>0)return this.burstTokens--,0;const a=this.requestTimestamps.filter(o=>o>n).sort()[0];return Math.max(0,1e3-(t-a))}if(s>=this.config.maxRequestsPerMinute){const a=this.requestTimestamps.filter(o=>o>r).sort()[0];return Math.max(0,6e4-(t-a))}if(this.config.adaptiveThrottling&&this.consecutiveRequests>10){const a=t-this.lastRequestTime;if(a<100)return 100-a}return 0}cleanOldTimestamps(t){const n=t-6e4;this.requestTimestamps=this.requestTimestamps.filter(i=>i>n);const r=t-this.lastRequestTime;r>5e3&&(this.burstTokens=Math.min(this.config.burstAllowance,this.burstTokens+Math.floor(r/1e3)),this.consecutiveRequests=0)}recordRequest(t){this.requestTimestamps.push(t),this.lastRequestTime=t}sleep(t){return new Promise(n=>setTimeout(n,t))}getStats(){const t=Date.now(),n=t-1e3,r=t-6e4;return{requestsLastSecond:this.requestTimestamps.filter(i=>i>n).length,requestsLastMinute:this.requestTimestamps.filter(i=>i>r).length,burstTokensAvailable:this.burstTokens,consecutiveRequests:this.consecutiveRequests,config:this.config}}}class ET{constructor(t={}){pe(this,"timers",new Map);pe(this,"requestCounts",new Map);pe(this,"config");this.config={baseDelay:300,maxDelay:1e3,adaptiveDelay:!0,cancelOnNewRequest:!0,...t}}debounce(t,n,r){return new Promise((i,s)=>{this.config.cancelOnNewRequest&&this.timers.has(t)&&(clearTimeout(this.timers.get(t)),this.timers.delete(t));const a=r||this.calculateAdaptiveDelay(t);this.requestCounts.set(t,(this.requestCounts.get(t)||0)+1);const o=setTimeout(async()=>{this.timers.delete(t),this.requestCounts.delete(t);try{const c=await n();i(c)}catch(c){s(c)}},a);this.timers.set(t,o)})}calculateAdaptiveDelay(t){if(!this.config.adaptiveDelay)return this.config.baseDelay;const n=this.requestCounts.get(t)||0,r=Math.min(1+n*.2,3),i=this.config.baseDelay*r;return Math.min(i,this.config.maxDelay)}debounceSearch(t,n,r={}){const{isTyping:i=!1,hasFilters:s=!1}=r;let a=this.config.baseDelay;t.length<3?a=150:t.length>6&&s?a=500:i&&(a=200);const o=`search:${t}:${s}`;return this.debounce(o,n,a)}clear(t){if(t){const n=this.timers.get(t);n&&(clearTimeout(n),this.timers.delete(t),this.requestCounts.delete(t))}else{for(const n of this.timers.values())clearTimeout(n);this.timers.clear(),this.requestCounts.clear()}}getStats(){return{activeTimers:this.timers.size,totalRequests:Array.from(this.requestCounts.values()).reduce((t,n)=>t+n,0),requestsByKey:Object.fromEntries(this.requestCounts),config:this.config}}}class BV{constructor(t,n){pe(this,"throttler");pe(this,"debouncer");pe(this,"requestQueue",[]);pe(this,"processing",!1);this.throttler=new _T(t),this.debouncer=new ET(n)}async optimizedRequest(t,n,r={}){const{debounce:i=!0,throttle:s=!0,priority:a=2,context:o={}}=r;let c=n;if(s){const u=c;c=()=>this.throttler.throttle(u)}return i?this.debouncer.debounceSearch(t,c,o):new Promise((u,d)=>{this.requestQueue.push({fn:c,resolve:u,reject:d,priority:a}),this.requestQueue.sort((f,h)=>f.priority-h.priority),this.processQueue()})}async processQueue(){if(!(this.processing||this.requestQueue.length===0)){for(this.processing=!0;this.requestQueue.length>0;){const{fn:t,resolve:n,reject:r}=this.requestQueue.shift();try{const i=await t();n(i)}catch(i){r(i)}}this.processing=!1}}getStats(){return{throttler:this.throttler.getStats(),debouncer:this.debouncer.getStats(),queueSize:this.requestQueue.length,processing:this.processing}}clear(){this.debouncer.clear(),this.requestQueue=[],this.processing=!1}}new _T;new ET;const qV=new BV;class WV{constructor(){pe(this,"prefixCache",new Map);pe(this,"recentSearchCache",new Map);pe(this,"maxCacheSize",500);pe(this,"prefixCacheTTL",10*60*1e3);pe(this,"minPrefixLength",1);pe(this,"maxSuggestions",8);pe(this,"client",null);pe(this,"context",null);this.startCacheCleanup()}updateContext(t){this.contextChanged(t)&&(this.prefixCache.clear(),this.client&&this.client.dispose(),this.client=bT(t.workspaceId,t.assignedSources)),this.context=t}contextChanged(t){return this.context?this.context.workspaceId!==t.workspaceId||this.context.origin!==t.origin||JSON.stringify(this.context.assignedSources)!==JSON.stringify(t.assignedSources):!0}async getSuggestions(t,n=this.maxSuggestions){if(!this.context||!this.client)throw new Error("Context not initialized. Call updateContext() first.");const r=t.trim();if(r.length===0)return this.getRecentSearchSuggestions();if(r.length<this.minPrefixLength)return this.fetchDirectSuggestions(r,n);const i=this.findCachedSuggestions(r,n);return i||this.fetchAndCacheSuggestions(r,n)}findCachedSuggestions(t,n){let r=null,i=0;for(const[a,o]of this.prefixCache.entries())t.startsWith(a)&&a.length>i&&(Date.now()-o.timestamp<=this.prefixCacheTTL?(r=o,i=a.length):this.prefixCache.delete(a));if(!r)return null;const s=r.suggestions.filter(a=>a.label.toLowerCase().includes(t.toLowerCase()));return s.length>=n||r.isComplete?this.rankSuggestions(s,t).slice(0,n):null}async fetchAndCacheSuggestions(t,n){const r=Math.min(t.length,3),i=t.substring(0,r),s=`suggestions:${i}:${this.context.origin}`,a=await qV.optimizedRequest(s,()=>this.fetchDirectSuggestions(t,n*2),{debounce:!0,throttle:!0,priority:1,context:{isTyping:!0,hasFilters:!1}});return this.cacheByPrefix(i,a,t),this.rankSuggestions(a,t).slice(0,n)}async fetchDirectSuggestions(t,n){var a;const{origin:r}=this.context,i=[],s=new Set;try{const o=[];if((r==="all"||r==="public")&&o.push({params:{query:t,hitsPerPage:n,attributesToRetrieve:["Nom_fr","Nom_en","Description_fr","Description_en","Source","Secteur_fr","Secteur_en"],restrictSearchableAttributes:["Nom_fr","Nom_en","Description_fr","Description_en","Secteur_fr","Secteur_en"],facetFilters:[["scope:public"]],typoTolerance:"strict"},origin:"public"}),(r==="all"||r==="private")&&o.push({params:{query:t,hitsPerPage:n,attributesToRetrieve:["Nom_fr","Nom_en","Description_fr","Description_en","Source","Secteur_fr","Secteur_en"],restrictSearchableAttributes:["Nom_fr","Nom_en","Description_fr","Description_en","Secteur_fr","Secteur_en"],facetFilters:[["scope:private"]],typoTolerance:"strict"},origin:"private"}),o.length===0)return[];const c=await this.client.search(o,{enableCache:!0,enableDeduplication:!0,enableBatching:!1});for(const u of c.results)if(u!=null&&u.hits)for(const d of u.hits){const f=d.Nom_fr||d.Nom_en||"";if(!f||s.has(f))continue;s.add(f);const h={label:f,isPrivate:d.scope==="private",source:d.Source,objectID:d.objectID,relevanceScore:this.calculateRelevanceScore(d,t),category:d.Secteur_fr||d.Secteur_en||"Autres"};i.push(h)}return i}catch(o){return(a=o==null?void 0:o.message)!=null&&a.includes("blocked")||(o==null?void 0:o.status)===403?(console.log("ℹ️ Algolia temporairement indisponible (plan payant requis)"),[]):(console.error("Error fetching suggestions:",o),[])}}calculateRelevanceScore(t,n){var c;const r=n.toLowerCase();let i=0;const s=(t.Nom_fr||t.Nom_en||"").toLowerCase();return s.startsWith(r)?i+=100:s.includes(r)&&(i+=50),(t.Description_fr||t.Description_en||"").toLowerCase().includes(r)&&(i+=25),["ADEME","Base Carbone","GHG Protocol"].includes(t.Source)&&(i+=10),((c=this.context)==null?void 0:c.origin)==="public"&&t.scope==="private"&&(i-=20),i}rankSuggestions(t,n){return t.sort((r,i)=>{const s=r.label.toLowerCase().startsWith(n.toLowerCase()),a=i.label.toLowerCase().startsWith(n.toLowerCase());return s&&!a?-1:!s&&a?1:(i.relevanceScore||0)-(r.relevanceScore||0)})}cacheByPrefix(t,n,r){if(t.length<this.minPrefixLength||n.length===0)return;const i={prefix:t,suggestions:n,timestamp:Date.now(),totalCount:n.length,isComplete:n.length<this.maxSuggestions*2};this.prefixCache.set(t,i),this.evictOldCacheEntries()}getRecentSearchSuggestions(){var n;return(((n=this.context)==null?void 0:n.recentSearches)||[]).slice(0,5).map(r=>({label:r,isPrivate:!1,category:"Recherches récentes"}))}evictOldCacheEntries(){if(this.prefixCache.size<=this.maxCacheSize)return;const n=Array.from(this.prefixCache.entries()).sort(([,i],[,s])=>{const a=Date.now()-i.timestamp,o=Date.now()-s.timestamp,c=i.totalCount/(a/1e3),u=s.totalCount/(o/1e3);return c-u}),r=Math.floor(this.prefixCache.size*.2);for(let i=0;i<r;i++)this.prefixCache.delete(n[i][0])}startCacheCleanup(){setInterval(()=>{const t=Date.now();for(const[n,r]of this.prefixCache.entries())t-r.timestamp>this.prefixCacheTTL&&this.prefixCache.delete(n)},5*60*1e3)}getCacheStats(){const t=Date.now(),n=Array.from(this.prefixCache.values()).filter(r=>t-r.timestamp<=this.prefixCacheTTL);return{totalEntries:this.prefixCache.size,validEntries:n.length,averageAge:n.length>0?n.reduce((r,i)=>r+(t-i.timestamp),0)/n.length:0,totalSuggestionsCached:n.reduce((r,i)=>r+i.totalCount,0),averageSuggestionsPerPrefix:n.length>0?n.reduce((r,i)=>r+i.totalCount,0)/n.length:0}}async preloadPopularPrefixes(t){const n=new Set;for(const r of t)if(r.length>=this.minPrefixLength)for(let i=this.minPrefixLength;i<=Math.min(r.length,4);i++)n.add(r.substring(0,i));for(const r of n)if(!this.prefixCache.has(r))try{await this.fetchAndCacheSuggestions(r,this.maxSuggestions*2),await new Promise(i=>setTimeout(i,100))}catch(i){console.warn(`Failed to preload prefix ${r}:`,i)}}clear(){this.prefixCache.clear(),this.recentSearchCache.clear(),this.client&&(this.client.dispose(),this.client=null),this.context=null}}const Ri=new WV,VV=(e,t="all",n={})=>{const{maxSuggestions:r=8,enablePreloading:i=!0,debounceDelay:s=150,showRecentSearches:a=!0}=n,{currentWorkspace:o}=hi(),{assignedSources:c}=Tl(),{recentSearches:u}=Wb(),[d,f]=y.useState([]),[h,p]=y.useState(!1),[g,m]=y.useState(null),w=y.useRef(null),v=y.useRef(""),x=y.useRef(0);y.useEffect(()=>{Ri.updateContext({workspaceId:o==null?void 0:o.id,assignedSources:c,origin:t,recentSearches:a?u||[]:[],userLanguage:"fr"})},[o==null?void 0:o.id,c,t,u,a]),y.useEffect(()=>{i&&u&&u.length>0&&Ri.preloadPopularPrefixes(u.slice(0,10))},[i,u]);const b=y.useCallback(async F=>{const k=++x.current;try{p(!0),m(null);const D=await Ri.getSuggestions(F,r);k===x.current&&f(D)}catch(D){k===x.current&&(m(D.message||"Erreur lors de la récupération des suggestions"),f([]))}finally{k===x.current&&p(!1)}},[r]),S=y.useCallback(F=>{if(w.current&&clearTimeout(w.current),F.trim().length===0){b(F);return}let k=s;F.length<3?k=Math.max(100,s*.5):F.length>6&&(k=Math.min(300,s*1.5)),w.current=setTimeout(()=>{b(F)},k)},[b,s]);y.useEffect(()=>(e!==v.current&&(v.current=e,S(e)),()=>{w.current&&clearTimeout(w.current)}),[e,S]),y.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]);const j=y.useCallback(()=>{f([]),m(null),p(!1),w.current&&(clearTimeout(w.current),w.current=null)},[]),_=y.useCallback(()=>{b(e)},[e,b]),P=y.useCallback(()=>Ri.getCacheStats(),[]),R=y.useCallback(F=>{Ri.getSuggestions(F,r)},[r]);return{suggestions:d,loading:h,error:g,clearSuggestions:j,refreshSuggestions:_,getCacheStats:P,preloadSuggestions:R,hasResults:d.length>0,isEmpty:!h&&d.length===0&&e.trim().length>0,isRecentSearches:d.length>0&&d.every(F=>F.category==="Recherches récentes")}},QV=(e,t="all",n={})=>{const{showCategories:r=!0,groupByCategory:i=!1,highlightMatches:s=!0,...a}=n,{suggestions:o,loading:c,error:u,...d}=VV(e,t,a),f=y.useRef({suggestions:[],groupedSuggestions:{},highlightedSuggestions:[]});return y.useEffect(()=>{const h=s?o.map(g=>({...g,highlightedLabel:KV(g.label,e)})):o,p=i?YV(h):{};f.current={suggestions:o,groupedSuggestions:p,highlightedSuggestions:h}},[o,e,i,s]),{suggestions:f.current.suggestions,groupedSuggestions:f.current.groupedSuggestions,highlightedSuggestions:f.current.highlightedSuggestions,loading:c,error:u,...d}};function KV(e,t){if(!t.trim())return e;const n=new RegExp(`(${GV(t)})`,"gi");return e.replace(n,"<mark>$1</mark>")}function GV(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function YV(e){return e.reduce((t,n)=>{const r=n.category||"Autres";return t[r]||(t[r]=[]),t[r].push(n),t},{})}const JV=Zu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function He({className:e,variant:t,...n}){return l.jsx("div",{className:se(JV({variant:t}),e),...n})}const XV=()=>{const{query:e,refine:t}=Bb(),{nbHits:n}=Np();Rp();const{origin:r}=ST(),{highlightedSuggestions:i,groupedSuggestions:s,loading:a,isRecentSearches:o,getCacheStats:c}=QV(e,r,{maxSuggestions:8,enablePreloading:!1,debounceDelay:250,showCategories:!0,groupByCategory:!0,highlightMatches:!0}),{recordSearch:u}=Wb(),[d,f]=y.useState(!1),h=y.useRef(null);y.useRef({origin:r,query:e,suggestions:0}),q.useEffect(()=>{i.length},[r,e,i.length,c]),y.useEffect(()=>{const w=v=>{h.current&&!h.current.contains(v.target)&&f(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]);const p=()=>{t(""),f(!1)},g=w=>{t(w),f(!1),u(w,{},0)},m=()=>{e.trim()&&u(e,{},n||0),f(!1)};return l.jsx("div",{className:"space-y-4",ref:h,children:l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(tu,{className:"absolute left-8 top-1/2 transform -translate-y-1/2 text-indigo-950/60 h-6 w-6"}),l.jsx(Ot,{type:"text",value:e,onChange:w=>{t(w.target.value),f(w.target.value.length>0)},onKeyDown:w=>{w.key==="Enter"&&m()},placeholder:"Rechercher des facteurs d'émission...",className:"flex-1 bg-white border-white/20 text-indigo-950 placeholder:text-indigo-950/60 font-montserrat h-20 text-2xl pl-20 pr-20 rounded-xl"}),e&&l.jsx("button",{onClick:p,className:"absolute right-8 top-1/2 transform -translate-y-1/2 text-indigo-950/60 hover:text-indigo-950",children:l.jsx(ap,{className:"h-6 w-6"})})]}),l.jsx(Z,{variant:"hero",onClick:m,className:"h-20 px-10 text-xl rounded-xl",children:"Rechercher"})]}),d&&i.length>0&&l.jsxs("div",{className:"absolute top-full left-0 right-[200px] bg-white border border-white/20 rounded-xl shadow-xl z-50 mt-2",children:[a&&l.jsxs("div",{className:"p-3 text-sm text-indigo-950/70 border-b border-white/20 bg-white font-montserrat flex items-center gap-2",children:[l.jsx(nu,{className:"h-3 w-3 animate-pulse"}),"Recherche optimisée..."]}),o?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-3 text-sm text-indigo-950/70 border-b border-white/20 bg-white flex items-center gap-2 font-montserrat",children:[l.jsx(fh,{className:"h-3 w-3"}),"Recherches récentes"]}),l.jsx("div",{className:"max-h-32 overflow-y-auto bg-white",children:i.map((w,v)=>l.jsxs("button",{onClick:()=>g(w.label),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 text-sm text-indigo-950 bg-white flex items-center gap-2 font-montserrat",children:[l.jsx(fh,{className:"h-3 w-3 text-indigo-950/60"}),w.label]},`recent-${v}`))})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-3 text-sm text-indigo-950/70 border-b border-white/20 bg-white font-montserrat flex items-center gap-2",children:[l.jsx(nu,{className:"h-3 w-3"}),"Suggestions intelligentes (",i.length,")"]}),l.jsx("div",{className:"max-h-40 overflow-y-auto bg-white",children:Object.keys(s).length>0?Object.entries(s).map(([w,v])=>l.jsxs("div",{children:[w!=="Autres"&&l.jsx("div",{className:"px-4 py-2 text-xs text-indigo-950/50 bg-gray-50 font-montserrat",children:w}),v.map((x,b)=>l.jsxs("button",{onClick:()=>g(x.label),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 text-sm text-indigo-950 bg-white font-montserrat flex items-center gap-2",children:[l.jsx("span",{className:"truncate flex-1",dangerouslySetInnerHTML:{__html:x.label}}),x.isPrivate&&l.jsx(He,{variant:"secondary",className:"text-[10px] leading-none px-2 py-0.5",children:"FE importé"}),x.source&&l.jsx(He,{variant:"outline",className:"text-[10px] leading-none px-2 py-0.5",children:x.source})]},`${w}-${b}`))]},w)):i.map((w,v)=>l.jsxs("button",{onClick:()=>g(w.label),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 text-sm text-indigo-950 bg-white font-montserrat flex items-center gap-2",children:[l.jsx("span",{className:"truncate flex-1",dangerouslySetInnerHTML:{__html:w.highlightedLabel||w.label}}),w.isPrivate&&l.jsx(He,{variant:"secondary",className:"text-[10px] leading-none px-2 py-0.5",children:"FE importé"}),w.source&&l.jsx(He,{variant:"outline",className:"text-[10px] leading-none px-2 py-0.5",children:w.source})]},`suggestion-${v}`))})]})]})]})})};function Vj(e,[t,n]){return Math.min(n,Math.max(t,e))}var xg=0;function Qb(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Qj()),document.body.insertAdjacentElement("beforeend",e[1]??Qj()),xg++,()=>{xg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),xg--}},[])}function Qj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var bg="focusScope.autoFocusOnMount",wg="focusScope.autoFocusOnUnmount",Kj={bubbles:!1,cancelable:!0},ZV="FocusScope",Ap=y.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[o,c]=y.useState(null),u=dn(i),d=dn(s),f=y.useRef(null),h=Le(t,m=>c(m)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let m=function(b){if(p.paused||!o)return;const S=b.target;o.contains(S)?f.current=S:is(f.current,{select:!0})},w=function(b){if(p.paused||!o)return;const S=b.relatedTarget;S!==null&&(o.contains(S)||is(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&is(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",w);const x=new MutationObserver(v);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",w),x.disconnect()}}},[r,o,p.paused]),y.useEffect(()=>{if(o){Yj.add(p);const m=document.activeElement;if(!o.contains(m)){const v=new CustomEvent(bg,Kj);o.addEventListener(bg,u),o.dispatchEvent(v),v.defaultPrevented||(eQ(sQ(CT(o)),{select:!0}),document.activeElement===m&&is(o))}return()=>{o.removeEventListener(bg,u),setTimeout(()=>{const v=new CustomEvent(wg,Kj);o.addEventListener(wg,d),o.dispatchEvent(v),v.defaultPrevented||is(m??document.body,{select:!0}),o.removeEventListener(wg,d),Yj.remove(p)},0)}}},[o,u,d,p]);const g=y.useCallback(m=>{if(!n&&!r||p.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(w&&v){const x=m.currentTarget,[b,S]=tQ(x);b&&S?!m.shiftKey&&v===S?(m.preventDefault(),n&&is(b,{select:!0})):m.shiftKey&&v===b&&(m.preventDefault(),n&&is(S,{select:!0})):v===x&&m.preventDefault()}},[n,r,p.paused]);return l.jsx(ye.div,{tabIndex:-1,...a,ref:h,onKeyDown:g})});Ap.displayName=ZV;function eQ(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(is(r,{select:t}),document.activeElement!==n)return}function tQ(e){const t=CT(e),n=Gj(t,e),r=Gj(t.reverse(),e);return[n,r]}function CT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Gj(e,t){for(const n of e)if(!nQ(n,{upTo:t}))return n}function nQ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rQ(e){return e instanceof HTMLInputElement&&"select"in e}function is(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&rQ(e)&&t&&e.select()}}var Yj=iQ();function iQ(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Jj(e,t),e.unshift(t)},remove(t){var n;e=Jj(e,t),(n=e[0])==null||n.resume()}}}function Jj(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function sQ(e){return e.filter(t=>t.tagName!=="A")}function kT(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var aQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},co=new WeakMap,cf=new WeakMap,uf={},Sg=0,PT=function(e){return e&&(e.host||PT(e.parentNode))},oQ=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=PT(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},lQ=function(e,t,n,r){var i=oQ(t,Array.isArray(e)?e:[e]);uf[n]||(uf[n]=new WeakMap);var s=uf[n],a=[],o=new Set,c=new Set(i),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(r),g=p!==null&&p!=="false",m=(co.get(h)||0)+1,w=(s.get(h)||0)+1;co.set(h,m),s.set(h,w),a.push(h),m===1&&g&&cf.set(h,!0),w===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),o.clear(),Sg++,function(){a.forEach(function(f){var h=co.get(f)-1,p=s.get(f)-1;co.set(f,h),s.set(f,p),h||(cf.has(f)||f.removeAttribute(r),cf.delete(f)),p||f.removeAttribute(n)}),Sg--,Sg||(co=new WeakMap,co=new WeakMap,cf=new WeakMap,uf={})}},Kb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=aQ(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),lQ(r,i,n,"aria-hidden")):function(){return null}},oi=function(){return oi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},oi.apply(this,arguments)};function RT(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function cQ(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Lf="right-scroll-bar-position",Mf="width-before-scroll-bar",uQ="with-scroll-bars-hidden",dQ="--removed-body-scroll-bar-size";function jg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function fQ(e,t){var n=y.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var hQ=typeof window<"u"?y.useLayoutEffect:y.useEffect,Xj=new WeakMap;function pQ(e,t){var n=fQ(null,function(r){return e.forEach(function(i){return jg(i,r)})});return hQ(function(){var r=Xj.get(n);if(r){var i=new Set(r),s=new Set(e),a=n.current;i.forEach(function(o){s.has(o)||jg(o,null)}),s.forEach(function(o){i.has(o)||jg(o,a)})}Xj.set(n,e)},[e]),n}function mQ(e){return e}function gQ(e,t){t===void 0&&(t=mQ);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function vQ(e){e===void 0&&(e={});var t=gQ(null);return t.options=oi({async:!0,ssr:!1},e),t}var NT=function(e){var t=e.sideCar,n=RT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,oi({},n))};NT.isSideCarExport=!0;function yQ(e,t){return e.useMedium(t),NT}var TT=vQ(),_g=function(){},Op=y.forwardRef(function(e,t){var n=y.useRef(null),r=y.useState({onScrollCapture:_g,onWheelCapture:_g,onTouchMoveCapture:_g}),i=r[0],s=r[1],a=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,m=e.allowPinchZoom,w=e.as,v=w===void 0?"div":w,x=e.gapMode,b=RT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,j=pQ([n,t]),_=oi(oi({},b),i);return y.createElement(y.Fragment,null,d&&y.createElement(S,{sideCar:TT,removeScrollBar:u,shards:f,noIsolation:p,inert:g,setCallbacks:s,allowPinchZoom:!!m,lockRef:n,gapMode:x}),a?y.cloneElement(y.Children.only(o),oi(oi({},_),{ref:j})):y.createElement(v,oi({},_,{className:c,ref:j}),o))});Op.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Op.classNames={fullWidth:Mf,zeroRight:Lf};var xQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=xQ();return t&&e.setAttribute("nonce",t),e}function wQ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function SQ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var jQ=function(){var e=0,t=null;return{add:function(n){e==0&&(t=bQ())&&(wQ(t,n),SQ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},_Q=function(){var e=jQ();return function(t,n){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},AT=function(){var e=_Q(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},EQ={left:0,top:0,right:0,gap:0},Eg=function(e){return parseInt(e||"",10)||0},CQ=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Eg(n),Eg(r),Eg(i)]},kQ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return EQ;var t=CQ(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},PQ=AT(),Uo="data-scroll-locked",RQ=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(uQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Uo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lf,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Mf,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Lf," .").concat(Lf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Mf," .").concat(Mf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Uo,`] {
    `).concat(dQ,": ").concat(o,`px;
  }
`)},Zj=function(){var e=parseInt(document.body.getAttribute(Uo)||"0",10);return isFinite(e)?e:0},NQ=function(){y.useEffect(function(){return document.body.setAttribute(Uo,(Zj()+1).toString()),function(){var e=Zj()-1;e<=0?document.body.removeAttribute(Uo):document.body.setAttribute(Uo,e.toString())}},[])},TQ=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;NQ();var s=y.useMemo(function(){return kQ(i)},[i]);return y.createElement(PQ,{styles:RQ(s,!t,i,n?"":"!important")})},Oy=!1;if(typeof window<"u")try{var df=Object.defineProperty({},"passive",{get:function(){return Oy=!0,!0}});window.addEventListener("test",df,df),window.removeEventListener("test",df,df)}catch{Oy=!1}var uo=Oy?{passive:!1}:!1,AQ=function(e){return e.tagName==="TEXTAREA"},OT=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!AQ(e)&&n[t]==="visible")},OQ=function(e){return OT(e,"overflowY")},IQ=function(e){return OT(e,"overflowX")},e_=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=IT(e,r);if(i){var s=DT(e,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},DQ=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},FQ=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},IT=function(e,t){return e==="v"?OQ(t):IQ(t)},DT=function(e,t){return e==="v"?DQ(t):FQ(t)},LQ=function(e,t){return e==="h"&&t==="rtl"?-1:1},MQ=function(e,t,n,r,i){var s=LQ(e,window.getComputedStyle(t).direction),a=s*r,o=n.target,c=t.contains(o),u=!1,d=a>0,f=0,h=0;do{var p=DT(e,o),g=p[0],m=p[1],w=p[2],v=m-w-s*g;(g||v)&&IT(e,o)&&(f+=v,h+=g),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(u=!0),u},ff=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},t_=function(e){return[e.deltaX,e.deltaY]},n_=function(e){return e&&"current"in e?e.current:e},$Q=function(e,t){return e[0]===t[0]&&e[1]===t[1]},UQ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},zQ=0,fo=[];function HQ(e){var t=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState(zQ++)[0],s=y.useState(AT)[0],a=y.useRef(e);y.useEffect(function(){a.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=cQ([e.lockRef.current],(e.shards||[]).map(n_),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=y.useCallback(function(m,w){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var v=ff(m),x=n.current,b="deltaX"in m?m.deltaX:x[0]-v[0],S="deltaY"in m?m.deltaY:x[1]-v[1],j,_=m.target,P=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in m&&P==="h"&&_.type==="range")return!1;var R=e_(P,_);if(!R)return!0;if(R?j=P:(j=P==="v"?"h":"v",R=e_(P,_)),!R)return!1;if(!r.current&&"changedTouches"in m&&(b||S)&&(r.current=j),!j)return!0;var F=r.current||j;return MQ(F,w,m,F==="h"?b:S,!0)},[]),c=y.useCallback(function(m){var w=m;if(!(!fo.length||fo[fo.length-1]!==s)){var v="deltaY"in w?t_(w):ff(w),x=t.current.filter(function(j){return j.name===w.type&&(j.target===w.target||w.target===j.shadowParent)&&$Q(j.delta,v)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var b=(a.current.shards||[]).map(n_).filter(Boolean).filter(function(j){return j.contains(w.target)}),S=b.length>0?o(w,b[0]):!a.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),u=y.useCallback(function(m,w,v,x){var b={name:m,delta:w,target:v,should:x,shadowParent:BQ(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),d=y.useCallback(function(m){n.current=ff(m),r.current=void 0},[]),f=y.useCallback(function(m){u(m.type,t_(m),m.target,o(m,e.lockRef.current))},[]),h=y.useCallback(function(m){u(m.type,ff(m),m.target,o(m,e.lockRef.current))},[]);y.useEffect(function(){return fo.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,uo),document.addEventListener("touchmove",c,uo),document.addEventListener("touchstart",d,uo),function(){fo=fo.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,uo),document.removeEventListener("touchmove",c,uo),document.removeEventListener("touchstart",d,uo)}},[]);var p=e.removeScrollBar,g=e.inert;return y.createElement(y.Fragment,null,g?y.createElement(s,{styles:UQ(i)}):null,p?y.createElement(TQ,{gapMode:e.gapMode}):null)}function BQ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const qQ=yQ(TT,HQ);var Ip=y.forwardRef(function(e,t){return y.createElement(Op,oi({},e,{ref:t,sideCar:qQ}))});Ip.classNames=Op.classNames;var WQ=[" ","Enter","ArrowUp","ArrowDown"],VQ=[" ","Enter"],cd="Select",[Dp,Fp,QQ]=np(cd),[Al,xie]=qi(cd,[QQ,Cl]),Lp=Cl(),[KQ,Qs]=Al(cd),[GQ,YQ]=Al(cd),FT=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=e,m=Lp(t),[w,v]=y.useState(null),[x,b]=y.useState(null),[S,j]=y.useState(!1),_=_p(u),[P=!1,R]=Li({prop:r,defaultProp:i,onChange:s}),[F,k]=Li({prop:a,defaultProp:o,onChange:c}),D=y.useRef(null),L=w?g||!!w.closest("form"):!0,[$,A]=y.useState(new Set),U=Array.from($).map(T=>T.props.value).join(";");return l.jsx(hb,{...m,children:l.jsxs(KQ,{required:p,scope:t,trigger:w,onTriggerChange:v,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:$r(),value:F,onValueChange:k,open:P,onOpenChange:R,dir:_,triggerPointerDownPosRef:D,disabled:h,children:[l.jsx(Dp.Provider,{scope:t,children:l.jsx(GQ,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(T=>{A(H=>new Set(H).add(T))},[]),onNativeOptionRemove:y.useCallback(T=>{A(H=>{const E=new Set(H);return E.delete(T),E})},[]),children:n})}),L?l.jsxs(oA,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:F,onChange:T=>k(T.target.value),disabled:h,form:g,children:[F===void 0?l.jsx("option",{value:""}):null,Array.from($)]},U):null]})})};FT.displayName=cd;var LT="SelectTrigger",MT=y.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=Lp(n),a=Qs(LT,n),o=a.disabled||r,c=Le(t,a.onTriggerChange),u=Fp(n),d=y.useRef("touch"),[f,h,p]=lA(m=>{const w=u().filter(b=>!b.disabled),v=w.find(b=>b.value===a.value),x=cA(w,m,v);x!==void 0&&a.onValueChange(x.value)}),g=m=>{o||(a.onOpenChange(!0),p()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return l.jsx(pb,{asChild:!0,...s,children:l.jsx(ye.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":aA(a.value)?"":void 0,...i,ref:c,onClick:te(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:te(i.onPointerDown,m=>{d.current=m.pointerType;const w=m.target;w.hasPointerCapture(m.pointerId)&&w.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:te(i.onKeyDown,m=>{const w=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(w&&m.key===" ")&&WQ.includes(m.key)&&(g(),m.preventDefault())})})})});MT.displayName=LT;var $T="SelectValue",UT=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=e,c=Qs($T,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Le(t,c.onValueNodeChange);return fn(()=>{u(d)},[u,d]),l.jsx(ye.span,{...o,ref:f,style:{pointerEvents:"none"},children:aA(c.value)?l.jsx(l.Fragment,{children:a}):s})});UT.displayName=$T;var JQ="SelectIcon",zT=y.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return l.jsx(ye.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});zT.displayName=JQ;var XQ="SelectPortal",HT=e=>l.jsx(Ju,{asChild:!0,...e});HT.displayName=XQ;var Aa="SelectContent",BT=y.forwardRef((e,t)=>{const n=Qs(Aa,e.__scopeSelect),[r,i]=y.useState();if(fn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Ma.createPortal(l.jsx(qT,{scope:e.__scopeSelect,children:l.jsx(Dp.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),s):null}return l.jsx(WT,{...e,ref:t})});BT.displayName=Aa;var Nr=10,[qT,Ks]=Al(Aa),ZQ="SelectContentImpl",WT=y.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:w,...v}=e,x=Qs(Aa,n),[b,S]=y.useState(null),[j,_]=y.useState(null),P=Le(t,J=>S(J)),[R,F]=y.useState(null),[k,D]=y.useState(null),L=Fp(n),[$,A]=y.useState(!1),U=y.useRef(!1);y.useEffect(()=>{if(b)return Kb(b)},[b]),Qb();const T=y.useCallback(J=>{const[re,...le]=L().map(ke=>ke.ref.current),[ue]=le.slice(-1),we=document.activeElement;for(const ke of J)if(ke===we||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===re&&j&&(j.scrollTop=0),ke===ue&&j&&(j.scrollTop=j.scrollHeight),ke==null||ke.focus(),document.activeElement!==we))return},[L,j]),H=y.useCallback(()=>T([R,b]),[T,R,b]);y.useEffect(()=>{$&&H()},[$,H]);const{onOpenChange:E,triggerPointerDownPosRef:O}=x;y.useEffect(()=>{if(b){let J={x:0,y:0};const re=ue=>{var we,ke;J={x:Math.abs(Math.round(ue.pageX)-(((we=O.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((ke=O.current)==null?void 0:ke.y)??0))}},le=ue=>{J.x<=10&&J.y<=10?ue.preventDefault():b.contains(ue.target)||E(!1),document.removeEventListener("pointermove",re),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",le,{capture:!0})}}},[b,E,O]),y.useEffect(()=>{const J=()=>E(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[E]);const[C,I]=lA(J=>{const re=L().filter(we=>!we.disabled),le=re.find(we=>we.ref.current===document.activeElement),ue=cA(re,J,le);ue&&setTimeout(()=>ue.ref.current.focus())}),z=y.useCallback((J,re,le)=>{const ue=!U.current&&!le;(x.value!==void 0&&x.value===re||ue)&&(F(J),ue&&(U.current=!0))},[x.value]),N=y.useCallback(()=>b==null?void 0:b.focus(),[b]),ne=y.useCallback((J,re,le)=>{const ue=!U.current&&!le;(x.value!==void 0&&x.value===re||ue)&&D(J)},[x.value]),ae=r==="popper"?Iy:VT,Y=ae===Iy?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:w}:{};return l.jsx(qT,{scope:n,content:b,viewport:j,onViewportChange:_,itemRefCallback:z,selectedItem:R,onItemLeave:N,itemTextRefCallback:ne,focusSelectedItem:H,selectedItemText:k,position:r,isPositioned:$,searchRef:C,children:l.jsx(Ip,{as:As,allowPinchZoom:!0,children:l.jsx(Ap,{asChild:!0,trapped:x.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:te(i,J=>{var re;(re=x.trigger)==null||re.focus({preventScroll:!0}),J.preventDefault()}),children:l.jsx(Sl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:l.jsx(ae,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:J=>J.preventDefault(),...v,...Y,onPlaced:()=>A(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:te(v.onKeyDown,J=>{const re=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!re&&J.key.length===1&&I(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let ue=L().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(J.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const we=J.target,ke=ue.indexOf(we);ue=ue.slice(ke+1)}setTimeout(()=>T(ue)),J.preventDefault()}})})})})})})});WT.displayName=ZQ;var eK="SelectItemAlignedPosition",VT=y.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=Qs(Aa,n),a=Ks(Aa,n),[o,c]=y.useState(null),[u,d]=y.useState(null),f=Le(t,P=>d(P)),h=Fp(n),p=y.useRef(!1),g=y.useRef(!0),{viewport:m,selectedItem:w,selectedItemText:v,focusSelectedItem:x}=a,b=y.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&m&&w&&v){const P=s.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),F=s.valueNode.getBoundingClientRect(),k=v.getBoundingClientRect();if(s.dir!=="rtl"){const we=k.left-R.left,ke=F.left-we,mt=P.left-ke,Pt=P.width+mt,Rt=Math.max(Pt,R.width),ct=window.innerWidth-Nr,cr=Vj(ke,[Nr,Math.max(Nr,ct-Rt)]);o.style.minWidth=Pt+"px",o.style.left=cr+"px"}else{const we=R.right-k.right,ke=window.innerWidth-F.right-we,mt=window.innerWidth-P.right-ke,Pt=P.width+mt,Rt=Math.max(Pt,R.width),ct=window.innerWidth-Nr,cr=Vj(ke,[Nr,Math.max(Nr,ct-Rt)]);o.style.minWidth=Pt+"px",o.style.right=cr+"px"}const D=h(),L=window.innerHeight-Nr*2,$=m.scrollHeight,A=window.getComputedStyle(u),U=parseInt(A.borderTopWidth,10),T=parseInt(A.paddingTop,10),H=parseInt(A.borderBottomWidth,10),E=parseInt(A.paddingBottom,10),O=U+T+$+E+H,C=Math.min(w.offsetHeight*5,O),I=window.getComputedStyle(m),z=parseInt(I.paddingTop,10),N=parseInt(I.paddingBottom,10),ne=P.top+P.height/2-Nr,ae=L-ne,Y=w.offsetHeight/2,J=w.offsetTop+Y,re=U+T+J,le=O-re;if(re<=ne){const we=D.length>0&&w===D[D.length-1].ref.current;o.style.bottom="0px";const ke=u.clientHeight-m.offsetTop-m.offsetHeight,mt=Math.max(ae,Y+(we?N:0)+ke+H),Pt=re+mt;o.style.height=Pt+"px"}else{const we=D.length>0&&w===D[0].ref.current;o.style.top="0px";const mt=Math.max(ne,U+m.offsetTop+(we?z:0)+Y)+le;o.style.height=mt+"px",m.scrollTop=re-ne+m.offsetTop}o.style.margin=`${Nr}px 0`,o.style.minHeight=C+"px",o.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,o,u,m,w,v,s.dir,r]);fn(()=>b(),[b]);const[S,j]=y.useState();fn(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const _=y.useCallback(P=>{P&&g.current===!0&&(b(),x==null||x(),g.current=!1)},[b,x]);return l.jsx(nK,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:_,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(ye.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});VT.displayName=eK;var tK="SelectPopperPosition",Iy=y.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Nr,...s}=e,a=Lp(n);return l.jsx(mb,{...a,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Iy.displayName=tK;var[nK,Gb]=Al(Aa,{}),Dy="SelectViewport",QT=y.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=Ks(Dy,n),a=Gb(Dy,n),o=Le(t,s.onViewportChange),c=y.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Dp.Slot,{scope:n,children:l.jsx(ye.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:te(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-Nr*2,m=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),v=Math.max(m,w);if(v<g){const x=v+p,b=Math.min(g,x),S=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});QT.displayName=Dy;var KT="SelectGroup",[rK,iK]=Al(KT),sK=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=$r();return l.jsx(rK,{scope:n,id:i,children:l.jsx(ye.div,{role:"group","aria-labelledby":i,...r,ref:t})})});sK.displayName=KT;var GT="SelectLabel",YT=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=iK(GT,n);return l.jsx(ye.div,{id:i.id,...r,ref:t})});YT.displayName=GT;var Rh="SelectItem",[aK,JT]=Al(Rh),XT=y.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=e,o=Qs(Rh,n),c=Ks(Rh,n),u=o.value===r,[d,f]=y.useState(s??""),[h,p]=y.useState(!1),g=Le(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,r,i)}),m=$r(),w=y.useRef("touch"),v=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(aK,{scope:n,value:r,disabled:i,textId:m,isSelected:u,onItemTextChange:y.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:l.jsx(Dp.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:l.jsx(ye.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:te(a.onFocus,()=>p(!0)),onBlur:te(a.onBlur,()=>p(!1)),onClick:te(a.onClick,()=>{w.current!=="mouse"&&v()}),onPointerUp:te(a.onPointerUp,()=>{w.current==="mouse"&&v()}),onPointerDown:te(a.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:te(a.onPointerMove,x=>{var b;w.current=x.pointerType,i?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:te(a.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:te(a.onKeyDown,x=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(VQ.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});XT.displayName=Rh;var gc="SelectItemText",ZT=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,a=Qs(gc,n),o=Ks(gc,n),c=JT(gc,n),u=YQ(gc,n),[d,f]=y.useState(null),h=Le(t,v=>f(v),c.onItemTextChange,v=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,v,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=y.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:w}=u;return fn(()=>(m(g),()=>w(g)),[m,w,g]),l.jsxs(l.Fragment,{children:[l.jsx(ye.span,{id:c.textId,...s,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ma.createPortal(s.children,a.valueNode):null]})});ZT.displayName=gc;var eA="SelectItemIndicator",tA=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return JT(eA,n).isSelected?l.jsx(ye.span,{"aria-hidden":!0,...r,ref:t}):null});tA.displayName=eA;var Fy="SelectScrollUpButton",nA=y.forwardRef((e,t)=>{const n=Ks(Fy,e.__scopeSelect),r=Gb(Fy,e.__scopeSelect),[i,s]=y.useState(!1),a=Le(t,r.onScrollButtonChange);return fn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?l.jsx(iA,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});nA.displayName=Fy;var Ly="SelectScrollDownButton",rA=y.forwardRef((e,t)=>{const n=Ks(Ly,e.__scopeSelect),r=Gb(Ly,e.__scopeSelect),[i,s]=y.useState(!1),a=Le(t,r.onScrollButtonChange);return fn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?l.jsx(iA,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});rA.displayName=Ly;var iA=y.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=Ks("SelectScrollButton",n),a=y.useRef(null),o=Fp(n),c=y.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),fn(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(ye.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:te(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:te(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:te(i.onPointerLeave,()=>{c()})})}),oK="SelectSeparator",sA=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(ye.div,{"aria-hidden":!0,...r,ref:t})});sA.displayName=oK;var My="SelectArrow",lK=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Lp(n),s=Qs(My,n),a=Ks(My,n);return s.open&&a.position==="popper"?l.jsx(gb,{...i,...r,ref:t}):null});lK.displayName=My;function aA(e){return e===""||e===void 0}var oA=y.forwardRef((e,t)=>{const{value:n,...r}=e,i=y.useRef(null),s=Le(t,i),a=kT(n);return y.useEffect(()=>{const o=i.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&d){const f=new Event("change",{bubbles:!0});d.call(o,n),o.dispatchEvent(f)}},[a,n]),l.jsx(Xu,{asChild:!0,children:l.jsx("select",{...r,ref:s,defaultValue:n})})});oA.displayName="BubbleSelect";function lA(e){const t=dn(e),n=y.useRef(""),r=y.useRef(0),i=y.useCallback(a=>{const o=n.current+a;t(o),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),s=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function cA(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=cK(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function cK(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var uK=FT,uA=MT,dK=UT,fK=zT,hK=HT,dA=BT,pK=QT,fA=YT,hA=XT,mK=ZT,gK=tA,pA=nA,mA=rA,gA=sA;const wr=uK,Sr=dK,nr=y.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(uA,{ref:r,className:se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(fK,{asChild:!0,children:l.jsx(ed,{className:"h-4 w-4 opacity-50"})})]}));nr.displayName=uA.displayName;const vA=y.forwardRef(({className:e,...t},n)=>l.jsx(pA,{ref:n,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(tb,{className:"h-4 w-4"})}));vA.displayName=pA.displayName;const yA=y.forwardRef(({className:e,...t},n)=>l.jsx(mA,{ref:n,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(ed,{className:"h-4 w-4"})}));yA.displayName=mA.displayName;const rr=y.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>l.jsx(hK,{children:l.jsxs(dA,{ref:i,className:se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(vA,{}),l.jsx(pK,{className:se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(yA,{})]})}));rr.displayName=dA.displayName;const vK=y.forwardRef(({className:e,...t},n)=>l.jsx(fA,{ref:n,className:se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));vK.displayName=fA.displayName;const it=y.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(hA,{ref:r,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(gK,{children:l.jsx(sp,{className:"h-4 w-4"})})}),l.jsx(mK,{children:t})]}));it.displayName=hA.displayName;const yK=y.forwardRef(({className:e,...t},n)=>l.jsx(gA,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));yK.displayName=gA.displayName;var Yb="Checkbox",[xK,bie]=qi(Yb),[bK,wK]=xK(Yb),xA=y.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=y.useState(null),g=Le(t,S=>p(S)),m=y.useRef(!1),w=h?d||!!h.closest("form"):!0,[v=!1,x]=Li({prop:i,defaultProp:s,onChange:u}),b=y.useRef(v);return y.useEffect(()=>{const S=h==null?void 0:h.form;if(S){const j=()=>x(b.current);return S.addEventListener("reset",j),()=>S.removeEventListener("reset",j)}},[h,x]),l.jsxs(bK,{scope:n,state:v,disabled:o,children:[l.jsx(ye.button,{type:"button",role:"checkbox","aria-checked":Rs(v)?"mixed":v,"aria-required":a,"data-state":SA(v),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:g,onKeyDown:te(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:te(e.onClick,S=>{x(j=>Rs(j)?!0:!j),w&&(m.current=S.isPropagationStopped(),m.current||S.stopPropagation())})}),w&&l.jsx(SK,{control:h,bubbles:!m.current,name:r,value:c,checked:v,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Rs(s)?!1:s})]})});xA.displayName=Yb;var bA="CheckboxIndicator",wA=y.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,s=wK(bA,n);return l.jsx(Cr,{present:r||Rs(s.state)||s.state===!0,children:l.jsx(ye.span,{"data-state":SA(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});wA.displayName=bA;var SK=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:i,...s}=e,a=y.useRef(null),o=kT(n),c=bP(t);y.useEffect(()=>{const d=a.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==n&&p){const g=new Event("click",{bubbles:r});d.indeterminate=Rs(n),p.call(d,Rs(n)?!1:n),d.dispatchEvent(g)}},[o,n,r]);const u=y.useRef(Rs(n)?!1:n);return l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...s,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Rs(e){return e==="indeterminate"}function SA(e){return Rs(e)?"indeterminate":e?"checked":"unchecked"}var jA=xA,jK=wA;const Hi=y.forwardRef(({className:e,...t},n)=>l.jsx(jA,{ref:n,className:se("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(jK,{className:se("flex items-center justify-center text-current"),children:l.jsx(sp,{className:"h-4 w-4"})})}));Hi.displayName=jA.displayName;const Nh=({isBlurred:e=!1,children:t,className:n,showUpgradeButton:r=!1,showBadge:i=!0})=>(hi(),e?l.jsxs("div",{className:se("relative",n),children:[l.jsx("div",{className:"filter blur-sm pointer-events-none select-none",children:t}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80",children:l.jsxs("div",{className:"text-center space-y-2",children:[i&&l.jsxs(He,{variant:"default",className:"bg-[#4ABEA1] text-white border-0",children:[l.jsx(ka,{className:"w-3 h-3 mr-1"}),"Base payante"]}),r&&l.jsxs(Z,{size:"sm",onClick:()=>window.location.href="/settings",className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 hover:from-yellow-500 hover:to-orange-600",children:[l.jsx(CM,{className:"w-3 h-3 mr-1"}),"Débloquer"]})]})})]}):l.jsx(l.Fragment,{children:t})),_A=()=>{const{canExport:e,canCopyToClipboard:t,quotaData:n,incrementExport:r,incrementClipboardCopy:i}=qb(),{canExport:s}=Vs(),a=u=>({id:u.objectID,nom:u.Nom_fr||u.Nom_en||u.Nom||"",description:u.Description_fr||u.Description_en||u.Description||"",fe:u.FE,uniteActivite:u.Unite_fr||u.Unite_en||u["Unité donnée d'activité"]||"",source:u.Source,secteur:u.Secteur_fr||u.Secteur_en||u.Secteur||"",sousSecteur:u["Sous-secteur_fr"]||u["Sous-secteur_en"]||u["Sous-secteur"]||"",localisation:u.Localisation_fr||u.Localisation_en||u.Localisation||"",date:u.Date||0,incertitude:u.Incertitude,perimetre:u.Périmètre_fr||u.Périmètre_en||u.Périmètre||"",contributeur:u.Contributeur||"",commentaires:u.Commentaires_fr||u.Commentaires_en||u.Commentaires||""}),o=y.useCallback(async(u,d="emission_factors")=>{if(!s)return jn.error("Vous n'avez pas les permissions pour exporter"),!1;if(u.length===0)return jn.error("Aucun élément sélectionné pour l'export"),!1;if(!e)return jn.error("Limite d'exports atteinte pour ce mois"),!1;if((n==null?void 0:n.exports_limit)!==null&&n){const f=n.exports_limit-n.exports_used;if(u.length>f)return jn.error(`Quota insuffisant. Il vous reste ${f} export(s) disponible(s), mais vous tentez d'exporter ${u.length} élément(s).`),!1}try{await r(u.length);let f;u.length>0&&"objectID"in u[0]?f=u.map(a):f=u;const g=[["Nom","Nom_en","Description","Description_en","FE","Unité donnée d'activité","Unite_en","Source","Secteur","Secteur_en","Sous-secteur","Sous-secteur_en","Localisation","Localisation_en","Date","Incertitude","Périmètre","Périmètre_en","Contributeur","Commentaires","Commentaires_en"],...f.map(v=>{var x,b;return[v.nom||"","",v.description||"","",((x=v.fe)==null?void 0:x.toString())||"",v.uniteActivite||"","",v.source||"",v.secteur||"","",v.sousSecteur||"","",v.localisation||"","",((b=v.date)==null?void 0:b.toString())||"",v.incertitude||"",v.perimetre||"","",v.contributeur||"",v.commentaires||"",""]})].map(v=>v.map(x=>`"${String(x).replace(/"/g,'""')}"`).join(",")).join(`
`),m=new Blob([g],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a");return w.href=URL.createObjectURL(m),w.download=`${d}.csv`,w.click(),URL.revokeObjectURL(w.href),jn.success(`${f.length} facteur(s) d'émission exporté(s)`),!0}catch(f){return console.error("Erreur lors de l'export:",f),jn.error("Erreur lors de l'export"),!1}},[s,e,n,r]),c=y.useCallback(async u=>{if(u.length===0)return jn.error("Aucun élément sélectionné pour la copie"),!1;if(!t)return jn.error("Limite de copies atteinte pour ce mois"),!1;if((n==null?void 0:n.clipboard_copies_limit)!==null&&n){const d=n.clipboard_copies_limit-n.clipboard_copies_used;if(u.length>d)return jn.error(`Quota insuffisant. Il vous reste ${d} copie(s) disponible(s), mais vous tentez de copier ${u.length} élément(s).`),!1}try{await i(u.length);let d;u.length>0&&"objectID"in u[0]?d=u.map(a):d=u;const f=["Nom","Nom_en","Description","Description_en","FE","Unité donnée d'activité","Unite_en","Source","Secteur","Secteur_en","Sous-secteur","Sous-secteur_en","Localisation","Localisation_en","Date","Incertitude","Périmètre","Périmètre_en","Contributeur","Commentaires","Commentaires_en"],h=d.map(m=>{var w,v;return[m.nom||"","",m.description||"","",((w=m.fe)==null?void 0:w.toString())||"",m.uniteActivite||"","",m.source||"",m.secteur||"","",m.sousSecteur||"","",m.localisation||"","",((v=m.date)==null?void 0:v.toString())||"",m.incertitude||"",m.perimetre||"","",m.contributeur||"",m.commentaires||"",""]}),g=[f,...h].map(m=>m.join("	")).join(`
`);return await navigator.clipboard.writeText(g),jn.success(`${d.length} facteur(s) d'émission copié(s) dans le presse-papier`),!0}catch(d){return console.error("Erreur lors de la copie:",d),jn.error("Erreur lors de la copie dans le presse-papier"),!1}},[t,n,i]);return{handleExport:o,handleCopyToClipboard:c,canExport:s&&e,canCopyToClipboard:t}};function _K(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const EK=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,CK=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,kK={};function r_(e,t){return(kK.jsx?CK:EK).test(e)}const PK=/[ \t\n\f\r]/g;function RK(e){return typeof e=="object"?e.type==="text"?i_(e.value):!1:i_(e)}function i_(e){return e.replace(PK,"")===""}class ud{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}ud.prototype.normal={};ud.prototype.property={};ud.prototype.space=void 0;function EA(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new ud(n,r,t)}function $y(e){return e.toLowerCase()}class qn{constructor(t,n){this.attribute=n,this.property=t}}qn.prototype.attribute="";qn.prototype.booleanish=!1;qn.prototype.boolean=!1;qn.prototype.commaOrSpaceSeparated=!1;qn.prototype.commaSeparated=!1;qn.prototype.defined=!1;qn.prototype.mustUseProperty=!1;qn.prototype.number=!1;qn.prototype.overloadedBoolean=!1;qn.prototype.property="";qn.prototype.spaceSeparated=!1;qn.prototype.space=void 0;let NK=0;const Ce=Ha(),Et=Ha(),Uy=Ha(),G=Ha(),et=Ha(),zo=Ha(),Vn=Ha();function Ha(){return 2**++NK}const zy=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ce,booleanish:Et,commaOrSpaceSeparated:Vn,commaSeparated:zo,number:G,overloadedBoolean:Uy,spaceSeparated:et},Symbol.toStringTag,{value:"Module"})),Cg=Object.keys(zy);class Jb extends qn{constructor(t,n,r,i){let s=-1;if(super(t,n),s_(this,"space",i),typeof r=="number")for(;++s<Cg.length;){const a=Cg[s];s_(this,Cg[s],(r&zy[a])===zy[a])}}}Jb.prototype.defined=!0;function s_(e,t,n){n&&(e[t]=n)}function Ol(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new Jb(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[$y(r)]=r,n[$y(s.attribute)]=r}return new ud(t,n,e.space)}const CA=Ol({properties:{ariaActiveDescendant:null,ariaAtomic:Et,ariaAutoComplete:null,ariaBusy:Et,ariaChecked:Et,ariaColCount:G,ariaColIndex:G,ariaColSpan:G,ariaControls:et,ariaCurrent:null,ariaDescribedBy:et,ariaDetails:null,ariaDisabled:Et,ariaDropEffect:et,ariaErrorMessage:null,ariaExpanded:Et,ariaFlowTo:et,ariaGrabbed:Et,ariaHasPopup:null,ariaHidden:Et,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:et,ariaLevel:G,ariaLive:null,ariaModal:Et,ariaMultiLine:Et,ariaMultiSelectable:Et,ariaOrientation:null,ariaOwns:et,ariaPlaceholder:null,ariaPosInSet:G,ariaPressed:Et,ariaReadOnly:Et,ariaRelevant:null,ariaRequired:Et,ariaRoleDescription:et,ariaRowCount:G,ariaRowIndex:G,ariaRowSpan:G,ariaSelected:Et,ariaSetSize:G,ariaSort:null,ariaValueMax:G,ariaValueMin:G,ariaValueNow:G,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function kA(e,t){return t in e?e[t]:t}function PA(e,t){return kA(e,t.toLowerCase())}const TK=Ol({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:zo,acceptCharset:et,accessKey:et,action:null,allow:null,allowFullScreen:Ce,allowPaymentRequest:Ce,allowUserMedia:Ce,alt:null,as:null,async:Ce,autoCapitalize:null,autoComplete:et,autoFocus:Ce,autoPlay:Ce,blocking:et,capture:null,charSet:null,checked:Ce,cite:null,className:et,cols:G,colSpan:null,content:null,contentEditable:Et,controls:Ce,controlsList:et,coords:G|zo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ce,defer:Ce,dir:null,dirName:null,disabled:Ce,download:Uy,draggable:Et,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ce,formTarget:null,headers:et,height:G,hidden:Uy,high:G,href:null,hrefLang:null,htmlFor:et,httpEquiv:et,id:null,imageSizes:null,imageSrcSet:null,inert:Ce,inputMode:null,integrity:null,is:null,isMap:Ce,itemId:null,itemProp:et,itemRef:et,itemScope:Ce,itemType:et,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ce,low:G,manifest:null,max:null,maxLength:G,media:null,method:null,min:null,minLength:G,multiple:Ce,muted:Ce,name:null,nonce:null,noModule:Ce,noValidate:Ce,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ce,optimum:G,pattern:null,ping:et,placeholder:null,playsInline:Ce,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ce,referrerPolicy:null,rel:et,required:Ce,reversed:Ce,rows:G,rowSpan:G,sandbox:et,scope:null,scoped:Ce,seamless:Ce,selected:Ce,shadowRootClonable:Ce,shadowRootDelegatesFocus:Ce,shadowRootMode:null,shape:null,size:G,sizes:null,slot:null,span:G,spellCheck:Et,src:null,srcDoc:null,srcLang:null,srcSet:null,start:G,step:null,style:null,tabIndex:G,target:null,title:null,translate:null,type:null,typeMustMatch:Ce,useMap:null,value:Et,width:G,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:et,axis:null,background:null,bgColor:null,border:G,borderColor:null,bottomMargin:G,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ce,declare:Ce,event:null,face:null,frame:null,frameBorder:null,hSpace:G,leftMargin:G,link:null,longDesc:null,lowSrc:null,marginHeight:G,marginWidth:G,noResize:Ce,noHref:Ce,noShade:Ce,noWrap:Ce,object:null,profile:null,prompt:null,rev:null,rightMargin:G,rules:null,scheme:null,scrolling:Et,standby:null,summary:null,text:null,topMargin:G,valueType:null,version:null,vAlign:null,vLink:null,vSpace:G,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ce,disableRemotePlayback:Ce,prefix:null,property:null,results:G,security:null,unselectable:null},space:"html",transform:PA}),AK=Ol({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Vn,accentHeight:G,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:G,amplitude:G,arabicForm:null,ascent:G,attributeName:null,attributeType:null,azimuth:G,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:G,by:null,calcMode:null,capHeight:G,className:et,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:G,diffuseConstant:G,direction:null,display:null,dur:null,divisor:G,dominantBaseline:null,download:Ce,dx:null,dy:null,edgeMode:null,editable:null,elevation:G,enableBackground:null,end:null,event:null,exponent:G,externalResourcesRequired:null,fill:null,fillOpacity:G,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:zo,g2:zo,glyphName:zo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:G,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:G,horizOriginX:G,horizOriginY:G,id:null,ideographic:G,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:G,k:G,k1:G,k2:G,k3:G,k4:G,kernelMatrix:Vn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:G,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:G,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:G,overlineThickness:G,paintOrder:null,panose1:null,path:null,pathLength:G,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:et,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:G,pointsAtY:G,pointsAtZ:G,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Vn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Vn,rev:Vn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Vn,requiredFeatures:Vn,requiredFonts:Vn,requiredFormats:Vn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:G,specularExponent:G,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:G,strikethroughThickness:G,string:null,stroke:null,strokeDashArray:Vn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:G,strokeOpacity:G,strokeWidth:null,style:null,surfaceScale:G,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Vn,tabIndex:G,tableValues:null,target:null,targetX:G,targetY:G,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Vn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:G,underlineThickness:G,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:G,values:null,vAlphabetic:G,vMathematical:G,vectorEffect:null,vHanging:G,vIdeographic:G,version:null,vertAdvY:G,vertOriginX:G,vertOriginY:G,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:G,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:kA}),RA=Ol({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),NA=Ol({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:PA}),TA=Ol({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),OK={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},IK=/[A-Z]/g,a_=/-[a-z]/g,DK=/^data[-\w.:]+$/i;function FK(e,t){const n=$y(t);let r=t,i=qn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&DK.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(a_,MK);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!a_.test(s)){let a=s.replace(IK,LK);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=Jb}return new i(r,t)}function LK(e){return"-"+e.toLowerCase()}function MK(e){return e.charAt(1).toUpperCase()}const $K=EA([CA,TK,RA,NA,TA],"html"),Xb=EA([CA,AK,RA,NA,TA],"svg");function UK(e){return e.join(" ").trim()}var Zb={},o_=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,zK=/\n/g,HK=/^\s*/,BK=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,qK=/^:\s*/,WK=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,VK=/^[;\s]*/,QK=/^\s+|\s+$/g,KK=`
`,l_="/",c_="*",ua="",GK="comment",YK="declaration",JK=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var m=g.match(zK);m&&(n+=m.length);var w=g.lastIndexOf(KK);r=~w?g.length-w:r+g.length}function s(){var g={line:n,column:r};return function(m){return m.position=new a(g),u(),m}}function a(g){this.start=g,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function o(g){var m=new Error(t.source+":"+n+":"+r+": "+g);if(m.reason=g,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function c(g){var m=g.exec(e);if(m){var w=m[0];return i(w),e=e.slice(w.length),m}}function u(){c(HK)}function d(g){var m;for(g=g||[];m=f();)m!==!1&&g.push(m);return g}function f(){var g=s();if(!(l_!=e.charAt(0)||c_!=e.charAt(1))){for(var m=2;ua!=e.charAt(m)&&(c_!=e.charAt(m)||l_!=e.charAt(m+1));)++m;if(m+=2,ua===e.charAt(m-1))return o("End of comment missing");var w=e.slice(2,m-2);return r+=2,i(w),e=e.slice(m),r+=2,g({type:GK,comment:w})}}function h(){var g=s(),m=c(BK);if(m){if(f(),!c(qK))return o("property missing ':'");var w=c(WK),v=g({type:YK,property:u_(m[0].replace(o_,ua)),value:w?u_(w[0].replace(o_,ua)):ua});return c(VK),v}}function p(){var g=[];d(g);for(var m;m=h();)m!==!1&&(g.push(m),d(g));return g}return u(),p()};function u_(e){return e?e.replace(QK,ua):ua}var XK=cn&&cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zb,"__esModule",{value:!0});Zb.default=eG;var ZK=XK(JK);function eG(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,ZK.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var a=s.property,o=s.value;i?t(a,o,s):o&&(n=n||{},n[a]=o)}}),n}var Mp={};Object.defineProperty(Mp,"__esModule",{value:!0});Mp.camelCase=void 0;var tG=/^--[a-zA-Z0-9_-]+$/,nG=/-([a-z])/g,rG=/^[^-]+$/,iG=/^-(webkit|moz|ms|o|khtml)-/,sG=/^-(ms)-/,aG=function(e){return!e||rG.test(e)||tG.test(e)},oG=function(e,t){return t.toUpperCase()},d_=function(e,t){return"".concat(t,"-")},lG=function(e,t){return t===void 0&&(t={}),aG(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(sG,d_):e=e.replace(iG,d_),e.replace(nG,oG))};Mp.camelCase=lG;var cG=cn&&cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},uG=cG(Zb),dG=Mp;function Hy(e,t){var n={};return!e||typeof e!="string"||(0,uG.default)(e,function(r,i){r&&i&&(n[(0,dG.camelCase)(r,t)]=i)}),n}Hy.default=Hy;var fG=Hy;const hG=Da(fG),AA=OA("end"),ew=OA("start");function OA(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function pG(e){const t=ew(e),n=AA(e);if(t&&n)return{start:t,end:n}}function Ic(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?f_(e.position):"start"in e||"end"in e?f_(e):"line"in e||"column"in e?By(e):""}function By(e){return h_(e&&e.line)+":"+h_(e&&e.column)}function f_(e){return By(e&&e.start)+"-"+By(e&&e.end)}function h_(e){return e&&typeof e=="number"?e:1}class vn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Ic(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}vn.prototype.file="";vn.prototype.name="";vn.prototype.reason="";vn.prototype.message="";vn.prototype.stack="";vn.prototype.column=void 0;vn.prototype.line=void 0;vn.prototype.ancestors=void 0;vn.prototype.cause=void 0;vn.prototype.fatal=void 0;vn.prototype.place=void 0;vn.prototype.ruleId=void 0;vn.prototype.source=void 0;const tw={}.hasOwnProperty,mG=new Map,gG=/[A-Z]/g,vG=new Set(["table","tbody","thead","tfoot","tr"]),yG=new Set(["td","th"]),IA="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function xG(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=kG(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=CG(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Xb:$K,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=DA(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function DA(e,t,n){if(t.type==="element")return bG(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return wG(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return jG(e,t,n);if(t.type==="mdxjsEsm")return SG(e,t);if(t.type==="root")return _G(e,t,n);if(t.type==="text")return EG(e,t)}function bG(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Xb,e.schema=i),e.ancestors.push(t);const s=LA(e,t.tagName,!1),a=PG(e,t);let o=rw(e,t);return vG.has(t.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!RK(c):!0})),FA(e,a,s,t),nw(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function wG(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Uu(e,t.position)}function SG(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Uu(e,t.position)}function jG(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Xb,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:LA(e,t.name,!0),a=RG(e,t),o=rw(e,t);return FA(e,a,s,t),nw(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function _G(e,t,n){const r={};return nw(r,rw(e,t)),e.create(t,e.Fragment,r,n)}function EG(e,t){return t.value}function FA(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function nw(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function CG(e,t,n){return r;function r(i,s,a,o){const u=Array.isArray(a.children)?n:t;return o?u(s,a,o):u(s,a)}}function kG(e,t){return n;function n(r,i,s,a){const o=Array.isArray(s.children),c=ew(r);return t(i,s,a,o,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function PG(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&tw.call(t.properties,i)){const s=NG(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&yG.has(t.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function RG(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Uu(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else Uu(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function rw(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:mG;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const u=i.get(c)||0;a=c+"-"+u,i.set(c,u+1)}}const o=DA(e,s,a);o!==void 0&&n.push(o)}return n}function NG(e,t,n){const r=FK(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?_K(n):UK(n)),r.property==="style"){let i=typeof n=="object"?n:TG(e,String(n));return e.stylePropertyNameCase==="css"&&(i=AG(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?OK[r.property]||r.property:r.attribute,n]}}function TG(e,t){try{return hG(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new vn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=IA+"#cannot-parse-style-attribute",i}}function LA(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=r_(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=r_(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return tw.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Uu(e)}function Uu(e,t){const n=new vn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=IA+"#cannot-handle-mdx-estrees-without-createevaluater",n}function AG(e){const t={};let n;for(n in e)tw.call(e,n)&&(t[OG(n)]=e[n]);return t}function OG(e){let t=e.replace(gG,IG);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function IG(e){return"-"+e.toLowerCase()}const kg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},DG={};function iw(e,t){const n=DG,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return MA(e,r,i)}function MA(e,t,n){if(FG(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return p_(e.children,t,n)}return Array.isArray(e)?p_(e,t,n):""}function p_(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=MA(e[i],t,n);return r.join("")}function FG(e){return!!(e&&typeof e=="object")}const m_=document.createElement("i");function sw(e){const t="&"+e+";";m_.innerHTML=t;const n=m_.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ir(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function mr(e,t){return e.length>0?(ir(e,e.length,0,t),e):t}const g_={}.hasOwnProperty;function $A(e){const t={};let n=-1;for(;++n<e.length;)LG(t,e[n]);return t}function LG(e,t){let n;for(n in t){const i=(g_.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){g_.call(i,a)||(i[a]=[]);const o=s[a];MG(i[a],Array.isArray(o)?o:o?[o]:[])}}}function MG(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ir(e,0,0,r)}function UA(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function zr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Cn=Gs(/[A-Za-z]/),ln=Gs(/[\dA-Za-z]/),$G=Gs(/[#-'*+\--9=?A-Z^-~]/);function Th(e){return e!==null&&(e<32||e===127)}const qy=Gs(/\d/),UG=Gs(/[\dA-Fa-f]/),zG=Gs(/[!-/:-@[-`{-~]/);function me(e){return e!==null&&e<-2}function Ge(e){return e!==null&&(e<0||e===32)}function Oe(e){return e===-2||e===-1||e===32}const $p=Gs(new RegExp("\\p{P}|\\p{S}","u")),Oa=Gs(/\s/);function Gs(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Il(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&ln(e.charCodeAt(n+1))&&ln(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a="�"}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Fe(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(c){return Oe(c)?(e.enter(n),o(c)):t(c)}function o(c){return Oe(c)&&s++<i?(e.consume(c),o):(e.exit(n),t(c))}}const HG={tokenize:BG};function BG(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Fe(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return me(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const qG={tokenize:WG},v_={tokenize:VG};function WG(e){const t=this,n=[];let r=0,i,s,a;return o;function o(b){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,c,u)(b)}return u(b)}function c(b){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const S=t.events.length;let j=S,_;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){_=t.events[j][1].end;break}v(r);let P=S;for(;P<t.events.length;)t.events[P][1].end={..._},P++;return ir(t.events,j+1,0,t.events.slice(S)),t.events.length=P,u(b)}return o(b)}function u(b){if(r===n.length){if(!i)return h(b);if(i.currentConstruct&&i.currentConstruct.concrete)return g(b);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(v_,d,f)(b)}function d(b){return i&&x(),v(r),h(b)}function f(b){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,g(b)}function h(b){return t.containerState={},e.attempt(v_,p,g)(b)}function p(b){return r++,n.push([t.currentConstruct,t.containerState]),h(b)}function g(b){if(b===null){i&&x(),v(0),e.consume(b);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),m(b)}function m(b){if(b===null){w(e.exit("chunkFlow"),!0),v(0),e.consume(b);return}return me(b)?(e.consume(b),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(b),m)}function w(b,S){const j=t.sliceStream(b);if(S&&j.push(null),b.previous=s,s&&(s.next=b),s=b,i.defineSkip(b.start),i.write(j),t.parser.lazy[b.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<a&&(!i.events[_][1].end||i.events[_][1].end.offset>a))return;const P=t.events.length;let R=P,F,k;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){if(F){k=t.events[R][1].end;break}F=!0}for(v(r),_=P;_<t.events.length;)t.events[_][1].end={...k},_++;ir(t.events,R+1,0,t.events.slice(P)),t.events.length=_}}function v(b){let S=n.length;for(;S-- >b;){const j=n[S];t.containerState=j[1],j[0].exit.call(t,e)}n.length=b}function x(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function VG(e,t,n){return Fe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function yl(e){if(e===null||Ge(e)||Oa(e))return 1;if($p(e))return 2}function Up(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Wy={name:"attention",resolveAll:QG,tokenize:KG};function QG(e,t){let n=-1,r,i,s,a,o,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};y_(f,-c),y_(h,c),a={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},s={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[r][1].end={...a.start},e[n][1].start={...o.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=mr(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=mr(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),u=mr(u,Up(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=mr(u,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=mr(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,ir(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function KG(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=yl(r);let s;return a;function a(c){return s=c,e.enter("attentionSequence"),o(c)}function o(c){if(c===s)return e.consume(c),o;const u=e.exit("attentionSequence"),d=yl(c),f=!d||d===2&&i||n.includes(c),h=!i||i===2&&d||n.includes(r);return u._open=!!(s===42?f:f&&(i||!h)),u._close=!!(s===42?h:h&&(d||!f)),t(c)}}function y_(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const GG={name:"autolink",tokenize:YG};function YG(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return Cn(p)?(e.consume(p),a):p===64?n(p):u(p)}function a(p){return p===43||p===45||p===46||ln(p)?(r=1,o(p)):u(p)}function o(p){return p===58?(e.consume(p),r=0,c):(p===43||p===45||p===46||ln(p))&&r++<32?(e.consume(p),o):(r=0,u(p))}function c(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||Th(p)?n(p):(e.consume(p),c)}function u(p){return p===64?(e.consume(p),d):$G(p)?(e.consume(p),u):n(p)}function d(p){return ln(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||ln(p))&&r++<63){const g=p===45?h:f;return e.consume(p),g}return n(p)}}const dd={partial:!0,tokenize:JG};function JG(e,t,n){return r;function r(s){return Oe(s)?Fe(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||me(s)?t(s):n(s)}}const zA={continuation:{tokenize:ZG},exit:eY,name:"blockQuote",tokenize:XG};function XG(e,t,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return Oe(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function ZG(e,t,n){const r=this;return i;function i(a){return Oe(a)?Fe(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(zA,t,n)(a)}}function eY(e){e.exit("blockQuote")}const HA={name:"characterEscape",tokenize:tY};function tY(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return zG(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const BA={name:"characterReference",tokenize:nY};function nY(e,t,n){const r=this;let i=0,s,a;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,a=ln,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=UG,d):(e.enter("characterReferenceValue"),s=7,a=qy,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return a===ln&&!sw(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(f)&&i++<s?(e.consume(f),d):n(f)}}const x_={partial:!0,tokenize:iY},b_={concrete:!0,name:"codeFenced",tokenize:rY};function rY(e,t,n){const r=this,i={partial:!0,tokenize:j};let s=0,a=0,o;return c;function c(_){return u(_)}function u(_){const P=r.events[r.events.length-1];return s=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,o=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(_)}function d(_){return _===o?(a++,e.consume(_),d):a<3?n(_):(e.exit("codeFencedFenceSequence"),Oe(_)?Fe(e,f,"whitespace")(_):f(_))}function f(_){return _===null||me(_)?(e.exit("codeFencedFence"),r.interrupt?t(_):e.check(x_,m,S)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(_))}function h(_){return _===null||me(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(_)):Oe(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Fe(e,p,"whitespace")(_)):_===96&&_===o?n(_):(e.consume(_),h)}function p(_){return _===null||me(_)?f(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(_))}function g(_){return _===null||me(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(_)):_===96&&_===o?n(_):(e.consume(_),g)}function m(_){return e.attempt(i,S,w)(_)}function w(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),v}function v(_){return s>0&&Oe(_)?Fe(e,x,"linePrefix",s+1)(_):x(_)}function x(_){return _===null||me(_)?e.check(x_,m,S)(_):(e.enter("codeFlowValue"),b(_))}function b(_){return _===null||me(_)?(e.exit("codeFlowValue"),x(_)):(e.consume(_),b)}function S(_){return e.exit("codeFenced"),t(_)}function j(_,P,R){let F=0;return k;function k(U){return _.enter("lineEnding"),_.consume(U),_.exit("lineEnding"),D}function D(U){return _.enter("codeFencedFence"),Oe(U)?Fe(_,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):L(U)}function L(U){return U===o?(_.enter("codeFencedFenceSequence"),$(U)):R(U)}function $(U){return U===o?(F++,_.consume(U),$):F>=a?(_.exit("codeFencedFenceSequence"),Oe(U)?Fe(_,A,"whitespace")(U):A(U)):R(U)}function A(U){return U===null||me(U)?(_.exit("codeFencedFence"),P(U)):R(U)}}}function iY(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Pg={name:"codeIndented",tokenize:aY},sY={partial:!0,tokenize:oY};function aY(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Fe(e,s,"linePrefix",5)(u)}function s(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?c(u):me(u)?e.attempt(sY,a,c)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||me(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),o)}function c(u){return e.exit("codeIndented"),t(u)}}function oY(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):me(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):Fe(e,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):me(a)?i(a):n(a)}}const lY={name:"codeText",previous:uY,resolve:cY,tokenize:dY};function cY(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function uY(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function dY(e,t,n){let r=0,i,s;return a;function a(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),c(f))}function c(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),c):f===96?(s=e.enter("codeTextSequence"),i=0,d(f)):me(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||me(f)?(e.exit("codeTextData"),c(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",u(f))}}class fY{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&sc(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),sc(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),sc(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);sc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);sc(this.left,n.reverse())}}}function sc(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function qA(e){const t={};let n=-1,r,i,s,a,o,c,u;const d=new fY(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,hY(d,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return ir(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function hY(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,c=[],u={};let d,f,h=-1,p=n,g=0,m=0;const w=[m];for(;p;){for(;e.get(++i)[1]!==p;);s.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(m=h+1,w.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):w.pop(),h=w.length;h--;){const v=o.slice(w[h],w[h+1]),x=s.pop();c.push([x,x+v.length-1]),e.splice(x,2,v)}for(c.reverse(),h=-1;++h<c.length;)u[g+c[h][0]]=g+c[h][1],g+=c[h][1]-c[h][0]-1;return u}const pY={resolve:gY,tokenize:vY},mY={partial:!0,tokenize:yY};function gY(e){return qA(e),e}function vY(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):me(o)?e.check(mY,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function yY(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Fe(e,s,"linePrefix")}function s(a){if(a===null||me(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function WA(e,t,n,r,i,s,a,o,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(v),e.exit(s),h):v===null||v===32||v===41||Th(v)?n(v):(e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),m(v))}function h(v){return v===62?(e.enter(s),e.consume(v),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(e.exit("chunkString"),e.exit(o),h(v)):v===null||v===60||me(v)?n(v):(e.consume(v),v===92?g:p)}function g(v){return v===60||v===62||v===92?(e.consume(v),p):p(v)}function m(v){return!d&&(v===null||v===41||Ge(v))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(v)):d<u&&v===40?(e.consume(v),d++,m):v===41?(e.consume(v),d--,m):v===null||v===32||v===40||Th(v)?n(v):(e.consume(v),v===92?w:m)}function w(v){return v===40||v===41||v===92?(e.consume(v),m):m(v)}}function VA(e,t,n,r,i,s){const a=this;let o=0,c;return u;function u(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(s),d}function d(p){return o>999||p===null||p===91||p===93&&!c||p===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(e.exit(s),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):me(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||me(p)||o++>999?(e.exit("chunkString"),d(p)):(e.consume(p),c||(c=!Oe(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(e.consume(p),o++,f):f(p)}}function QA(e,t,n,r,i,s){let a;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),a=h===40?41:h,c):n(h)}function c(h){return h===a?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(s),u(h))}function u(h){return h===a?(e.exit(s),c(a)):h===null?n(h):me(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Fe(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===a||h===null||me(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?f:d)}function f(h){return h===a||h===92?(e.consume(h),d):d(h)}}function Dc(e,t){let n;return r;function r(i){return me(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Oe(i)?Fe(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const xY={name:"definition",tokenize:wY},bY={partial:!0,tokenize:SY};function wY(e,t,n){const r=this;let i;return s;function s(p){return e.enter("definition"),a(p)}function a(p){return VA.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=zr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),c):n(p)}function c(p){return Ge(p)?Dc(e,u)(p):u(p)}function u(p){return WA(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt(bY,f,f)(p)}function f(p){return Oe(p)?Fe(e,h,"whitespace")(p):h(p)}function h(p){return p===null||me(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function SY(e,t,n){return r;function r(o){return Ge(o)?Dc(e,i)(o):n(o)}function i(o){return QA(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Oe(o)?Fe(e,a,"whitespace")(o):a(o)}function a(o){return o===null||me(o)?t(o):n(o)}}const jY={name:"hardBreakEscape",tokenize:_Y};function _Y(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return me(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const EY={name:"headingAtx",resolve:CY,tokenize:kY};function CY(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ir(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function kY(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(e.consume(d),a):d===null||Ge(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||me(d)?(e.exit("atxHeading"),t(d)):Oe(d)?Fe(e,o,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||Ge(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),u)}}const PY=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],w_=["pre","script","style","textarea"],RY={concrete:!0,name:"htmlFlow",resolveTo:AY,tokenize:OY},NY={partial:!0,tokenize:DY},TY={partial:!0,tokenize:IY};function AY(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function OY(e,t,n){const r=this;let i,s,a,o,c;return u;function u(N){return d(N)}function d(N){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(N),f}function f(N){return N===33?(e.consume(N),h):N===47?(e.consume(N),s=!0,m):N===63?(e.consume(N),i=3,r.interrupt?t:C):Cn(N)?(e.consume(N),a=String.fromCharCode(N),w):n(N)}function h(N){return N===45?(e.consume(N),i=2,p):N===91?(e.consume(N),i=5,o=0,g):Cn(N)?(e.consume(N),i=4,r.interrupt?t:C):n(N)}function p(N){return N===45?(e.consume(N),r.interrupt?t:C):n(N)}function g(N){const ne="CDATA[";return N===ne.charCodeAt(o++)?(e.consume(N),o===ne.length?r.interrupt?t:L:g):n(N)}function m(N){return Cn(N)?(e.consume(N),a=String.fromCharCode(N),w):n(N)}function w(N){if(N===null||N===47||N===62||Ge(N)){const ne=N===47,ae=a.toLowerCase();return!ne&&!s&&w_.includes(ae)?(i=1,r.interrupt?t(N):L(N)):PY.includes(a.toLowerCase())?(i=6,ne?(e.consume(N),v):r.interrupt?t(N):L(N)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):s?x(N):b(N))}return N===45||ln(N)?(e.consume(N),a+=String.fromCharCode(N),w):n(N)}function v(N){return N===62?(e.consume(N),r.interrupt?t:L):n(N)}function x(N){return Oe(N)?(e.consume(N),x):k(N)}function b(N){return N===47?(e.consume(N),k):N===58||N===95||Cn(N)?(e.consume(N),S):Oe(N)?(e.consume(N),b):k(N)}function S(N){return N===45||N===46||N===58||N===95||ln(N)?(e.consume(N),S):j(N)}function j(N){return N===61?(e.consume(N),_):Oe(N)?(e.consume(N),j):b(N)}function _(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),c=N,P):Oe(N)?(e.consume(N),_):R(N)}function P(N){return N===c?(e.consume(N),c=null,F):N===null||me(N)?n(N):(e.consume(N),P)}function R(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||Ge(N)?j(N):(e.consume(N),R)}function F(N){return N===47||N===62||Oe(N)?b(N):n(N)}function k(N){return N===62?(e.consume(N),D):n(N)}function D(N){return N===null||me(N)?L(N):Oe(N)?(e.consume(N),D):n(N)}function L(N){return N===45&&i===2?(e.consume(N),T):N===60&&i===1?(e.consume(N),H):N===62&&i===4?(e.consume(N),I):N===63&&i===3?(e.consume(N),C):N===93&&i===5?(e.consume(N),O):me(N)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(NY,z,$)(N)):N===null||me(N)?(e.exit("htmlFlowData"),$(N)):(e.consume(N),L)}function $(N){return e.check(TY,A,z)(N)}function A(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),U}function U(N){return N===null||me(N)?$(N):(e.enter("htmlFlowData"),L(N))}function T(N){return N===45?(e.consume(N),C):L(N)}function H(N){return N===47?(e.consume(N),a="",E):L(N)}function E(N){if(N===62){const ne=a.toLowerCase();return w_.includes(ne)?(e.consume(N),I):L(N)}return Cn(N)&&a.length<8?(e.consume(N),a+=String.fromCharCode(N),E):L(N)}function O(N){return N===93?(e.consume(N),C):L(N)}function C(N){return N===62?(e.consume(N),I):N===45&&i===2?(e.consume(N),C):L(N)}function I(N){return N===null||me(N)?(e.exit("htmlFlowData"),z(N)):(e.consume(N),I)}function z(N){return e.exit("htmlFlow"),t(N)}}function IY(e,t,n){const r=this;return i;function i(a){return me(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function DY(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(dd,t,n)}}const FY={name:"htmlText",tokenize:LY};function LY(e,t,n){const r=this;let i,s,a;return o;function o(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),c}function c(C){return C===33?(e.consume(C),u):C===47?(e.consume(C),j):C===63?(e.consume(C),b):Cn(C)?(e.consume(C),R):n(C)}function u(C){return C===45?(e.consume(C),d):C===91?(e.consume(C),s=0,g):Cn(C)?(e.consume(C),x):n(C)}function d(C){return C===45?(e.consume(C),p):n(C)}function f(C){return C===null?n(C):C===45?(e.consume(C),h):me(C)?(a=f,H(C)):(e.consume(C),f)}function h(C){return C===45?(e.consume(C),p):f(C)}function p(C){return C===62?T(C):C===45?h(C):f(C)}function g(C){const I="CDATA[";return C===I.charCodeAt(s++)?(e.consume(C),s===I.length?m:g):n(C)}function m(C){return C===null?n(C):C===93?(e.consume(C),w):me(C)?(a=m,H(C)):(e.consume(C),m)}function w(C){return C===93?(e.consume(C),v):m(C)}function v(C){return C===62?T(C):C===93?(e.consume(C),v):m(C)}function x(C){return C===null||C===62?T(C):me(C)?(a=x,H(C)):(e.consume(C),x)}function b(C){return C===null?n(C):C===63?(e.consume(C),S):me(C)?(a=b,H(C)):(e.consume(C),b)}function S(C){return C===62?T(C):b(C)}function j(C){return Cn(C)?(e.consume(C),_):n(C)}function _(C){return C===45||ln(C)?(e.consume(C),_):P(C)}function P(C){return me(C)?(a=P,H(C)):Oe(C)?(e.consume(C),P):T(C)}function R(C){return C===45||ln(C)?(e.consume(C),R):C===47||C===62||Ge(C)?F(C):n(C)}function F(C){return C===47?(e.consume(C),T):C===58||C===95||Cn(C)?(e.consume(C),k):me(C)?(a=F,H(C)):Oe(C)?(e.consume(C),F):T(C)}function k(C){return C===45||C===46||C===58||C===95||ln(C)?(e.consume(C),k):D(C)}function D(C){return C===61?(e.consume(C),L):me(C)?(a=D,H(C)):Oe(C)?(e.consume(C),D):F(C)}function L(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),i=C,$):me(C)?(a=L,H(C)):Oe(C)?(e.consume(C),L):(e.consume(C),A)}function $(C){return C===i?(e.consume(C),i=void 0,U):C===null?n(C):me(C)?(a=$,H(C)):(e.consume(C),$)}function A(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||Ge(C)?F(C):(e.consume(C),A)}function U(C){return C===47||C===62||Ge(C)?F(C):n(C)}function T(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function H(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),E}function E(C){return Oe(C)?Fe(e,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):O(C)}function O(C){return e.enter("htmlTextData"),a(C)}}const aw={name:"labelEnd",resolveAll:zY,resolveTo:HY,tokenize:BY},MY={tokenize:qY},$Y={tokenize:WY},UY={tokenize:VY};function zY(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&ir(e,0,e.length,n),e}function HY(e,t){let n=e.length,r=0,i,s,a,o;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const c={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",c,t],["enter",u,t]],o=mr(o,e.slice(s+1,s+r+3)),o=mr(o,[["enter",d,t]]),o=mr(o,Up(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),o=mr(o,[["exit",d,t],e[a-2],e[a-1],["exit",u,t]]),o=mr(o,e.slice(a+1)),o=mr(o,[["exit",c,t]]),ir(e,s,e.length,o),e}function BY(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(h){return s?s._inactive?f(h):(a=r.parser.defined.includes(zr(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),c):n(h)}function c(h){return h===40?e.attempt(MY,d,a?d:f)(h):h===91?e.attempt($Y,d,a?u:f)(h):a?d(h):f(h)}function u(h){return e.attempt(UY,d,f)(h)}function d(h){return t(h)}function f(h){return s._balanced=!0,n(h)}}function qY(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Ge(f)?Dc(e,s)(f):s(f)}function s(f){return f===41?d(f):WA(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return Ge(f)?Dc(e,c)(f):d(f)}function o(f){return n(f)}function c(f){return f===34||f===39||f===40?QA(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Ge(f)?Dc(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function WY(e,t,n){const r=this;return i;function i(o){return VA.call(r,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(zr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function VY(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const QY={name:"labelStartImage",resolveAll:aw.resolveAll,tokenize:KY};function KY(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const GY={name:"labelStartLink",resolveAll:aw.resolveAll,tokenize:YY};function YY(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Rg={name:"lineEnding",tokenize:JY};function JY(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Fe(e,t,"linePrefix")}}const $f={name:"thematicBreak",tokenize:XY};function XY(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||me(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===i?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),Oe(u)?Fe(e,o,"whitespace")(u):o(u))}}const Dn={continuation:{tokenize:nJ},exit:iJ,name:"list",tokenize:tJ},ZY={partial:!0,tokenize:sJ},eJ={partial:!0,tokenize:rJ};function tJ(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(p){const g=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:qy(p)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check($f,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(p)}return n(p)}function c(p){return qy(p)&&++a<10?(e.consume(p),c):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(dd,r.interrupt?n:d,e.attempt(ZY,h,f))}function d(p){return r.containerState.initialBlankLine=!0,s++,h(p)}function f(p){return Oe(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function nJ(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(dd,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Fe(e,t,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!Oe(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(eJ,t,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Fe(e,e.attempt(Dn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function rJ(e,t,n){const r=this;return Fe(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function iJ(e){e.exit(this.containerState.type)}function sJ(e,t,n){const r=this;return Fe(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!Oe(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const S_={name:"setextUnderline",resolveTo:aJ,tokenize:oJ};function aJ(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function oJ(e,t,n){const r=this;let i;return s;function s(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),Oe(u)?Fe(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||me(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const lJ={tokenize:cJ};function cJ(e){const t=this,n=e.attempt(dd,r,e.attempt(this.parser.constructs.flowInitial,i,Fe(e,e.attempt(this.parser.constructs.flow,i,e.attempt(pY,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const uJ={resolveAll:GA()},dJ=KA("string"),fJ=KA("text");function KA(e){return{resolveAll:GA(e==="text"?hJ:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,o);return a;function a(d){return u(d)?s(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),s(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const p=f[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function GA(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function hJ(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,o=0,c;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)c=!0,o++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const u={type:n===e.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const pJ={42:Dn,43:Dn,45:Dn,48:Dn,49:Dn,50:Dn,51:Dn,52:Dn,53:Dn,54:Dn,55:Dn,56:Dn,57:Dn,62:zA},mJ={91:xY},gJ={[-2]:Pg,[-1]:Pg,32:Pg},vJ={35:EY,42:$f,45:[S_,$f],60:RY,61:S_,95:$f,96:b_,126:b_},yJ={38:BA,92:HA},xJ={[-5]:Rg,[-4]:Rg,[-3]:Rg,33:QY,38:BA,42:Wy,60:[GG,FY],91:GY,92:[jY,HA],93:aw,95:Wy,96:lY},bJ={null:[Wy,uJ]},wJ={null:[42,95]},SJ={null:[]},jJ=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:wJ,contentInitial:mJ,disable:SJ,document:pJ,flow:vJ,flowInitial:gJ,insideSpan:bJ,string:yJ,text:xJ},Symbol.toStringTag,{value:"Module"}));function _J(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const c={attempt:P(j),check:P(_),consume:x,enter:b,exit:S,interrupt:P(_,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:g,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:f};let d=t.tokenize.call(u,c);return t.resolveAll&&s.push(t),u;function f(D){return a=mr(a,D),w(),a[a.length-1]!==null?[]:(R(t,0),u.events=Up(s,u.events,u),u.events)}function h(D,L){return CJ(p(D),L)}function p(D){return EJ(a,D)}function g(){const{_bufferIndex:D,_index:L,line:$,column:A,offset:U}=r;return{_bufferIndex:D,_index:L,line:$,column:A,offset:U}}function m(D){i[D.line]=D.column,k()}function w(){let D;for(;r._index<a.length;){const L=a[r._index];if(typeof L=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<L.length;)v(L.charCodeAt(r._bufferIndex));else v(L)}}function v(D){d=d(D)}function x(D){me(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,k()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=D}function b(D,L){const $=L||{};return $.type=D,$.start=g(),u.events.push(["enter",$,u]),o.push($),$}function S(D){const L=o.pop();return L.end=g(),u.events.push(["exit",L,u]),L}function j(D,L){R(D,L.from)}function _(D,L){L.restore()}function P(D,L){return $;function $(A,U,T){let H,E,O,C;return Array.isArray(A)?z(A):"tokenize"in A?z([A]):I(A);function I(Y){return J;function J(re){const le=re!==null&&Y[re],ue=re!==null&&Y.null,we=[...Array.isArray(le)?le:le?[le]:[],...Array.isArray(ue)?ue:ue?[ue]:[]];return z(we)(re)}}function z(Y){return H=Y,E=0,Y.length===0?T:N(Y[E])}function N(Y){return J;function J(re){return C=F(),O=Y,Y.partial||(u.currentConstruct=Y),Y.name&&u.parser.constructs.disable.null.includes(Y.name)?ae():Y.tokenize.call(L?Object.assign(Object.create(u),L):u,c,ne,ae)(re)}}function ne(Y){return D(O,C),U}function ae(Y){return C.restore(),++E<H.length?N(H[E]):T}}}function R(D,L){D.resolveAll&&!s.includes(D)&&s.push(D),D.resolve&&ir(u.events,L,u.events.length-L,D.resolve(u.events.slice(L),u)),D.resolveTo&&(u.events=D.resolveTo(u.events,u))}function F(){const D=g(),L=u.previous,$=u.currentConstruct,A=u.events.length,U=Array.from(o);return{from:A,restore:T};function T(){r=D,u.previous=L,u.currentConstruct=$,u.events.length=A,o=U,k()}}function k(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function EJ(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function CJ(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function kJ(e){const r={constructs:$A([jJ,...(e||{}).extensions||[]]),content:i(HG),defined:[],document:i(qG),flow:i(lJ),lazy:{},string:i(dJ),text:i(fJ)};return r;function i(s){return a;function a(o){return _J(r,s,o)}}}function PJ(e){for(;!qA(e););return e}const j_=/[\0\t\n\r]/g;function RJ(){let e=1,t="",n=!0,r;return i;function i(s,a,o){const c=[];let u,d,f,h,p;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(j_.lastIndex=f,u=j_.exec(s),h=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(h),!u){t=s.slice(f);break}if(p===10&&f===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),f<h&&(c.push(s.slice(f,h)),e+=h-f),p){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const NJ=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function TJ(e){return e.replace(NJ,AJ)}function AJ(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return UA(n.slice(s?2:1),s?16:10)}return sw(n)||e}const YA={}.hasOwnProperty;function OJ(e,t,n){return typeof t!="string"&&(n=t,t=void 0),IJ(n)(PJ(kJ(n).document().write(RJ()(e,t,!0))))}function IJ(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ut),autolinkProtocol:F,autolinkEmail:F,atxHeading:s(Rt),blockQuote:s(ue),characterEscape:F,characterReference:F,codeFenced:s(we),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(we,a),codeText:s(ke,a),codeTextData:F,data:F,codeFlowValue:F,definition:s(mt),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Pt),hardBreakEscape:s(ct),hardBreakTrailing:s(ct),htmlFlow:s(cr,a),htmlFlowData:F,htmlText:s(cr,a),htmlTextData:F,image:s(Ys),label:a,link:s(ut),listItem:s(Dl),listItemValue:h,listOrdered:s(ur,f),listUnordered:s(ur),paragraph:s(Pe),reference:N,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Rt),strong:s(oe),thematicBreak:s(Re)},exit:{atxHeading:c(),atxHeadingSequence:j,autolink:c(),autolinkEmail:le,autolinkProtocol:re,blockQuote:c(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:ae,characterReferenceMarkerNumeric:ae,characterReferenceValue:Y,characterReference:J,codeFenced:c(w),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:k,codeIndented:c(v),codeText:c(U),codeTextData:k,data:k,definition:c(),definitionDestinationString:S,definitionLabelString:x,definitionTitleString:b,emphasis:c(),hardBreakEscape:c(L),hardBreakTrailing:c(L),htmlFlow:c($),htmlFlowData:k,htmlText:c(A),htmlTextData:k,image:c(H),label:O,labelText:E,lineEnding:D,link:c(T),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:ne,resourceDestinationString:C,resourceTitleString:I,resource:z,setextHeading:c(R),setextHeadingLineSequence:P,setextHeadingText:_,strong:c(),thematicBreak:c()}};JA(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(B){let V={type:"root",children:[]};const fe={stack:[V],tokenStack:[],config:t,enter:o,exit:u,buffer:a,resume:d,data:n},be=[];let Me=-1;for(;++Me<B.length;)if(B[Me][1].type==="listOrdered"||B[Me][1].type==="listUnordered")if(B[Me][0]==="enter")be.push(Me);else{const Nt=be.pop();Me=i(B,Nt,Me)}for(Me=-1;++Me<B.length;){const Nt=t[B[Me][0]];YA.call(Nt,B[Me][1].type)&&Nt[B[Me][1].type].call(Object.assign({sliceSerialize:B[Me][2].sliceSerialize},fe),B[Me][1])}if(fe.tokenStack.length>0){const Nt=fe.tokenStack[fe.tokenStack.length-1];(Nt[1]||__).call(fe,void 0,Nt[0])}for(V.position={start:es(B.length>0?B[0][1].start:{line:1,column:1,offset:0}),end:es(B.length>0?B[B.length-2][1].end:{line:1,column:1,offset:0})},Me=-1;++Me<t.transforms.length;)V=t.transforms[Me](V)||V;return V}function i(B,V,fe){let be=V-1,Me=-1,Nt=!1,dr,Tn,mi,An;for(;++be<=fe;){const We=B[be];switch(We[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{We[0]==="enter"?Me++:Me--,An=void 0;break}case"lineEndingBlank":{We[0]==="enter"&&(dr&&!An&&!Me&&!mi&&(mi=be),An=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:An=void 0}if(!Me&&We[0]==="enter"&&We[1].type==="listItemPrefix"||Me===-1&&We[0]==="exit"&&(We[1].type==="listUnordered"||We[1].type==="listOrdered")){if(dr){let Qr=be;for(Tn=void 0;Qr--;){const he=B[Qr];if(he[1].type==="lineEnding"||he[1].type==="lineEndingBlank"){if(he[0]==="exit")continue;Tn&&(B[Tn][1].type="lineEndingBlank",Nt=!0),he[1].type="lineEnding",Tn=Qr}else if(!(he[1].type==="linePrefix"||he[1].type==="blockQuotePrefix"||he[1].type==="blockQuotePrefixWhitespace"||he[1].type==="blockQuoteMarker"||he[1].type==="listItemIndent"))break}mi&&(!Tn||mi<Tn)&&(dr._spread=!0),dr.end=Object.assign({},Tn?B[Tn][1].start:We[1].end),B.splice(Tn||be,0,["exit",dr,We[2]]),be++,fe++}if(We[1].type==="listItemPrefix"){const Qr={type:"listItem",_spread:!1,start:Object.assign({},We[1].start),end:void 0};dr=Qr,B.splice(be,0,["enter",Qr,We[2]]),be++,fe++,mi=void 0,An=!0}}}return B[V][1]._spread=Nt,fe}function s(B,V){return fe;function fe(be){o.call(this,B(be),be),V&&V.call(this,be)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(B,V,fe){this.stack[this.stack.length-1].children.push(B),this.stack.push(B),this.tokenStack.push([V,fe||void 0]),B.position={start:es(V.start),end:void 0}}function c(B){return V;function V(fe){B&&B.call(this,fe),u.call(this,fe)}}function u(B,V){const fe=this.stack.pop(),be=this.tokenStack.pop();if(be)be[0].type!==B.type&&(V?V.call(this,B,be[0]):(be[1]||__).call(this,B,be[0]));else throw new Error("Cannot close `"+B.type+"` ("+Ic({start:B.start,end:B.end})+"): it’s not open");fe.position.end=es(B.end)}function d(){return iw(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(B){if(this.data.expectingFirstListItemValue){const V=this.stack[this.stack.length-2];V.start=Number.parseInt(this.sliceSerialize(B),10),this.data.expectingFirstListItemValue=void 0}}function p(){const B=this.resume(),V=this.stack[this.stack.length-1];V.lang=B}function g(){const B=this.resume(),V=this.stack[this.stack.length-1];V.meta=B}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const B=this.resume(),V=this.stack[this.stack.length-1];V.value=B.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const B=this.resume(),V=this.stack[this.stack.length-1];V.value=B.replace(/(\r?\n|\r)$/g,"")}function x(B){const V=this.resume(),fe=this.stack[this.stack.length-1];fe.label=V,fe.identifier=zr(this.sliceSerialize(B)).toLowerCase()}function b(){const B=this.resume(),V=this.stack[this.stack.length-1];V.title=B}function S(){const B=this.resume(),V=this.stack[this.stack.length-1];V.url=B}function j(B){const V=this.stack[this.stack.length-1];if(!V.depth){const fe=this.sliceSerialize(B).length;V.depth=fe}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function P(B){const V=this.stack[this.stack.length-1];V.depth=this.sliceSerialize(B).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function F(B){const fe=this.stack[this.stack.length-1].children;let be=fe[fe.length-1];(!be||be.type!=="text")&&(be=De(),be.position={start:es(B.start),end:void 0},fe.push(be)),this.stack.push(be)}function k(B){const V=this.stack.pop();V.value+=this.sliceSerialize(B),V.position.end=es(B.end)}function D(B){const V=this.stack[this.stack.length-1];if(this.data.atHardBreak){const fe=V.children[V.children.length-1];fe.position.end=es(B.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(V.type)&&(F.call(this,B),k.call(this,B))}function L(){this.data.atHardBreak=!0}function $(){const B=this.resume(),V=this.stack[this.stack.length-1];V.value=B}function A(){const B=this.resume(),V=this.stack[this.stack.length-1];V.value=B}function U(){const B=this.resume(),V=this.stack[this.stack.length-1];V.value=B}function T(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=V,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function H(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=V,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function E(B){const V=this.sliceSerialize(B),fe=this.stack[this.stack.length-2];fe.label=TJ(V),fe.identifier=zr(V).toLowerCase()}function O(){const B=this.stack[this.stack.length-1],V=this.resume(),fe=this.stack[this.stack.length-1];if(this.data.inReference=!0,fe.type==="link"){const be=B.children;fe.children=be}else fe.alt=V}function C(){const B=this.resume(),V=this.stack[this.stack.length-1];V.url=B}function I(){const B=this.resume(),V=this.stack[this.stack.length-1];V.title=B}function z(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function ne(B){const V=this.resume(),fe=this.stack[this.stack.length-1];fe.label=V,fe.identifier=zr(this.sliceSerialize(B)).toLowerCase(),this.data.referenceType="full"}function ae(B){this.data.characterReferenceType=B.type}function Y(B){const V=this.sliceSerialize(B),fe=this.data.characterReferenceType;let be;fe?(be=UA(V,fe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):be=sw(V);const Me=this.stack[this.stack.length-1];Me.value+=be}function J(B){const V=this.stack.pop();V.position.end=es(B.end)}function re(B){k.call(this,B);const V=this.stack[this.stack.length-1];V.url=this.sliceSerialize(B)}function le(B){k.call(this,B);const V=this.stack[this.stack.length-1];V.url="mailto:"+this.sliceSerialize(B)}function ue(){return{type:"blockquote",children:[]}}function we(){return{type:"code",lang:null,meta:null,value:""}}function ke(){return{type:"inlineCode",value:""}}function mt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Pt(){return{type:"emphasis",children:[]}}function Rt(){return{type:"heading",depth:0,children:[]}}function ct(){return{type:"break"}}function cr(){return{type:"html",value:""}}function Ys(){return{type:"image",title:null,url:"",alt:null}}function ut(){return{type:"link",title:null,url:"",children:[]}}function ur(B){return{type:"list",ordered:B.type==="listOrdered",start:null,spread:B._spread,children:[]}}function Dl(B){return{type:"listItem",spread:B._spread,checked:null,children:[]}}function Pe(){return{type:"paragraph",children:[]}}function oe(){return{type:"strong",children:[]}}function De(){return{type:"text",value:""}}function Re(){return{type:"thematicBreak"}}}function es(e){return{line:e.line,column:e.column,offset:e.offset}}function JA(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?JA(e,r):DJ(e,r)}}function DJ(e,t){let n;for(n in t)if(YA.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function __(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ic({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ic({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ic({start:t.start,end:t.end})+") is still open")}function FJ(e){const t=this;t.parser=n;function n(r){return OJ(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function LJ(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function MJ(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function $J(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function UJ(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zJ(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function HJ(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Il(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(r,o);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function BJ(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qJ(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function XA(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function WJ(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return XA(e,t);const i={src:Il(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function VJ(e,t){const n={src:Il(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function QJ(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function KJ(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return XA(e,t);const i={href:Il(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function GJ(e,t){const n={href:Il(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function YJ(e,t,n){const r=e.all(t),i=n?JJ(n):ZA(t),s={},a=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,u),e.applyData(t,u)}function JJ(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=ZA(n[r])}return t}function ZA(e){const t=e.spread;return t??e.children.length>1}function XJ(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function ZJ(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function eX(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function tX(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function nX(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=ew(t.children[1]),c=AA(t.children[t.children.length-1]);o&&c&&(a.position={start:o,end:c}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function rX(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let c=-1;const u=[];for(;++c<o;){const f=t.children[c],h={},p=a?a[c]:void 0;p&&(h.align=p);let g={type:"element",tagName:s,properties:h,children:[]};f&&(g.children=e.all(f),e.patch(f,g),g=e.applyData(f,g)),u.push(g)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function iX(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const E_=9,C_=32;function sX(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(k_(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(k_(t.slice(i),i>0,!1)),s.join("")}function k_(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===E_||s===C_;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===E_||s===C_;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function aX(e,t){const n={type:"text",value:sX(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function oX(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const lX={blockquote:LJ,break:MJ,code:$J,delete:UJ,emphasis:zJ,footnoteReference:HJ,heading:BJ,html:qJ,imageReference:WJ,image:VJ,inlineCode:QJ,linkReference:KJ,link:GJ,listItem:YJ,list:XJ,paragraph:ZJ,root:eX,strong:tX,table:nX,tableCell:iX,tableRow:rX,text:aX,thematicBreak:oX,toml:hf,yaml:hf,definition:hf,footnoteDefinition:hf};function hf(){}const eO=-1,zp=0,Fc=1,Ah=2,ow=3,lw=4,cw=5,uw=6,tO=7,nO=8,P_=typeof self=="object"?self:globalThis,cX=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case zp:case eO:return n(a,i);case Fc:{const o=n([],i);for(const c of a)o.push(r(c));return o}case Ah:{const o=n({},i);for(const[c,u]of a)o[r(c)]=r(u);return o}case ow:return n(new Date(a),i);case lw:{const{source:o,flags:c}=a;return n(new RegExp(o,c),i)}case cw:{const o=n(new Map,i);for(const[c,u]of a)o.set(r(c),r(u));return o}case uw:{const o=n(new Set,i);for(const c of a)o.add(r(c));return o}case tO:{const{name:o,message:c}=a;return n(new P_[o](c),i)}case nO:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new P_[s](a),i)};return r},R_=e=>cX(new Map,e)(0),ho="",{toString:uX}={},{keys:dX}=Object,ac=e=>{const t=typeof e;if(t!=="object"||!e)return[zp,t];const n=uX.call(e).slice(8,-1);switch(n){case"Array":return[Fc,ho];case"Object":return[Ah,ho];case"Date":return[ow,ho];case"RegExp":return[lw,ho];case"Map":return[cw,ho];case"Set":return[uw,ho];case"DataView":return[Fc,n]}return n.includes("Array")?[Fc,n]:n.includes("Error")?[tO,n]:[Ah,n]},pf=([e,t])=>e===zp&&(t==="function"||t==="symbol"),fX=(e,t,n,r)=>{const i=(a,o)=>{const c=r.push(a)-1;return n.set(o,c),c},s=a=>{if(n.has(a))return n.get(a);let[o,c]=ac(a);switch(o){case zp:{let d=a;switch(c){case"bigint":o=nO,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([eO],a)}return i([o,d],a)}case Fc:{if(c){let h=a;return c==="DataView"?h=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(a)),i([c,[...h]],a)}const d=[],f=i([o,d],a);for(const h of a)d.push(s(h));return f}case Ah:{if(c)switch(c){case"BigInt":return i([c,a.toString()],a);case"Boolean":case"Number":case"String":return i([c,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const d=[],f=i([o,d],a);for(const h of dX(a))(e||!pf(ac(a[h])))&&d.push([s(h),s(a[h])]);return f}case ow:return i([o,a.toISOString()],a);case lw:{const{source:d,flags:f}=a;return i([o,{source:d,flags:f}],a)}case cw:{const d=[],f=i([o,d],a);for(const[h,p]of a)(e||!(pf(ac(h))||pf(ac(p))))&&d.push([s(h),s(p)]);return f}case uw:{const d=[],f=i([o,d],a);for(const h of a)(e||!pf(ac(h)))&&d.push(s(h));return f}}const{message:u}=a;return i([o,{name:c,message:u}],a)};return s},N_=(e,{json:t,lossy:n}={})=>{const r=[];return fX(!(t||n),!!t,new Map,r)(e),r},Oh=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?R_(N_(e,t)):structuredClone(e):(e,t)=>R_(N_(e,t));function hX(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function pX(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function mX(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||hX,r=e.options.footnoteBackLabel||pX,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),h=Il(f.toLowerCase());let p=0;const g=[],m=e.footnoteCounts.get(f);for(;m!==void 0&&++p<=m;){g.length>0&&g.push({type:"text",value:" "});let x=typeof n=="string"?n:n(c,p);typeof x=="string"&&(x={type:"text",value:x}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,p),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const w=d[d.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const x=w.children[w.children.length-1];x&&x.type==="text"?x.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...g)}else d.push(...g);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(u,v),o.push(v)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Oh(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Hp=function(e){if(e==null)return xX;if(typeof e=="function")return Bp(e);if(typeof e=="object")return Array.isArray(e)?gX(e):vX(e);if(typeof e=="string")return yX(e);throw new Error("Expected function, string, or object as test")};function gX(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Hp(e[n]);return Bp(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function vX(e){const t=e;return Bp(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function yX(e){return Bp(t);function t(n){return n&&n.type===e}}function Bp(e){return t;function t(n,r,i){return!!(bX(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function xX(){return!0}function bX(e){return e!==null&&typeof e=="object"&&"type"in e}const rO=[],wX=!0,Vy=!1,SX="skip";function iO(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Hp(i),a=r?-1:1;o(e,void 0,[])();function o(c,u,d){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=rO,g,m,w;if((!t||s(c,u,d[d.length-1]||void 0))&&(p=jX(n(c,d)),p[0]===Vy))return p;if("children"in c&&c.children){const v=c;if(v.children&&p[0]!==SX)for(m=(r?v.children.length:-1)+a,w=d.concat(v);m>-1&&m<v.children.length;){const x=v.children[m];if(g=o(x,m,w)(),g[0]===Vy)return g;m=typeof g[1]=="number"?g[1]:m+a}}return p}}}function jX(e){return Array.isArray(e)?e:typeof e=="number"?[wX,e]:e==null?rO:[e]}function dw(e,t,n,r){let i,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),iO(e,s,o,i);function o(c,u){const d=u[u.length-1],f=d?d.children.indexOf(c):void 0;return a(c,f,d)}}const Qy={}.hasOwnProperty,_X={};function EX(e,t){const n=t||_X,r=new Map,i=new Map,s=new Map,a={...lX,...n.handlers},o={all:u,applyData:kX,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:c,options:n,patch:CX,wrap:RX};return dw(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function c(d,f){const h=d.type,p=o.handlers[h];if(Qy.call(o.handlers,h)&&p)return p(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:m,...w}=d,v=Oh(w);return v.children=o.all(d),v}return Oh(d)}return(o.options.unknownHandler||PX)(o,d,f)}function u(d){const f=[];if("children"in d){const h=d.children;let p=-1;for(;++p<h.length;){const g=o.one(h[p],d);if(g){if(p&&h[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=T_(g.value)),!Array.isArray(g)&&g.type==="element")){const m=g.children[0];m&&m.type==="text"&&(m.value=T_(m.value))}Array.isArray(g)?f.push(...g):f.push(g)}}}return f}}function CX(e,t){e.position&&(t.position=pG(e))}function kX(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,Oh(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function PX(e,t){const n=t.data||{},r="value"in t&&!(Qy.call(n,"hProperties")||Qy.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function RX(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function T_(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function A_(e,t){const n=EX(e,t),r=n.one(e,void 0),i=mX(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function NX(e,t){return e&&"run"in e?async function(n,r){const i=A_(n,{file:r,...t});await e.run(i,r)}:function(n,r){return A_(n,{file:r,...e||t})}}function O_(e){if(e)throw e}var Uf=Object.prototype.hasOwnProperty,sO=Object.prototype.toString,I_=Object.defineProperty,D_=Object.getOwnPropertyDescriptor,F_=function(t){return typeof Array.isArray=="function"?Array.isArray(t):sO.call(t)==="[object Array]"},L_=function(t){if(!t||sO.call(t)!=="[object Object]")return!1;var n=Uf.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Uf.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Uf.call(t,i)},M_=function(t,n){I_&&n.name==="__proto__"?I_(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},$_=function(t,n){if(n==="__proto__")if(Uf.call(t,n)){if(D_)return D_(t,n).value}else return;return t[n]},TX=function e(){var t,n,r,i,s,a,o=arguments[0],c=1,u=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},c=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=$_(o,n),i=$_(t,n),o!==i&&(d&&i&&(L_(i)||(s=F_(i)))?(s?(s=!1,a=r&&F_(r)?r:[]):a=r&&L_(r)?r:{},M_(o,{name:n,newValue:e(d,a,i)})):typeof i<"u"&&M_(o,{name:n,newValue:i}));return o};const Ng=Da(TX);function Ky(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function AX(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(c,...u){const d=e[++s];let f=-1;if(c){a(c);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,d?OX(d,o)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function OX(e,t){let n;return r;function r(...a){const o=e.length>a.length;let c;o&&a.push(i);try{c=e.apply(this,a)}catch(u){const d=u;if(o&&n)throw d;return i(d)}o||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(a,...o){n||(n=!0,t(a,...o))}function s(a){i(null,a)}}const ti={basename:IX,dirname:DX,extname:FX,join:LX,sep:"/"};function IX(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');fd(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function DX(e){if(fd(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function FX(e){fd(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function LX(...e){let t=-1,n;for(;++t<e.length;)fd(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":MX(n)}function MX(e){fd(e);const t=e.codePointAt(0)===47;let n=$X(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function $X(e,t){let n="",r=0,i=-1,s=0,a=-1,o,c;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function fd(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const UX={cwd:zX};function zX(){return"/"}function Gy(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function HX(e){if(typeof e=="string")e=new URL(e);else if(!Gy(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return BX(e)}function BX(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Tg=["history","path","basename","stem","extname","dirname"];class aO{constructor(t){let n;t?Gy(t)?n={path:t}:typeof t=="string"||qX(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":UX.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Tg.length;){const s=Tg[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Tg.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ti.basename(this.path):void 0}set basename(t){Og(t,"basename"),Ag(t,"basename"),this.path=ti.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ti.dirname(this.path):void 0}set dirname(t){U_(this.basename,"dirname"),this.path=ti.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ti.extname(this.path):void 0}set extname(t){if(Ag(t,"extname"),U_(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ti.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Gy(t)&&(t=HX(t)),Og(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ti.basename(this.path,this.extname):void 0}set stem(t){Og(t,"stem"),Ag(t,"stem"),this.path=ti.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new vn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ag(e,t){if(e&&e.includes(ti.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ti.sep+"`")}function Og(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function U_(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function qX(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const WX=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},VX={}.hasOwnProperty;class fw extends WX{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=AX()}copy(){const t=new fw;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Ng(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Fg("data",this.frozen),this.namespace[t]=n,this):VX.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Fg("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=mf(t),r=this.parser||this.Parser;return Ig("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Ig("process",this.parser||this.Parser),Dg("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=mf(t),c=r.parse(o);r.run(c,o,function(d,f,h){if(d||!f||!h)return u(d);const p=f,g=r.stringify(p,h);GX(g)?h.value=g:h.result=g,u(d,h)});function u(d,f){d||!f?a(d):s?s(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Ig("processSync",this.parser||this.Parser),Dg("processSync",this.compiler||this.Compiler),this.process(t,i),H_("processSync","process",n),r;function i(s,a){n=!0,O_(s),r=a}}run(t,n,r){z_(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const c=mf(n);i.run(t,c,u);function u(d,f,h){const p=f||t;d?o(d):a?a(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),H_("runSync","run",r),i;function s(a,o){O_(a),i=o,r=!0}}stringify(t,n){this.freeze();const r=mf(n),i=this.compiler||this.Compiler;return Dg("stringify",i),z_(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Fg("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;c(d,f)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=Ng(!0,i.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===u){h=f;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[p,...g]=d;const m=r[h][1];Ky(m)&&Ky(p)&&(p=Ng(!0,m,p)),r[h]=[u,p,...g]}}}}const QX=new fw().freeze();function Ig(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Dg(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Fg(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function z_(e){if(!Ky(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function H_(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function mf(e){return KX(e)?e:new aO(e)}function KX(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function GX(e){return typeof e=="string"||YX(e)}function YX(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const JX="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",B_=[],q_={allowDangerousHtml:!0},XX=/^(https?|ircs?|mailto|xmpp)$/i,ZX=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ho(e){const t=eZ(e),n=tZ(e);return nZ(t.runSync(t.parse(n),n),e)}function eZ(e){const t=e.rehypePlugins||B_,n=e.remarkPlugins||B_,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...q_}:q_;return QX().use(FJ).use(n).use(NX,r).use(t)}function tZ(e){const t=e.children||"",n=new aO;return typeof t=="string"&&(n.value=t),n}function nZ(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,c=t.urlTransform||rZ;for(const d of ZX)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+JX+d.id,void 0);return dw(e,u),xG(e,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function u(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return a?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in kg)if(Object.hasOwn(kg,p)&&Object.hasOwn(d.properties,p)){const g=d.properties[p],m=kg[p];(m===null||m.includes(d.tagName))&&(d.properties[p]=c(String(g||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(d,f,h)),p&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function rZ(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||XX.test(e.slice(0,t))?e:""}function W_(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function iZ(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function sZ(e,t,n){const i=Hp((n||{}).ignore||[]),s=aZ(t);let a=-1;for(;++a<s.length;)iO(e,"text",o);function o(u,d){let f=-1,h;for(;++f<d.length;){const p=d[f],g=h?h.children:void 0;if(i(p,g?g.indexOf(p):void 0,h))return;h=p}if(h)return c(u,d)}function c(u,d){const f=d[d.length-1],h=s[a][0],p=s[a][1];let g=0;const w=f.children.indexOf(u);let v=!1,x=[];h.lastIndex=0;let b=h.exec(u.value);for(;b;){const S=b.index,j={index:b.index,input:b.input,stack:[...d,u]};let _=p(...b,j);if(typeof _=="string"&&(_=_.length>0?{type:"text",value:_}:void 0),_===!1?h.lastIndex=S+1:(g!==S&&x.push({type:"text",value:u.value.slice(g,S)}),Array.isArray(_)?x.push(..._):_&&x.push(_),g=S+b[0].length,v=!0),!h.global)break;b=h.exec(u.value)}return v?(g<u.value.length&&x.push({type:"text",value:u.value.slice(g)}),f.children.splice(w,1,...x)):x=[u],w+x.length}}function aZ(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([oZ(i[0]),lZ(i[1])])}return t}function oZ(e){return typeof e=="string"?new RegExp(iZ(e),"g"):e}function lZ(e){return typeof e=="function"?e:function(){return e}}const Lg="phrasing",Mg=["autolink","link","image","label"];function cZ(){return{transforms:[gZ],enter:{literalAutolink:dZ,literalAutolinkEmail:$g,literalAutolinkHttp:$g,literalAutolinkWww:$g},exit:{literalAutolink:mZ,literalAutolinkEmail:pZ,literalAutolinkHttp:fZ,literalAutolinkWww:hZ}}}function uZ(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Lg,notInConstruct:Mg},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Lg,notInConstruct:Mg},{character:":",before:"[ps]",after:"\\/",inConstruct:Lg,notInConstruct:Mg}]}}function dZ(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function $g(e){this.config.enter.autolinkProtocol.call(this,e)}function fZ(e){this.config.exit.autolinkProtocol.call(this,e)}function hZ(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function pZ(e){this.config.exit.autolinkEmail.call(this,e)}function mZ(e){this.exit(e)}function gZ(e){sZ(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,vZ],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),yZ]],{ignore:["link","linkReference"]})}function vZ(e,t,n,r,i){let s="";if(!oO(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!xZ(n)))return!1;const a=bZ(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function yZ(e,t,n,r){return!oO(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function xZ(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function bZ(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=W_(e,"(");let s=W_(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function oO(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Oa(n)||$p(n))&&(!t||n!==47)}lO.peek=RZ;function wZ(){this.buffer()}function SZ(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function jZ(){this.buffer()}function _Z(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function EZ(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=zr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function CZ(e){this.exit(e)}function kZ(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=zr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function PZ(e){this.exit(e)}function RZ(){return"["}function lO(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function NZ(){return{enter:{gfmFootnoteCallString:wZ,gfmFootnoteCall:SZ,gfmFootnoteDefinitionLabelString:jZ,gfmFootnoteDefinition:_Z},exit:{gfmFootnoteCallString:EZ,gfmFootnoteCall:CZ,gfmFootnoteDefinitionLabelString:kZ,gfmFootnoteDefinition:PZ}}}function TZ(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:lO},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const o=s.createTracker(a);let c=o.move("[^");const u=s.enter("footnoteDefinition"),d=s.enter("label");return c+=o.move(s.safe(s.associationId(r),{before:c,after:"]"})),d(),c+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),c+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,o.current()),t?cO:AZ))),u(),c}}function AZ(e,t,n){return t===0?e:cO(e,t,n)}function cO(e,t,n){return(n?"":"    ")+e}const OZ=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];uO.peek=MZ;function IZ(){return{canContainEols:["delete"],enter:{strikethrough:FZ},exit:{strikethrough:LZ}}}function DZ(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:OZ}],handlers:{delete:uO}}}function FZ(e){this.enter({type:"delete",children:[]},e)}function LZ(e){this.exit(e)}function uO(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function MZ(){return"~"}function $Z(e){return e.length}function UZ(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||$Z,s=[],a=[],o=[],c=[];let u=0,d=-1;for(;++d<e.length;){const m=[],w=[];let v=-1;for(e[d].length>u&&(u=e[d].length);++v<e[d].length;){const x=zZ(e[d][v]);if(n.alignDelimiters!==!1){const b=i(x);w[v]=b,(c[v]===void 0||b>c[v])&&(c[v]=b)}m.push(x)}a[d]=m,o[d]=w}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)s[f]=V_(r[f]);else{const m=V_(r);for(;++f<u;)s[f]=m}f=-1;const h=[],p=[];for(;++f<u;){const m=s[f];let w="",v="";m===99?(w=":",v=":"):m===108?w=":":m===114&&(v=":");let x=n.alignDelimiters===!1?1:Math.max(1,c[f]-w.length-v.length);const b=w+"-".repeat(x)+v;n.alignDelimiters!==!1&&(x=w.length+x+v.length,x>c[f]&&(c[f]=x),p[f]=x),h[f]=b}a.splice(1,0,h),o.splice(1,0,p),d=-1;const g=[];for(;++d<a.length;){const m=a[d],w=o[d];f=-1;const v=[];for(;++f<u;){const x=m[f]||"";let b="",S="";if(n.alignDelimiters!==!1){const j=c[f]-(w[f]||0),_=s[f];_===114?b=" ".repeat(j):_===99?j%2?(b=" ".repeat(j/2+.5),S=" ".repeat(j/2-.5)):(b=" ".repeat(j/2),S=b):S=" ".repeat(j)}n.delimiterStart!==!1&&!f&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&x==="")&&(n.delimiterStart!==!1||f)&&v.push(" "),n.alignDelimiters!==!1&&v.push(b),v.push(x),n.alignDelimiters!==!1&&v.push(S),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&v.push("|")}g.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return g.join(`
`)}function zZ(e){return e==null?"":String(e)}function V_(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function HZ(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(e,s.current()),BZ);return i(),a}function BZ(e,t,n){return">"+(n?"":" ")+e}function qZ(e,t){return Q_(e,t.inConstruct,!0)&&!Q_(e,t.notInConstruct,!1)}function Q_(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function K_(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&qZ(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function WZ(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+t.length,r=n.indexOf(t,i);return a}function VZ(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function QZ(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function KZ(e,t,n,r){const i=QZ(n),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(VZ(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(s,GZ);return f(),h}const o=n.createTracker(r),c=i.repeat(Math.max(WZ(s,i)+1,3)),u=n.enter("codeFenced");let d=o.move(c);if(e.lang){const f=n.enter(`codeFencedLang${a}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${a}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),s&&(d+=o.move(s+`
`)),d+=o.move(c),u(),d}function GZ(e,t,n){return(n?"":"    ")+e}function hw(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function YZ(e,t,n,r){const i=hw(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(o=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),o(),e.title&&(o=n.enter(`title${s}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),o()),a(),u}function JZ(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function zu(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Ih(e,t,n){const r=yl(e),i=yl(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}dO.peek=XZ;function dO(e,t,n,r){const i=JZ(n),s=n.enter("emphasis"),a=n.createTracker(r),o=a.move(i);let c=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const u=c.charCodeAt(0),d=Ih(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=zu(u)+c.slice(1));const f=c.charCodeAt(c.length-1),h=Ih(r.after.charCodeAt(0),f,i);h.inside&&(c=c.slice(0,-1)+zu(f));const p=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+c+p}function XZ(e,t,n){return n.options.emphasis||"*"}function ZZ(e,t){let n=!1;return dw(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Vy}),!!((!e.depth||e.depth<3)&&iw(e)&&(t.options.setext||n))}function eee(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(ZZ(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),c=n.enter("phrasing");s.move(a+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=zu(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),c(),o(),u}fO.peek=tee;function fO(e){return e.value||""}function tee(){return"<"}hO.peek=nee;function hO(e,t,n,r){const i=hw(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(o=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),o(),e.title&&(o=n.enter(`title${s}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),o()),u+=c.move(")"),a(),u}function nee(){return"!"}pO.peek=ree;function pO(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let c=o.move("![");const u=n.safe(e.alt,{before:c,after:"]",...o.current()});c+=o.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...o.current()});return a(),n.stack=d,s(),i==="full"||!u||u!==f?c+=o.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function ree(){return"!"}mO.peek=iee;function mO(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let c;if(a.atBreak)for(;c=o.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return i+r+i}function iee(){return"`"}function gO(e,t){const n=iw(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}vO.peek=see;function vO(e,t,n,r){const i=hw(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,c;if(gO(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=a.move("<");return f+=a.move(n.containerPhrasing(e,{before:f,after:">",...a.current()})),f+=a.move(">"),o(),n.stack=d,f}o=n.enter("link"),c=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(c=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),c(),e.title&&(c=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),c()),u+=a.move(")"),o(),u}function see(e,t,n){return gO(e,n)?"<":"["}yO.peek=aee;function yO(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let c=o.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...o.current()});c+=o.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...o.current()});return a(),n.stack=d,s(),i==="full"||!u||u!==f?c+=o.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function aee(){return"["}function pw(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function oee(e){const t=pw(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function lee(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function xO(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function cee(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=e.ordered?lee(n):pw(n);const o=e.ordered?a==="."?")":".":oee(n);let c=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),xO(n)===a&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=o),n.bulletCurrent=a;const u=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),u}function uee(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function dee(e,t,n,r){const i=uee(n);let s=n.bulletCurrent||pw(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(a-s.length)),o.shift(a);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,o.current()),d);return c(),u;function d(f,h,p){return h?(p?"":" ".repeat(a))+f:(p?s:s+" ".repeat(a-s.length))+f}}function fee(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,r);return s(),i(),a}const hee=Hp(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function pee(e,t,n,r){return(e.children.some(function(a){return hee(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function mee(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}bO.peek=gee;function bO(e,t,n,r){const i=mee(n),s=n.enter("strong"),a=n.createTracker(r),o=a.move(i+i);let c=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const u=c.charCodeAt(0),d=Ih(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=zu(u)+c.slice(1));const f=c.charCodeAt(c.length-1),h=Ih(r.after.charCodeAt(0),f,i);h.inside&&(c=c.slice(0,-1)+zu(f));const p=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+c+p}function gee(e,t,n){return n.options.strong||"*"}function vee(e,t,n,r){return n.safe(e.value,r)}function yee(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function xee(e,t,n){const r=(xO(n)+(n.options.ruleSpaces?" ":"")).repeat(yee(n));return n.options.ruleSpaces?r.slice(0,-1):r}const wO={blockquote:HZ,break:K_,code:KZ,definition:YZ,emphasis:dO,hardBreak:K_,heading:eee,html:fO,image:hO,imageReference:pO,inlineCode:mO,link:vO,linkReference:yO,list:cee,listItem:dee,paragraph:fee,root:pee,strong:bO,text:vee,thematicBreak:xee};function bee(){return{enter:{table:wee,tableData:G_,tableHeader:G_,tableRow:jee},exit:{codeText:_ee,table:See,tableData:Ug,tableHeader:Ug,tableRow:Ug}}}function wee(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function See(e){this.exit(e),this.data.inTable=void 0}function jee(e){this.enter({type:"tableRow",children:[]},e)}function Ug(e){this.exit(e)}function G_(e){this.enter({type:"tableCell",children:[]},e)}function _ee(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Eee));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Eee(e,t){return t==="|"?t:e}function Cee(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:a,tableCell:c,tableRow:o}};function a(p,g,m,w){return u(d(p,m,w),p.align)}function o(p,g,m,w){const v=f(p,m,w),x=u([v]);return x.slice(0,x.indexOf(`
`))}function c(p,g,m,w){const v=m.enter("tableCell"),x=m.enter("phrasing"),b=m.containerPhrasing(p,{...w,before:s,after:s});return x(),v(),b}function u(p,g){return UZ(p,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function d(p,g,m){const w=p.children;let v=-1;const x=[],b=g.enter("table");for(;++v<w.length;)x[v]=f(w[v],g,m);return b(),x}function f(p,g,m){const w=p.children;let v=-1;const x=[],b=g.enter("tableRow");for(;++v<w.length;)x[v]=c(w[v],p,g,m);return b(),x}function h(p,g,m){let w=wO.inlineCode(p,g,m);return m.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function kee(){return{exit:{taskListCheckValueChecked:Y_,taskListCheckValueUnchecked:Y_,paragraph:Ree}}}function Pee(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Nee}}}function Y_(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Ree(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Nee(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(a);let c=wO.listItem(e,t,n,{...r,...o.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+a}}function Tee(){return[cZ(),NZ(),IZ(),bee(),kee()]}function Aee(e){return{extensions:[uZ(),TZ(e),DZ(),Cee(e),Pee()]}}const Oee={tokenize:$ee,partial:!0},SO={tokenize:Uee,partial:!0},jO={tokenize:zee,partial:!0},_O={tokenize:Hee,partial:!0},Iee={tokenize:Bee,partial:!0},EO={name:"wwwAutolink",tokenize:Lee,previous:kO},CO={name:"protocolAutolink",tokenize:Mee,previous:PO},Vi={name:"emailAutolink",tokenize:Fee,previous:RO},pi={};function Dee(){return{text:pi}}let ta=48;for(;ta<123;)pi[ta]=Vi,ta++,ta===58?ta=65:ta===91&&(ta=97);pi[43]=Vi;pi[45]=Vi;pi[46]=Vi;pi[95]=Vi;pi[72]=[Vi,CO];pi[104]=[Vi,CO];pi[87]=[Vi,EO];pi[119]=[Vi,EO];function Fee(e,t,n){const r=this;let i,s;return a;function a(f){return!Yy(f)||!RO.call(r,r.previous)||mw(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return Yy(f)?(e.consume(f),o):f===64?(e.consume(f),c):n(f)}function c(f){return f===46?e.check(Iee,d,u)(f):f===45||f===95||ln(f)?(s=!0,e.consume(f),c):d(f)}function u(f){return e.consume(f),i=!0,c}function d(f){return s&&i&&Cn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function Lee(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!kO.call(r,r.previous)||mw(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Oee,e.attempt(SO,e.attempt(jO,s),n),n)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function Mee(e,t,n){const r=this;let i="",s=!1;return a;function a(f){return(f===72||f===104)&&PO.call(r,r.previous)&&!mw(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(Cn(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),c}return n(f)}function c(f){return f===47?(e.consume(f),s?u:(s=!0,c)):n(f)}function u(f){return f===null||Th(f)||Ge(f)||Oa(f)||$p(f)?n(f):e.attempt(SO,e.attempt(jO,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function $ee(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),s):n(a)}function s(a){return a===null?n(a):t(a)}}function Uee(e,t,n){let r,i,s;return a;function a(u){return u===46||u===95?e.check(_O,c,o)(u):u===null||Ge(u)||Oa(u)||u!==45&&$p(u)?c(u):(s=!0,e.consume(u),a)}function o(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),a}function c(u){return i||r||!s?n(u):t(u)}}function zee(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(_O,t,s)(a):a===null||Ge(a)||Oa(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&r++,e.consume(a),i}}function Hee(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||Ge(o)||Oa(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Ge(o)||Oa(o)?t(o):r(o)}function s(o){return Cn(o)?a(o):n(o)}function a(o){return o===59?(e.consume(o),r):Cn(o)?(e.consume(o),a):n(o)}}function Bee(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return ln(s)?n(s):t(s)}}function kO(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ge(e)}function PO(e){return!Cn(e)}function RO(e){return!(e===47||Yy(e))}function Yy(e){return e===43||e===45||e===46||e===95||ln(e)}function mw(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const qee={tokenize:Xee,partial:!0};function Wee(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Gee,continuation:{tokenize:Yee},exit:Jee}},text:{91:{name:"gfmFootnoteCall",tokenize:Kee},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Vee,resolveTo:Qee}}}}function Vee(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){a=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return o;function o(c){if(!a||!a._balanced)return n(c);const u=zr(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function Qee(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function Kee(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),c}function c(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(s>999||f===93&&!a||f===null||f===91||Ge(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(zr(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Ge(f)||(a=!0),s++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),s++,u):u(f)}}function Gee(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,o;return c;function c(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(g)}function d(g){if(a>999||g===93&&!o||g===null||g===91||Ge(g))return n(g);if(g===93){e.exit("chunkString");const m=e.exit("gfmFootnoteDefinitionLabelString");return s=zr(r.sliceSerialize(m)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Ge(g)||(o=!0),a++,e.consume(g),g===92?f:d}function f(g){return g===91||g===92||g===93?(e.consume(g),a++,d):d(g)}function h(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),i.includes(s)||i.push(s),Fe(e,p,"gfmFootnoteDefinitionWhitespace")):n(g)}function p(g){return t(g)}}function Yee(e,t,n){return e.check(dd,t,e.attempt(qee,t,n))}function Jee(e){e.exit("gfmFootnoteDefinition")}function Xee(e,t,n){const r=this;return Fe(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):n(s)}}function Zee(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,o){let c=-1;for(;++c<a.length;)if(a[c][0]==="enter"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._close){let u=c;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[c][1].end.offset-a[c][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[c][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[c][1].end)},f={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[c][1].start)},h=[["enter",d,o],["enter",a[u][1],o],["exit",a[u][1],o],["enter",f,o]],p=o.parser.constructs.insideSpan.null;p&&ir(h,h.length,0,Up(p,a.slice(u+1,c),o)),ir(h,h.length,0,[["exit",f,o],["enter",a[c][1],o],["exit",a[c][1],o],["exit",d,o]]),ir(a,u-1,c-u+3,h),c=u+h.length-2;break}}for(c=-1;++c<a.length;)a[c][1].type==="strikethroughSequenceTemporary"&&(a[c][1].type="data");return a}function s(a,o,c){const u=this.previous,d=this.events;let f=0;return h;function h(g){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(g):(a.enter("strikethroughSequenceTemporary"),p(g))}function p(g){const m=yl(u);if(g===126)return f>1?c(g):(a.consume(g),f++,p);if(f<2&&!n)return c(g);const w=a.exit("strikethroughSequenceTemporary"),v=yl(g);return w._open=!v||v===2&&!!m,w._close=!m||m===2&&!!v,o(g)}}}class ete{constructor(){this.map=[]}add(t,n,r){tte(this,t,n,r)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function tte(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function nte(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function rte(){return{flow:{null:{name:"table",tokenize:ite,resolveAll:ste}}}}function ite(e,t,n){const r=this;let i=0,s=0,a;return o;function o(k){let D=r.events.length-1;for(;D>-1;){const A=r.events[D][1].type;if(A==="lineEnding"||A==="linePrefix")D--;else break}const L=D>-1?r.events[D][1].type:null,$=L==="tableHead"||L==="tableRow"?_:c;return $===_&&r.parser.lazy[r.now().line]?n(k):$(k)}function c(k){return e.enter("tableHead"),e.enter("tableRow"),u(k)}function u(k){return k===124||(a=!0,s+=1),d(k)}function d(k){return k===null?n(k):me(k)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),p):n(k):Oe(k)?Fe(e,d,"whitespace")(k):(s+=1,a&&(a=!1,i+=1),k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),f(k)))}function f(k){return k===null||k===124||Ge(k)?(e.exit("data"),d(k)):(e.consume(k),k===92?h:f)}function h(k){return k===92||k===124?(e.consume(k),f):f(k)}function p(k){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(k):(e.enter("tableDelimiterRow"),a=!1,Oe(k)?Fe(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):g(k))}function g(k){return k===45||k===58?w(k):k===124?(a=!0,e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),m):j(k)}function m(k){return Oe(k)?Fe(e,w,"whitespace")(k):w(k)}function w(k){return k===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),v):k===45?(s+=1,v(k)):k===null||me(k)?S(k):j(k)}function v(k){return k===45?(e.enter("tableDelimiterFiller"),x(k)):j(k)}function x(k){return k===45?(e.consume(k),x):k===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),b):(e.exit("tableDelimiterFiller"),b(k))}function b(k){return Oe(k)?Fe(e,S,"whitespace")(k):S(k)}function S(k){return k===124?g(k):k===null||me(k)?!a||i!==s?j(k):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(k)):j(k)}function j(k){return n(k)}function _(k){return e.enter("tableRow"),P(k)}function P(k){return k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),P):k===null||me(k)?(e.exit("tableRow"),t(k)):Oe(k)?Fe(e,P,"whitespace")(k):(e.enter("data"),R(k))}function R(k){return k===null||k===124||Ge(k)?(e.exit("data"),P(k)):(e.consume(k),k===92?F:R)}function F(k){return k===92||k===124?(e.consume(k),R):R(k)}}function ste(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,c=0,u,d,f;const h=new ete;for(;++n<e.length;){const p=e[n],g=p[1];p[0]==="enter"?g.type==="tableHead"?(o=!1,c!==0&&(J_(h,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},h.add(n,0,[["enter",u,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,f=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},h.add(n,0,[["enter",d,t]])),i=g.type==="tableDelimiterRow"?2:d?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],f=gf(h,t,s,i,void 0,f),s=[0,0,0,0]),a[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],f=gf(h,t,s,i,void 0,f)),s=a,a=[s[1],n,0,0])):g.type==="tableHead"?(o=!0,c=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(c=n,s[1]!==0?(a[0]=a[1],f=gf(h,t,s,i,n,f)):a[1]!==0&&(f=gf(h,t,a,i,n,f)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(a[3]=n)}for(c!==0&&J_(h,t,c,u,d),h.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=nte(t.events,n))}return e}function gf(e,t,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},vo(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const c=vo(t.events,n[1]);if(s={type:a,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const u=vo(t.events,n[2]),d=vo(t.events,n[3]),f={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,m=n[3]-n[2]-1;e.add(g,m,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(s.end=Object.assign({},vo(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function J_(e,t,n,r,i){const s=[],a=vo(t.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),r.end=Object.assign({},a),s.push(["exit",r,t]),e.add(n+1,0,s)}function vo(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const ate={name:"tasklistCheck",tokenize:lte};function ote(){return{text:{91:ate}}}function lte(e,t,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),s)}function s(c){return Ge(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),a):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),a):n(c)}function a(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(c)}function o(c){return me(c)?t(c):Oe(c)?e.check({tokenize:cte},t,n)(c):n(c)}}function cte(e,t,n){return Fe(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function ute(e){return $A([Dee(),Wee(),Zee(e),rte(),ote()])}const dte={};function Bo(e){const t=this,n=e||dte,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(ute(n)),s.push(Tee()),a.push(Aee(n))}const zg={PCAF:"/public/lovable-uploads/pcaf-logo.png",CBAM:"/public/lovable-uploads/cbam-logo.png",ADEME:"/public/lovable-uploads/ademe-logo.png","GHG Protocol":"/public/lovable-uploads/ghg-protocol-logo.png"},NO=()=>{const[e,t]=y.useState({}),[n,r]=y.useState(!0);return y.useEffect(()=>{(async()=>{try{const{data:a,error:o}=await Q.storage.from("source-logos").list();if(o){console.error("❌ Error fetching source logos:",o),t(zg);return}const c={...zg};for(const u of a||[])if(u.name&&u.name!==".emptyFolderPlaceholder"){const{data:d}=Q.storage.from("source-logos").getPublicUrl(u.name);if(d!=null&&d.publicUrl){const f=u.name.replace(/\.(jpg|jpeg|png|svg|webp)$/i,"");c[f]=d.publicUrl}}t(c)}catch(a){console.error("❌ Error in fetchLogos:",a),t(zg)}finally{r(!1)}})()},[]),{getSourceLogo:s=>{if(!s)return null;if(e[s])return e[s];const a=s.toLowerCase(),o=Object.keys(e).find(c=>c.toLowerCase()===a);return o?e[o]:null},loading:n,logos:e}},fte=()=>{var n;const{items:e,refine:t}=f7({items:[{label:"9 par page",value:9},{label:"18 par page",value:18},{label:"36 par page",value:36,default:!0},{label:"72 par page",value:72}]});return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-indigo-950 font-montserrat",children:"Résultats par page:"}),l.jsxs(wr,{value:String(((n=e.find(r=>r.isRefined))==null?void 0:n.value)||9),onValueChange:r=>t(Number(r)),children:[l.jsx(nr,{className:"w-auto",children:l.jsx(Sr,{})}),l.jsx(rr,{children:e.map(r=>l.jsx(it,{value:String(r.value),children:r.label},r.value))})]})]})},hte=({onSortChange:e,currentSort:t})=>{const n=[{label:"Pertinence",value:"relevance"},{label:"FE croissant",value:"fe_asc"},{label:"FE décroissant",value:"fe_desc"},{label:"Plus récent",value:"date_desc"},{label:"Plus ancien",value:"date_asc"},{label:"Nom A-Z",value:"nom_asc"},{label:"Nom Z-A",value:"nom_desc"},{label:"Source A-Z",value:"source_asc"}];return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-indigo-950 font-montserrat",children:"Trier par:"}),l.jsxs(wr,{value:t,onValueChange:e,children:[l.jsx(nr,{className:"w-auto min-w-[140px]",children:l.jsx(Sr,{})}),l.jsx(rr,{children:n.map(r=>l.jsx(it,{value:r.value,children:r.label},r.value))})]})]})},pte=()=>{const{currentRefinement:e,nbPages:t,refine:n,isFirstPage:r,isLastPage:i}=hT();if(t<=1)return null;const s=[],a=5;let o=Math.max(0,e-Math.floor(a/2)),c=Math.min(t-1,o+a-1);c-o<a-1&&(o=Math.max(0,c-a+1));for(let u=o;u<=c;u++)s.push(u);return l.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[l.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>n(e-1),disabled:r,children:[l.jsx(Gk,{className:"h-4 w-4"}),"Précédent"]}),o>0&&l.jsxs(l.Fragment,{children:[l.jsx(Z,{variant:e===0?"default":"outline",size:"sm",onClick:()=>n(0),children:"1"},"first-page"),o>1&&l.jsx("span",{className:"px-2",children:"..."},"left-ellipsis")]}),s.map(u=>l.jsx(Z,{variant:u===e?"default":"outline",size:"sm",onClick:()=>n(u),children:u+1},`page-${u}`)),c<t-1&&l.jsxs(l.Fragment,{children:[c<t-2&&l.jsx("span",{className:"px-2",children:"..."},"right-ellipsis"),l.jsx(Z,{variant:t-1===e?"default":"outline",size:"sm",onClick:()=>n(t-1),children:t},"last-page")]}),l.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>n(e+1),disabled:i,children:["Suivant",l.jsx(eb,{className:"h-4 w-4"})]})]})},mte=()=>{const{query:e}=Bb(),{hits:t}=Rp();return t.length===0&&e?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(tu,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucun résultat trouvé"}),l.jsxs("p",{className:"text-muted-foreground mb-4",children:[`Nous n'avons trouvé aucun facteur d'émission pour "`,e,'"']}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx("p",{children:"Suggestions :"}),l.jsxs("ul",{className:"mt-2 space-y-1",children:[l.jsx("li",{children:"• Vérifiez l'orthographe de votre recherche"}),l.jsx("li",{children:"• Essayez des termes plus généraux"}),l.jsx("li",{children:"• Utilisez moins de filtres"})]})]})]}):t.length===0&&!e?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(tu,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Commencez votre recherche"}),l.jsx("p",{className:"text-muted-foreground",children:"Utilisez la barre de recherche ou les filtres pour explorer notre base de données"})]}):null},gte=()=>{const{hits:e}=Rp(),[t,n]=q.useState(new Set),[r,i]=q.useState(new Set),[s,a]=q.useState("relevance"),{addToFavorites:o,removeFromFavorites:c,isFavorite:u}=ad(),{hasAccess:d,shouldBlurPremiumContent:f,canUseFavorites:h}=Tl();Vs();const{toast:p}=Dt();pt(),zV();const{getSourceLogo:g}=NO(),{handleExport:m,handleCopyToClipboard:w}=_A(),v="fr",x=q.useCallback((T,H)=>H==="relevance"?T:[...T].sort((E,O)=>{switch(H){case"fe_asc":return(E.FE||0)-(O.FE||0);case"fe_desc":return(O.FE||0)-(E.FE||0);case"date_desc":return(O.Date||0)-(E.Date||0);case"date_asc":return(E.Date||0)-(O.Date||0);case"nom_asc":{const C=E.Nom_fr||"",I=O.Nom_fr||"";return C.localeCompare(I,v,{numeric:!0,sensitivity:"base"})}case"nom_desc":{const C=E.Nom_fr||"";return(O.Nom_fr||"").localeCompare(C,v,{numeric:!0,sensitivity:"base"})}case"source_asc":return(E.Source||"").localeCompare(O.Source||"","fr",{numeric:!0,sensitivity:"base"});default:return 0}}),[]),{start:b}=T7({attribute:"FE",precision:2}),S=q.useMemo(()=>{const T=O=>{if(typeof O=="object"&&(O==null?void 0:O._type)==="Number"){const C=String(O.value);if(C==="-Infinity"||C==="Infinity"||C==="NaN")return;const I=parseFloat(O.value);return Number.isFinite(I)?I:void 0}if(typeof O=="number")return Number.isFinite(O)?O:void 0};let H,E;if(b&&Array.isArray(b)){const O=T(b[0]),C=T(b[1]);typeof O=="number"&&(H=O),typeof C=="number"&&(E=C)}return H===void 0&&E===void 0?e:e.filter(O=>{const C=typeof O.FE=="number"?O.FE:Number(O.FE);return!(!Number.isFinite(C)||H!==void 0&&C<H||E!==void 0&&C>E)})},[e,b]),j=q.useMemo(()=>x(S,s),[S,s,x]),_=T=>{a(T)},P=T=>{const H=new Set(t);H.has(T)?H.delete(T):H.add(T),n(H)},R=(T,H)=>{const E=(()=>{switch(H){case"Nom":return["Nom_fr","Nom_en","Nom"];case"Description":return["Description_fr","Description_en","Description"];case"Commentaires":return["Commentaires_fr","Commentaires_en","Commentaires"];case"Secteur":return["Secteur_fr","Secteur_en","Secteur"];case"Sous-secteur":return["Sous-secteur_fr","Sous-secteur_en","Sous-secteur"];case"Périmètre":return["Périmètre_fr","Périmètre_en","Périmètre"];case"Localisation":return["Localisation_fr","Localisation_en","Localisation"];case"Unite":return["Unite_fr","Unite_en","Unité donnée d'activité"];case"Source":return["Source"];default:return[H]}})(),O=T._highlightResult||{};for(const C of E){const I=O[C];if(I!=null&&I.value)return{__html:I.value};const z=T[C];if(z)return{__html:z}}return{__html:""}},F=T=>{const H=new Set(r);H.has(T)?H.delete(T):H.add(T),i(H)},k=()=>{r.size===j.length?i(new Set):i(new Set(j.map(T=>T.objectID)))},D=async()=>{if(r.size===0){p({title:"Aucune sélection",description:"Veuillez sélectionner au moins un facteur d'émission.",variant:"destructive"});return}const T=j.filter(E=>r.has(E.objectID));await w(T)&&i(new Set)},L=async()=>{if(r.size===0){p({title:"Aucune sélection",description:"Veuillez sélectionner au moins un facteur d'émission.",variant:"destructive"});return}const T=j.filter(E=>r.has(E.objectID));await m(T,"facteurs_emissions_recherche")&&i(new Set)},$=T=>({id:T.objectID,nom:T.Nom_fr||"",description:T.Description_fr||"",fe:T.FE,uniteActivite:T.Unite_fr||"",source:T.Source,secteur:T.Secteur_fr||"",sousSecteur:T["Sous-secteur_fr"]||"",localisation:T.Localisation_fr||"",date:T.Date,incertitude:T.Incertitude,perimetre:T.Périmètre_fr||"",contributeur:T.Contributeur||"",commentaires:T.Commentaires_fr||""}),A=async T=>{const H=$(T);u(T.objectID)?await c(T.objectID):await o(H)},U=async()=>{if(!h()){p({title:"Fonctionnalité Premium",description:"L'ajout aux favoris est disponible avec le plan Premium."});return}const H=j.filter(E=>r.has(E.objectID)).filter(E=>!u(E.objectID));if(H.length===0){p({title:"Déjà en favoris",description:"Tous les éléments sélectionnés sont déjà dans vos favoris."});return}await Promise.all(H.map(E=>o($(E)))),p({title:"Favoris mis à jour",description:`${H.length} élément${H.length>1?"s":""} ajouté${H.length>1?"s":""} aux favoris`})};return l.jsxs("div",{className:"space-y-6",children:[l.jsx(mte,{}),j.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6 p-4 bg-white rounded-lg border border-border",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Hi,{checked:r.size===j.length&&j.length>0,onCheckedChange:k,className:"border-indigo-950 data-[state=checked]:bg-indigo-950 data-[state=checked]:border-indigo-950"}),l.jsx("span",{className:"text-sm font-medium font-montserrat text-indigo-950",children:r.size===j.length&&j.length>0?"Tout désélectionner":"Tout sélectionner"})]}),r.size>0&&l.jsxs(He,{variant:"secondary",children:[r.size," sélectionné",r.size>1?"s":""]})]}),r.size>0&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Z,{onClick:D,variant:"outline",className:"flex items-center gap-2 font-montserrat",children:[l.jsx(Yk,{className:"h-4 w-4"}),"Copier (",r.size,")"]}),l.jsxs(Z,{onClick:U,className:"flex items-center gap-2 font-montserrat",disabled:!h(),title:h()?"":"Fonctionnalité disponible uniquement avec le plan Premium",children:[l.jsx(Uv,{className:"h-4 w-4"}),"Ajouter aux favoris (",r.size,")"]}),l.jsxs(Z,{onClick:L,className:"flex items-center gap-2 bg-slate-950 hover:bg-slate-800 text-white font-montserrat",children:[l.jsx(nb,{className:"h-4 w-4"}),"Exporter (",r.size,")"]})]})]}),l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[l.jsxs("div",{className:"text-sm text-indigo-950 font-montserrat",children:[j.length," résultat",j.length>1?"s":""," affiché",j.length>1?"s":""]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx(hte,{onSortChange:_,currentSort:s}),l.jsx(fte,{})]})]}),l.jsx("div",{className:"space-y-4",children:j.map(T=>{const H=t.has(T.objectID),E=u(T.objectID);d(T.Source);const O=f(T.Source),C=!!T.workspace_id||T.import_type==="imported";return l.jsx(ge,{className:"relative overflow-hidden bg-white border border-border hover:shadow-lg transition-shadow",children:l.jsx(ve,{className:"p-6",children:l.jsx("div",{className:"flex justify-between items-start gap-4",children:l.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[l.jsx(Hi,{checked:r.has(T.objectID),onCheckedChange:()=>F(T.objectID),onClick:I=>I.stopPropagation(),className:"mt-1 cursor-pointer border-indigo-950 data-[state=checked]:bg-indigo-950 data-[state=checked]:border-indigo-950"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex flex-col items-start gap-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-primary leading-tight font-montserrat",dangerouslySetInnerHTML:R(T,"Nom")}),C&&l.jsx(He,{variant:"secondary",className:"mt-1 text-[10px] leading-none px-2 py-0.5",children:"FE importé"})]}),l.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[l.jsx(Z,{variant:"ghost",size:"sm",onClick:I=>{I.stopPropagation(),h()&&A(T)},disabled:!h(),className:`${E?"text-red-500 hover:text-red-600":"text-muted-foreground hover:text-foreground"} ${h()?"":"opacity-50 cursor-not-allowed"}`,title:h()?"":"Fonctionnalité disponible uniquement avec le plan Premium",children:h()?l.jsx(Uv,{className:`h-4 w-4 ${E?"fill-current":""}`}):l.jsx(Xk,{className:"h-4 w-4"})}),l.jsx(Z,{variant:"ghost",size:"sm",onClick:I=>{I.stopPropagation(),P(T.objectID)},children:H?l.jsx(tb,{className:"h-4 w-4"}):l.jsx(ed,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Facteur d'émission"}),l.jsx(Nh,{isBlurred:O,showBadge:!0,children:l.jsxs("p",{className:"text-2xl font-bold text-primary font-montserrat",children:[T.FE?(typeof T.FE=="number"?parseFloat(T.FE.toFixed(4)):parseFloat(parseFloat(String(T.FE)).toFixed(4))).toLocaleString("fr-FR"):""," kgCO₂eq"]})}),l.jsxs("div",{className:"mt-2",children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Unité"}),l.jsx(Nh,{isBlurred:O,showBadge:!1,children:l.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:R(T,"Unite")})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[(T.Périmètre_fr||T.Périmètre_en)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Périmètre"}),l.jsx("p",{className:"text-sm font-light",children:T.Périmètre_fr||T.Périmètre_en})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Source"}),l.jsxs("div",{className:"flex items-center gap-2",children:[g(T.Source)&&l.jsx("img",{src:g(T.Source),alt:`Logo ${T.Source}`,className:"w-6 h-6 object-contain flex-shrink-0"}),l.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:R(T,"Source")})]})]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[(T.Localisation_fr||T.Localisation_en)&&l.jsx(He,{variant:"secondary",children:T.Localisation_fr||T.Localisation_en}),T.Date&&l.jsx(He,{variant:"outline",children:T.Date}),(T.Secteur_fr||T.Secteur_en)&&l.jsx(He,{variant:"outline",children:T.Secteur_fr||T.Secteur_en}),(T["Sous-secteur_fr"]||T["Sous-secteur_en"])&&l.jsx(He,{variant:"outline",children:T["Sous-secteur_fr"]||T["Sous-secteur_en"]})]}),H&&l.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[(T.Description_fr||T.Description_en)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Description"}),l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Ho,{remarkPlugins:[Bo],components:{a:({href:I,children:z,...N})=>l.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:z}),p:({children:I,...z})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...z,children:I})},children:T.Description_fr||T.Description_en})})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Secteur"}),l.jsx("p",{className:"text-xs font-light mt-1",dangerouslySetInnerHTML:R(T,"Secteur")})]}),T.Incertitude&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Incertitude"}),l.jsx("p",{className:"text-sm font-light mt-1",children:T.Incertitude})]}),T.Contributeur&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Contributeur"}),l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Ho,{remarkPlugins:[Bo],components:{a:({href:I,children:z,...N})=>l.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:z}),p:({children:I,...z})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...z,children:I})},children:T.Contributeur})})]}),(T.Commentaires_fr||T.Commentaires_en)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Commentaires"}),l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Ho,{remarkPlugins:[Bo],components:{a:({href:I,children:z,...N})=>l.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:z}),p:({children:I,...z})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...z,children:I})},children:T.Commentaires_fr||T.Commentaires_en})})]})]})]})]})})})},T.objectID)})}),l.jsx(pte,{})]})]})},ts=({attribute:e,title:t,searchable:n=!1,limit:r=100})=>{const{items:i,refine:s,searchForItems:a}=$7({attribute:e,limit:r}),[o,c]=q.useState(""),u=q.useRef(null),d=f=>{const h=f.target.value;c(h),!(!n||!a)&&(u.current&&clearTimeout(u.current),!(h.trim().length<2)&&(u.current=setTimeout(()=>{a(h)},300)))};return q.useEffect(()=>()=>{u.current&&clearTimeout(u.current)},[]),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium",children:t}),l.jsx("span",{className:"text-xs text-gray-500",children:i.filter(f=>f.isRefined).length>0&&`(${i.filter(f=>f.isRefined).length})`})]}),n&&l.jsx(Ot,{type:"text",placeholder:`Rechercher ${t.toLowerCase()}...`,value:o,onChange:d,className:"text-xs"}),l.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1",children:i.length===0?l.jsx("div",{className:"text-xs text-gray-400",children:"Aucune option disponible"}):i.map(f=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Hi,{id:`${e}-${f.value}`,checked:f.isRefined,onCheckedChange:()=>s(f.value)}),l.jsxs("label",{htmlFor:`${e}-${f.value}`,className:"text-sm cursor-pointer flex-1 truncate",title:f.label,children:[f.label," (",f.count,")"]})]},f.value))})]})},vte=()=>{const{origin:e,setOrigin:t}=ST(),n=r=>{console.log(`[OriginFilter] ${r}`)};return l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Z,{size:"sm",variant:e==="all"?"default":"outline",onClick:()=>{n("click all"),t("all")},children:"Tous"}),l.jsx(Z,{size:"sm",variant:e==="public"?"default":"outline",onClick:()=>{n("click public"),t("public")},children:"Base commune"}),l.jsx(Z,{size:"sm",variant:e==="private"?"default":"outline",onClick:()=>{n("click private"),t("private")},children:"Base personnelle"})]})},TO=()=>{const{refine:e}=XW();return l.jsxs(ge,{className:"w-full",children:[l.jsx(Se,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(je,{className:"text-base font-semibold",children:"Filtres"}),l.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>e(),className:"text-xs",children:[l.jsx(kM,{className:"h-3 w-3 mr-1"}),"Réinitialiser"]})]})}),l.jsxs(ve,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-sm font-semibold text-primary",children:"Origine"}),l.jsx(vte,{})]}),l.jsx(ts,{attribute:"languages",title:"Langue",limit:10}),l.jsx(ts,{attribute:"Source",title:"Source",searchable:!0,limit:500}),l.jsx(ts,{attribute:"Date",title:"Date",limit:20}),l.jsx(ts,{attribute:"Secteur_fr",title:"Secteur",searchable:!0,limit:500}),l.jsx(ts,{attribute:"Sous-secteur_fr",title:"Sous-secteur",searchable:!0,limit:500}),l.jsx(ts,{attribute:"Localisation_fr",title:"Localisation",searchable:!0,limit:500}),l.jsx(ts,{attribute:"Périmètre_fr",title:"Périmètre",searchable:!0,limit:500}),l.jsx(ts,{attribute:"Unite_fr",title:"Unité",searchable:!0,limit:500})]})]})},yte=()=>{const{nbHits:e,nbSortedHits:t,areHitsSorted:n,processingTimeMS:r}=Np();return l.jsxs("div",{className:"flex items-center justify-between text-sm text-indigo-950 mb-4 font-montserrat",children:[l.jsx("div",{children:n&&t!==e?l.jsxs("span",{children:[t==null?void 0:t.toLocaleString()," résultats pertinents sur ",e==null?void 0:e.toLocaleString()]}):l.jsxs("span",{className:"font-semibold",children:[e==null?void 0:e.toLocaleString()," résultat",e>1?"s":""," trouvé",e>1?"s":""]})}),l.jsxs("div",{children:["en ",r," ms"]})]})},xte=()=>{const{user:e}=pt(),{currentWorkspace:t}=hi(),[n,r]=y.useState(null),[i,s]=y.useState(!0);return y.useEffect(()=>{(async()=>{if(!e||!t){s(!1);return}if(t.plan_type!=="freemium"){r({started_at:"",expires_at:"",is_active:!0,days_remaining:-1,has_access:!0}),s(!1);return}try{const{data:o,error:c}=await Q.from("workspace_trials").select("*").eq("workspace_id",t.id).single();if(c&&c.code!=="PGRST116"){console.error("Erreur lors du chargement de la période d'essai:",c),s(!1);return}let u=o;if(!o){const{data:g,error:m}=await Q.from("workspace_trials").insert({workspace_id:t.id,started_at:new Date().toISOString(),expires_at:new Date(Date.now()+6048e5).toISOString(),is_active:!0}).select().single();if(m){console.error("Erreur lors de la création de la période d'essai:",m),s(!1);return}u=g}const d=new Date(u.expires_at),f=new Date,h=Math.max(0,Math.ceil((d.getTime()-f.getTime())/(1e3*60*60*24))),p=d>f;r({started_at:u.started_at,expires_at:u.expires_at,is_active:u.is_active,days_remaining:h,has_access:p})}catch(o){console.error("Erreur lors du chargement de la période d'essai:",o)}s(!1)})()},[e,t]),{trialData:n,isLoading:i,isFreemium:(t==null?void 0:t.plan_type)==="freemium",hasAccess:(n==null?void 0:n.has_access)??!1,daysRemaining:(n==null?void 0:n.days_remaining)??0}};function bte(e,t=[]){let n=[];function r(s,a){const o=y.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...g}=f,m=(h==null?void 0:h[e][c])||o,w=y.useMemo(()=>g,Object.values(g));return l.jsx(m.Provider,{value:w,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||o,g=y.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(a=>y.createContext(a));return function(o){const c=(o==null?void 0:o[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[r,wte(i,...t)]}function wte(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...o,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var gw="Progress",vw=100,[Ste,wie]=bte(gw),[jte,_te]=Ste(gw),AO=y.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=Ete,...a}=e;(i||i===0)&&!X_(i)&&console.error(Cte(`${i}`,"Progress"));const o=X_(i)?i:vw;r!==null&&!Z_(r,o)&&console.error(kte(`${r}`,"Progress"));const c=Z_(r,o)?r:null,u=Dh(c)?s(c,o):void 0;return l.jsx(jte,{scope:n,value:c,max:o,children:l.jsx(ye.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":Dh(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":DO(c,o),"data-value":c??void 0,"data-max":o,...a,ref:t})})});AO.displayName=gw;var OO="ProgressIndicator",IO=y.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=_te(OO,n);return l.jsx(ye.div,{"data-state":DO(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});IO.displayName=OO;function Ete(e,t){return`${Math.round(e/t*100)}%`}function DO(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Dh(e){return typeof e=="number"}function X_(e){return Dh(e)&&!isNaN(e)&&e>0}function Z_(e,t){return Dh(e)&&!isNaN(e)&&e<=t&&e>=0}function Cte(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${vw}\`.`}function kte(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${vw} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var FO=AO,Pte=IO;const qo=y.forwardRef(({className:e,value:t,...n},r)=>l.jsx(FO,{ref:r,className:se("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:l.jsx(Pte,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));qo.displayName=FO.displayName;const Rte=()=>{const{trialData:e,isLoading:t,isFreemium:n,hasAccess:r,daysRemaining:i}=xte();if(t||!n)return null;if(!e||!r)return l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-destructive/10 border border-destructive/20",children:[l.jsx(xr,{className:"h-4 w-4 text-destructive"}),l.jsx("span",{className:"text-sm font-medium text-destructive",children:"Période d'essai expirée"})]});const s=Math.max(0,i/7*100),a=i<=2;return l.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-secondary/50 border",children:[l.jsx(fh,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"text-sm font-medium",children:"Période d'essai"}),l.jsxs(He,{variant:a?"destructive":"secondary",className:"text-xs",children:[i," jour",i>1?"s":""]})]}),l.jsx(qo,{value:s,className:"h-2"})]})]})},Nte=({quotaData:e,isLoading:t,isAtLimit:n=!1})=>{const[r,i]=y.useState(!1);if(t)return l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("div",{className:"h-6 w-20 bg-primary/20 rounded animate-pulse"})});if(!e)return l.jsxs("div",{className:"flex items-center space-x-2 text-destructive",children:[l.jsx(xr,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"Erreur"})]});const s=e.plan_type,a=e.exports_used,o=e.exports_limit,c=e.clipboard_copies_used,u=e.clipboard_copies_limit,d=e.favorites_used,f=e.favorites_limit,h=o===null?0:a/o*100,p=u===null?0:c/u*100,g=f===null?0:d/f*100,m=()=>s==="premium"?l.jsx(ka,{className:"h-4 w-4"}):s==="standard"?l.jsx(nu,{className:"h-4 w-4"}):null,w=()=>s==="premium"?"Premium":s==="standard"?"Standard":"Freemium",v=()=>o===null?"Illimitées ∞":o===0?"Non disponible":`${a} / ${o}`,x=()=>u===null?"Illimitées ∞":`${c} / ${u}`,b=()=>f===null?"Illimitées ∞":`${d} / ${f}`,S=s==="premium"||s==="standard";return l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>i(!r),className:`flex items-center space-x-1.5 px-2.5 py-1.5 rounded-md text-sm font-medium transition-colors bg-primary text-primary-foreground hover:bg-primary/90 ${n?"bg-destructive hover:bg-destructive/90":""}`,"aria-expanded":r,"aria-haspopup":"true",children:[m(),l.jsx("span",{className:"whitespace-nowrap",children:w()}),n&&l.jsx(Na,{className:"h-3 w-3 text-destructive"}),l.jsx(ed,{className:`h-3 w-3 transition-transform ${r?"rotate-180":""}`})]}),r&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),l.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-popover rounded-lg shadow-lg border border-border z-20",children:l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"mb-4",children:l.jsx(Rte,{})}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("h3",{className:"font-semibold text-foreground",children:["Plan ",w()]}),m()]}),n&&l.jsxs(He,{variant:"destructive",className:"text-xs",children:[l.jsx(Na,{className:"w-3 h-3 mr-1"}),"Limite atteinte"]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Recherches"}),l.jsx("span",{className:"text-sm font-medium text-success",children:"Illimitées ∞"})]})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Exports Excel"}),l.jsx("span",{className:`text-sm font-medium ${h>=100?"text-destructive":"text-muted-foreground"}`,children:v()})]}),!S&&o!==null&&o>0&&l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all ${h>=100?"bg-destructive":h>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(h,100)}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Copie presse-papiers"}),l.jsx("span",{className:`text-sm font-medium ${p>=100?"text-destructive":"text-muted-foreground"}`,children:x()})]}),!S&&u!==null&&l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all ${p>=100?"bg-destructive":p>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(p,100)}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Favoris"}),l.jsx("span",{className:`text-sm font-medium ${g>=100?"text-destructive":"text-muted-foreground"}`,children:b()})]}),!S&&f!==null&&l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all ${g>=100?"bg-destructive":g>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(g,100)}%`}})})]}),n&&s==="freemium"&&l.jsx("div",{className:"mt-4 p-3 bg-destructive/10 rounded-md border border-destructive/20",children:l.jsx("p",{className:"text-xs text-destructive leading-relaxed",children:"Vous avez atteint vos limites mensuelles. Contactez l'administrateur pour augmenter votre plan."})}),!n&&s==="freemium"&&l.jsx("div",{className:"mt-4 p-3 bg-muted rounded-md",children:l.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"Contactez votre administrateur pour augmenter vos limites."})})]})]})})]})]})},wa=()=>{const{user:e,signOut:t}=pt(),{isSupraAdmin:n}=Tp(),{canUseFavorites:r}=Tl(),{quotaData:i,isLoading:s,isAtLimit:a}=qb(),o=$a(),c=async()=>{await t(),o("/")};return l.jsx("nav",{className:"border-b border-border bg-background",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsx("div",{className:"flex items-center",children:l.jsx(wt,{to:e?"/search":"/",className:"flex items-center",children:l.jsx("img",{src:"/lovable-uploads/6c4e21a7-850d-42ab-8370-017b8e71d180.png",alt:"DataCarb",className:"h-10"})})}),l.jsx("div",{className:"flex items-center space-x-4",children:e?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"hidden md:block",children:l.jsx(Nte,{quotaData:i,isLoading:s,isAtLimit:a})}),l.jsx(wt,{to:"/search",children:l.jsx(Z,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Recherche"})}),r()?l.jsx(wt,{to:"/favoris",children:l.jsx(Z,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Favoris"})}):l.jsxs(Z,{variant:"ghost",className:"text-foreground opacity-50 cursor-not-allowed",disabled:!0,title:"Fonctionnalité disponible uniquement avec le plan Premium",children:[l.jsx(Xk,{className:"h-4 w-4 mr-2"}),"Favoris"]}),n&&l.jsx(wt,{to:"/import",children:l.jsx(Z,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Import"})}),l.jsx(wt,{to:"/settings",children:l.jsx(Z,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Paramètres"})}),l.jsx(Z,{onClick:c,variant:"outline",className:"border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:"Se déconnecter"})]}):l.jsxs(l.Fragment,{children:[l.jsx(wt,{to:"/signup",children:l.jsx(Z,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"S'inscrire"})}),l.jsx(wt,{to:"/login",children:l.jsx(Z,{children:"Se connecter"})})]})})]})})})},Tte=()=>l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(wa,{}),l.jsx("section",{className:"py-20 px-4 bg-primary",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"w-full max-w-6xl",children:l.jsx(XV,{})})})})}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsx("aside",{className:"lg:col-span-1",children:l.jsx(TO,{})}),l.jsxs("section",{className:"lg:col-span-3",children:[l.jsx(VN,{hitsPerPage:36}),l.jsx(yte,{}),l.jsx(gte,{})]})]})})]}),Ate=()=>l.jsx(jT,{children:l.jsx(Tte,{})}),Ote=({favoriteIds:e=[]})=>{const{query:t,refine:n}=Bb();Np();const r=()=>{n("")},i=()=>{};return l.jsx("div",{className:"space-y-4",children:l.jsx("div",{className:"relative",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(tu,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),l.jsx(Ot,{type:"text",value:t,onChange:s=>{n(s.target.value)},onKeyDown:s=>{s.key},placeholder:`Rechercher dans vos ${(e==null?void 0:e.length)||0} favoris...`,className:"flex-1 bg-background border-border text-foreground placeholder:text-muted-foreground h-12 text-base pl-12 pr-12 rounded-lg"}),t&&l.jsx("button",{onClick:r,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:l.jsx(ap,{className:"h-5 w-5"})})]}),l.jsx(Z,{variant:"default",onClick:i,className:"h-12 px-6 rounded-lg",children:"Rechercher"})]})})})},LO=({children:e,allowedRoles:t,requirePermission:n,fallback:r=null})=>{const i=Vs(),{role:s}=i;return t&&(!s||!t.includes(s))?l.jsx(l.Fragment,{children:r}):n&&!i[n]?l.jsx(l.Fragment,{children:r}):l.jsx(l.Fragment,{children:e})},Ite=({selectedItems:e,onItemSelect:t,onSelectAll:n,onExport:r,onCopyToClipboard:i,onRemoveSelectedFromFavorites:s,onToggleFavorite:a,favoriteIds:o})=>{const{hits:c}=Rp(),[u,d]=y.useState("relevance"),[f,h]=y.useState(new Set),p=q.useCallback((E,O)=>O==="relevance"?E:[...E].sort((C,I)=>{switch(O){case"fe_asc":return(C.FE||0)-(I.FE||0);case"fe_desc":return(I.FE||0)-(C.FE||0);case"date_desc":return(I.Date||0)-(C.Date||0);case"date_asc":return(C.Date||0)-(I.Date||0);case"nom_asc":{const z=C.Nom_fr||C.Nom_en||C.Nom||"",N=I.Nom_fr||I.Nom_en||I.Nom||"";return z.localeCompare(N,"fr",{numeric:!0,sensitivity:"base"})}case"nom_desc":{const z=C.Nom_fr||C.Nom_en||C.Nom||"";return(I.Nom_fr||I.Nom_en||I.Nom||"").localeCompare(z,"fr",{numeric:!0,sensitivity:"base"})}case"source_asc":return(C.Source||"").localeCompare(I.Source||"","fr",{numeric:!0,sensitivity:"base"});default:return 0}}),[]),g=q.useMemo(()=>p(c,u),[c,u,p]),m=E=>{d(E)},w=[{label:"Pertinence",value:"relevance"},{label:"FE croissant",value:"fe_asc"},{label:"FE décroissant",value:"fe_desc"},{label:"Plus récent",value:"date_desc"},{label:"Plus ancien",value:"date_asc"},{label:"Nom A-Z",value:"nom_asc"},{label:"Nom Z-A",value:"nom_desc"},{label:"Source A-Z",value:"source_asc"}],{currentRefinement:v,nbPages:x,refine:b}=hT(),{removeFromFavorites:S,isFavorite:j}=ad();Vs();const{getSourceLogo:_}=NO(),{shouldBlurPremiumContent:P}=Tl(),R=g.length>0&&g.every(E=>e.has(E.objectID)),F=E=>{n(E)},k=E=>{const O=new Set(f);O.has(E)?O.delete(E):O.add(E),h(O)},D=(E,O)=>{const C=(()=>{switch(O){case"Nom":return["Nom_fr","Nom_en","Nom"];case"Description":return["Description_fr","Description_en","Description"];case"Commentaires":return["Commentaires_fr","Commentaires_en","Commentaires"];case"Secteur":return["Secteur_fr","Secteur_en","Secteur"];case"Sous-secteur":return["Sous-secteur_fr","Sous-secteur_en","Sous-secteur"];case"Périmètre":return["Périmètre_fr","Périmètre_en","Périmètre"];case"Localisation":return["Localisation_fr","Localisation_en","Localisation"];case"Unite":return["Unite_fr","Unite_en","Unité donnée d'activité"];case"Source":return["Source"];default:return[O]}})(),I=E._highlightResult||{};for(const z of C){const N=I[z];if(N!=null&&N.value)return{__html:N.value};const ne=E[z];if(ne)return{__html:ne}}return{__html:""}},L=async E=>{try{await S(E.objectID),jn.success("Retiré des favoris")}catch{jn.error("Erreur lors de la suppression du favori")}},$=E=>({id:E.objectID,nom:E.Nom_fr||E.Nom_en||E.Nom||"",description:E.Description_fr||E.Description_en||E.Description||"",fe:E.FE,uniteActivite:E.Unite_fr||E.Unite_en||E["Unité donnée d'activité"]||"",source:E.Source,secteur:E.Secteur_fr||E.Secteur_en||E.Secteur||"",sousSecteur:E["Sous-secteur_fr"]||E["Sous-secteur_en"]||E["Sous-secteur"]||"",localisation:E.Localisation_fr||E.Localisation_en||E.Localisation||"",date:E.Date,incertitude:E.Incertitude,perimetre:E.Périmètre_fr||E.Périmètre_en||E.Périmètre||"",contributeur:E.Contributeur||"",commentaires:E.Commentaires_fr||E.Commentaires_en||E.Commentaires||""}),A=()=>{if(r){const O=g.filter(C=>e.has(C.objectID)).map($);r(O)}},U=()=>{if(i){const O=g.filter(C=>e.has(C.objectID)).map($);i(O)}},T=()=>{if(s){const E=Array.from(e);s(E)}},H=E=>!!E.workspace_id||E.import_type==="imported";return g.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("div",{className:"text-muted-foreground",children:"Aucun favori ne correspond à votre recherche."})}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[l.jsxs("div",{className:"text-sm text-foreground",children:[g.length," favori",g.length>1?"s":""," affiché",g.length>1?"s":""]}),l.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-foreground",children:"Trier par:"}),l.jsxs(wr,{value:u,onValueChange:m,children:[l.jsx(nr,{className:"w-auto min-w-[140px]",children:l.jsx(Sr,{})}),l.jsx(rr,{children:w.map(E=>l.jsx(it,{value:E.value,children:E.label},E.value))})]})]})})]}),l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 p-4 bg-muted/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Hi,{id:"select-all",checked:R,onCheckedChange:F}),l.jsxs("label",{htmlFor:"select-all",className:"text-sm cursor-pointer",children:["Tout sélectionner (",g.length,")"]})]}),e.size>0&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Z,{variant:"outline",size:"sm",onClick:U,children:[l.jsx(Yk,{className:"w-4 h-4 mr-2"}),"Copier (",e.size,")"]}),l.jsx(LO,{requirePermission:"canExport",children:l.jsxs(Z,{variant:"outline",size:"sm",onClick:A,children:[l.jsx(nb,{className:"w-4 h-4 mr-2"}),"Exporter (",e.size,")"]})}),l.jsxs(Z,{variant:"destructive",size:"sm",onClick:T,children:[l.jsx(td,{className:"w-4 h-4 mr-2"}),"Retirer (",e.size,")"]})]})]}),l.jsx("div",{className:"space-y-4",children:g.map(E=>{const O=f.has(E.objectID);j(E.objectID);const C=P(E.Source);return l.jsx(ge,{className:"relative overflow-hidden bg-background border border-border hover:shadow-lg transition-shadow",children:l.jsx(ve,{className:"p-6",children:l.jsx("div",{className:"flex justify-between items-start gap-4",children:l.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[l.jsx(Hi,{checked:e.has(E.objectID),onCheckedChange:()=>t(E.objectID),onClick:I=>I.stopPropagation(),className:"mt-1 cursor-pointer"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex flex-col items-start gap-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-primary leading-tight",dangerouslySetInnerHTML:D(E,"Nom")}),H(E)&&l.jsx(He,{variant:"secondary",className:"mt-1 text-[10px] leading-none px-2 py-0.5",children:"FE importé"})]}),l.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[l.jsx(Z,{variant:"ghost",size:"sm",onClick:I=>{I.stopPropagation(),L(E)},className:"text-red-500 hover:text-red-600",children:l.jsx(Uv,{className:"h-4 w-4 fill-current"})}),l.jsx(Z,{variant:"ghost",size:"sm",onClick:I=>{I.stopPropagation(),k(E.objectID)},children:O?l.jsx(tb,{className:"h-4 w-4"}):l.jsx(ed,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Facteur d'émission"}),l.jsx(Nh,{isBlurred:C,children:l.jsxs("p",{className:"text-2xl font-bold text-primary",children:[E.FE?(typeof E.FE=="number"?parseFloat(E.FE.toFixed(4)):parseFloat(parseFloat(String(E.FE)).toFixed(4))).toLocaleString("fr-FR"):""," kgCO₂eq"]})}),l.jsxs("div",{className:"mt-2",children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Unité"}),l.jsx(Nh,{isBlurred:C,showBadge:!1,children:l.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:D(E,"Unite")})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[(E.Périmètre_fr||E.Périmètre_en||E.Périmètre)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Périmètre"}),l.jsx("p",{className:"text-sm font-light",children:E.Périmètre_fr||E.Périmètre_en||E.Périmètre})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Source"}),l.jsxs("div",{className:"flex items-center gap-2",children:[_(E.Source)&&l.jsx("img",{src:_(E.Source),alt:`Logo ${E.Source}`,className:"w-6 h-6 object-contain flex-shrink-0"}),l.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:D(E,"Source")})]})]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[(E.Localisation_fr||E.Localisation_en||E.Localisation)&&l.jsx(He,{variant:"secondary",children:E.Localisation_fr||E.Localisation_en||E.Localisation}),E.Date&&l.jsx(He,{variant:"outline",children:E.Date}),(E.Secteur_fr||E.Secteur_en||E.Secteur)&&l.jsx(He,{variant:"outline",children:E.Secteur_fr||E.Secteur_en||E.Secteur}),(E["Sous-secteur_fr"]||E["Sous-secteur_en"]||E["Sous-secteur"])&&l.jsx(He,{variant:"outline",children:E["Sous-secteur_fr"]||E["Sous-secteur_en"]||E["Sous-secteur"]})]}),O&&l.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[E.Description_fr||E.Description_en?l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Description"}),l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Ho,{remarkPlugins:[Bo],components:{a:({href:I,children:z,...N})=>l.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:z}),p:({children:I,...z})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...z,children:I})},children:E.Description_fr||E.Description_en})})]}):null,l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Secteur"}),l.jsx("p",{className:"text-xs font-light mt-1",dangerouslySetInnerHTML:D(E,"Secteur")})]}),E.Incertitude&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Incertitude"}),l.jsx("p",{className:"text-sm font-light mt-1",children:E.Incertitude})]}),E.Contributeur&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Contributeur"}),l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Ho,{remarkPlugins:[Bo],components:{a:({href:I,children:z,...N})=>l.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:z}),p:({children:I,...z})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...z,children:I})},children:E.Contributeur})})]}),E.Commentaires_fr||E.Commentaires_en?l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Commentaires"}),l.jsx("div",{className:"text-xs mt-1 text-break-words",children:l.jsx(Ho,{remarkPlugins:[Bo],components:{a:({href:I,children:z,...N})=>l.jsx("a",{href:I,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:z}),p:({children:I,...z})=>l.jsx("p",{className:"text-xs font-light leading-relaxed",...z,children:I})},children:E.Commentaires_fr||E.Commentaires_en})})]}):null]})]})]})})})},E.objectID)})}),x>1&&(()=>{let O=Math.max(0,v-Math.floor(2.5)),C=Math.min(x-1,O+5-1);C-O<4&&(O=Math.max(0,C-5+1));const I=[];for(let z=O;z<=C;z++)I.push(z);return l.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[l.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>b(v-1),disabled:v===0,children:[l.jsx(Gk,{className:"w-4 h-4"}),"Précédent"]}),l.jsxs("div",{className:"flex items-center gap-1",children:[O>0&&l.jsx(Z,{variant:v===0?"default":"outline",size:"sm",onClick:()=>b(0),className:"w-10",children:"1"},"first-page"),O>1&&l.jsx("span",{className:"px-2",children:"..."},"left-ellipsis"),I.map(z=>l.jsx(Z,{variant:z===v?"default":"outline",size:"sm",onClick:()=>b(z),className:"w-10",children:z+1},`page-${z}`)),C<x-2&&l.jsx("span",{className:"px-2",children:"..."},"right-ellipsis"),C<x-1&&l.jsx(Z,{variant:x-1===v?"default":"outline",size:"sm",onClick:()=>b(x-1),className:"w-10",children:x},"last-page")]}),l.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>b(v+1),disabled:v>=x-1,children:["Suivant",l.jsx(eb,{className:"w-4 h-4"})]})]})})()]})},Dte=()=>{const{nbHits:e,nbSortedHits:t,areHitsSorted:n,processingTimeMS:r}=Np();return l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[l.jsx("div",{children:n&&t!==e?l.jsxs("span",{children:[t==null?void 0:t.toLocaleString()," résultats pertinents sur ",e==null?void 0:e.toLocaleString()," favoris"]}):l.jsxs("span",{className:"font-semibold text-foreground",children:[e==null?void 0:e.toLocaleString()," favori",e>1?"s":""," trouvé",e>1?"s":""]})}),l.jsxs("div",{children:["en ",r," ms"]})]})},Fte=({favoriteIds:e})=>{const[t,n]=y.useState(new Set),{favorites:r,removeFromFavorites:i}=ad(),{handleExport:s,handleCopyToClipboard:a}=_A(),o=m=>{n(w=>{const v=new Set(w);return v.has(m)?v.delete(m):v.add(m),v})},c=m=>{if(m){const w=r.map(v=>v.id);n(new Set(w))}else n(new Set)},u=async m=>{await a(m)},d=async m=>{await s(m,"facteurs_emissions_favoris")},f=async m=>{try{for(const w of m)await i(w);n(new Set),jn.success(`${m.length} élément${m.length>1?"s":""} retiré${m.length>1?"s":""} des favoris`)}catch{jn.error("Erreur lors de la suppression des favoris")}},h=[...new Set(r.map(m=>m.source))].filter(Boolean),p=[...new Set(r.map(m=>m.localisation))].filter(Boolean);[...new Set(r.map(m=>m.date.toString()))].filter(Boolean).sort((m,w)=>parseInt(w)-parseInt(m));const g=aV(e);return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(wa,{}),l.jsx("section",{className:"py-12 px-4 bg-background border-b",children:l.jsx("div",{className:"container mx-auto",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[l.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:"Mes Favoris"}),l.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Recherchez et gérez vos facteurs d'émission favoris"}),l.jsx("div",{className:"max-w-3xl mx-auto",children:l.jsx(Ote,{favoriteIds:e})}),l.jsxs("div",{className:"flex justify-center items-center gap-8 mt-8 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold text-foreground",children:r.length}),l.jsx("span",{children:"favoris au total"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold text-foreground",children:h.length}),l.jsx("span",{children:"sources"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-semibold text-foreground",children:p.length}),l.jsx("span",{children:"localisations"})]})]})]})})}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:r.length===0?l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"text-muted-foreground text-lg mb-4",children:"Vous n'avez pas encore de favoris."}),l.jsx("div",{className:"text-muted-foreground",children:"Recherchez des facteurs d'émission et ajoutez-les à vos favoris en cliquant sur ❤️"})]}):l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l.jsx("aside",{className:"lg:col-span-1",children:l.jsx(TO,{})}),l.jsxs("section",{className:"lg:col-span-3",children:[l.jsx(VN,{filters:g}),l.jsx(Dte,{}),l.jsx(Ite,{selectedItems:t,onItemSelect:o,onSelectAll:c,onExport:d,onCopyToClipboard:u,onRemoveSelectedFromFavorites:f,favoriteIds:e})]})]})})]})},Lte=()=>{const{favorites:e}=ad(),t=y.useMemo(()=>e.map(n=>n.id),[e]);return l.jsx(HV,{children:l.jsx(jT,{children:l.jsx(Fte,{favoriteIds:t})})})},Mte=()=>{const[e,t]=y.useState(null),[n,r]=y.useState(""),[i,s]=y.useState(!1),[a,o]=y.useState(!1),[c,u]=y.useState(0),[d,f]=y.useState("idle"),[h,p]=y.useState(null),[g,m]=y.useState("idle"),{toast:w}=Dt(),{user:v}=pt(),{currentWorkspace:x}=hi(),{canImportData:b}=Vs(),{addToFavorites:S}=ad(),j=()=>{const k=["id","nom","nom_en","description","description_en","fe","unite","unite_en","source","secteur","secteur_en","categorie","categorie_en","localisation","localisation_en","date","incertitude","perimetre","perimetre_en","contributeur","commentaires","commentaires_en"],D=["","Transport routier de marchandises","Freight transportation","","","0.123","kgCO2e/t.km","kgCO2e/t.km","Ma Base Perso","Transport","Transportation","Fret","Freight","France","France","2025","","Well-to-Wheel","Well-to-Wheel","",""],L=[k.join(","),D.join(",")].join(`
`),$=new Blob([L],{type:"text/csv"}),A=URL.createObjectURL($),U=document.createElement("a");U.href=A,U.download="template_facteurs_emissions_bilingue.csv",U.click(),URL.revokeObjectURL(A)},_=k=>{var L;const D=(L=k.target.files)==null?void 0:L[0];D&&D.type==="text/csv"?(t(D),f("idle"),p(null)):w({title:"Format invalide",description:"Veuillez sélectionner un fichier CSV valide",variant:"destructive"})},P=k=>{const D=k.split(`
`).filter(A=>A.trim());if(D.length===0)return[];const L=D[0].split(",").map(A=>A.trim().replace(/"/g,"")),$=[];for(let A=1;A<D.length;A++){const U=D[A].split(",").map(T=>T.trim().replace(/"/g,""));if(U.length===L.length){const T={};L.forEach((H,E)=>{T[H]=U[E]}),$.push(T)}}return $},R=async()=>{if(!e||!n.trim()){w({title:"Informations manquantes",description:"Veuillez sélectionner un fichier et donner un nom à votre dataset",variant:"destructive"});return}if(!x||!v){w({variant:"destructive",title:"Erreur",description:"Veuillez vous assurer d'être dans un workspace."});return}if(!b){w({variant:"destructive",title:"Permission refusée",description:"Vous n'avez pas les permissions pour importer des données."});return}o(!0),f("uploading"),u(0);try{const k=await e.text();u(25);const D=P(k);if(u(50),f("processing"),D.length===0)throw new Error("Le fichier CSV est vide ou mal formaté");const{data:L,error:$}=await Q.from("datasets").insert({name:n,file_name:e.name,file_size:e.size,user_id:v.id,workspace_id:x.id,uploaded_by:v.id}).select().single();if($)throw new Error(`Erreur lors de la création du dataset: ${$.message}`);u(75);try{await Q.from("fe_sources").upsert({source_name:L.name,access_level:"standard",is_global:!1},{onConflict:"source_name"}),await Q.from("fe_source_workspace_assignments").upsert({source_name:L.name,workspace_id:x.id,assigned_by:v.id},{onConflict:"source_name,workspace_id"})}catch(C){console.warn("Erreur assignation source au workspace:",C)}let A=e.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9.]/g,"_").replace(/_{2,}/g,"_").replace(/^_+|_+$/g,"").substring(0,50);const U=e.name.toLowerCase().endsWith(".xlsx")?".xlsx":".csv";A.endsWith(U)||(A=A.replace(/\.[^.]*$/,"")+U);const T=`${Date.now()}_${A}`,{error:H}=await Q.storage.from("imports").upload(T,e,{upsert:!0});if(H)throw H;m("indexing");const{data:E,error:O}=await Q.functions.invoke("import-csv-user",{body:{file_path:T,dataset_name:L.name,language:"fr"}});if(O)throw O;if(m("success"),i&&insertedFactors&&insertedFactors.length>0)try{let C=0;for(const I of insertedFactors)try{const z={id:I.id,nom:I.Nom||"",description:I.Description||"",fe:I.FE||0,uniteActivite:I["Unité donnée d'activité"]||"",source:I.Source||"",secteur:I.Secteur||"",sousSecteur:I["Sous-secteur"]||"",localisation:I.Localisation||"",date:I.Date||new Date().getFullYear(),incertitude:I.Incertitude||"",perimetre:I.Périmètre||"",contributeur:I.Contributeur||"",commentaires:I.Commentaires||""};await S(z),C++}catch(z){console.warn("Erreur ajout favori:",z)}C>0&&w({title:"Favoris ajoutés",description:`${C} éléments ajoutés aux favoris.`})}catch(C){console.warn("Erreur ajout favoris global:",C)}u(100),f("success"),p({success:(E==null?void 0:E.inserted)||0,errors:[]}),w({title:"Import réussi",description:`Import lancé: traitement côté serveur (id: ${(E==null?void 0:E.import_id)||"n/a"}).`}),setTimeout(()=>{t(null),r(""),s(!1),f("idle"),u(0);const C=document.getElementById("file-upload");C&&(C.value="")},3e3)}catch(k){console.error("Import error:",k),f("error"),p({success:0,errors:[k instanceof Error?k.message:"Erreur inconnue"]}),w({variant:"destructive",title:"Erreur d'import",description:k instanceof Error?k.message:"Une erreur est survenue lors de l'import."})}finally{o(!1)}},F=()=>{switch(d){case"success":return l.jsx(zt,{className:"w-5 h-5 text-green-500"});case"error":return l.jsx(xr,{className:"w-5 h-5 text-red-500"});default:return null}};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(wa,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:[l.jsx(RS,{className:"w-8 h-8 mr-3 text-primary"}),"Import de données"]}),l.jsx("p",{className:"text-muted-foreground",children:"Importez votre propre base de données de facteurs d'émissions carbone"})]}),l.jsxs(LO,{requirePermission:"canImportData",fallback:l.jsx(ge,{className:"mb-6",children:l.jsx(ve,{className:"pt-6",children:l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx(xr,{className:"w-12 h-12 mx-auto mb-4"}),l.jsx("p",{children:"Vous n'avez pas les permissions nécessaires pour importer des données."})]})})}),children:[l.jsxs(ge,{className:"mb-6",children:[l.jsxs(Se,{children:[l.jsxs(je,{className:"flex items-center",children:[l.jsx(nb,{className:"w-5 h-5 mr-2"}),"Télécharger le template"]}),l.jsx(xt,{children:"Utilisez notre template CSV pour formater correctement vos données"})]}),l.jsxs(ve,{children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(jM,{className:"w-8 h-8 text-muted-foreground mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"template_facteurs_emissions.csv"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Template avec colonnes requises"})]})]}),l.jsx(Z,{onClick:j,variant:"outline",children:"Télécharger"})]}),l.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[l.jsx("strong",{children:"Colonnes requises :"})," nom, description, fe, unite, source, secteur, categorie, localisation, date, incertitude"]})]})]}),l.jsxs(ge,{children:[l.jsxs(Se,{children:[l.jsxs(je,{className:"flex items-center",children:["Importer votre dataset",F()]}),l.jsx(xt,{children:"Sélectionnez un fichier CSV formaté selon notre template"})]}),l.jsxs(ve,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{htmlFor:"dataset-name",children:"Nom du dataset"}),l.jsx(Ot,{id:"dataset-name",placeholder:"Mon dataset personnalisé",value:n,onChange:k=>r(k.target.value),disabled:a})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{htmlFor:"file-upload",children:"Fichier CSV"}),l.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[l.jsx("input",{id:"file-upload",type:"file",accept:".csv",onChange:_,className:"hidden",disabled:a}),e?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx(sp,{className:"w-8 h-8 text-green-500 mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:e.name}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[(e.size/1024/1024).toFixed(2)," MB"]})]})]}):l.jsxs("div",{children:[l.jsx(RS,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),l.jsx("div",{className:"text-lg font-medium mb-2",children:"Cliquez pour sélectionner un fichier"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Formats acceptés : CSV uniquement"})]}),l.jsx("label",{htmlFor:"file-upload",className:`mt-4 inline-flex cursor-pointer items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow transition-colors hover:bg-primary/90 ${a?"opacity-50 cursor-not-allowed":""}`,children:e?"Changer de fichier":"Sélectionner un fichier"})]})]}),a&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{children:[d==="uploading"&&"Lecture du fichier...",d==="processing"&&"Traitement des données..."]}),l.jsxs("span",{children:[c,"%"]})]}),l.jsx(qo,{value:c,className:"w-full"})]}),h&&l.jsx("div",{className:`p-4 rounded-lg ${d==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:d==="success"?l.jsxs("div",{className:"flex items-center",children:[l.jsx(zt,{className:"w-5 h-5 text-green-500 mr-2"}),l.jsxs("span",{className:"text-green-700",children:[h.success," facteurs d'émissions importés avec succès"]})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(xr,{className:"w-5 h-5 text-red-500 mr-2"}),l.jsx("span",{className:"text-red-700 font-medium",children:"Erreurs d'import"})]}),l.jsx("ul",{className:"text-sm text-red-600 space-y-1",children:h.errors.map((k,D)=>l.jsxs("li",{children:["• ",k]},D))})]})}),g!=="idle"&&l.jsxs("div",{className:"mt-3 p-3 rounded-lg border bg-muted/30",children:[g==="indexing"&&l.jsx("div",{className:"text-sm text-muted-foreground",children:"Indexation Algolia en cours…"}),g==="success"&&l.jsxs("div",{className:"flex items-center text-sm text-green-700",children:[l.jsx(zt,{className:"w-4 h-4 mr-2"})," Indexation Algolia terminée"]}),g==="error"&&l.jsxs("div",{className:"flex items-center text-sm text-red-700",children:[l.jsx(xr,{className:"w-4 h-4 mr-2"})," Échec de l'indexation Algolia (non bloquant)"]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Hi,{id:"add-favorites",checked:i,onCheckedChange:k=>s(k),disabled:a}),l.jsx(jt,{htmlFor:"add-favorites",className:"text-sm",children:"Ajouter automatiquement tous les éléments de ce dataset à mes favoris"})]}),l.jsx(Z,{onClick:R,className:"w-full",disabled:!e||!n.trim()||a,children:a?"Import en cours...":"Importer le dataset"})]})]})]}),l.jsx(ge,{className:"mt-6",children:l.jsx(ve,{className:"pt-6",children:l.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Limite de taille :"})," 10 MB maximum par fichier"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Format :"})," CSV avec séparateur virgule (,)"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Encodage :"})," UTF-8 recommandé"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Validation :"})," Les données seront vérifiées avant import"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Workspace :"})," Les données seront importées dans votre workspace actuel"]})]})})})]})})]})};var yw="Dialog",[MO,$O]=qi(yw),[$te,Vr]=MO(yw),UO=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,o=y.useRef(null),c=y.useRef(null),[u=!1,d]=Li({prop:r,defaultProp:i,onChange:s});return l.jsx($te,{scope:t,triggerRef:o,contentRef:c,contentId:$r(),titleId:$r(),descriptionId:$r(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};UO.displayName=yw;var zO="DialogTrigger",HO=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Vr(zO,n),s=Le(t,i.triggerRef);return l.jsx(ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ww(i.open),...r,ref:s,onClick:te(e.onClick,i.onOpenToggle)})});HO.displayName=zO;var xw="DialogPortal",[Ute,BO]=MO(xw,{forceMount:void 0}),qO=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=Vr(xw,t);return l.jsx(Ute,{scope:t,forceMount:n,children:y.Children.map(r,a=>l.jsx(Cr,{present:n||s.open,children:l.jsx(Ju,{asChild:!0,container:i,children:a})}))})};qO.displayName=xw;var Fh="DialogOverlay",WO=y.forwardRef((e,t)=>{const n=BO(Fh,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Vr(Fh,e.__scopeDialog);return s.modal?l.jsx(Cr,{present:r||s.open,children:l.jsx(zte,{...i,ref:t})}):null});WO.displayName=Fh;var zte=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Vr(Fh,n);return l.jsx(Ip,{as:As,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(ye.div,{"data-state":ww(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ia="DialogContent",VO=y.forwardRef((e,t)=>{const n=BO(Ia,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Vr(Ia,e.__scopeDialog);return l.jsx(Cr,{present:r||s.open,children:s.modal?l.jsx(Hte,{...i,ref:t}):l.jsx(Bte,{...i,ref:t})})});VO.displayName=Ia;var Hte=y.forwardRef((e,t)=>{const n=Vr(Ia,e.__scopeDialog),r=y.useRef(null),i=Le(t,n.contentRef,r);return y.useEffect(()=>{const s=r.current;if(s)return Kb(s)},[]),l.jsx(QO,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:te(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:te(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:te(e.onFocusOutside,s=>s.preventDefault())})}),Bte=y.forwardRef((e,t)=>{const n=Vr(Ia,e.__scopeDialog),r=y.useRef(!1),i=y.useRef(!1);return l.jsx(QO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),QO=y.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,o=Vr(Ia,n),c=y.useRef(null),u=Le(t,c);return Qb(),l.jsxs(l.Fragment,{children:[l.jsx(Ap,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(Sl,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":ww(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Wte,{titleId:o.titleId}),l.jsx(Qte,{contentRef:c,descriptionId:o.descriptionId})]})]})}),bw="DialogTitle",KO=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Vr(bw,n);return l.jsx(ye.h2,{id:i.titleId,...r,ref:t})});KO.displayName=bw;var GO="DialogDescription",YO=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Vr(GO,n);return l.jsx(ye.p,{id:i.descriptionId,...r,ref:t})});YO.displayName=GO;var JO="DialogClose",XO=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Vr(JO,n);return l.jsx(ye.button,{type:"button",...r,ref:t,onClick:te(e.onClick,()=>i.onOpenChange(!1))})});XO.displayName=JO;function ww(e){return e?"open":"closed"}var ZO="DialogTitleWarning",[qte,e2]=NL(ZO,{contentName:Ia,titleName:bw,docsSlug:"dialog"}),Wte=({titleId:e})=>{const t=e2(ZO),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Vte="DialogDescriptionWarning",Qte=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${e2(Vte).contentName}}.`;return y.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},t2=UO,n2=HO,r2=qO,Sw=WO,jw=VO,_w=KO,Ew=YO,Cw=XO,i2="AlertDialog",[Kte,Sie]=qi(i2,[$O]),Qi=$O(),s2=e=>{const{__scopeAlertDialog:t,...n}=e,r=Qi(t);return l.jsx(t2,{...r,...n,modal:!0})};s2.displayName=i2;var Gte="AlertDialogTrigger",a2=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Qi(n);return l.jsx(n2,{...i,...r,ref:t})});a2.displayName=Gte;var Yte="AlertDialogPortal",o2=e=>{const{__scopeAlertDialog:t,...n}=e,r=Qi(t);return l.jsx(r2,{...r,...n})};o2.displayName=Yte;var Jte="AlertDialogOverlay",l2=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Qi(n);return l.jsx(Sw,{...i,...r,ref:t})});l2.displayName=Jte;var Wo="AlertDialogContent",[Xte,Zte]=Kte(Wo),c2=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,s=Qi(n),a=y.useRef(null),o=Le(t,a),c=y.useRef(null);return l.jsx(qte,{contentName:Wo,titleName:u2,docsSlug:"alert-dialog",children:l.jsx(Xte,{scope:n,cancelRef:c,children:l.jsxs(jw,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:te(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(Kx,{children:r}),l.jsx(tne,{contentRef:a})]})})})});c2.displayName=Wo;var u2="AlertDialogTitle",d2=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Qi(n);return l.jsx(_w,{...i,...r,ref:t})});d2.displayName=u2;var f2="AlertDialogDescription",h2=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Qi(n);return l.jsx(Ew,{...i,...r,ref:t})});h2.displayName=f2;var ene="AlertDialogAction",p2=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Qi(n);return l.jsx(Cw,{...i,...r,ref:t})});p2.displayName=ene;var m2="AlertDialogCancel",g2=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=Zte(m2,n),s=Qi(n),a=Le(t,i);return l.jsx(Cw,{...s,...r,ref:a})});g2.displayName=m2;var tne=({contentRef:e})=>{const t=`\`${Wo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Wo}\` by passing a \`${f2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Wo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},nne=s2,rne=a2,ine=o2,v2=l2,y2=c2,x2=p2,b2=g2,w2=d2,S2=h2;const j2=nne,_2=rne,sne=ine,E2=y.forwardRef(({className:e,...t},n)=>l.jsx(v2,{className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));E2.displayName=v2.displayName;const kw=y.forwardRef(({className:e,...t},n)=>l.jsxs(sne,{children:[l.jsx(E2,{}),l.jsx(y2,{ref:n,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));kw.displayName=y2.displayName;const Pw=({className:e,...t})=>l.jsx("div",{className:se("flex flex-col space-y-2 text-center sm:text-left",e),...t});Pw.displayName="AlertDialogHeader";const Rw=({className:e,...t})=>l.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Rw.displayName="AlertDialogFooter";const Nw=y.forwardRef(({className:e,...t},n)=>l.jsx(w2,{ref:n,className:se("text-lg font-semibold",e),...t}));Nw.displayName=w2.displayName;const Tw=y.forwardRef(({className:e,...t},n)=>l.jsx(S2,{ref:n,className:se("text-sm text-muted-foreground",e),...t}));Tw.displayName=S2.displayName;const Aw=y.forwardRef(({className:e,...t},n)=>l.jsx(x2,{ref:n,className:se(Nb(),e),...t}));Aw.displayName=x2.displayName;const Ow=y.forwardRef(({className:e,...t},n)=>l.jsx(b2,{ref:n,className:se(Nb({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ow.displayName=b2.displayName;const ane=t2,one=n2,lne=r2,C2=y.forwardRef(({className:e,...t},n)=>l.jsx(Sw,{ref:n,className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));C2.displayName=Sw.displayName;const k2=y.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(lne,{children:[l.jsx(C2,{}),l.jsxs(jw,{ref:r,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(Cw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(ap,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));k2.displayName=jw.displayName;const P2=({className:e,...t})=>l.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});P2.displayName="DialogHeader";const R2=y.forwardRef(({className:e,...t},n)=>l.jsx(_w,{ref:n,className:se("text-lg font-semibold leading-none tracking-tight",e),...t}));R2.displayName=_w.displayName;const N2=y.forwardRef(({className:e,...t},n)=>l.jsx(Ew,{ref:n,className:se("text-sm text-muted-foreground",e),...t}));N2.displayName=Ew.displayName;var Jy=["Enter"," "],cne=["ArrowDown","PageUp","Home"],T2=["ArrowUp","PageDown","End"],une=[...cne,...T2],dne={ltr:[...Jy,"ArrowRight"],rtl:[...Jy,"ArrowLeft"]},fne={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hd="Menu",[Hu,hne,pne]=np(hd),[Ba,A2]=qi(hd,[pne,Cl,Cp]),qp=Cl(),O2=Cp(),[mne,qa]=Ba(hd),[gne,pd]=Ba(hd),I2=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=e,o=qp(t),[c,u]=y.useState(null),d=y.useRef(!1),f=dn(s),h=_p(i);return y.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),l.jsx(hb,{...o,children:l.jsx(mne,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(gne,{scope:t,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:a,children:r})})})};I2.displayName=hd;var vne="MenuAnchor",Iw=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=qp(n);return l.jsx(pb,{...i,...r,ref:t})});Iw.displayName=vne;var Dw="MenuPortal",[yne,D2]=Ba(Dw,{forceMount:void 0}),F2=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=qa(Dw,t);return l.jsx(yne,{scope:t,forceMount:n,children:l.jsx(Cr,{present:n||s.open,children:l.jsx(Ju,{asChild:!0,container:i,children:r})})})};F2.displayName=Dw;var jr="MenuContent",[xne,Fw]=Ba(jr),L2=y.forwardRef((e,t)=>{const n=D2(jr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=qa(jr,e.__scopeMenu),a=pd(jr,e.__scopeMenu);return l.jsx(Hu.Provider,{scope:e.__scopeMenu,children:l.jsx(Cr,{present:r||s.open,children:l.jsx(Hu.Slot,{scope:e.__scopeMenu,children:a.modal?l.jsx(bne,{...i,ref:t}):l.jsx(wne,{...i,ref:t})})})})}),bne=y.forwardRef((e,t)=>{const n=qa(jr,e.__scopeMenu),r=y.useRef(null),i=Le(t,r);return y.useEffect(()=>{const s=r.current;if(s)return Kb(s)},[]),l.jsx(Lw,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:te(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),wne=y.forwardRef((e,t)=>{const n=qa(jr,e.__scopeMenu);return l.jsx(Lw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Lw=y.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...m}=e,w=qa(jr,n),v=pd(jr,n),x=qp(n),b=O2(n),S=hne(n),[j,_]=y.useState(null),P=y.useRef(null),R=Le(t,P,w.onContentChange),F=y.useRef(0),k=y.useRef(""),D=y.useRef(0),L=y.useRef(null),$=y.useRef("right"),A=y.useRef(0),U=g?Ip:y.Fragment,T=g?{as:As,allowPinchZoom:!0}:void 0,H=O=>{var J,re;const C=k.current+O,I=S().filter(le=>!le.disabled),z=document.activeElement,N=(J=I.find(le=>le.ref.current===z))==null?void 0:J.textValue,ne=I.map(le=>le.textValue),ae=One(ne,C,N),Y=(re=I.find(le=>le.textValue===ae))==null?void 0:re.ref.current;(function le(ue){k.current=ue,window.clearTimeout(F.current),ue!==""&&(F.current=window.setTimeout(()=>le(""),1e3))})(C),Y&&setTimeout(()=>Y.focus())};y.useEffect(()=>()=>window.clearTimeout(F.current),[]),Qb();const E=y.useCallback(O=>{var I,z;return $.current===((I=L.current)==null?void 0:I.side)&&Dne(O,(z=L.current)==null?void 0:z.area)},[]);return l.jsx(xne,{scope:n,searchRef:k,onItemEnter:y.useCallback(O=>{E(O)&&O.preventDefault()},[E]),onItemLeave:y.useCallback(O=>{var C;E(O)||((C=P.current)==null||C.focus(),_(null))},[E]),onTriggerLeave:y.useCallback(O=>{E(O)&&O.preventDefault()},[E]),pointerGraceTimerRef:D,onPointerGraceIntentChange:y.useCallback(O=>{L.current=O},[]),children:l.jsx(U,{...T,children:l.jsx(Ap,{asChild:!0,trapped:i,onMountAutoFocus:te(s,O=>{var C;O.preventDefault(),(C=P.current)==null||C.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:l.jsx(Sl,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:l.jsx(DR,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:_,onEntryFocus:te(c,O=>{v.isUsingKeyboardRef.current||O.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(mb,{role:"menu","aria-orientation":"vertical","data-state":Z2(w.open),"data-radix-menu-content":"",dir:v.dir,...x,...m,ref:R,style:{outline:"none",...m.style},onKeyDown:te(m.onKeyDown,O=>{const I=O.target.closest("[data-radix-menu-content]")===O.currentTarget,z=O.ctrlKey||O.altKey||O.metaKey,N=O.key.length===1;I&&(O.key==="Tab"&&O.preventDefault(),!z&&N&&H(O.key));const ne=P.current;if(O.target!==ne||!une.includes(O.key))return;O.preventDefault();const Y=S().filter(J=>!J.disabled).map(J=>J.ref.current);T2.includes(O.key)&&Y.reverse(),Tne(Y)}),onBlur:te(e.onBlur,O=>{O.currentTarget.contains(O.target)||(window.clearTimeout(F.current),k.current="")}),onPointerMove:te(e.onPointerMove,Bu(O=>{const C=O.target,I=A.current!==O.clientX;if(O.currentTarget.contains(C)&&I){const z=O.clientX>A.current?"right":"left";$.current=z,A.current=O.clientX}}))})})})})})})});L2.displayName=jr;var Sne="MenuGroup",Mw=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(ye.div,{role:"group",...r,ref:t})});Mw.displayName=Sne;var jne="MenuLabel",M2=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(ye.div,{...r,ref:t})});M2.displayName=jne;var Lh="MenuItem",eE="menu.itemSelect",Wp=y.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=y.useRef(null),a=pd(Lh,e.__scopeMenu),o=Fw(Lh,e.__scopeMenu),c=Le(t,s),u=y.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const h=new CustomEvent(eE,{bubbles:!0,cancelable:!0});f.addEventListener(eE,p=>r==null?void 0:r(p),{once:!0}),Gx(f,h),h.defaultPrevented?u.current=!1:a.onClose()}};return l.jsx($2,{...i,ref:c,disabled:n,onClick:te(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:te(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:te(e.onKeyDown,f=>{const h=o.searchRef.current!=="";n||h&&f.key===" "||Jy.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Wp.displayName=Lh;var $2=y.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,a=Fw(Lh,n),o=O2(n),c=y.useRef(null),u=Le(t,c),[d,f]=y.useState(!1),[h,p]=y.useState("");return y.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[s.children]),l.jsx(Hu.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:l.jsx(FR,{asChild:!0,...o,focusable:!r,children:l.jsx(ye.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:te(e.onPointerMove,Bu(g=>{r?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:te(e.onPointerLeave,Bu(g=>a.onItemLeave(g))),onFocus:te(e.onFocus,()=>f(!0)),onBlur:te(e.onBlur,()=>f(!1))})})})}),_ne="MenuCheckboxItem",U2=y.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return l.jsx(W2,{scope:e.__scopeMenu,checked:n,children:l.jsx(Wp,{role:"menuitemcheckbox","aria-checked":Mh(n)?"mixed":n,...i,ref:t,"data-state":Uw(n),onSelect:te(i.onSelect,()=>r==null?void 0:r(Mh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});U2.displayName=_ne;var z2="MenuRadioGroup",[Ene,Cne]=Ba(z2,{value:void 0,onValueChange:()=>{}}),H2=y.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=dn(r);return l.jsx(Ene,{scope:e.__scopeMenu,value:n,onValueChange:s,children:l.jsx(Mw,{...i,ref:t})})});H2.displayName=z2;var B2="MenuRadioItem",q2=y.forwardRef((e,t)=>{const{value:n,...r}=e,i=Cne(B2,e.__scopeMenu),s=n===i.value;return l.jsx(W2,{scope:e.__scopeMenu,checked:s,children:l.jsx(Wp,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":Uw(s),onSelect:te(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});q2.displayName=B2;var $w="MenuItemIndicator",[W2,kne]=Ba($w,{checked:!1}),V2=y.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=kne($w,n);return l.jsx(Cr,{present:r||Mh(s.checked)||s.checked===!0,children:l.jsx(ye.span,{...i,ref:t,"data-state":Uw(s.checked)})})});V2.displayName=$w;var Pne="MenuSeparator",Q2=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(ye.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Q2.displayName=Pne;var Rne="MenuArrow",K2=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=qp(n);return l.jsx(gb,{...i,...r,ref:t})});K2.displayName=Rne;var Nne="MenuSub",[jie,G2]=Ba(Nne),vc="MenuSubTrigger",Y2=y.forwardRef((e,t)=>{const n=qa(vc,e.__scopeMenu),r=pd(vc,e.__scopeMenu),i=G2(vc,e.__scopeMenu),s=Fw(vc,e.__scopeMenu),a=y.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),c(null)}},[o,c]),l.jsx(Iw,{asChild:!0,...u,children:l.jsx($2,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Z2(n.open),...e,ref:tp(t,i.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:te(e.onPointerMove,Bu(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:te(e.onPointerLeave,Bu(f=>{var p,g;d();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(g=n.content)==null?void 0:g.dataset.side,w=m==="right",v=w?-5:5,x=h[w?"left":"right"],b=h[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x,y:h.bottom}],side:m}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:te(e.onKeyDown,f=>{var p;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||dne[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});Y2.displayName=vc;var J2="MenuSubContent",X2=y.forwardRef((e,t)=>{const n=D2(jr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=qa(jr,e.__scopeMenu),a=pd(jr,e.__scopeMenu),o=G2(J2,e.__scopeMenu),c=y.useRef(null),u=Le(t,c);return l.jsx(Hu.Provider,{scope:e.__scopeMenu,children:l.jsx(Cr,{present:r||s.open,children:l.jsx(Hu.Slot,{scope:e.__scopeMenu,children:l.jsx(Lw,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:te(e.onFocusOutside,d=>{d.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:te(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:te(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=fne[a.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(p=o.trigger)==null||p.focus(),d.preventDefault())})})})})})});X2.displayName=J2;function Z2(e){return e?"open":"closed"}function Mh(e){return e==="indeterminate"}function Uw(e){return Mh(e)?"indeterminate":e?"checked":"unchecked"}function Tne(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Ane(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function One(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=Ane(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Ine(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const o=t[s].x,c=t[s].y,u=t[a].x,d=t[a].y;c>r!=d>r&&n<(u-o)*(r-c)/(d-c)+o&&(i=!i)}return i}function Dne(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Ine(n,t)}function Bu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Fne=I2,Lne=Iw,Mne=F2,$ne=L2,Une=Mw,zne=M2,Hne=Wp,Bne=U2,qne=H2,Wne=q2,Vne=V2,Qne=Q2,Kne=K2,Gne=Y2,Yne=X2,zw="DropdownMenu",[Jne,_ie]=qi(zw,[A2]),Nn=A2(),[Xne,eI]=Jne(zw),tI=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,c=Nn(t),u=y.useRef(null),[d=!1,f]=Li({prop:i,defaultProp:s,onChange:a});return l.jsx(Xne,{scope:t,triggerId:$r(),triggerRef:u,contentId:$r(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:o,children:l.jsx(Fne,{...c,open:d,onOpenChange:f,dir:r,modal:o,children:n})})};tI.displayName=zw;var nI="DropdownMenuTrigger",rI=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=eI(nI,n),a=Nn(n);return l.jsx(Lne,{asChild:!0,...a,children:l.jsx(ye.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:tp(t,s.triggerRef),onPointerDown:te(e.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:te(e.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});rI.displayName=nI;var Zne="DropdownMenuPortal",iI=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Nn(t);return l.jsx(Mne,{...r,...n})};iI.displayName=Zne;var sI="DropdownMenuContent",aI=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=eI(sI,n),s=Nn(n),a=y.useRef(!1);return l.jsx($ne,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:te(e.onCloseAutoFocus,o=>{var c;a.current||(c=i.triggerRef.current)==null||c.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:te(e.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aI.displayName=sI;var ere="DropdownMenuGroup",tre=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return l.jsx(Une,{...i,...r,ref:t})});tre.displayName=ere;var nre="DropdownMenuLabel",oI=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return l.jsx(zne,{...i,...r,ref:t})});oI.displayName=nre;var rre="DropdownMenuItem",lI=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return l.jsx(Hne,{...i,...r,ref:t})});lI.displayName=rre;var ire="DropdownMenuCheckboxItem",cI=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return l.jsx(Bne,{...i,...r,ref:t})});cI.displayName=ire;var sre="DropdownMenuRadioGroup",are=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return l.jsx(qne,{...i,...r,ref:t})});are.displayName=sre;var ore="DropdownMenuRadioItem",uI=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return l.jsx(Wne,{...i,...r,ref:t})});uI.displayName=ore;var lre="DropdownMenuItemIndicator",dI=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return l.jsx(Vne,{...i,...r,ref:t})});dI.displayName=lre;var cre="DropdownMenuSeparator",fI=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return l.jsx(Qne,{...i,...r,ref:t})});fI.displayName=cre;var ure="DropdownMenuArrow",dre=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return l.jsx(Kne,{...i,...r,ref:t})});dre.displayName=ure;var fre="DropdownMenuSubTrigger",hI=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return l.jsx(Gne,{...i,...r,ref:t})});hI.displayName=fre;var hre="DropdownMenuSubContent",pI=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return l.jsx(Yne,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pI.displayName=hre;var pre=tI,mre=rI,gre=iI,mI=aI,gI=oI,vI=lI,yI=cI,xI=uI,bI=dI,wI=fI,SI=hI,jI=pI;const vre=pre,yre=mre,xre=y.forwardRef(({className:e,inset:t,children:n,...r},i)=>l.jsxs(SI,{ref:i,className:se("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,l.jsx(eb,{className:"ml-auto h-4 w-4"})]}));xre.displayName=SI.displayName;const bre=y.forwardRef(({className:e,...t},n)=>l.jsx(jI,{ref:n,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));bre.displayName=jI.displayName;const _I=y.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(gre,{children:l.jsx(mI,{ref:r,sideOffset:t,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));_I.displayName=mI.displayName;const Xy=y.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(vI,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Xy.displayName=vI.displayName;const wre=y.forwardRef(({className:e,children:t,checked:n,...r},i)=>l.jsxs(yI,{ref:i,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(bI,{children:l.jsx(sp,{className:"h-4 w-4"})})}),t]}));wre.displayName=yI.displayName;const Sre=y.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(xI,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(bI,{children:l.jsx(xM,{className:"h-2 w-2 fill-current"})})}),t]}));Sre.displayName=xI.displayName;const jre=y.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(gI,{ref:r,className:se("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));jre.displayName=gI.displayName;const _re=y.forwardRef(({className:e,...t},n)=>l.jsx(wI,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));_re.displayName=wI.displayName;const Ere=()=>{const[e,t]=y.useState([]),[n,r]=y.useState(!0),[i,s]=y.useState(!1),[a,o]=y.useState(""),[c,u]=y.useState("gestionnaire"),[d,f]=y.useState(!1),{currentWorkspace:h}=hi(),{toast:p}=Dt();y.useEffect(()=>{h!=null&&h.id&&g()},[h==null?void 0:h.id]);const g=async()=>{if(h!=null&&h.id)try{r(!0);const{data:S,error:j}=await Q.rpc("get_workspace_users_with_roles",{target_workspace_id:h.id});if(j)throw j;t(S||[])}catch(S){console.error("Error fetching workspace users:",S),p({variant:"destructive",title:"Erreur",description:"Impossible de charger les utilisateurs du workspace"}),t([])}finally{r(!1)}},m=async()=>{if(!(!(h!=null&&h.id)||!a.trim()))try{f(!0);const{data:S,error:j}=await Q.functions.invoke("invite-user",{body:{email:a.toLowerCase().trim(),workspaceId:h.id,role:c,redirectTo:`${window.location.origin}/auth/callback?type=invite&workspaceId=${h.id}&role=${c}`}});if(j||!(S!=null&&S.success))throw new Error((j==null?void 0:j.message)||(S==null?void 0:S.error)||"Erreur lors de l'invitation");p({title:"Invitation envoyée !",description:`Une invitation a été envoyée à ${a}`}),o(""),s(!1),setTimeout(()=>g(),1e3)}catch(S){console.error("Error inviting user:",S),p({variant:"destructive",title:"Erreur",description:S.message||"Impossible d'envoyer l'invitation"})}finally{f(!1)}},w=async(S,j)=>{if(h!=null&&h.id)try{const{error:_}=await Q.from("user_roles").update({role:j}).eq("user_id",S).eq("workspace_id",h.id);if(_)throw _;p({title:"Rôle mis à jour",description:"Le rôle de l'utilisateur a été modifié"}),g()}catch(_){console.error("Error updating user role:",_),p({variant:"destructive",title:"Erreur",description:"Impossible de modifier le rôle"})}},v=async S=>{if(h!=null&&h.id)try{const{error:j}=await Q.from("user_roles").delete().eq("user_id",S).eq("workspace_id",h.id);if(j)throw j;const{error:_}=await Q.from("users").delete().eq("user_id",S).eq("workspace_id",h.id);if(_)throw _;p({title:"Utilisateur retiré",description:"L'utilisateur a été retiré du workspace"}),g()}catch(j){console.error("Error removing user:",j),p({variant:"destructive",title:"Erreur",description:"Impossible de retirer l'utilisateur"})}},x=S=>S==="admin"?ka:Jk,b=S=>S==="admin"?"destructive":"secondary";return n?l.jsxs(ge,{children:[l.jsx(Se,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(je,{className:"flex items-center gap-2",children:[l.jsx(Mi,{className:"h-5 w-5"}),"Équipe du workspace"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Gérez les utilisateurs et leurs rôles dans votre workspace"})]}),l.jsx(gr,{className:"h-10 w-48"})]})}),l.jsx(ve,{className:"space-y-4",children:[1,2,3].map(S=>l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(gr,{className:"h-10 w-10 rounded-full"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(gr,{className:"h-4 w-32"}),l.jsx(gr,{className:"h-3 w-48"})]})]}),l.jsx(gr,{className:"h-6 w-20"})]},S))})]}):l.jsxs(ge,{children:[l.jsx(Se,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(je,{className:"flex items-center gap-2",children:[l.jsx(Mi,{className:"h-5 w-5"}),"Équipe du workspace"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Gérez les utilisateurs et leurs rôles dans votre workspace"})]}),l.jsxs(ane,{open:i,onOpenChange:s,children:[l.jsx(one,{asChild:!0,children:l.jsxs(Z,{className:"flex items-center gap-2",children:[l.jsx(eP,{className:"h-4 w-4"}),"INVITER UN UTILISATEUR"]})}),l.jsxs(k2,{children:[l.jsxs(P2,{children:[l.jsx(R2,{children:"Inviter un utilisateur"}),l.jsx(N2,{children:"Invitez un nouvel utilisateur à rejoindre ce workspace"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(jt,{htmlFor:"email",children:"Email"}),l.jsx(Ot,{id:"email",type:"email",placeholder:"utilisateur@email.com",value:a,onChange:S=>o(S.target.value)})]}),l.jsxs("div",{children:[l.jsx(jt,{htmlFor:"role",children:"Rôle"}),l.jsxs(wr,{value:c,onValueChange:S=>u(S),children:[l.jsx(nr,{children:l.jsx(Sr,{})}),l.jsxs(rr,{children:[l.jsx(it,{value:"gestionnaire",children:"Gestionnaire"}),l.jsx(it,{value:"admin",children:"Administrateur"})]})]})]}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx(Z,{variant:"outline",onClick:()=>s(!1),children:"Annuler"}),l.jsxs(Z,{onClick:m,disabled:!a.trim()||d,children:[l.jsx(rb,{className:"h-4 w-4 mr-2"}),d?"Envoi...":"Envoyer l'invitation"]})]})]})]})]})]})}),l.jsx(ve,{children:e.length===0?l.jsx(hn,{children:l.jsx(pn,{children:"Aucun utilisateur dans ce workspace pour le moment."})}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm font-medium text-muted-foreground border-b pb-2",children:[l.jsx("div",{children:"Utilisateur"}),l.jsx("div",{children:"Rôle"}),l.jsx("div",{children:"Ajouté le"}),l.jsx("div",{})]}),e.map(S=>{var j,_,P,R,F;return l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-center p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-medium",children:((j=S.first_name)==null?void 0:j[0])||S.email[0].toUpperCase()})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:S.first_name&&S.last_name?`${S.first_name} ${S.last_name}`:"Utilisateur"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:S.email})]})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(He,{variant:b((_=S.user_roles[0])==null?void 0:_.role),className:"flex items-center gap-1",children:[q.createElement(x((P=S.user_roles[0])==null?void 0:P.role),{className:"h-3 w-3"}),((R=S.user_roles[0])==null?void 0:R.role)==="admin"?"Administrateur":"Gestionnaire"]})}),l.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(S.created_at).toLocaleDateString("fr-FR")}),l.jsx("div",{className:"flex justify-end",children:l.jsxs(vre,{children:[l.jsx(yre,{asChild:!0,children:l.jsx(Z,{variant:"ghost",size:"sm",children:l.jsx(bM,{className:"h-4 w-4"})})}),l.jsxs(_I,{align:"end",children:[l.jsxs(Xy,{onClick:()=>{var k;return w(S.user_id,((k=S.user_roles[0])==null?void 0:k.role)==="admin"?"gestionnaire":"admin")},children:[l.jsx(ka,{className:"h-4 w-4 mr-2"}),((F=S.user_roles[0])==null?void 0:F.role)==="admin"?"Rétrograder":"Promouvoir admin"]}),l.jsxs(Xy,{onClick:()=>v(S.user_id),className:"text-destructive",children:[l.jsx(td,{className:"h-4 w-4 mr-2"}),"Retirer du workspace"]})]})]})})]},S.user_id)})]})})]})},Cre=()=>{const{user:e,signOut:t}=pt(),{userProfile:n}=Rb(),{currentWorkspace:r}=hi(),i=Vs(),{toast:s}=Dt(),[a,o]=y.useState(!1),c=async()=>{try{await t(),s({title:"Déconnecté avec succès",description:"Vous avez été déconnecté de votre compte."})}catch{s({title:"Erreur de déconnexion",description:"Une erreur est survenue lors de la déconnexion.",variant:"destructive"})}};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(wa,{}),l.jsxs("div",{className:"container max-w-4xl mx-auto py-8 px-4 space-y-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Paramètres"}),l.jsx("p",{className:"text-muted-foreground",children:"Gérez votre compte et vos préférences"})]}),l.jsxs(ge,{children:[l.jsxs(Se,{children:[l.jsxs(je,{className:"flex items-center",children:[l.jsx(Af,{className:"mr-2 h-5 w-5"}),"Informations du compte"]}),l.jsx(xt,{children:"Informations générales sur votre compte"})]}),l.jsx(ve,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),l.jsx("p",{className:"text-sm",children:(e==null?void 0:e.email)||"Non renseigné"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nom complet"}),l.jsx("p",{className:"text-sm",children:n!=null&&n.first_name&&(n!=null&&n.last_name)?`${n.first_name} ${n.last_name}`:"Non renseigné"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Rôle"}),l.jsx("div",{className:"mt-1",children:l.jsx(He,{variant:i.role==="supra_admin"?"default":"secondary",children:i.role})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Plan du workspace"}),l.jsx("div",{className:"mt-1",children:l.jsx(He,{variant:i.planType==="premium"?"default":"secondary",children:i.planType})})]})]})})]}),l.jsxs(ge,{children:[l.jsxs(Se,{children:[l.jsxs(je,{className:"flex items-center",children:[l.jsx(gM,{className:"mr-2 h-5 w-5"}),"Workspace"]}),l.jsx(xt,{children:"Informations sur votre espace de travail"})]}),l.jsx(ve,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nom du workspace"}),l.jsx("p",{className:"text-sm",children:(r==null?void 0:r.name)||"Aucun workspace"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Plan"}),l.jsx("p",{className:"text-sm capitalize",children:(r==null?void 0:r.plan_type)||"freemium"})]})]})})]}),(i.role==="admin"||i.isSupraAdmin)&&l.jsxs(ge,{children:[l.jsxs(Se,{children:[l.jsxs(je,{className:"flex items-center",children:[l.jsx(hh,{className:"mr-2 h-5 w-5"}),"Équipe du workspace"]}),l.jsx(xt,{children:"Gérez les utilisateurs de votre workspace"})]}),l.jsx(ve,{children:l.jsx(Ere,{})})]}),i.isSupraAdmin&&l.jsxs(ge,{className:"border-primary/20",children:[l.jsxs(Se,{children:[l.jsxs(je,{className:"flex items-center text-primary",children:[l.jsx(Mi,{className:"mr-2 h-5 w-5"}),"Administration"]}),l.jsx(xt,{children:"Outils d'administration (Supra Admin uniquement)"})]}),l.jsx(ve,{className:"space-y-4",children:l.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:l.jsxs(Z,{variant:"outline",className:"flex items-center justify-center",onClick:()=>window.open("/admin","_blank"),children:[l.jsx(wM,{className:"mr-2 h-4 w-4"}),"Panneau d'administration"]})})})]}),l.jsxs(ge,{children:[l.jsxs(Se,{children:[l.jsxs(je,{className:"flex items-center",children:[l.jsx(PM,{className:"mr-2 h-5 w-5"}),"Actions du compte"]}),l.jsx(xt,{children:"Gérez votre session et vos données"})]}),l.jsx(ve,{className:"space-y-4",children:l.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:l.jsxs(j2,{open:a,onOpenChange:o,children:[l.jsx(_2,{asChild:!0,children:l.jsxs(Z,{variant:"outline",className:"flex items-center justify-center",children:[l.jsx(Zk,{className:"mr-2 h-4 w-4"}),"Se déconnecter"]})}),l.jsxs(kw,{children:[l.jsxs(Pw,{children:[l.jsx(Nw,{children:"Confirmer la déconnexion"}),l.jsx(Tw,{children:"Êtes-vous sûr de vouloir vous déconnecter ? Vous devrez vous reconnecter pour accéder à votre compte."})]}),l.jsxs(Rw,{children:[l.jsx(Ow,{children:"Annuler"}),l.jsx(Aw,{onClick:c,children:"Se déconnecter"})]})]})]})})})]}),i.isSupraAdmin&&l.jsx(ge,{className:"border-orange-200 bg-orange-50",children:l.jsx(ve,{className:"pt-6",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(ka,{className:"h-5 w-5 text-orange-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-orange-800",children:"Statut Supra Administrateur"}),l.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Vous avez accès à toutes les fonctionnalités d'administration. Utilisez ces privilèges de manière responsable."})]})]})})})]})]})};function kre(){const{user:e}=pt(),[t,n]=y.useState({}),[r,i]=y.useState(!1),s=async()=>{i(!0);try{const{data:{session:a},error:o}=await Q.auth.getSession();n(c=>{var u,d;return{...c,session:{exists:!!a,userId:(u=a==null?void 0:a.user)==null?void 0:u.id,email:(d=a==null?void 0:a.user)==null?void 0:d.email,accessToken:a!=null&&a.access_token?"Present":"Missing",error:o==null?void 0:o.message}}})}catch(a){n(o=>({...o,session:{error:a instanceof Error?a.message:String(a)}}))}i(!1)};return l.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Debug Stripe Integration"}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsxs(ge,{children:[l.jsx(Se,{children:l.jsx(je,{children:"Auth Context Info"})}),l.jsxs(ve,{className:"space-y-2",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"User ID:"})," ",(e==null?void 0:e.id)||"Not found"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," ",(e==null?void 0:e.email)||"Not found"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Subscription Status:"})," Plan type déplacé vers GlobalState"]})]})]}),l.jsxs(ge,{children:[l.jsx(Se,{children:l.jsx(je,{children:"Session Test"})}),l.jsxs(ve,{className:"space-y-4",children:[l.jsx(Z,{onClick:s,disabled:r,children:"Test Session"}),t.session&&l.jsx("pre",{className:"text-sm bg-muted p-2 rounded overflow-auto",children:JSON.stringify(t.session,null,2)})]})]}),l.jsxs(ge,{children:[l.jsx(Se,{children:l.jsx(je,{children:"All Debug Info"})}),l.jsx(ve,{children:l.jsx("pre",{className:"text-sm bg-muted p-2 rounded overflow-auto max-h-96",children:JSON.stringify(t,null,2)})})]})]})]})}const md=y.forwardRef(({className:e,...t},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:se("w-full caption-bottom text-sm",e),...t})}));md.displayName="Table";const gd=y.forwardRef(({className:e,...t},n)=>l.jsx("thead",{ref:n,className:se("[&_tr]:border-b",e),...t}));gd.displayName="TableHeader";const vd=y.forwardRef(({className:e,...t},n)=>l.jsx("tbody",{ref:n,className:se("[&_tr:last-child]:border-0",e),...t}));vd.displayName="TableBody";const Pre=y.forwardRef(({className:e,...t},n)=>l.jsx("tfoot",{ref:n,className:se("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Pre.displayName="TableFooter";const sr=y.forwardRef(({className:e,...t},n)=>l.jsx("tr",{ref:n,className:se("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));sr.displayName="TableRow";const ot=y.forwardRef(({className:e,...t},n)=>l.jsx("th",{ref:n,className:se("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ot.displayName="TableHead";const Qe=y.forwardRef(({className:e,...t},n)=>l.jsx("td",{ref:n,className:se("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Qe.displayName="TableCell";const Rre=y.forwardRef(({className:e,...t},n)=>l.jsx("caption",{ref:n,className:se("mt-4 text-sm text-muted-foreground",e),...t}));Rre.displayName="TableCaption";async function zf(e){const{data:t,error:n}=await Q.functions.invoke("get-admin-workspaces",{body:{planFilter:e}});if(n)throw n;return(t==null?void 0:t.data)??[]}async function Nre(e,t=1,n=25){const{data:r,error:i}=await Q.functions.invoke("get-admin-contacts",{body:{workspaceId:e,page:t,pageSize:n}});if(i)throw i;return{items:(r==null?void 0:r.data)??[],total:(r==null?void 0:r.total)??0}}async function EI(e,t){const{data:n,error:r}=await Q.functions.invoke("update-user-plan-role",{body:{action:"update_workspace_plan",workspaceId:e,newPlan:t}});if(r)throw r;return n}async function Tre(e,t,n){const{data:r,error:i}=await Q.functions.invoke("update-user-plan-role",{body:{action:"update_user_role",userId:e,workspaceId:t,newRole:n}});if(i)throw i;return r}async function Are(e){const{error:t}=await Q.functions.invoke("delete-admin-entities",{body:{type:"workspace",id:e}});if(t)throw t}async function Ore(e){const{error:t}=await Q.functions.invoke("delete-admin-entities",{body:{type:"user",id:e}});if(t)throw t}async function Ire(e,t){const{data:n,error:r}=await Q.functions.invoke("manage-fe-source-assignments",{body:{action:"assign",source_name:e,workspace_id:t}});if(r)throw r;return n}async function Dre(e,t){const{data:n,error:r}=await Q.functions.invoke("manage-fe-source-assignments",{body:{action:"unassign",source_name:e,workspace_id:t}});if(r)throw r;return n}async function Fre(e,t,n){const{data:r,error:i}=await Q.functions.invoke("manage-fe-source-assignments-bulk",{body:{workspace_id:e,assigned:t,unassigned:n}});if(i)throw i;return r}const Lre=()=>{const[e,t]=y.useState("paid"),[n,r]=y.useState([]),[i,s]=y.useState(!0),[a,o]=y.useState(null),[c,u]=y.useState(null),{toast:d}=Dt();y.useEffect(()=>{(async()=>{try{s(!0);const g=await zf(e);r(g)}catch(g){console.error(g)}finally{s(!1)}})()},[e]);const f=g=>g==="premium"?"default":g==="standard"?"secondary":"outline",h=async(g,m)=>{try{await EI(g,m),d({title:"Plan mis à jour",description:`Nouveau plan: ${m}`});const w=await zf(e);r(w),o(null)}catch(w){console.error(w),d({variant:"destructive",title:"Erreur",description:"Mise à jour du plan impossible"})}},p=async(g,m)=>{if(confirm(`Supprimer l'entreprise "${m}" ?`)){u(g);try{await Are(g),d({title:"Entreprise supprimée",description:m});const w=await zf(e);r(w)}catch(w){console.error(w),d({variant:"destructive",title:"Erreur",description:"Suppression impossible"})}finally{u(null)}}};return l.jsxs(ge,{children:[l.jsx(Se,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(je,{className:"flex items-center gap-2",children:[l.jsx(eu,{className:"h-5 w-5"}),"Entreprises (",n.length,")"]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(wr,{value:e,onValueChange:g=>t(g),children:[l.jsx(nr,{className:"w-40",children:l.jsx(Sr,{placeholder:"Filtre"})}),l.jsxs(rr,{children:[l.jsx(it,{value:"paid",children:"Payantes"}),l.jsx(it,{value:"freemium",children:"Freemium"}),l.jsx(it,{value:"all",children:"Toutes"})]})]})})]})}),l.jsx(ve,{children:i?l.jsx("div",{className:"space-y-3",children:[...Array(5)].map((g,m)=>l.jsx(gr,{className:"h-12 w-full"},m))}):l.jsxs(md,{children:[l.jsx(gd,{children:l.jsxs(sr,{children:[l.jsx(ot,{children:"Entreprise"}),l.jsx(ot,{children:"Propriétaire"}),l.jsx(ot,{children:"Plan"}),l.jsx(ot,{children:"Utilisateurs"}),l.jsx(ot,{children:"Créée le"}),l.jsx(ot,{children:"Actions"})]})}),l.jsxs(vd,{children:[n.map(g=>l.jsxs(sr,{children:[l.jsx(Qe,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(eu,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("div",{children:g.name}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",g.id.slice(0,8),"..."]})]})]})}),l.jsx(Qe,{children:g.owner_email}),l.jsx(Qe,{children:l.jsx(He,{variant:f(g.plan_type),children:g.plan_type})}),l.jsx(Qe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hh,{className:"h-4 w-4 text-muted-foreground"}),g.user_count]})}),l.jsx(Qe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(vM,{className:"h-4 w-4 text-muted-foreground"}),new Date(g.created_at).toLocaleDateString("fr-FR")]})}),l.jsx(Qe,{children:l.jsx("div",{className:"flex items-center gap-2",children:a===g.id?l.jsxs(l.Fragment,{children:[l.jsxs(wr,{value:g.plan_type,onValueChange:m=>h(g.id,m),children:[l.jsx(nr,{className:"w-32",children:l.jsx(Sr,{})}),l.jsxs(rr,{children:[l.jsx(it,{value:"freemium",children:"Freemium"}),l.jsx(it,{value:"standard",children:"Standard"}),l.jsx(it,{value:"premium",children:"Premium"})]})]}),l.jsx(Z,{variant:"outline",size:"sm",onClick:()=>o(null),children:"Annuler"})]}):l.jsxs(l.Fragment,{children:[l.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>o(g.id),children:[l.jsx(RM,{className:"h-4 w-4 mr-2"}),"Modifier"]}),l.jsx(Z,{variant:"destructive",size:"sm",onClick:()=>p(g.id,g.name),disabled:c===g.id,children:c===g.id?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx(td,{className:"h-4 w-4"})})]})})})]},g.id)),n.length===0&&l.jsx(sr,{children:l.jsx(Qe,{colSpan:6,className:"text-center text-muted-foreground",children:"Aucune entreprise trouvée"})})]})]})})]})},Mre=()=>{const[e,t]=y.useState([]),[n,r]=y.useState([]),[i,s]=y.useState(1),[a]=y.useState(25),[o,c]=y.useState(0),[u,d]=y.useState("all"),[f,h]=y.useState(!0),[p,g]=y.useState(null),[m,w]=y.useState(null),[v,x]=y.useState(null),{toast:b}=Dt(),{startImpersonation:S}=RR();y.useEffect(()=>{j(),_()},[]),y.useEffect(()=>{_()},[u,i]);const j=async()=>{try{const A=await zf("all");r((A||[]).map(U=>({id:U.id,name:U.name})))}catch(A){console.error("Error fetching workspaces:",A)}},_=async()=>{try{h(!0);const{items:A,total:U}=await Nre(u,i,a);t(A),c(U)}catch(A){console.error("Error fetching contacts:",A)}finally{h(!1)}},P=A=>{switch(A){case"premium":return"default";case"standard":return"secondary";case"freemium":return"outline";default:return"outline"}},R=A=>{switch(A){case"admin":return"destructive";case"gestionnaire":return"default";case"lecteur":return"secondary";default:return"outline"}},F=A=>{switch(A){case"admin":return"Administrateur";case"gestionnaire":return"Gestionnaire";case"lecteur":return"Lecteur";default:return A}},k=async(A,U)=>{g(`plan-${A.workspace_id}`);try{const T=await EI(A.workspace_id,U);b({title:"Plan du workspace mis à jour",description:`Plan changé vers ${U}. ${(T==null?void 0:T.updatedUsers)??0} utilisateur(s) mis à jour.`}),await _()}catch(T){console.error("Error updating workspace plan:",T),b({variant:"destructive",title:"Erreur",description:"Erreur lors de la mise à jour du plan"})}finally{g(null)}},D=async(A,U)=>{g(`role-${A.user_id}`);try{await Tre(A.user_id,A.workspace_id,U),b({title:"Rôle mis à jour",description:`Rôle changé vers ${U}`}),await _()}catch(T){console.error("Error updating user role:",T),b({variant:"destructive",title:"Erreur",description:"Erreur lors de la mise à jour du rôle"})}finally{g(null)}},L=async A=>{x(A.user_id);try{if(await S(A.user_id,A.email||"",A.workspace_id,A.company_name||""))b({title:"Impersonation démarrée",description:`Vous êtes maintenant connecté en tant que ${A.email}`}),window.location.href="/";else throw new Error("Failed to start impersonation")}catch(U){console.error("Error starting impersonation:",U),b({variant:"destructive",title:"Erreur",description:"Impossible de démarrer l'impersonation"})}finally{x(null)}},$=async(A,U)=>{if(confirm(`Êtes-vous sûr de vouloir supprimer le contact "${U}" ? Cette action est irréversible et supprimera toutes les données associées.`)){w(A);try{await Ore(A),b({title:"Contact supprimé",description:`Le contact "${U}" a été supprimé avec succès.`}),_()}catch(T){console.error("Error deleting contact:",T),b({variant:"destructive",title:"Erreur",description:"Erreur lors de la suppression du contact"})}finally{w(null)}}};return f?l.jsxs(ge,{children:[l.jsx(Se,{children:l.jsxs(je,{className:"flex items-center gap-2",children:[l.jsx(Af,{className:"h-5 w-5"}),"Contacts par Entreprise"]})}),l.jsx(ve,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(gr,{className:"h-10 w-full"}),[...Array(5)].map((A,U)=>l.jsx(gr,{className:"h-12 w-full"},U))]})})]}):l.jsxs(ge,{children:[l.jsx(Se,{children:l.jsxs(je,{className:"flex items-center gap-2",children:[l.jsx(Af,{className:"h-5 w-5"}),"Contacts par Entreprise (",e.length,")",l.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>{j(),_()},className:"ml-auto",children:[l.jsx(Ra,{className:"h-3 w-3 mr-1"}),"Actualiser"]})]})}),l.jsxs(ve,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",i," • ",o," résultats"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Z,{variant:"outline",size:"sm",onClick:()=>s(A=>Math.max(1,A-1)),disabled:i===1,children:"Précédent"}),l.jsx(Z,{variant:"outline",size:"sm",onClick:()=>s(A=>A+1),disabled:i*a>=o,children:"Suivant"})]})]}),l.jsx("div",{className:"mb-4",children:l.jsxs(wr,{value:u,onValueChange:d,children:[l.jsx(nr,{className:"w-64",children:l.jsx(Sr,{placeholder:"Filtrer par entreprise"})}),l.jsxs(rr,{children:[l.jsx(it,{value:"all",children:"Toutes les entreprises"}),n.map(A=>l.jsx(it,{value:A.id,children:A.name},A.id))]})]})}),l.jsxs(md,{children:[l.jsx(gd,{children:l.jsxs(sr,{children:[l.jsx(ot,{children:"Contact"}),l.jsx(ot,{children:"Email"}),l.jsx(ot,{children:"Entreprise"}),l.jsx(ot,{children:"Plan"}),l.jsx(ot,{children:"Rôle"}),l.jsx(ot,{children:"Ajouté le"}),l.jsx(ot,{children:"Actions"})]})}),l.jsxs(vd,{children:[e.map(A=>l.jsxs(sr,{children:[l.jsx(Qe,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Af,{className:"h-4 w-4 text-muted-foreground"}),A.first_name||A.last_name?`${A.first_name} ${A.last_name}`.trim():"Nom non renseigné"]})}),l.jsx(Qe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(rb,{className:"h-4 w-4 text-muted-foreground"}),A.email]})}),l.jsx(Qe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(eu,{className:"h-4 w-4 text-muted-foreground"}),A.company_name]})}),l.jsx(Qe,{children:l.jsx(He,{variant:P(A.company_plan||"freemium"),children:A.company_plan})}),l.jsx(Qe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Mi,{className:"h-4 w-4"}),l.jsx(He,{variant:R(A.role),children:F(A.role)})]})}),l.jsx(Qe,{children:new Date(A.created_at).toLocaleDateString("fr-FR")}),l.jsx(Qe,{children:l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx(Z,{variant:"secondary",size:"sm",onClick:()=>L(A),disabled:v===A.user_id||(p==null?void 0:p.includes(A.user_id)),className:"bg-blue-100 hover:bg-blue-200 text-blue-700",children:v===A.user_id?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-700"}):l.jsx(AM,{className:"h-4 w-4"})}),l.jsxs(wr,{value:A.company_plan||"freemium",onValueChange:U=>k(A,U),disabled:p===`plan-${A.workspace_id}`,children:[l.jsx(nr,{className:"w-24",children:l.jsx(Sr,{})}),l.jsxs(rr,{children:[l.jsx(it,{value:"freemium",children:"Freemium"}),l.jsx(it,{value:"standard",children:"Standard"}),l.jsx(it,{value:"premium",children:"Premium"})]})]}),l.jsxs(wr,{value:A.role,onValueChange:U=>D(A,U),disabled:p===`role-${A.user_id}`,children:[l.jsx(nr,{className:"w-32",children:l.jsx(Sr,{})}),l.jsxs(rr,{children:[l.jsx(it,{value:"admin",children:"Administrateur"}),l.jsx(it,{value:"gestionnaire",children:"Gestionnaire"}),l.jsx(it,{value:"lecteur",children:"Lecteur"})]})]}),l.jsx(Z,{variant:"destructive",size:"sm",onClick:()=>$(A.user_id,A.email||""),disabled:m===A.user_id||(p==null?void 0:p.includes(A.user_id)),children:m===A.user_id?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx(td,{className:"h-4 w-4"})}),(p===`plan-${A.workspace_id}`||p===`role-${A.user_id}`)&&l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"})]})})]},A.id)),e.length===0&&l.jsx(sr,{children:l.jsx(Qe,{colSpan:7,className:"text-center text-muted-foreground",children:"Aucun contact trouvé"})})]})]})]})]})},CI=q.createContext(void 0),$re=({children:e})=>{const[t,n]=q.useState([]),[r,i]=q.useState(!0),s=q.useRef(0),a=q.useCallback(async(c=!1)=>{const u=Date.now();if(!c&&u-s.current<5e3)return;s.current=u,i(!0);const{data:d,error:f}=await Q.from("fe_sources").select("source_name, access_level").eq("is_global",!0).order("source_name");f||n(d||[]),i(!1)},[]);q.useEffect(()=>{a(!0)},[a]),q.useEffect(()=>{const c=Q.channel("fe-sources-realtime").on("postgres_changes",{event:"*",schema:"public",table:"fe_sources",filter:"is_global=eq.true"},()=>{a(!0)}).subscribe();return()=>{Q.removeChannel(c)}},[a]);const o=q.useMemo(()=>({sources:t,refresh:()=>a(!0),loading:r}),[t,a,r]);return l.jsx(CI.Provider,{value:o,children:e})};function kI(){const e=q.useContext(CI);if(!e)throw new Error("useFeSources must be used within FeSourcesProvider");return e}const Ure=()=>{const[e,t]=y.useState([]),[n,r]=y.useState({}),{toast:i}=Dt(),{sources:s,refresh:a,loading:o}=kI();y.useEffect(()=>{const p=(s||[]).map(g=>({source:g.source_name,current_tier:g.access_level,standard_count:g.access_level==="standard"?1:0,premium_count:g.access_level==="premium"?1:0,total_count:1}))||[];t(p)},[s]);const c=y.useCallback(async(p,g)=>{r(m=>({...m,[p]:{loading:!0,success:!1}}));try{console.log(`🚀 Starting update for source: ${p} to tier: ${g}`);const{error:m}=await Q.from("fe_sources").update({access_level:g}).eq("source_name",p);if(m)throw m;console.log(`✅ Successfully updated source ${p} to ${g}`),r(w=>({...w,[p]:{loading:!1,success:!0}})),await a(),i({title:"Succès",description:`Source "${p}" mise à jour vers ${g}`}),setTimeout(()=>{r(w=>({...w,[p]:{loading:!1,success:!1}}))},3e3)}catch(m){console.error("💥 Error updating source tier:",m),r(w=>({...w,[p]:{loading:!1,success:!1}})),i({title:"Erreur de mise à jour",description:m instanceof Error?m.message:"Impossible de mettre à jour le niveau d'accès",variant:"destructive"})}},[i,a]),u=o,d=p=>p==="premium"?"default":"secondary",f=p=>p==="premium"?ka:Mi,h=p=>{const g=n[p.source];return g!=null&&g.loading?l.jsxs(l.Fragment,{children:[l.jsx(Pa,{className:"h-3 w-3 mr-1 animate-spin"}),"Mise à jour..."]}):g!=null&&g.success?l.jsxs(l.Fragment,{children:[l.jsx(zt,{className:"h-3 w-3 mr-1"}),"Terminé"]}):p.current_tier==="standard"?l.jsxs(l.Fragment,{children:[l.jsx(ka,{className:"h-3 w-3 mr-1"}),"Passer en Premium"]}):l.jsxs(l.Fragment,{children:[l.jsx(Mi,{className:"h-3 w-3 mr-1"}),"Passer en Standard"]})};return u?l.jsxs(ge,{children:[l.jsx(Se,{children:l.jsxs(je,{className:"flex items-center gap-2",children:[l.jsx(Tf,{className:"h-5 w-5"}),"Gestion des Accès aux Sources de Données"]})}),l.jsx(ve,{children:l.jsx("div",{className:"space-y-3",children:[...Array(6)].map((p,g)=>l.jsx(gr,{className:"h-12 w-full"},g))})})]}):l.jsxs(ge,{children:[l.jsxs(Se,{children:[l.jsxs(je,{className:"flex items-center gap-2",children:[l.jsx(Tf,{className:"h-5 w-5"}),"Gestion des Accès aux Sources de Données",l.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>a(),className:"ml-auto",children:[l.jsx(Ra,{className:"h-3 w-3 mr-1"}),"Actualiser"]})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Gérez les niveaux d'accès des sources de facteurs d'émission.",l.jsx("br",{}),l.jsx("span",{className:"font-medium",children:"Standard"})," : accessible à tous les utilisateurs",l.jsx("br",{}),l.jsx("span",{className:"font-medium",children:"Premium"})," : accessible uniquement aux utilisateurs premium"]})]}),l.jsx(ve,{children:l.jsxs(md,{children:[l.jsx(gd,{children:l.jsxs(sr,{children:[l.jsx(ot,{children:"Source"}),l.jsx(ot,{children:"Niveau actuel"}),l.jsx(ot,{children:"Facteurs Standard"}),l.jsx(ot,{children:"Facteurs Premium"}),l.jsx(ot,{children:"Total"}),l.jsx(ot,{children:"Actions"})]})}),l.jsxs(vd,{children:[e.map(p=>{const g=f(p.current_tier),m=n[p.source];return l.jsxs(sr,{children:[l.jsx(Qe,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Tf,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"truncate max-w-[200px]",title:p.source,children:p.source})]})}),l.jsx(Qe,{children:l.jsxs(He,{variant:d(p.current_tier),children:[l.jsx(g,{className:"h-3 w-3 mr-1"}),p.current_tier==="premium"?"Premium":"Standard"]})}),l.jsx(Qe,{children:l.jsx("span",{className:"text-muted-foreground",children:p.standard_count})}),l.jsx(Qe,{children:l.jsx("span",{className:"text-muted-foreground",children:p.premium_count})}),l.jsx(Qe,{children:l.jsx("span",{className:"font-medium",children:p.total_count})}),l.jsx(Qe,{children:l.jsx(Z,{size:"sm",variant:m!=null&&m.success?"default":"outline",onClick:()=>c(p.source,p.current_tier==="standard"?"premium":"standard"),disabled:m==null?void 0:m.loading,children:h(p)})})]},p.source)}),e.length===0&&l.jsx(sr,{children:l.jsx(Qe,{colSpan:6,className:"text-center text-muted-foreground",children:"Aucune source de données trouvée"})})]})]})})]})},zre=()=>{const[e,t]=y.useState([]),{sources:n,refresh:r}=kI(),[i,s]=y.useState([]),[a,o]=y.useState(!0),[c,u]=y.useState(""),[d,f]=y.useState(new Set),[h,p]=y.useState({}),{toast:g}=Dt(),m=S=>S==="premium"?"default":"secondary",w=y.useCallback(async()=>{const{data:S,error:j}=await Q.functions.invoke("get-admin-workspaces",{body:{planFilter:"all"}});if(j)throw j;const _=((S==null?void 0:S.data)||[]).map(P=>({id:P.id,name:P.name,plan_type:P.plan_type}));t(_),!c&&_.length&&u(_[0].id)},[c]),v=y.useCallback(async S=>{if(!S){f(new Set);return}const{data:j,error:_}=await Q.from("fe_source_workspace_assignments").select("source_name").eq("workspace_id",S);if(_)throw _;f(new Set((j||[]).map(P=>P.source_name)))},[]),x=y.useCallback(()=>{c&&v(c).catch(()=>{})},[c,v]);eV(c,x),y.useEffect(()=>{s(n||[])},[n]),y.useEffect(()=>{(async()=>{try{o(!0),await w()}catch(S){console.error(S),g({title:"Erreur",description:"Chargement workspaces impossible",variant:"destructive"})}finally{o(!1)}})()},[w,g]),y.useEffect(()=>{(async()=>{try{c&&(o(!0),await v(c))}catch(S){console.error(S)}finally{o(!1)}})()},[c,v]);const b=y.useCallback(async(S,j)=>{if(c){p(_=>({..._,[S]:!0}));try{j?(await Ire(S,c),f(_=>new Set(_).add(S))):(await Dre(S,c),f(_=>{const P=new Set(_);return P.delete(S),P}))}catch(_){console.error(_),g({title:"Erreur",description:"Mise à jour impossible",variant:"destructive"})}finally{p(_=>({..._,[S]:!1}))}}},[c,g]);return a?l.jsxs(ge,{children:[l.jsx(Se,{children:l.jsxs(je,{className:"flex items-center gap-2",children:[l.jsx(eu,{className:"h-5 w-5"}),"Assignations Sources ↔ Workspaces"]})}),l.jsx(ve,{children:l.jsx("div",{className:"space-y-3",children:[...Array(5)].map((S,j)=>l.jsx(gr,{className:"h-12 w-full"},j))})})]}):l.jsxs(ge,{children:[l.jsx(Se,{children:l.jsxs(je,{className:"flex items-center gap-2",children:[l.jsx(eu,{className:"h-5 w-5"}),"Assignations Sources ↔ Workspaces",l.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>{Promise.all([r()]).finally(()=>c&&v(c))},className:"ml-auto",children:[l.jsx(Ra,{className:"h-3 w-3 mr-1"}),"Actualiser"]}),l.jsx(Z,{size:"sm",variant:"default",className:"ml-2",onClick:async()=>{if(c)try{const S=i.filter(k=>k.access_level==="premium").map(k=>k.source_name),j=i.filter(k=>k.access_level==="standard").map(k=>k.source_name),_=S.filter(k=>d.has(k)),P=S.filter(k=>!d.has(k)),R=[...j,..._],F=P;await Fre(c,R,F),g({title:"Synchronisation réussie",description:`Assignés: ${R.length} • Désassignés: ${F.length}`}),await v(c)}catch(S){console.error(S),g({title:"Erreur",description:(S==null?void 0:S.message)||"Synchronisation impossible",variant:"destructive"})}},children:"Resynchroniser"})]})}),l.jsxs(ve,{className:"space-y-6",children:[l.jsx("div",{className:"p-4 bg-muted/50 rounded-lg",children:l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs(wr,{value:c,onValueChange:u,children:[l.jsx(nr,{className:"w-96",children:l.jsx(Sr,{placeholder:"Sélectionner un workspace"})}),l.jsx(rr,{children:e.map(S=>l.jsx(it,{value:S.id,children:S.name},S.id))})]})})}),l.jsxs(md,{children:[l.jsx(gd,{children:l.jsxs(sr,{children:[l.jsx(ot,{children:"Source"}),l.jsx(ot,{children:"Access level"}),l.jsx(ot,{children:"Activer"}),l.jsx(ot,{children:"Désactiver"})]})}),l.jsxs(vd,{children:[i.map(S=>{const j=S.access_level==="standard"||d.has(S.source_name),_=!!h[S.source_name],P=S.access_level==="premium";return l.jsxs(sr,{children:[l.jsx(Qe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Tf,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"font-medium",children:S.source_name})]})}),l.jsx(Qe,{children:l.jsx(He,{variant:m(S.access_level),children:S.access_level})}),l.jsx(Qe,{children:_?l.jsx(Pa,{className:"h-4 w-4 animate-spin"}):l.jsx(Hi,{checked:j,onCheckedChange:()=>P&&b(S.source_name,!0),disabled:!c||!P})}),l.jsx(Qe,{children:_?l.jsx(Pa,{className:"h-4 w-4 animate-spin"}):l.jsx(Hi,{checked:!j,onCheckedChange:()=>P&&b(S.source_name,!1),disabled:!c||!P})})]},S.source_name)}),i.length===0&&l.jsx(sr,{children:l.jsx(Qe,{colSpan:4,className:"text-center text-muted-foreground",children:"Aucune source trouvée"})})]})]})]})]})},Hre=()=>{const[e,t]=q.useState("access");return l.jsxs(_h,{value:e,onValueChange:n=>t(n),className:"w-full",children:[l.jsxs(uu,{children:[l.jsx(Jn,{value:"access",children:"Accès aux sources"}),l.jsx(Jn,{value:"assignments",children:"Assignations"})]}),l.jsx("div",{className:"mt-4"}),e==="access"&&l.jsx(Xn,{value:"access",asChild:!0,children:l.jsx("div",{children:l.jsx(Ure,{})})}),e==="assignments"&&l.jsx(Xn,{value:"assignments",asChild:!0,children:l.jsx("div",{children:l.jsx(zre,{})})})]})},Bre=()=>{const[e,t]=y.useState(""),[n,r]=y.useState(""),[i,s]=y.useState(!1),[a,o]=y.useState(!1),{toast:c}=Dt(),u=()=>{const p="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let g="";for(let m=0;m<16;m++)g+=p.charAt(Math.floor(Math.random()*p.length));r(g)},d=async h=>{h.preventDefault(),o(!0);try{const{data:{session:p}}=await Q.auth.getSession();if(!p){c({title:"Erreur d'authentification",description:"Vous devez être connecté pour effectuer cette action.",variant:"destructive"});return}const g=await fetch("https://wrodvaatdujbpfpvrzge.supabase.co/functions/v1/create-supra-admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.access_token}`},body:JSON.stringify({email:e,password:n})}),m=await g.json();g.ok&&m.success?(c({title:"Succès",description:m.message}),t(""),r("")):c({title:"Erreur",description:m.error||"Une erreur est survenue lors de la création du compte.",variant:"destructive"})}catch(p){console.error("Error creating supra admin:",p),c({title:"Erreur",description:"Une erreur inattendue est survenue.",variant:"destructive"})}finally{o(!1)}},f=h=>h.length>=12&&/[A-Z]/.test(h)&&/[a-z]/.test(h)&&/[0-9]/.test(h)&&/[!@#$%^&*]/.test(h);return l.jsxs(ge,{className:"w-full max-w-md",children:[l.jsxs(Se,{children:[l.jsxs(je,{className:"flex items-center gap-2",children:[l.jsx(eP,{className:"h-5 w-5"}),"Créer un Supra Admin"]}),l.jsx(xt,{children:"Créer un nouveau compte super administrateur avec des privilèges élevés."})]}),l.jsx(ve,{children:l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{htmlFor:"email",children:"Email"}),l.jsx(Ot,{id:"email",type:"email",value:e,onChange:h=>t(h.target.value),placeholder:"admin@example.com",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{htmlFor:"password",children:"Mot de passe"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ot,{id:"password",type:i?"text":"password",value:n,onChange:h=>r(h.target.value),placeholder:"Mot de passe sécurisé",required:!0,className:"pr-10"}),l.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!i),children:i?l.jsx(SM,{className:"h-4 w-4"}):l.jsx(Jk,{className:"h-4 w-4"})})]}),l.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:u,className:"w-full",children:"Générer un mot de passe sécurisé"})]}),n&&l.jsx(hn,{children:l.jsxs(pn,{children:["Force du mot de passe: ",f(n)?"✅ Fort":"❌ Faible",!f(n)&&l.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Le mot de passe doit contenir au moins 12 caractères, incluant majuscules, minuscules, chiffres et symboles."})]})}),l.jsx(Z,{type:"submit",className:"w-full",disabled:a||!f(n),children:a?"Création en cours...":"Créer le compte"})]})})]})},qre=()=>{const[e,t]=y.useState(!1),{toast:n}=Dt(),r=async()=>{t(!0);try{const{data:{session:i}}=await Q.auth.getSession();if(!i){n({title:"Erreur d'authentification",description:"Vous devez être connecté pour effectuer cette action.",variant:"destructive"});return}const s=await fetch("https://wrodvaatdujbpfpvrzge.supabase.co/functions/v1/cleanup-orphan-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i.access_token}`}}),a=await s.json();s.ok&&a.success?n({title:"Nettoyage terminé",description:a.message}):n({title:"Erreur",description:a.error||"Une erreur est survenue lors du nettoyage.",variant:"destructive"})}catch(i){console.error("Error during cleanup:",i),n({title:"Erreur",description:"Une erreur inattendue est survenue.",variant:"destructive"})}finally{t(!1)}};return l.jsxs(ge,{className:"w-full max-w-md",children:[l.jsxs(Se,{children:[l.jsxs(je,{className:"flex items-center gap-2",children:[l.jsx(td,{className:"h-5 w-5"}),"Nettoyage des Comptes Orphelins"]}),l.jsx(xt,{children:"Supprimer les comptes auth.users qui n'ont pas d'entrée correspondante dans la table users."})]}),l.jsxs(ve,{children:[l.jsxs(hn,{className:"mb-4",children:[l.jsx(Na,{className:"h-4 w-4"}),l.jsx(pn,{children:"Cette action supprimera définitivement les comptes orphelins. Cette action ne peut pas être annulée."})]}),l.jsxs(j2,{children:[l.jsx(_2,{asChild:!0,children:l.jsx(Z,{variant:"destructive",className:"w-full",disabled:e,children:e?"Nettoyage en cours...":"Nettoyer les comptes orphelins"})}),l.jsxs(kw,{children:[l.jsxs(Pw,{children:[l.jsx(Nw,{children:"Confirmer le nettoyage"}),l.jsx(Tw,{children:"Êtes-vous sûr de vouloir supprimer tous les comptes orphelins ? Cette action supprimera définitivement les comptes auth.users qui n'ont pas d'entrée correspondante dans la table users. Cette action ne peut pas être annulée."})]}),l.jsxs(Rw,{children:[l.jsx(Ow,{children:"Annuler"}),l.jsx(Aw,{onClick:r,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Confirmer la suppression"})]})]})]})]})]})},Wre=()=>{const[e,t]=y.useState(!1),[n,r]=y.useState(null),{toast:i}=Dt(),s=async()=>{t(!0),r(null);try{const{data:{session:a}}=await Q.auth.getSession();if(!a){i({title:"Erreur d'authentification",description:"Vous devez être connecté pour effectuer cette action.",variant:"destructive"});return}const o=await fetch("https://wrodvaatdujbpfpvrzge.supabase.co/functions/v1/fix-orphan-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.access_token}`}}),c=await o.json();o.ok&&c.success?(r(c),i({title:"Réparation terminée",description:c.message})):i({title:"Erreur",description:c.error||"Une erreur est survenue lors de la réparation.",variant:"destructive"})}catch(a){console.error("Error during repair:",a),i({title:"Erreur",description:"Une erreur inattendue est survenue.",variant:"destructive"})}finally{t(!1)}};return l.jsx("div",{className:"space-y-4",children:l.jsxs(ge,{className:"w-full max-w-2xl",children:[l.jsxs(Se,{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hh,{className:"h-5 w-5"}),l.jsx(je,{children:"Réparation des utilisateurs orphelins"})]}),l.jsx(xt,{children:"Répare les utilisateurs qui existent dans auth.users mais pas dans public.users. Cette situation peut survenir si la fonction handle_new_user a échoué lors de l'inscription."})]}),l.jsxs(ve,{className:"space-y-4",children:[l.jsxs(hn,{children:[l.jsx(Na,{className:"h-4 w-4"}),l.jsxs(pn,{children:[l.jsx("strong",{children:"Attention :"})," Cette opération va créer des workspaces et des profils utilisateur pour tous les utilisateurs orphelins trouvés. Utilisez cette fonction uniquement si vous identifiez des incohérences dans les données."]})]}),l.jsx(Z,{onClick:s,disabled:e,className:"w-full",variant:"destructive",children:e?l.jsxs(l.Fragment,{children:[l.jsx(Pa,{className:"w-4 h-4 mr-2 animate-spin"}),"Réparation en cours..."]}):l.jsxs(l.Fragment,{children:[l.jsx(hh,{className:"w-4 h-4 mr-2"}),"Réparer les utilisateurs orphelins"]})}),n&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs(hn,{className:n.success?"border-green-200 bg-green-50":"border-destructive",children:[l.jsx(zt,{className:"h-4 w-4"}),l.jsxs(pn,{children:[l.jsx("strong",{children:"Résultat :"})," ",n.message]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-muted-foreground",children:n.orphanUsersFound}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Utilisateurs orphelins trouvés"})]}),l.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-700",children:n.usersRepaired}),l.jsx("div",{className:"text-sm text-green-700",children:"Utilisateurs réparés"})]})]}),n.repairedUsers.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-semibold text-sm",children:"Utilisateurs réparés :"}),l.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:n.repairedUsers.map(a=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded text-sm",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:a.email}),l.jsx("div",{className:"text-muted-foreground",children:a.workspace_name})]}),l.jsxs(He,{variant:"outline",className:"text-xs",children:[a.workspace_id.slice(0,8),"..."]})]},a.user_id))})]})]})]})]})})},Vre=()=>{const{toast:e}=Dt(),{isSupraAdmin:t}=Tp(),[n,r]=q.useState(null),[i,s]=q.useState(!1),[a,o]=q.useState(0),[c,u]=q.useState(null),[d,f]=q.useState([]),[h,p]=q.useState(!1),[g,m]=q.useState([]),[w,v]=q.useState(!1),[x,b]=q.useState("idle"),[S,j]=q.useState(null),_=()=>{const $=["ID","Nom","Nom_en","Description","Description_en","FE","Unité donnée d'activité","Unite_en","Source","Secteur","Secteur_en","Sous-secteur","Sous-secteur_en","Localisation","Localisation_en","Date","Incertitude","Périmètre","Périmètre_en","Contributeur","Commentaires","Commentaires_en"],A=["","Transport routier de marchandises","Freight transportation","","","0.123","kgCO2e/t.km","kgCO2e/t.km","Base Carbone v23.6","Transport","Transportation","Fret","Freight","France","France","2025","","Well-to-Wheel","Well-to-Wheel","",""],U=[$.join(","),A.join(",")].join(`
`),T=new Blob([U],{type:"text/csv;charset=utf-8;"}),H=URL.createObjectURL(T),E=document.createElement("a");E.href=H,E.download="template_import_emission_factors_bilingue.csv",E.click(),URL.revokeObjectURL(H)},P=async()=>{if(!n){e({variant:"destructive",title:"Aucun fichier",description:"Sélectionnez un fichier CSV."});return}try{s(!0),o(0),console.log("🔍 Analyse filename original:",{name:n.name,length:n.name.length,charCodes:n.name.split("").map(H=>`${H}(${H.charCodeAt(0)})`),hasNonAscii:/[^\x00-\x7F]/.test(n.name),hasSpaces:n.name.includes(" "),hasDashes:n.name.includes("-"),hasSpecialChars:/[^a-zA-Z0-9.-]/.test(n.name)});let $=n.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9.]/g,"_").replace(/_{2,}/g,"_").replace(/^_+|_+$/g,"").substring(0,50);const A=n.name.toLowerCase().endsWith(".xlsx")?".xlsx":".csv";$.endsWith(A)||($=$.replace(/\.[^.]*$/,"")+A);const U=`${Date.now()}_${$}`;console.log("🔍 Debug transformation complète:",{"1_original":n.name,"2_clean":$,"3_finalPath":U,"4_pathLength":U.length,"5_onlyAllowedChars":/^[a-z0-9_.]+$/.test(U)});const{error:T}=await Q.storage.from("imports").upload(U,n,{upsert:!0});if(T)throw T;u(U),o(100),p(!1),f([]),e({title:"Upload terminé",description:U})}catch($){e({variant:"destructive",title:"Erreur upload",description:$.message||String($)})}finally{s(!1)}},R=async()=>{if(!c){e({variant:"destructive",title:"Fichier manquant",description:"Veuillez uploader un fichier."});return}try{const{data:$,error:A}=await Q.functions.invoke("import-csv",{body:{file_path:c,language:"fr",dry_run:!0}});if(A)throw A;const U=(($==null?void 0:$.sources)||[]).map(I=>({name:I.name,count:I.count,access_level:I.access_level||"standard",is_global:typeof I.is_global=="boolean"?I.is_global:!0}));f(U),p(!0),e({title:"Analyse terminée",description:`${($==null?void 0:$.processed)||0} lignes valides; ${U.length} sources détectées`});const T=Number($==null?void 0:$.processed)||U.reduce((I,z)=>I+(Number(z.count)||0),0);if(!window.confirm(`Lancer l'import maintenant ?
Sources: ${U.length} — Lignes valides: ${T}`))return;const E={};U.forEach(I=>{E[I.name]={access_level:I.access_level,is_global:I.is_global}}),b("importing"),j("Import en cours… (la synchronisation Algolia par source s’effectue automatiquement)");const{data:O,error:C}=await Q.functions.invoke("import-csv",{body:{file_path:c,language:"fr",dry_run:!1,mapping:E}});if(C)throw C;e({title:"Import lancé",description:`Job: ${(O==null?void 0:O.import_id)||"en file"}`});try{const{data:I,error:z}=await Q.functions.invoke("reindex-ef-all-atomic",{body:{}});if(z)throw z;b("success"),j("Import terminé. Reindex Algolia atomique effectué.")}catch(I){b("error"),j(`Import OK mais reindex Algolia a échoué: ${(I==null?void 0:I.message)||String(I)}`)}await k()}catch($){e({variant:"destructive",title:"Erreur import",description:$.message||String($)}),b("error"),j($!=null&&$.message?String($.message):"Erreur lors de l'import.")}},F=async()=>{if(!c){e({variant:"destructive",title:"Fichier manquant",description:"Veuillez uploader un fichier avant de lancer l'import."});return}if(!h||d.length===0){e({variant:"destructive",title:"Analyse requise",description:"Cliquez d'abord sur Analyser puis Importer."});return}try{const $={};d.forEach(T=>{$[T.name]={access_level:T.access_level,is_global:T.is_global}}),b("importing"),j("Import en cours… (la synchronisation Algolia par source s’effectue automatiquement)");const{data:A,error:U}=await Q.functions.invoke("import-csv",{body:{file_path:c,language:"fr",dry_run:!1,mapping:$}});if(U)throw U;e({title:"Import lancé",description:`Job: ${(A==null?void 0:A.import_id)||"en file"}`});try{const{error:T}=await Q.functions.invoke("reindex-ef-all-atomic",{body:{}});if(T)throw T;b("success"),j("Import terminé. Reindex Algolia atomique effectué.")}catch(T){b("error"),j(`Import OK mais reindex Algolia a échoué: ${(T==null?void 0:T.message)||String(T)}`)}await k()}catch($){e({variant:"destructive",title:"Erreur import",description:$.message||String($)}),b("error"),j($!=null&&$.message?String($.message):"Erreur lors de l'import.")}},k=q.useCallback(async()=>{try{v(!0);const{data:$,error:A}=await Q.from("data_imports").select("id,status,records_processed,records_failed,created_at,completed_at").order("created_at",{ascending:!1}).limit(50);if(A)throw A;const U=($||[]).map(T=>({id:T.id,status:T.status,processed:T.records_processed??null,failed:T.records_failed??null,created_at:T.created_at}));m(U)}catch{}finally{v(!1)}},[]);if(q.useEffect(()=>{k();const $=setInterval(k,5e3);return()=>clearInterval($)},[k]),!t)return null;const D=$=>f(A=>A.map(U=>({...U,access_level:$}))),L=$=>f(A=>A.map(U=>({...U,is_global:$})));return l.jsxs(ge,{children:[l.jsxs(Se,{children:[l.jsx(je,{children:"Import de la base de facteurs (FR/EN)"}),l.jsx(xt,{children:"L\\'indexation Algolia est automatique via Webhook après import. • Étape 1: Uploader le fichier vers le Storage. • Étape 2: Analyser pour détecter les sources et préparer le mapping (Standard/Premium, Global oui/non). • Étape 3: Importer. La synchronisation Algolia par source s\\'exécute automatiquement."})]}),l.jsxs(ve,{className:"space-y-6",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:l.jsx(Z,{variant:"secondary",onClick:_,children:"Télécharger le template CSV"})}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(jt,{children:"Fichier CSV"}),l.jsx(ia,{children:l.jsxs(Za,{children:[l.jsx(eo,{asChild:!0,children:l.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),l.jsx(sa,{children:"Sélectionnez le fichier CSV ou XLSX exporté depuis la Base Carbone (ou template compatible). Les colonnes FR/EN sont supportées. XLSX recommandé pour gros fichiers."})]})})]}),l.jsx(Ot,{type:"file",accept:".csv,.xlsx,text/csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",onChange:$=>{var A;return r(((A=$.target.files)==null?void 0:A[0])||null)}}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ia,{children:l.jsxs(Za,{children:[l.jsx(eo,{asChild:!0,children:l.jsx(Z,{onClick:P,disabled:!n||i,children:i?`Upload... ${a}%`:"Uploader vers Storage"})}),l.jsx(sa,{children:"Envoie le fichier sur Supabase Storage (bucket imports). Obligatoire avant analyse."})]})}),c&&l.jsx("span",{className:"text-xs text-muted-foreground break-all",children:c})]})]}),l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ia,{children:l.jsxs(Za,{children:[l.jsx(eo,{asChild:!0,children:l.jsx(Z,{onClick:R,disabled:!c,children:"Analyser puis Importer"})}),l.jsx(sa,{children:"Analyse le CSV et propose immédiatement de lancer l'import. Vous pouvez annuler pour ajuster le mapping."})]})}),h&&d.length>0&&l.jsx(ia,{children:l.jsxs(Za,{children:[l.jsx(eo,{asChild:!0,children:l.jsx(Z,{variant:"secondary",onClick:F,children:"Importer avec ce mapping"})}),l.jsx(sa,{children:"Utilise le mapping affiché ci-dessous sans relancer l'analyse."})]})})]})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(jt,{children:"Sources détectées (après analyse)"}),l.jsx(ia,{children:l.jsxs(Za,{children:[l.jsx(eo,{asChild:!0,children:l.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),l.jsx(sa,{children:"Choisissez l\\'accès par source: Standard ou Premium. Global = visible par toutes les workspaces; sinon, assignable."})]})})]}),d.length===0?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Aucune source détectée. Lancez l\\'analyse après upload."}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Appliquer à toutes:"}),l.jsxs(wr,{onValueChange:$=>D($),children:[l.jsx(nr,{className:"w-40",children:l.jsx(Sr,{placeholder:"Accès"})}),l.jsxs(rr,{children:[l.jsx(it,{value:"standard",children:"Standard"}),l.jsx(it,{value:"premium",children:"Premium"})]})]}),l.jsx(Z,{variant:"outline",size:"sm",onClick:()=>L(!0),children:"Global: Oui"}),l.jsx(Z,{variant:"outline",size:"sm",onClick:()=>L(!1),children:"Global: Non"})]}),l.jsx("div",{className:"overflow-auto border rounded-md",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-muted",children:[l.jsx("th",{className:"p-2 text-left",children:"Source"}),l.jsx("th",{className:"p-2 text-right",children:"Lignes"}),l.jsx("th",{className:"p-2 text-left",children:"Accès"}),l.jsx("th",{className:"p-2 text-left",children:"Global"})]})}),l.jsx("tbody",{children:d.map(($,A)=>l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"p-2",children:$.name}),l.jsx("td",{className:"p-2 text-right",children:$.count}),l.jsx("td",{className:"p-2",children:l.jsxs(wr,{value:$.access_level,onValueChange:U=>f(T=>T.map((H,E)=>E===A?{...H,access_level:U}:H)),children:[l.jsx(nr,{className:"w-36",children:l.jsx(Sr,{})}),l.jsxs(rr,{children:[l.jsx(it,{value:"standard",children:"Standard"}),l.jsx(it,{value:"premium",children:"Premium"})]})]})}),l.jsx("td",{className:"p-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:$.is_global,onChange:U=>f(T=>T.map((H,E)=>E===A?{...H,is_global:U.target.checked}:H))}),l.jsx("span",{children:"Global"})]})})]},$.name))})]})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(jt,{children:"Historique des imports"}),l.jsx(ia,{children:l.jsxs(Za,{children:[l.jsx(eo,{asChild:!0,children:l.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),l.jsx(sa,{children:"Liste des imports récents et leur statut."})]})})]}),l.jsx("div",{className:"overflow-auto border rounded-md",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-muted",children:[l.jsx("th",{className:"p-2 text-left",children:"Date"}),l.jsx("th",{className:"p-2 text-left",children:"Statut"}),l.jsx("th",{className:"p-2 text-right",children:"Traitées"}),l.jsx("th",{className:"p-2 text-right",children:"Échecs"})]})}),l.jsx("tbody",{children:w?l.jsx("tr",{children:l.jsx("td",{className:"p-2",colSpan:4,children:"Chargement..."})}):g.length===0?l.jsx("tr",{children:l.jsx("td",{className:"p-2",colSpan:4,children:"Aucun import pour le moment."})}):g.map($=>l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"p-2 whitespace-nowrap",children:new Date($.created_at).toLocaleString()}),l.jsx("td",{className:"p-2",children:$.status??"-"}),l.jsx("td",{className:"p-2 text-right",children:$.processed??"-"}),l.jsx("td",{className:"p-2 text-right",children:$.failed??"-"})]},$.id))})]})})]}),x!=="idle"&&l.jsxs("div",{className:"space-y-2 p-4 border rounded-md",children:[x==="importing"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:S}),l.jsx("div",{className:"w-full h-2 bg-muted rounded-md overflow-hidden",children:l.jsx("div",{className:"h-2 w-2/3 bg-primary animate-pulse"})})]}),x==="success"&&l.jsx("div",{className:"text-sm text-green-700",children:S}),x==="error"&&l.jsx("div",{className:"text-sm text-red-700",children:S})]})]})]})},Qre=()=>{const[e,t]=y.useState(null),[n,r]=y.useState([]),[i,s]=y.useState([]);y.useState(!1);const[a,o]=y.useState(!0),c=y.useCallback(async()=>{try{o(!0);const m=Fn.getMetrics();t(m);const w=Fn.generateRecommendations();r(w)}catch(m){console.error("Error loading performance data:",m)}finally{o(!1)}},[]);y.useEffect(()=>{c();const m=setInterval(c,3e4),w=v=>{s(x=>[v,...x.slice(0,9)])};return Fn.onAlert(w),()=>{clearInterval(m),Fn.offAlert(w)}},[c]);const u=y.useCallback(async()=>{const m=Fn.autoTune();m.cacheAdjustments.increaseTTL&&console.log("Applying cache adjustments:",m.cacheAdjustments),m.throttlingAdjustments.reduceMaxRequestsPerSecond&&console.log("Applying throttling adjustments:",m.throttlingAdjustments),m.debounceAdjustments.increaseDelay&&console.log("Applying debounce adjustments:",m.debounceAdjustments),await c()},[c]),d=y.useCallback(()=>{Fn.reset(),Ht.clear(),Ri.clear(),s([]),c()},[c]);if(a||!e)return l.jsxs("div",{className:"flex items-center justify-center h-64",children:[l.jsx(Ra,{className:"h-8 w-8 animate-spin"}),l.jsx("span",{className:"ml-2",children:"Chargement des métriques..."})]});const f=m=>m>=1e6?`${(m/1e6).toFixed(1)}M`:m>=1e3?`${(m/1e3).toFixed(1)}K`:m.toString(),h=m=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(m),p=m=>{switch(m){case"critical":return"destructive";case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"default"}},g=()=>e.totalRequests===0?100:e.successfulRequests/e.totalRequests*100;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold",children:"Performance Algolia"}),l.jsx("p",{className:"text-gray-600",children:"Monitoring et optimisation en temps réel"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Z,{onClick:c,variant:"outline",children:[l.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Actualiser"]}),l.jsxs(Z,{onClick:u,variant:"outline",children:[l.jsx(nu,{className:"h-4 w-4 mr-2"}),"Auto-tuning"]}),l.jsx(Z,{onClick:d,variant:"destructive",children:"Reset"})]})]}),i.length>0&&l.jsxs(hn,{className:"border-orange-200 bg-orange-50",children:[l.jsx(Na,{className:"h-4 w-4"}),l.jsxs(pn,{children:[l.jsxs("strong",{children:[i.length," alerte(s) active(s)"]}),l.jsx("div",{className:"mt-2 space-y-1",children:i.slice(0,3).map((m,w)=>l.jsxs("div",{className:"text-sm",children:["• ",m.message]},w))})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs(ge,{children:[l.jsxs(Se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(je,{className:"text-sm font-medium",children:"Requêtes totales"}),l.jsx(NM,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(ve,{children:[l.jsx("div",{className:"text-2xl font-bold",children:f(e.totalRequests)}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[f(e.searchesPerMinute)," par minute"]})]})]}),l.jsxs(ge,{children:[l.jsxs(Se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(je,{className:"text-sm font-medium",children:"Taux de succès"}),l.jsx(zt,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(ve,{children:[l.jsxs("div",{className:"text-2xl font-bold",children:[g().toFixed(1),"%"]}),l.jsx(qo,{value:g(),className:"mt-2"})]})]}),l.jsxs(ge,{children:[l.jsxs(Se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(je,{className:"text-sm font-medium",children:"Temps de réponse"}),l.jsx(fh,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(ve,{children:[l.jsxs("div",{className:"text-2xl font-bold",children:[e.averageResponseTime.toFixed(0),"ms"]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:["P95: ",e.p95ResponseTime.toFixed(0),"ms"]})]})]}),l.jsxs(ge,{children:[l.jsxs(Se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(je,{className:"text-sm font-medium",children:"Économies"}),l.jsx(TM,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(ve,{children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:h(e.estimatedCostSavings)}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[f(e.totalRequestsSaved)," requêtes économisées"]})]})]})]}),l.jsxs(_h,{defaultValue:"overview",className:"space-y-4",children:[l.jsxs(uu,{children:[l.jsx(Jn,{value:"overview",children:"Vue d'ensemble"}),l.jsx(Jn,{value:"cache",children:"Cache"}),l.jsx(Jn,{value:"recommendations",children:"Recommandations"}),l.jsx(Jn,{value:"details",children:"Détails"})]}),l.jsx(Xn,{value:"overview",className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs(ge,{children:[l.jsxs(Se,{children:[l.jsx(je,{children:"Performance du Cache"}),l.jsx(xt,{children:"Efficacité du système de cache"})]}),l.jsx(ve,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Taux de hit"}),l.jsxs("span",{className:"font-bold",children:[e.cacheHitRate.toFixed(1),"%"]})]}),l.jsx(qo,{value:e.cacheHitRate}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{children:"Déduplication"}),l.jsxs("span",{className:"font-bold",children:[e.deduplicationRate.toFixed(1),"%"]})]}),l.jsx(qo,{value:e.deduplicationRate})]})})]}),l.jsxs(ge,{children:[l.jsxs(Se,{children:[l.jsx(je,{children:"Termes de recherche populaires"}),l.jsx(xt,{children:"Les recherches les plus fréquentes"})]}),l.jsx(ve,{children:l.jsx("div",{className:"space-y-2",children:e.topSearchTerms.slice(0,5).map((m,w)=>l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:m}),l.jsxs(He,{variant:"secondary",children:["#",w+1]})]},w))})})]})]})}),l.jsx(Xn,{value:"cache",className:"space-y-4",children:l.jsxs(ge,{children:[l.jsxs(Se,{children:[l.jsx(je,{children:"Statistiques du cache"}),l.jsx(xt,{children:"Détails de performance du système de cache"})]}),l.jsx(ve,{children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"text-2xl font-bold",children:[e.cacheHitRate.toFixed(1),"%"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Taux de hit"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold",children:f(e.cacheSize)}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Entrées en cache"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold",children:f(e.duplicateRequestsAvoided)}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Doublons évités"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold",children:f(e.throttledRequests)}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Requêtes throttlées"})]})]})})]})}),l.jsx(Xn,{value:"recommendations",className:"space-y-4",children:l.jsxs("div",{className:"space-y-4",children:[n.map((m,w)=>l.jsxs(ge,{children:[l.jsxs(Se,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(je,{className:"text-lg",children:m.title}),l.jsx(He,{variant:p(m.priority),children:m.priority})]}),l.jsx(xt,{children:m.description})]}),l.jsx(ve,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Impact:"})," ",m.impact]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Action recommandée:"})," ",m.action]}),m.estimatedSavings&&m.estimatedSavings>0&&l.jsxs("div",{children:[l.jsx("strong",{children:"Économies estimées:"})," ",h(m.estimatedSavings)]})]})})]},w)),n.length===0&&l.jsx(ge,{children:l.jsx(ve,{className:"flex items-center justify-center py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx(zt,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Système optimisé"}),l.jsx("p",{className:"text-muted-foreground",children:"Aucune recommandation d'optimisation pour le moment."})]})})})]})}),l.jsx(Xn,{value:"details",className:"space-y-4",children:l.jsxs(ge,{children:[l.jsxs(Se,{children:[l.jsx(je,{children:"Métriques détaillées"}),l.jsx(xt,{children:"Données complètes de performance"})]}),l.jsx(ve,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Requêtes réussies:"})," ",f(e.successfulRequests)]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Requêtes échouées:"})," ",f(e.failedRequests)]}),l.jsxs("div",{children:[l.jsx("strong",{children:"P99 temps de réponse:"})," ",e.p99ResponseTime.toFixed(0),"ms"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Utilisateurs uniques:"})," ",f(e.uniqueUsers)]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Requêtes debouncées:"})," ",f(e.debouncedRequests)]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Dernière MAJ:"})," ",new Date(e.lastUpdated).toLocaleTimeString()]})]})})]})})]})]})},Kre=()=>{const{user:e}=pt(),{isSupraAdmin:t,loading:n}=Tp();Dt();const[r,i]=y.useState(!1);return y.useEffect(()=>{i(!1)},[e,t]),n?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(wa,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Vérification des permissions..."})]})})]}):!e||!t?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(wa,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsxs(hn,{className:"max-w-2xl mx-auto",children:[l.jsx(Na,{className:"h-4 w-4"}),l.jsx(pn,{children:"Accès refusé. Cette page est réservée aux supra administrateurs globaux."})]})})]}):l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(wa,{}),l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center homepage-text",children:[l.jsx(Mi,{className:"w-8 h-8 mr-3 text-primary"}),"Console d'administration"]}),l.jsx("p",{className:"text-muted-foreground",children:"Gestion avancée de la plateforme DataCarb"}),l.jsxs("div",{className:"mt-4",children:[l.jsx(He,{variant:"default",className:"mr-2 bg-gradient-to-r from-purple-600 to-blue-600",children:"Supra Admin"}),l.jsx(He,{variant:"outline",children:e.email})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestion des Entreprises"}),l.jsx(Lre,{})]}),l.jsx(Mre,{}),l.jsx($re,{children:l.jsx(Hre,{})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Performance Algolia"}),l.jsx(Qre,{})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Import de la base (FR)"}),l.jsx(Vre,{})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestion des Comptes Admin"}),l.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[l.jsx(Bre,{}),l.jsx(qre,{}),l.jsx(Wre,{})]})]})]}),l.jsxs(ge,{className:"mt-6",children:[l.jsx(Se,{children:l.jsx(je,{children:"Informations de debug"})}),l.jsx(ve,{children:l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"User ID:"})," ",e.id]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," ",e.email]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Supra Admin:"})," ",t?"Oui":"Non"]})]})})]})]})]})},Gre=()=>{const e=Bs();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Yre=()=>{const[e,t]=y.useState(""),[n,r]=y.useState(""),[i,s]=y.useState(!1),[a,o]=y.useState(null),{toast:c}=Dt(),u=$a(),d=async f=>{f.preventDefault(),s(!0),o(null);try{const{error:h}=await Q.auth.signInWithPassword({email:e,password:n});h?(o(h.message),c({variant:"destructive",title:"Erreur de connexion",description:h.message})):(c({title:"Connexion réussie",description:"Connexion administrateur activée"}),u("/search"))}catch{o("Une erreur inattendue s'est produite"),c({variant:"destructive",title:"Erreur",description:"Une erreur inattendue s'est produite"})}finally{s(!1)}};return l.jsx("div",{className:"min-h-screen homepage-violet-bg flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("div",{className:"mb-6",children:l.jsxs(wt,{to:"/",className:"inline-flex items-center homepage-text hover:opacity-80 transition-colors",children:[l.jsx(Zx,{className:"w-4 h-4 mr-2"}),"Retour à l'accueil"]})}),l.jsxs(ge,{children:[l.jsxs(Se,{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mx-auto mb-4",children:l.jsx(Mi,{className:"text-white w-6 h-6"})}),l.jsx(je,{className:"text-2xl",children:"Connexion Développeur"}),l.jsx(xt,{children:"Accès administrateur pour le développement et la maintenance"})]}),l.jsxs(ve,{children:[l.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(xr,{className:"w-5 h-5 text-orange-500 mt-0.5 mr-3 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-orange-900 mb-1",children:"Accès Restreint"}),l.jsx("p",{className:"text-sm text-orange-700",children:"Cette page est réservée aux super administrateurs et développeurs. L'accès non autorisé est strictement interdit."})]})]})}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{htmlFor:"email",children:"Email administrateur"}),l.jsx(Ot,{id:"email",type:"email",value:e,onChange:f=>t(f.target.value),placeholder:"admin@exemple.com",required:!0,disabled:i})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(jt,{htmlFor:"password",children:"Mot de passe"}),l.jsx(Ot,{id:"password",type:"password",value:n,onChange:f=>r(f.target.value),placeholder:"••••••••",required:!0,disabled:i})]}),l.jsx(Z,{type:"submit",className:"w-full",disabled:i,children:i?"Connexion...":"Se connecter"})]}),a&&l.jsxs(hn,{variant:"destructive",className:"mt-4",children:[l.jsx(xr,{className:"h-4 w-4"}),l.jsx(pn,{children:a})]}),l.jsx("div",{className:"text-center mt-6 pt-4 border-t border-gray-200",children:l.jsxs("p",{className:"text-xs text-gray-500",children:["Mode développement • Version ","production"]})})]})]})]})})},Jre=new M3,po=({children:e})=>{const{user:t,loading:n}=pt();return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{children:"Chargement..."})]})}):t?l.jsx(l.Fragment,{children:e}):l.jsx(eR,{to:"/login",replace:!0})},Hg=({children:e})=>{const{user:t,loading:n}=pt();return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{children:"Chargement..."})]})}):t?l.jsx(eR,{to:"/search",replace:!0}):l.jsx(l.Fragment,{children:e})},Xre=()=>l.jsx(U3,{client:Jre,children:l.jsx(i6,{children:l.jsx(s6,{children:l.jsx(a6,{children:l.jsx(o6,{children:l.jsxs(ia,{children:[l.jsx(p$,{}),l.jsx(B$,{}),l.jsx(F5,{children:l.jsxs("div",{className:"min-h-screen",children:[l.jsx(c6,{}),l.jsxs(P5,{children:[l.jsx(Wn,{path:"/",element:l.jsx(k6,{})}),l.jsx(Wn,{path:"/login",element:l.jsx(Hg,{children:l.jsx(T6,{})})}),l.jsx(Wn,{path:"/signup",element:l.jsx(Hg,{children:l.jsx(O6,{})})}),l.jsx(Wn,{path:"/auth/callback",element:l.jsx(I6,{})}),l.jsx(Wn,{path:"/dev",element:l.jsx(Hg,{children:l.jsx(Yre,{})})}),l.jsx(Wn,{path:"/search",element:l.jsx(po,{children:l.jsx(Ate,{})})}),l.jsx(Wn,{path:"/favoris",element:l.jsx(po,{children:l.jsx(Lte,{})})}),l.jsx(Wn,{path:"/import",element:l.jsx(po,{children:l.jsx(Mte,{})})}),l.jsx(Wn,{path:"/settings",element:l.jsx(po,{children:l.jsx(Cre,{})})}),l.jsx(Wn,{path:"/debug",element:l.jsx(po,{children:l.jsx(kre,{})})}),l.jsx(Wn,{path:"/admin",element:l.jsx(po,{children:l.jsx(Kre,{})})}),l.jsx(Wn,{path:"*",element:l.jsx(Gre,{})})]})]})})]})})})})})}),yc={cache:{enabled:wn.ENABLE_CACHE,ttlMs:wn.CACHE_TTL_MS,maxSize:wn.MAX_CACHE_SIZE,autoTuning:wn.ENABLE_AUTO_TUNING},throttling:{enabled:wn.ENABLE_SMART_THROTTLING,requestsPerSecond:wn.THROTTLE_REQUESTS_PER_SECOND,burstAllowance:10,adaptiveThrottling:!0},debouncing:{enabled:!0,baseDelayMs:wn.DEBOUNCE_DELAY_MS,maxDelayMs:1e3,adaptiveDelay:!0},batching:{enabled:wn.ENABLE_BATCHING,delayMs:wn.BATCH_DELAY_MS,maxBatchSize:wn.MAX_BATCH_SIZE},monitoring:{enabled:wn.ENABLE_PERFORMANCE_MONITORING,alertThresholds:{errorRatePercent:5,responseTimeMs:2e3,cacheHitRatePercent:70,requestRatePerMinute:100},metricsRetentionHours:24},suggestions:{enabled:wn.ENABLE_SMART_SUGGESTIONS,maxSuggestions:8,prefixCacheEnabled:!0,preloadingEnabled:!0}};({...yc,cache:{...yc.cache,ttlMs:2*60*1e3},throttling:{...yc.throttling},monitoring:{...yc.monitoring}});const Zre=()=>yc,eie=e=>{const t=[];return e.cache.ttlMs<=0&&t.push("Cache TTL doit être positif"),e.cache.maxSize<=0&&t.push("Taille maximale du cache doit être positive"),e.throttling.requestsPerSecond<=0&&t.push("Taux de throttling doit être positif"),e.debouncing.baseDelayMs<0&&t.push("Délai de debouncing doit être non-négatif"),e.batching.maxBatchSize<=0&&t.push("Taille maximale de batch doit être positive"),e.suggestions.maxSuggestions<=0&&t.push("Nombre maximum de suggestions doit être positif"),(e.monitoring.alertThresholds.errorRatePercent<0||e.monitoring.alertThresholds.errorRatePercent>100)&&t.push("Seuil d'erreur doit être entre 0 et 100%"),t},tie=()=>{var i;const e=Zre(),t=typeof navigator<"u"?navigator.userAgent:"",n=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t),r=typeof navigator<"u"&&"connection"in navigator&&((i=navigator.connection)==null?void 0:i.effectiveType)==="slow-2g";return n||r?{...e,cache:{...e.cache,ttlMs:e.cache.ttlMs*1.5,maxSize:Math.floor(e.cache.maxSize*.7)},debouncing:{...e.debouncing,baseDelayMs:Math.floor(e.debouncing.baseDelayMs*1.5)},batching:{...e.batching,delayMs:e.batching.delayMs*2,maxBatchSize:Math.floor(e.batching.maxBatchSize*1.5)}}:e},_i=tie(),nie=eie(_i);nie.length>0;class rie{constructor(){pe(this,"initialized",!1);pe(this,"initPromise",null);pe(this,"lastAlertAt",{});pe(this,"metricsTimer",null)}async initialize(){if(!this.initialized)return this.initPromise?this.initPromise:(this.initPromise=this.performInitialization(),this.initPromise)}async performInitialization(){console.log("🚀 Initialisation du système Algolia optimisé...");try{_i.monitoring.enabled&&this.initializeMonitoring(),_i.cache.enabled&&this.initializeCache(),_i.cache.autoTuning&&this.startAutoTuning(),_i.suggestions.preloadingEnabled&&await this.preloadCommonData(),this.setupAlerts(),this.recordSuccessfulInit(),this.initialized=!0,console.log("✅ Système Algolia optimisé initialisé avec succès"),wn.DEBUG_PERFORMANCE}catch(t){console.error("❌ Erreur lors de l'initialisation Algolia:",t),this.initialized=!0}}initializeMonitoring(){Fn.onAlert(t=>{console.warn(`🚨 Alerte Algolia [${t.severity}]:`,t.message),this.sendToMonitoringService(t)})}initializeCache(){Ht.autoTune()}startAutoTuning(){setInterval(()=>{try{const t=Fn.autoTune();Ht.autoTune(),wn.DEBUG_PERFORMANCE}catch(t){console.warn("⚠️ Erreur auto-tuning:",t)}},5*60*1e3)}async preloadCommonData(){var t;try{const n=["électricité","transport","chauffage","gaz","fioul","bois","eau","déchets"];Ri.updateContext({origin:"all",assignedSources:[],recentSearches:n.slice(0,3)});try{await Ri.preloadPopularPrefixes(n),wn.DEBUG_PERFORMANCE}catch(r){if((t=r==null?void 0:r.message)!=null&&t.includes("blocked")||(r==null?void 0:r.status)===403)console.log("ℹ️ Algolia temporairement indisponible (plan payant requis), préchargement ignoré");else throw r}}catch(n){console.warn("⚠️ Erreur préchargement:",n)}}setupAlerts(){setInterval(()=>{const t=typeof window<"u"?window.__algoliaBlockedUntil:0;if(t&&Date.now()<t)return;const n=Fn.getMetrics();Ht.getCacheStats(),n.cacheHitRate<_i.monitoring.alertThresholds.cacheHitRatePercent&&this.shouldLogAlert("cacheHitRate")&&console.warn(`⚠️ Cache hit rate faible: ${n.cacheHitRate.toFixed(1)}%`),n.averageResponseTime>_i.monitoring.alertThresholds.responseTimeMs&&this.shouldLogAlert("responseTime")&&console.warn(`⚠️ Temps de réponse élevé: ${n.averageResponseTime.toFixed(0)}ms`);const r=n.failedRequests/Math.max(n.totalRequests,1)*100;r>_i.monitoring.alertThresholds.errorRatePercent&&this.shouldLogAlert("errorRate")&&console.warn(`⚠️ Taux d'erreur élevé: ${r.toFixed(1)}%`),n.cacheHitRate<30&&Ht.autoTune()},2*60*1e3)}shouldLogAlert(t,n=6e4){const r=Date.now();return this.lastAlertAt[t],this.lastAlertAt[t]=r,!0}recordSuccessfulInit(){Fn.recordRequest(0,!0,"system","algolia_optimization_init")}sendToMonitoringService(t){typeof window<"u"&&"fetch"in window&&fetch("/api/monitoring/algolia-alert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alert:t,timestamp:Date.now(),userAgent:navigator.userAgent,url:window.location.href})}).catch(n=>{console.warn("Erreur envoi monitoring:",n)})}getStatus(){return{initialized:this.initialized,config:_i,metrics:this.initialized?Fn.getMetrics():null,cacheStats:this.initialized?Ht.getCacheStats():null}}async restart(){console.log("🔄 Redémarrage du système Algolia optimisé..."),this.initialized=!1,this.initPromise=null,Fn.reset(),Ht.clear(),Ri.clear(),await this.initialize()}forceOptimization(){if(!this.initialized)return;console.log("🚀 Optimisation forcée du système Algolia...");const t=Fn.autoTune();Ht.autoTune(),console.log("✅ Optimisation appliquée:",t)}}const tE=new rie;typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{tE.initialize()}):tE.initialize());try{window.trustedTypes&&!window.trustedTypes.getPolicy("default")&&window.trustedTypes.createPolicy("default",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}jk(document.getElementById("root")).render(l.jsx(Xre,{}));
