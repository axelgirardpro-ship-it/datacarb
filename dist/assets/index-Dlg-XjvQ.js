var CI=Object.defineProperty;var e0=e=>{throw TypeError(e)};var kI=(e,t,n)=>t in e?CI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var be=(e,t,n)=>kI(e,typeof t!="symbol"?t+"":t,n),Jp=(e,t,n)=>t.has(e)||e0("Cannot "+n);var W=(e,t,n)=>(Jp(e,t,"read from private field"),n?n.call(e):t.get(e)),He=(e,t,n)=>t.has(e)?e0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ne=(e,t,n,r)=>(Jp(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Zt=(e,t,n)=>(Jp(e,t,"access private method"),n);var _d=(e,t,n,r)=>({set _(i){Ne(e,t,i,n)},get _(){return W(e,t,r)}});function PI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ia(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function RI(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var G_={exports:{}},Th={},Y_={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wu=Symbol.for("react.element"),NI=Symbol.for("react.portal"),TI=Symbol.for("react.fragment"),AI=Symbol.for("react.strict_mode"),OI=Symbol.for("react.profiler"),II=Symbol.for("react.provider"),DI=Symbol.for("react.context"),FI=Symbol.for("react.forward_ref"),LI=Symbol.for("react.suspense"),MI=Symbol.for("react.memo"),$I=Symbol.for("react.lazy"),t0=Symbol.iterator;function UI(e){return e===null||typeof e!="object"?null:(e=t0&&e[t0]||e["@@iterator"],typeof e=="function"?e:null)}var X_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J_=Object.assign,Z_={};function xl(e,t,n){this.props=e,this.context=t,this.refs=Z_,this.updater=n||X_}xl.prototype.isReactComponent={};xl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function eE(){}eE.prototype=xl.prototype;function Uy(e,t,n){this.props=e,this.context=t,this.refs=Z_,this.updater=n||X_}var zy=Uy.prototype=new eE;zy.constructor=Uy;J_(zy,xl.prototype);zy.isPureReactComponent=!0;var n0=Array.isArray,tE=Object.prototype.hasOwnProperty,By={current:null},nE={key:!0,ref:!0,__self:!0,__source:!0};function rE(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)tE.call(t,r)&&!nE.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Wu,type:e,key:s,ref:a,props:i,_owner:By.current}}function zI(e,t){return{$$typeof:Wu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wu}function BI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var r0=/\/+/g;function Zp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?BI(""+e.key):t.toString(36)}function ff(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Wu:case NI:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Zp(a,0):r,n0(i)?(n="",e!=null&&(n=e.replace(r0,"$&/")+"/"),ff(i,t,n,"",function(u){return u})):i!=null&&(Hy(i)&&(i=zI(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(r0,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",n0(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+Zp(s,l);a+=ff(s,t,n,c,i)}else if(c=UI(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+Zp(s,l++),a+=ff(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ed(e,t,n){if(e==null)return e;var r=[],i=0;return ff(e,r,"","",function(s){return t.call(n,s,i++)}),r}function HI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pn={current:null},hf={transition:null},qI={ReactCurrentDispatcher:Pn,ReactCurrentBatchConfig:hf,ReactCurrentOwner:By};function iE(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Ed,forEach:function(e,t,n){Ed(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ed(e,function(){t++}),t},toArray:function(e){return Ed(e,function(t){return t})||[]},only:function(e){if(!Hy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ie.Component=xl;Ie.Fragment=TI;Ie.Profiler=OI;Ie.PureComponent=Uy;Ie.StrictMode=AI;Ie.Suspense=LI;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qI;Ie.act=iE;Ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=J_({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=By.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)tE.call(t,c)&&!nE.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Wu,type:e.type,key:i,ref:s,props:r,_owner:a}};Ie.createContext=function(e){return e={$$typeof:DI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:II,_context:e},e.Consumer=e};Ie.createElement=rE;Ie.createFactory=function(e){var t=rE.bind(null,e);return t.type=e,t};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(e){return{$$typeof:FI,render:e}};Ie.isValidElement=Hy;Ie.lazy=function(e){return{$$typeof:$I,_payload:{_status:-1,_result:e},_init:HI}};Ie.memo=function(e,t){return{$$typeof:MI,type:e,compare:t===void 0?null:t}};Ie.startTransition=function(e){var t=hf.transition;hf.transition={};try{e()}finally{hf.transition=t}};Ie.unstable_act=iE;Ie.useCallback=function(e,t){return Pn.current.useCallback(e,t)};Ie.useContext=function(e){return Pn.current.useContext(e)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(e){return Pn.current.useDeferredValue(e)};Ie.useEffect=function(e,t){return Pn.current.useEffect(e,t)};Ie.useId=function(){return Pn.current.useId()};Ie.useImperativeHandle=function(e,t,n){return Pn.current.useImperativeHandle(e,t,n)};Ie.useInsertionEffect=function(e,t){return Pn.current.useInsertionEffect(e,t)};Ie.useLayoutEffect=function(e,t){return Pn.current.useLayoutEffect(e,t)};Ie.useMemo=function(e,t){return Pn.current.useMemo(e,t)};Ie.useReducer=function(e,t,n){return Pn.current.useReducer(e,t,n)};Ie.useRef=function(e){return Pn.current.useRef(e)};Ie.useState=function(e){return Pn.current.useState(e)};Ie.useSyncExternalStore=function(e,t,n){return Pn.current.useSyncExternalStore(e,t,n)};Ie.useTransition=function(){return Pn.current.useTransition()};Ie.version="18.3.1";Y_.exports=Ie;var y=Y_.exports;const q=Ia(y),qy=PI({__proto__:null,default:q},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WI=y,VI=Symbol.for("react.element"),QI=Symbol.for("react.fragment"),KI=Object.prototype.hasOwnProperty,GI=WI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YI={key:!0,ref:!0,__self:!0,__source:!0};function sE(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)KI.call(t,r)&&!YI.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:VI,type:e,key:s,ref:a,props:i,_owner:GI.current}}Th.Fragment=QI;Th.jsx=sE;Th.jsxs=sE;G_.exports=Th;var o=G_.exports,aE={exports:{}},or={},oE={exports:{}},lE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,O){var C=E.length;E.push(O);e:for(;0<C;){var D=C-1>>>1,B=E[D];if(0<i(B,O))E[D]=O,E[C]=B,C=D;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var O=E[0],C=E.pop();if(C!==O){E[0]=C;e:for(var D=0,B=E.length,N=B>>>1;D<N;){var ne=2*(D+1)-1,ae=E[ne],Y=ne+1,X=E[Y];if(0>i(ae,C))Y<B&&0>i(X,ae)?(E[D]=X,E[Y]=C,D=Y):(E[D]=ae,E[ne]=C,D=ne);else if(Y<B&&0>i(X,C))E[D]=X,E[Y]=C,D=Y;else break e}}return O}function i(E,O){var C=E.sortIndex-O.sortIndex;return C!==0?C:E.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],f=1,d=null,h=3,p=!1,g=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(E){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=E)r(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=n(u)}}function S(E){if(m=!1,w(E),!g)if(n(c)!==null)g=!0,A(_);else{var O=n(u);O!==null&&M(S,O.startTime-E)}}function _(E,O){g=!1,m&&(m=!1,v(R),R=-1),p=!0;var C=h;try{for(w(O),d=n(c);d!==null&&(!(d.expirationTime>O)||E&&!F());){var D=d.callback;if(typeof D=="function"){d.callback=null,h=d.priorityLevel;var B=D(d.expirationTime<=O);O=e.unstable_now(),typeof B=="function"?d.callback=B:d===n(c)&&r(c),w(O)}else r(c);d=n(c)}if(d!==null)var N=!0;else{var ne=n(u);ne!==null&&M(S,ne.startTime-O),N=!1}return N}finally{d=null,h=C,p=!1}}var j=!1,P=null,R=-1,$=5,k=-1;function F(){return!(e.unstable_now()-k<$)}function I(){if(P!==null){var E=e.unstable_now();k=E;var O=!0;try{O=P(!0,E)}finally{O?U():(j=!1,P=null)}}else j=!1}var U;if(typeof x=="function")U=function(){x(I)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,z=T.port2;T.port1.onmessage=I,U=function(){z.postMessage(null)}}else U=function(){b(I,0)};function A(E){P=E,j||(j=!0,U())}function M(E,O){R=b(function(){E(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,A(_))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var C=h;h=O;try{return E()}finally{h=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,O){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var C=h;h=E;try{return O()}finally{h=C}},e.unstable_scheduleCallback=function(E,O,C){var D=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?D+C:D):C=D,E){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=C+B,E={id:f++,callback:O,priorityLevel:E,startTime:C,expirationTime:B,sortIndex:-1},C>D?(E.sortIndex=C,t(u,E),n(c)===null&&E===n(u)&&(m?(v(R),R=-1):m=!0,M(S,C-D))):(E.sortIndex=B,t(c,E),g||p||(g=!0,A(_))),E},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(E){var O=h;return function(){var C=h;h=O;try{return E.apply(this,arguments)}finally{h=C}}}})(lE);oE.exports=lE;var XI=oE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JI=y,ar=XI;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cE=new Set,Fc={};function Da(e,t){tl(e,t),tl(e+"Capture",t)}function tl(e,t){for(Fc[e]=t,e=0;e<t.length;e++)cE.add(t[e])}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ag=Object.prototype.hasOwnProperty,ZI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i0={},s0={};function eD(e){return Ag.call(s0,e)?!0:Ag.call(i0,e)?!1:ZI.test(e)?s0[e]=!0:(i0[e]=!0,!1)}function tD(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nD(e,t,n,r){if(t===null||typeof t>"u"||tD(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rn(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yt[e]=new Rn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yt[t]=new Rn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yt[e]=new Rn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yt[e]=new Rn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yt[e]=new Rn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yt[e]=new Rn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yt[e]=new Rn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yt[e]=new Rn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yt[e]=new Rn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wy=/[\-:]([a-z])/g;function Vy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wy,Vy);Yt[t]=new Rn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wy,Vy);Yt[t]=new Rn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wy,Vy);Yt[t]=new Rn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yt[e]=new Rn(e,1,!1,e.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yt[e]=new Rn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qy(e,t,n,r){var i=Yt.hasOwnProperty(t)?Yt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nD(t,n,i,r)&&(n=null),r||i===null?eD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bi=JI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cd=Symbol.for("react.element"),yo=Symbol.for("react.portal"),xo=Symbol.for("react.fragment"),Ky=Symbol.for("react.strict_mode"),Og=Symbol.for("react.profiler"),uE=Symbol.for("react.provider"),dE=Symbol.for("react.context"),Gy=Symbol.for("react.forward_ref"),Ig=Symbol.for("react.suspense"),Dg=Symbol.for("react.suspense_list"),Yy=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),fE=Symbol.for("react.offscreen"),a0=Symbol.iterator;function zl(e){return e===null||typeof e!="object"?null:(e=a0&&e[a0]||e["@@iterator"],typeof e=="function"?e:null)}var ht=Object.assign,em;function oc(e){if(em===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);em=t&&t[1]||""}return`
`+em+e}var tm=!1;function nm(e,t){if(!e||tm)return"";tm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{tm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?oc(e):""}function rD(e){switch(e.tag){case 5:return oc(e.type);case 16:return oc("Lazy");case 13:return oc("Suspense");case 19:return oc("SuspenseList");case 0:case 2:case 15:return e=nm(e.type,!1),e;case 11:return e=nm(e.type.render,!1),e;case 1:return e=nm(e.type,!0),e;default:return""}}function Fg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xo:return"Fragment";case yo:return"Portal";case Og:return"Profiler";case Ky:return"StrictMode";case Ig:return"Suspense";case Dg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dE:return(e.displayName||"Context")+".Consumer";case uE:return(e._context.displayName||"Context")+".Provider";case Gy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yy:return t=e.displayName||null,t!==null?t:Fg(e.type)||"Memo";case ss:t=e._payload,e=e._init;try{return Fg(e(t))}catch{}}return null}function iD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fg(t);case 8:return t===Ky?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ns(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sD(e){var t=hE(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kd(e){e._valueTracker||(e._valueTracker=sD(e))}function pE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hE(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Df(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lg(e,t){var n=t.checked;return ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function o0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ns(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mE(e,t){t=t.checked,t!=null&&Qy(e,"checked",t,!1)}function Mg(e,t){mE(e,t);var n=Ns(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$g(e,t.type,n):t.hasOwnProperty("defaultValue")&&$g(e,t.type,Ns(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function l0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $g(e,t,n){(t!=="number"||Df(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var lc=Array.isArray;function Ao(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ns(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ug(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return ht({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function c0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(lc(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ns(n)}}function gE(e,t){var n=Ns(t.value),r=Ns(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function u0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pd,yE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pd=Pd||document.createElement("div"),Pd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aD=["Webkit","ms","Moz","O"];Object.keys(yc).forEach(function(e){aD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yc[t]=yc[e]})});function xE(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yc.hasOwnProperty(e)&&yc[e]?(""+t).trim():t+"px"}function bE(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=xE(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var oD=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bg(e,t){if(t){if(oD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function Hg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qg=null;function Xy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wg=null,Oo=null,Io=null;function d0(e){if(e=Ku(e)){if(typeof Wg!="function")throw Error(K(280));var t=e.stateNode;t&&(t=Fh(t),Wg(e.stateNode,e.type,t))}}function wE(e){Oo?Io?Io.push(e):Io=[e]:Oo=e}function SE(){if(Oo){var e=Oo,t=Io;if(Io=Oo=null,d0(e),t)for(e=0;e<t.length;e++)d0(t[e])}}function jE(e,t){return e(t)}function _E(){}var rm=!1;function EE(e,t,n){if(rm)return e(t,n);rm=!0;try{return jE(e,t,n)}finally{rm=!1,(Oo!==null||Io!==null)&&(_E(),SE())}}function Mc(e,t){var n=e.stateNode;if(n===null)return null;var r=Fh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var Vg=!1;if(Ai)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){Vg=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{Vg=!1}function lD(e,t,n,r,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var xc=!1,Ff=null,Lf=!1,Qg=null,cD={onError:function(e){xc=!0,Ff=e}};function uD(e,t,n,r,i,s,a,l,c){xc=!1,Ff=null,lD.apply(cD,arguments)}function dD(e,t,n,r,i,s,a,l,c){if(uD.apply(this,arguments),xc){if(xc){var u=Ff;xc=!1,Ff=null}else throw Error(K(198));Lf||(Lf=!0,Qg=u)}}function Fa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function CE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function f0(e){if(Fa(e)!==e)throw Error(K(188))}function fD(e){var t=e.alternate;if(!t){if(t=Fa(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return f0(i),e;if(s===r)return f0(i),t;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function kE(e){return e=fD(e),e!==null?PE(e):null}function PE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=PE(e);if(t!==null)return t;e=e.sibling}return null}var RE=ar.unstable_scheduleCallback,h0=ar.unstable_cancelCallback,hD=ar.unstable_shouldYield,pD=ar.unstable_requestPaint,St=ar.unstable_now,mD=ar.unstable_getCurrentPriorityLevel,Jy=ar.unstable_ImmediatePriority,NE=ar.unstable_UserBlockingPriority,Mf=ar.unstable_NormalPriority,gD=ar.unstable_LowPriority,TE=ar.unstable_IdlePriority,Ah=null,li=null;function vD(e){if(li&&typeof li.onCommitFiberRoot=="function")try{li.onCommitFiberRoot(Ah,e,void 0,(e.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:bD,yD=Math.log,xD=Math.LN2;function bD(e){return e>>>=0,e===0?32:31-(yD(e)/xD|0)|0}var Rd=64,Nd=4194304;function cc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $f(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=cc(l):(s&=a,s!==0&&(r=cc(s)))}else a=n&~i,a!==0?r=cc(a):s!==0&&(r=cc(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Lr(t),i=1<<n,r|=e[n],t&=~i;return r}function wD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SD(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Lr(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=wD(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Kg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function AE(){var e=Rd;return Rd<<=1,!(Rd&4194240)&&(Rd=64),e}function im(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lr(t),e[t]=n}function jD(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Lr(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Zy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Lr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var qe=0;function OE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var IE,ex,DE,FE,LE,Gg=!1,Td=[],xs=null,bs=null,ws=null,$c=new Map,Uc=new Map,os=[],_D="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function p0(e,t){switch(e){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":$c.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uc.delete(t.pointerId)}}function Hl(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ku(t),t!==null&&ex(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ED(e,t,n,r,i){switch(t){case"focusin":return xs=Hl(xs,e,t,n,r,i),!0;case"dragenter":return bs=Hl(bs,e,t,n,r,i),!0;case"mouseover":return ws=Hl(ws,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return $c.set(s,Hl($c.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Uc.set(s,Hl(Uc.get(s)||null,e,t,n,r,i)),!0}return!1}function ME(e){var t=ua(e.target);if(t!==null){var n=Fa(t);if(n!==null){if(t=n.tag,t===13){if(t=CE(n),t!==null){e.blockedOn=t,LE(e.priority,function(){DE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qg=r,n.target.dispatchEvent(r),qg=null}else return t=Ku(n),t!==null&&ex(t),e.blockedOn=n,!1;t.shift()}return!0}function m0(e,t,n){pf(e)&&n.delete(t)}function CD(){Gg=!1,xs!==null&&pf(xs)&&(xs=null),bs!==null&&pf(bs)&&(bs=null),ws!==null&&pf(ws)&&(ws=null),$c.forEach(m0),Uc.forEach(m0)}function ql(e,t){e.blockedOn===t&&(e.blockedOn=null,Gg||(Gg=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,CD)))}function zc(e){function t(i){return ql(i,e)}if(0<Td.length){ql(Td[0],e);for(var n=1;n<Td.length;n++){var r=Td[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xs!==null&&ql(xs,e),bs!==null&&ql(bs,e),ws!==null&&ql(ws,e),$c.forEach(t),Uc.forEach(t),n=0;n<os.length;n++)r=os[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<os.length&&(n=os[0],n.blockedOn===null);)ME(n),n.blockedOn===null&&os.shift()}var Do=Bi.ReactCurrentBatchConfig,Uf=!0;function kD(e,t,n,r){var i=qe,s=Do.transition;Do.transition=null;try{qe=1,tx(e,t,n,r)}finally{qe=i,Do.transition=s}}function PD(e,t,n,r){var i=qe,s=Do.transition;Do.transition=null;try{qe=4,tx(e,t,n,r)}finally{qe=i,Do.transition=s}}function tx(e,t,n,r){if(Uf){var i=Yg(e,t,n,r);if(i===null)pm(e,t,r,zf,n),p0(e,r);else if(ED(i,e,t,n,r))r.stopPropagation();else if(p0(e,r),t&4&&-1<_D.indexOf(e)){for(;i!==null;){var s=Ku(i);if(s!==null&&IE(s),s=Yg(e,t,n,r),s===null&&pm(e,t,r,zf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else pm(e,t,r,null,n)}}var zf=null;function Yg(e,t,n,r){if(zf=null,e=Xy(r),e=ua(e),e!==null)if(t=Fa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=CE(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zf=e,null}function $E(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mD()){case Jy:return 1;case NE:return 4;case Mf:case gD:return 16;case TE:return 536870912;default:return 16}default:return 16}}var gs=null,nx=null,mf=null;function UE(){if(mf)return mf;var e,t=nx,n=t.length,r,i="value"in gs?gs.value:gs.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return mf=i.slice(e,1<r?1-r:void 0)}function gf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ad(){return!0}function g0(){return!1}function lr(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ad:g0,this.isPropagationStopped=g0,this}return ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ad)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ad)},persist:function(){},isPersistent:Ad}),t}var bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rx=lr(bl),Qu=ht({},bl,{view:0,detail:0}),RD=lr(Qu),sm,am,Wl,Oh=ht({},Qu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ix,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wl&&(Wl&&e.type==="mousemove"?(sm=e.screenX-Wl.screenX,am=e.screenY-Wl.screenY):am=sm=0,Wl=e),sm)},movementY:function(e){return"movementY"in e?e.movementY:am}}),v0=lr(Oh),ND=ht({},Oh,{dataTransfer:0}),TD=lr(ND),AD=ht({},Qu,{relatedTarget:0}),om=lr(AD),OD=ht({},bl,{animationName:0,elapsedTime:0,pseudoElement:0}),ID=lr(OD),DD=ht({},bl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FD=lr(DD),LD=ht({},bl,{data:0}),y0=lr(LD),MD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$D={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=UD[e])?!!t[e]:!1}function ix(){return zD}var BD=ht({},Qu,{key:function(e){if(e.key){var t=MD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$D[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ix,charCode:function(e){return e.type==="keypress"?gf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HD=lr(BD),qD=ht({},Oh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x0=lr(qD),WD=ht({},Qu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ix}),VD=lr(WD),QD=ht({},bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),KD=lr(QD),GD=ht({},Oh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),YD=lr(GD),XD=[9,13,27,32],sx=Ai&&"CompositionEvent"in window,bc=null;Ai&&"documentMode"in document&&(bc=document.documentMode);var JD=Ai&&"TextEvent"in window&&!bc,zE=Ai&&(!sx||bc&&8<bc&&11>=bc),b0=" ",w0=!1;function BE(e,t){switch(e){case"keyup":return XD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bo=!1;function ZD(e,t){switch(e){case"compositionend":return HE(t);case"keypress":return t.which!==32?null:(w0=!0,b0);case"textInput":return e=t.data,e===b0&&w0?null:e;default:return null}}function eF(e,t){if(bo)return e==="compositionend"||!sx&&BE(e,t)?(e=UE(),mf=nx=gs=null,bo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zE&&t.locale!=="ko"?null:t.data;default:return null}}var tF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tF[e.type]:t==="textarea"}function qE(e,t,n,r){wE(r),t=Bf(t,"onChange"),0<t.length&&(n=new rx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wc=null,Bc=null;function nF(e){tC(e,0)}function Ih(e){var t=jo(e);if(pE(t))return e}function rF(e,t){if(e==="change")return t}var WE=!1;if(Ai){var lm;if(Ai){var cm="oninput"in document;if(!cm){var j0=document.createElement("div");j0.setAttribute("oninput","return;"),cm=typeof j0.oninput=="function"}lm=cm}else lm=!1;WE=lm&&(!document.documentMode||9<document.documentMode)}function _0(){wc&&(wc.detachEvent("onpropertychange",VE),Bc=wc=null)}function VE(e){if(e.propertyName==="value"&&Ih(Bc)){var t=[];qE(t,Bc,e,Xy(e)),EE(nF,t)}}function iF(e,t,n){e==="focusin"?(_0(),wc=t,Bc=n,wc.attachEvent("onpropertychange",VE)):e==="focusout"&&_0()}function sF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ih(Bc)}function aF(e,t){if(e==="click")return Ih(t)}function oF(e,t){if(e==="input"||e==="change")return Ih(t)}function lF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Br=typeof Object.is=="function"?Object.is:lF;function Hc(e,t){if(Br(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ag.call(t,i)||!Br(e[i],t[i]))return!1}return!0}function E0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function C0(e,t){var n=E0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=E0(n)}}function QE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?QE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function KE(){for(var e=window,t=Df();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Df(e.document)}return t}function ax(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cF(e){var t=KE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&QE(n.ownerDocument.documentElement,n)){if(r!==null&&ax(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=C0(n,s);var a=C0(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uF=Ai&&"documentMode"in document&&11>=document.documentMode,wo=null,Xg=null,Sc=null,Jg=!1;function k0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jg||wo==null||wo!==Df(r)||(r=wo,"selectionStart"in r&&ax(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sc&&Hc(Sc,r)||(Sc=r,r=Bf(Xg,"onSelect"),0<r.length&&(t=new rx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wo)))}function Od(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var So={animationend:Od("Animation","AnimationEnd"),animationiteration:Od("Animation","AnimationIteration"),animationstart:Od("Animation","AnimationStart"),transitionend:Od("Transition","TransitionEnd")},um={},GE={};Ai&&(GE=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Dh(e){if(um[e])return um[e];if(!So[e])return e;var t=So[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in GE)return um[e]=t[n];return e}var YE=Dh("animationend"),XE=Dh("animationiteration"),JE=Dh("animationstart"),ZE=Dh("transitionend"),eC=new Map,P0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(e,t){eC.set(e,t),Da(t,[e])}for(var dm=0;dm<P0.length;dm++){var fm=P0[dm],dF=fm.toLowerCase(),fF=fm[0].toUpperCase()+fm.slice(1);Ms(dF,"on"+fF)}Ms(YE,"onAnimationEnd");Ms(XE,"onAnimationIteration");Ms(JE,"onAnimationStart");Ms("dblclick","onDoubleClick");Ms("focusin","onFocus");Ms("focusout","onBlur");Ms(ZE,"onTransitionEnd");tl("onMouseEnter",["mouseout","mouseover"]);tl("onMouseLeave",["mouseout","mouseover"]);tl("onPointerEnter",["pointerout","pointerover"]);tl("onPointerLeave",["pointerout","pointerover"]);Da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Da("onBeforeInput",["compositionend","keypress","textInput","paste"]);Da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hF=new Set("cancel close invalid load scroll toggle".split(" ").concat(uc));function R0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,dD(r,t,void 0,e),e.currentTarget=null}function tC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;R0(i,l,u),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;R0(i,l,u),s=c}}}if(Lf)throw e=Qg,Lf=!1,Qg=null,e}function rt(e,t){var n=t[rv];n===void 0&&(n=t[rv]=new Set);var r=e+"__bubble";n.has(r)||(nC(t,e,2,!1),n.add(r))}function hm(e,t,n){var r=0;t&&(r|=4),nC(n,e,r,t)}var Id="_reactListening"+Math.random().toString(36).slice(2);function qc(e){if(!e[Id]){e[Id]=!0,cE.forEach(function(n){n!=="selectionchange"&&(hF.has(n)||hm(n,!1,e),hm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Id]||(t[Id]=!0,hm("selectionchange",!1,t))}}function nC(e,t,n,r){switch($E(t)){case 1:var i=kD;break;case 4:i=PD;break;default:i=tx}n=i.bind(null,t,n,e),i=void 0,!Vg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function pm(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=ua(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}EE(function(){var u=s,f=Xy(n),d=[];e:{var h=eC.get(e);if(h!==void 0){var p=rx,g=e;switch(e){case"keypress":if(gf(n)===0)break e;case"keydown":case"keyup":p=HD;break;case"focusin":g="focus",p=om;break;case"focusout":g="blur",p=om;break;case"beforeblur":case"afterblur":p=om;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=v0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=TD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=VD;break;case YE:case XE:case JE:p=ID;break;case ZE:p=KD;break;case"scroll":p=RD;break;case"wheel":p=YD;break;case"copy":case"cut":case"paste":p=FD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=x0}var m=(t&4)!==0,b=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var x=u,w;x!==null;){w=x;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=Mc(x,v),S!=null&&m.push(Wc(x,S,w)))),b)break;x=x.return}0<m.length&&(h=new p(h,g,null,n,f),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==qg&&(g=n.relatedTarget||n.fromElement)&&(ua(g)||g[Oi]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?ua(g):null,g!==null&&(b=Fa(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=v0,S="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=x0,S="onPointerLeave",v="onPointerEnter",x="pointer"),b=p==null?h:jo(p),w=g==null?h:jo(g),h=new m(S,x+"leave",p,n,f),h.target=b,h.relatedTarget=w,S=null,ua(f)===u&&(m=new m(v,x+"enter",g,n,f),m.target=w,m.relatedTarget=b,S=m),b=S,p&&g)t:{for(m=p,v=g,x=0,w=m;w;w=Ja(w))x++;for(w=0,S=v;S;S=Ja(S))w++;for(;0<x-w;)m=Ja(m),x--;for(;0<w-x;)v=Ja(v),w--;for(;x--;){if(m===v||v!==null&&m===v.alternate)break t;m=Ja(m),v=Ja(v)}m=null}else m=null;p!==null&&N0(d,h,p,m,!1),g!==null&&b!==null&&N0(d,b,g,m,!0)}}e:{if(h=u?jo(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=rF;else if(S0(h))if(WE)_=oF;else{_=sF;var j=iF}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=aF);if(_&&(_=_(e,u))){qE(d,_,n,f);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&$g(h,"number",h.value)}switch(j=u?jo(u):window,e){case"focusin":(S0(j)||j.contentEditable==="true")&&(wo=j,Xg=u,Sc=null);break;case"focusout":Sc=Xg=wo=null;break;case"mousedown":Jg=!0;break;case"contextmenu":case"mouseup":case"dragend":Jg=!1,k0(d,n,f);break;case"selectionchange":if(uF)break;case"keydown":case"keyup":k0(d,n,f)}var P;if(sx)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else bo?BE(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(zE&&n.locale!=="ko"&&(bo||R!=="onCompositionStart"?R==="onCompositionEnd"&&bo&&(P=UE()):(gs=f,nx="value"in gs?gs.value:gs.textContent,bo=!0)),j=Bf(u,R),0<j.length&&(R=new y0(R,e,null,n,f),d.push({event:R,listeners:j}),P?R.data=P:(P=HE(n),P!==null&&(R.data=P)))),(P=JD?ZD(e,n):eF(e,n))&&(u=Bf(u,"onBeforeInput"),0<u.length&&(f=new y0("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=P))}tC(d,t)})}function Wc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Bf(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Mc(e,n),s!=null&&r.unshift(Wc(e,s,i)),s=Mc(e,t),s!=null&&r.push(Wc(e,s,i))),e=e.return}return r}function Ja(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function N0(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Mc(n,s),c!=null&&a.unshift(Wc(n,c,l))):i||(c=Mc(n,s),c!=null&&a.push(Wc(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var pF=/\r\n?/g,mF=/\u0000|\uFFFD/g;function T0(e){return(typeof e=="string"?e:""+e).replace(pF,`
`).replace(mF,"")}function Dd(e,t,n){if(t=T0(t),T0(e)!==t&&n)throw Error(K(425))}function Hf(){}var Zg=null,ev=null;function tv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nv=typeof setTimeout=="function"?setTimeout:void 0,gF=typeof clearTimeout=="function"?clearTimeout:void 0,A0=typeof Promise=="function"?Promise:void 0,vF=typeof queueMicrotask=="function"?queueMicrotask:typeof A0<"u"?function(e){return A0.resolve(null).then(e).catch(yF)}:nv;function yF(e){setTimeout(function(){throw e})}function mm(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),zc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zc(t)}function Ss(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function O0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wl=Math.random().toString(36).slice(2),ai="__reactFiber$"+wl,Vc="__reactProps$"+wl,Oi="__reactContainer$"+wl,rv="__reactEvents$"+wl,xF="__reactListeners$"+wl,bF="__reactHandles$"+wl;function ua(e){var t=e[ai];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oi]||n[ai]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=O0(e);e!==null;){if(n=e[ai])return n;e=O0(e)}return t}e=n,n=e.parentNode}return null}function Ku(e){return e=e[ai]||e[Oi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function jo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function Fh(e){return e[Vc]||null}var iv=[],_o=-1;function $s(e){return{current:e}}function st(e){0>_o||(e.current=iv[_o],iv[_o]=null,_o--)}function tt(e,t){_o++,iv[_o]=e.current,e.current=t}var Ts={},un=$s(Ts),zn=$s(!1),wa=Ts;function nl(e,t){var n=e.type.contextTypes;if(!n)return Ts;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Bn(e){return e=e.childContextTypes,e!=null}function qf(){st(zn),st(un)}function I0(e,t,n){if(un.current!==Ts)throw Error(K(168));tt(un,t),tt(zn,n)}function rC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(K(108,iD(e)||"Unknown",i));return ht({},n,r)}function Wf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ts,wa=un.current,tt(un,e),tt(zn,zn.current),!0}function D0(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=rC(e,t,wa),r.__reactInternalMemoizedMergedChildContext=e,st(zn),st(un),tt(un,e)):st(zn),tt(zn,n)}var ki=null,Lh=!1,gm=!1;function iC(e){ki===null?ki=[e]:ki.push(e)}function wF(e){Lh=!0,iC(e)}function Us(){if(!gm&&ki!==null){gm=!0;var e=0,t=qe;try{var n=ki;for(qe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ki=null,Lh=!1}catch(i){throw ki!==null&&(ki=ki.slice(e+1)),RE(Jy,Us),i}finally{qe=t,gm=!1}}return null}var Eo=[],Co=0,Vf=null,Qf=0,hr=[],pr=0,Sa=null,Ri=1,Ni="";function ta(e,t){Eo[Co++]=Qf,Eo[Co++]=Vf,Vf=e,Qf=t}function sC(e,t,n){hr[pr++]=Ri,hr[pr++]=Ni,hr[pr++]=Sa,Sa=e;var r=Ri;e=Ni;var i=32-Lr(r)-1;r&=~(1<<i),n+=1;var s=32-Lr(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ri=1<<32-Lr(t)+i|n<<i|r,Ni=s+e}else Ri=1<<s|n<<i|r,Ni=e}function ox(e){e.return!==null&&(ta(e,1),sC(e,1,0))}function lx(e){for(;e===Vf;)Vf=Eo[--Co],Eo[Co]=null,Qf=Eo[--Co],Eo[Co]=null;for(;e===Sa;)Sa=hr[--pr],hr[pr]=null,Ni=hr[--pr],hr[pr]=null,Ri=hr[--pr],hr[pr]=null}var er=null,Zn=null,lt=!1,Fr=null;function aC(e,t){var n=yr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function F0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,er=e,Zn=Ss(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,er=e,Zn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Sa!==null?{id:Ri,overflow:Ni}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,er=e,Zn=null,!0):!1;default:return!1}}function sv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function av(e){if(lt){var t=Zn;if(t){var n=t;if(!F0(e,t)){if(sv(e))throw Error(K(418));t=Ss(n.nextSibling);var r=er;t&&F0(e,t)?aC(r,n):(e.flags=e.flags&-4097|2,lt=!1,er=e)}}else{if(sv(e))throw Error(K(418));e.flags=e.flags&-4097|2,lt=!1,er=e}}}function L0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;er=e}function Fd(e){if(e!==er)return!1;if(!lt)return L0(e),lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tv(e.type,e.memoizedProps)),t&&(t=Zn)){if(sv(e))throw oC(),Error(K(418));for(;t;)aC(e,t),t=Ss(t.nextSibling)}if(L0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Zn=Ss(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Zn=null}}else Zn=er?Ss(e.stateNode.nextSibling):null;return!0}function oC(){for(var e=Zn;e;)e=Ss(e.nextSibling)}function rl(){Zn=er=null,lt=!1}function cx(e){Fr===null?Fr=[e]:Fr.push(e)}var SF=Bi.ReactCurrentBatchConfig;function Vl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function Ld(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function M0(e){var t=e._init;return t(e._payload)}function lC(e){function t(v,x){if(e){var w=v.deletions;w===null?(v.deletions=[x],v.flags|=16):w.push(x)}}function n(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=Cs(v,x),v.index=0,v.sibling=null,v}function s(v,x,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<x?(v.flags|=2,x):w):(v.flags|=2,x)):(v.flags|=1048576,x)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,x,w,S){return x===null||x.tag!==6?(x=jm(w,v.mode,S),x.return=v,x):(x=i(x,w),x.return=v,x)}function c(v,x,w,S){var _=w.type;return _===xo?f(v,x,w.props.children,S,w.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ss&&M0(_)===x.type)?(S=i(x,w.props),S.ref=Vl(v,x,w),S.return=v,S):(S=jf(w.type,w.key,w.props,null,v.mode,S),S.ref=Vl(v,x,w),S.return=v,S)}function u(v,x,w,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=_m(w,v.mode,S),x.return=v,x):(x=i(x,w.children||[]),x.return=v,x)}function f(v,x,w,S,_){return x===null||x.tag!==7?(x=xa(w,v.mode,S,_),x.return=v,x):(x=i(x,w),x.return=v,x)}function d(v,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=jm(""+x,v.mode,w),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Cd:return w=jf(x.type,x.key,x.props,null,v.mode,w),w.ref=Vl(v,null,x),w.return=v,w;case yo:return x=_m(x,v.mode,w),x.return=v,x;case ss:var S=x._init;return d(v,S(x._payload),w)}if(lc(x)||zl(x))return x=xa(x,v.mode,w,null),x.return=v,x;Ld(v,x)}return null}function h(v,x,w,S){var _=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:l(v,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Cd:return w.key===_?c(v,x,w,S):null;case yo:return w.key===_?u(v,x,w,S):null;case ss:return _=w._init,h(v,x,_(w._payload),S)}if(lc(w)||zl(w))return _!==null?null:f(v,x,w,S,null);Ld(v,w)}return null}function p(v,x,w,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,l(x,v,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Cd:return v=v.get(S.key===null?w:S.key)||null,c(x,v,S,_);case yo:return v=v.get(S.key===null?w:S.key)||null,u(x,v,S,_);case ss:var j=S._init;return p(v,x,w,j(S._payload),_)}if(lc(S)||zl(S))return v=v.get(w)||null,f(x,v,S,_,null);Ld(x,S)}return null}function g(v,x,w,S){for(var _=null,j=null,P=x,R=x=0,$=null;P!==null&&R<w.length;R++){P.index>R?($=P,P=null):$=P.sibling;var k=h(v,P,w[R],S);if(k===null){P===null&&(P=$);break}e&&P&&k.alternate===null&&t(v,P),x=s(k,x,R),j===null?_=k:j.sibling=k,j=k,P=$}if(R===w.length)return n(v,P),lt&&ta(v,R),_;if(P===null){for(;R<w.length;R++)P=d(v,w[R],S),P!==null&&(x=s(P,x,R),j===null?_=P:j.sibling=P,j=P);return lt&&ta(v,R),_}for(P=r(v,P);R<w.length;R++)$=p(P,v,R,w[R],S),$!==null&&(e&&$.alternate!==null&&P.delete($.key===null?R:$.key),x=s($,x,R),j===null?_=$:j.sibling=$,j=$);return e&&P.forEach(function(F){return t(v,F)}),lt&&ta(v,R),_}function m(v,x,w,S){var _=zl(w);if(typeof _!="function")throw Error(K(150));if(w=_.call(w),w==null)throw Error(K(151));for(var j=_=null,P=x,R=x=0,$=null,k=w.next();P!==null&&!k.done;R++,k=w.next()){P.index>R?($=P,P=null):$=P.sibling;var F=h(v,P,k.value,S);if(F===null){P===null&&(P=$);break}e&&P&&F.alternate===null&&t(v,P),x=s(F,x,R),j===null?_=F:j.sibling=F,j=F,P=$}if(k.done)return n(v,P),lt&&ta(v,R),_;if(P===null){for(;!k.done;R++,k=w.next())k=d(v,k.value,S),k!==null&&(x=s(k,x,R),j===null?_=k:j.sibling=k,j=k);return lt&&ta(v,R),_}for(P=r(v,P);!k.done;R++,k=w.next())k=p(P,v,R,k.value,S),k!==null&&(e&&k.alternate!==null&&P.delete(k.key===null?R:k.key),x=s(k,x,R),j===null?_=k:j.sibling=k,j=k);return e&&P.forEach(function(I){return t(v,I)}),lt&&ta(v,R),_}function b(v,x,w,S){if(typeof w=="object"&&w!==null&&w.type===xo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Cd:e:{for(var _=w.key,j=x;j!==null;){if(j.key===_){if(_=w.type,_===xo){if(j.tag===7){n(v,j.sibling),x=i(j,w.props.children),x.return=v,v=x;break e}}else if(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ss&&M0(_)===j.type){n(v,j.sibling),x=i(j,w.props),x.ref=Vl(v,j,w),x.return=v,v=x;break e}n(v,j);break}else t(v,j);j=j.sibling}w.type===xo?(x=xa(w.props.children,v.mode,S,w.key),x.return=v,v=x):(S=jf(w.type,w.key,w.props,null,v.mode,S),S.ref=Vl(v,x,w),S.return=v,v=S)}return a(v);case yo:e:{for(j=w.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(v,x.sibling),x=i(x,w.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else t(v,x);x=x.sibling}x=_m(w,v.mode,S),x.return=v,v=x}return a(v);case ss:return j=w._init,b(v,x,j(w._payload),S)}if(lc(w))return g(v,x,w,S);if(zl(w))return m(v,x,w,S);Ld(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(v,x.sibling),x=i(x,w),x.return=v,v=x):(n(v,x),x=jm(w,v.mode,S),x.return=v,v=x),a(v)):n(v,x)}return b}var il=lC(!0),cC=lC(!1),Kf=$s(null),Gf=null,ko=null,ux=null;function dx(){ux=ko=Gf=null}function fx(e){var t=Kf.current;st(Kf),e._currentValue=t}function ov(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fo(e,t){Gf=e,ux=ko=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($n=!0),e.firstContext=null)}function _r(e){var t=e._currentValue;if(ux!==e)if(e={context:e,memoizedValue:t,next:null},ko===null){if(Gf===null)throw Error(K(308));ko=e,Gf.dependencies={lanes:0,firstContext:e}}else ko=ko.next=e;return t}var da=null;function hx(e){da===null?da=[e]:da.push(e)}function uC(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,hx(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ii(e,r)}function Ii(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var as=!1;function px(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ti(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function js(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ii(e,n)}return i=r.interleaved,i===null?(t.next=t,hx(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ii(e,n)}function vf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zy(e,n)}}function $0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Yf(e,t,n,r){var i=e.updateQueue;as=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;a=0,f=u=c=null,l=s;do{var h=l.lane,p=l.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=ht({},d,h);break e;case 2:as=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,a|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);_a|=a,e.lanes=a,e.memoizedState=d}}function U0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var Gu={},ci=$s(Gu),Qc=$s(Gu),Kc=$s(Gu);function fa(e){if(e===Gu)throw Error(K(174));return e}function mx(e,t){switch(tt(Kc,t),tt(Qc,e),tt(ci,Gu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zg(t,e)}st(ci),tt(ci,t)}function sl(){st(ci),st(Qc),st(Kc)}function fC(e){fa(Kc.current);var t=fa(ci.current),n=zg(t,e.type);t!==n&&(tt(Qc,e),tt(ci,n))}function gx(e){Qc.current===e&&(st(ci),st(Qc))}var dt=$s(0);function Xf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vm=[];function vx(){for(var e=0;e<vm.length;e++)vm[e]._workInProgressVersionPrimary=null;vm.length=0}var yf=Bi.ReactCurrentDispatcher,ym=Bi.ReactCurrentBatchConfig,ja=0,ft=null,At=null,Ht=null,Jf=!1,jc=!1,Gc=0,jF=0;function en(){throw Error(K(321))}function yx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Br(e[n],t[n]))return!1;return!0}function xx(e,t,n,r,i,s){if(ja=s,ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yf.current=e===null||e.memoizedState===null?kF:PF,e=n(r,i),jc){s=0;do{if(jc=!1,Gc=0,25<=s)throw Error(K(301));s+=1,Ht=At=null,t.updateQueue=null,yf.current=RF,e=n(r,i)}while(jc)}if(yf.current=Zf,t=At!==null&&At.next!==null,ja=0,Ht=At=ft=null,Jf=!1,t)throw Error(K(300));return e}function bx(){var e=Gc!==0;return Gc=0,e}function ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?ft.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function Er(){if(At===null){var e=ft.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var t=Ht===null?ft.memoizedState:Ht.next;if(t!==null)Ht=t,At=e;else{if(e===null)throw Error(K(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Ht===null?ft.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function Yc(e,t){return typeof t=="function"?t(e):t}function xm(e){var t=Er(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=At,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var f=u.lane;if((ja&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,a=r):c=c.next=d,ft.lanes|=f,_a|=f}u=u.next}while(u!==null&&u!==s);c===null?a=r:c.next=l,Br(r,t.memoizedState)||($n=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ft.lanes|=s,_a|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bm(e){var t=Er(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Br(s,t.memoizedState)||($n=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function hC(){}function pC(e,t){var n=ft,r=Er(),i=t(),s=!Br(r.memoizedState,i);if(s&&(r.memoizedState=i,$n=!0),r=r.queue,wx(vC.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,Xc(9,gC.bind(null,n,r,i,t),void 0,null),qt===null)throw Error(K(349));ja&30||mC(n,t,i)}return i}function mC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gC(e,t,n,r){t.value=n,t.getSnapshot=r,yC(t)&&xC(e)}function vC(e,t,n){return n(function(){yC(t)&&xC(e)})}function yC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Br(e,n)}catch{return!0}}function xC(e){var t=Ii(e,1);t!==null&&Mr(t,e,1,-1)}function z0(e){var t=ei();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yc,lastRenderedState:e},t.queue=e,e=e.dispatch=CF.bind(null,ft,e),[t.memoizedState,e]}function Xc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bC(){return Er().memoizedState}function xf(e,t,n,r){var i=ei();ft.flags|=e,i.memoizedState=Xc(1|t,n,void 0,r===void 0?null:r)}function Mh(e,t,n,r){var i=Er();r=r===void 0?null:r;var s=void 0;if(At!==null){var a=At.memoizedState;if(s=a.destroy,r!==null&&yx(r,a.deps)){i.memoizedState=Xc(t,n,s,r);return}}ft.flags|=e,i.memoizedState=Xc(1|t,n,s,r)}function B0(e,t){return xf(8390656,8,e,t)}function wx(e,t){return Mh(2048,8,e,t)}function wC(e,t){return Mh(4,2,e,t)}function SC(e,t){return Mh(4,4,e,t)}function jC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _C(e,t,n){return n=n!=null?n.concat([e]):null,Mh(4,4,jC.bind(null,t,e),n)}function Sx(){}function EC(e,t){var n=Er();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function CC(e,t){var n=Er();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yx(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function kC(e,t,n){return ja&21?(Br(n,t)||(n=AE(),ft.lanes|=n,_a|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$n=!0),e.memoizedState=n)}function _F(e,t){var n=qe;qe=n!==0&&4>n?n:4,e(!0);var r=ym.transition;ym.transition={};try{e(!1),t()}finally{qe=n,ym.transition=r}}function PC(){return Er().memoizedState}function EF(e,t,n){var r=Es(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},RC(e))NC(t,n);else if(n=uC(e,t,n,r),n!==null){var i=kn();Mr(n,e,r,i),TC(n,t,r)}}function CF(e,t,n){var r=Es(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(RC(e))NC(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,Br(l,a)){var c=t.interleaved;c===null?(i.next=i,hx(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=uC(e,t,i,r),n!==null&&(i=kn(),Mr(n,e,r,i),TC(n,t,r))}}function RC(e){var t=e.alternate;return e===ft||t!==null&&t===ft}function NC(e,t){jc=Jf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function TC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zy(e,n)}}var Zf={readContext:_r,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},kF={readContext:_r,useCallback:function(e,t){return ei().memoizedState=[e,t===void 0?null:t],e},useContext:_r,useEffect:B0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,xf(4194308,4,jC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xf(4194308,4,e,t)},useInsertionEffect:function(e,t){return xf(4,2,e,t)},useMemo:function(e,t){var n=ei();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ei();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=EF.bind(null,ft,e),[r.memoizedState,e]},useRef:function(e){var t=ei();return e={current:e},t.memoizedState=e},useState:z0,useDebugValue:Sx,useDeferredValue:function(e){return ei().memoizedState=e},useTransition:function(){var e=z0(!1),t=e[0];return e=_F.bind(null,e[1]),ei().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ft,i=ei();if(lt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),qt===null)throw Error(K(349));ja&30||mC(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,B0(vC.bind(null,r,s,e),[e]),r.flags|=2048,Xc(9,gC.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ei(),t=qt.identifierPrefix;if(lt){var n=Ni,r=Ri;n=(r&~(1<<32-Lr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=jF++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},PF={readContext:_r,useCallback:EC,useContext:_r,useEffect:wx,useImperativeHandle:_C,useInsertionEffect:wC,useLayoutEffect:SC,useMemo:CC,useReducer:xm,useRef:bC,useState:function(){return xm(Yc)},useDebugValue:Sx,useDeferredValue:function(e){var t=Er();return kC(t,At.memoizedState,e)},useTransition:function(){var e=xm(Yc)[0],t=Er().memoizedState;return[e,t]},useMutableSource:hC,useSyncExternalStore:pC,useId:PC,unstable_isNewReconciler:!1},RF={readContext:_r,useCallback:EC,useContext:_r,useEffect:wx,useImperativeHandle:_C,useInsertionEffect:wC,useLayoutEffect:SC,useMemo:CC,useReducer:bm,useRef:bC,useState:function(){return bm(Yc)},useDebugValue:Sx,useDeferredValue:function(e){var t=Er();return At===null?t.memoizedState=e:kC(t,At.memoizedState,e)},useTransition:function(){var e=bm(Yc)[0],t=Er().memoizedState;return[e,t]},useMutableSource:hC,useSyncExternalStore:pC,useId:PC,unstable_isNewReconciler:!1};function Tr(e,t){if(e&&e.defaultProps){t=ht({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function lv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ht({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $h={isMounted:function(e){return(e=e._reactInternals)?Fa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=kn(),i=Es(e),s=Ti(r,i);s.payload=t,n!=null&&(s.callback=n),t=js(e,s,i),t!==null&&(Mr(t,e,i,r),vf(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=kn(),i=Es(e),s=Ti(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=js(e,s,i),t!==null&&(Mr(t,e,i,r),vf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kn(),r=Es(e),i=Ti(n,r);i.tag=2,t!=null&&(i.callback=t),t=js(e,i,r),t!==null&&(Mr(t,e,r,n),vf(t,e,r))}};function H0(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Hc(n,r)||!Hc(i,s):!0}function AC(e,t,n){var r=!1,i=Ts,s=t.contextType;return typeof s=="object"&&s!==null?s=_r(s):(i=Bn(t)?wa:un.current,r=t.contextTypes,s=(r=r!=null)?nl(e,i):Ts),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$h,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function q0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$h.enqueueReplaceState(t,t.state,null)}function cv(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},px(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=_r(s):(s=Bn(t)?wa:un.current,i.context=nl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(lv(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&$h.enqueueReplaceState(i,i.state,null),Yf(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function al(e,t){try{var n="",r=t;do n+=rD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function wm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function uv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var NF=typeof WeakMap=="function"?WeakMap:Map;function OC(e,t,n){n=Ti(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){th||(th=!0,bv=r),uv(e,t)},n}function IC(e,t,n){n=Ti(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uv(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){uv(e,t),typeof r!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function W0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new NF;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=qF.bind(null,e,t,n),t.then(e,e))}function V0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Q0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ti(-1,1),t.tag=2,js(n,t,1))),n.lanes|=1),e)}var TF=Bi.ReactCurrentOwner,$n=!1;function _n(e,t,n,r){t.child=e===null?cC(t,null,n,r):il(t,e.child,n,r)}function K0(e,t,n,r,i){n=n.render;var s=t.ref;return Fo(t,i),r=xx(e,t,n,r,s,i),n=bx(),e!==null&&!$n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Di(e,t,i)):(lt&&n&&ox(t),t.flags|=1,_n(e,t,r,i),t.child)}function G0(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Nx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,DC(e,t,s,r,i)):(e=jf(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Hc,n(a,r)&&e.ref===t.ref)return Di(e,t,i)}return t.flags|=1,e=Cs(s,r),e.ref=t.ref,e.return=t,t.child=e}function DC(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Hc(s,r)&&e.ref===t.ref)if($n=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&($n=!0);else return t.lanes=e.lanes,Di(e,t,i)}return dv(e,t,n,r,i)}function FC(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Ro,Gn),Gn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(Ro,Gn),Gn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,tt(Ro,Gn),Gn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,tt(Ro,Gn),Gn|=r;return _n(e,t,i,n),t.child}function LC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function dv(e,t,n,r,i){var s=Bn(n)?wa:un.current;return s=nl(t,s),Fo(t,i),n=xx(e,t,n,r,s,i),r=bx(),e!==null&&!$n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Di(e,t,i)):(lt&&r&&ox(t),t.flags|=1,_n(e,t,n,i),t.child)}function Y0(e,t,n,r,i){if(Bn(n)){var s=!0;Wf(t)}else s=!1;if(Fo(t,i),t.stateNode===null)bf(e,t),AC(t,n,r),cv(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=_r(u):(u=Bn(n)?wa:un.current,u=nl(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&q0(t,a,r,u),as=!1;var h=t.memoizedState;a.state=h,Yf(t,r,a,i),c=t.memoizedState,l!==r||h!==c||zn.current||as?(typeof f=="function"&&(lv(t,n,f,r),c=t.memoizedState),(l=as||H0(t,n,l,r,h,c,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,dC(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Tr(t.type,l),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=_r(c):(c=Bn(n)?wa:un.current,c=nl(t,c));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||h!==c)&&q0(t,a,r,c),as=!1,h=t.memoizedState,a.state=h,Yf(t,r,a,i);var g=t.memoizedState;l!==d||h!==g||zn.current||as?(typeof p=="function"&&(lv(t,n,p,r),g=t.memoizedState),(u=as||H0(t,n,u,r,h,g,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return fv(e,t,n,r,s,i)}function fv(e,t,n,r,i,s){LC(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&D0(t,n,!1),Di(e,t,s);r=t.stateNode,TF.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=il(t,e.child,null,s),t.child=il(t,null,l,s)):_n(e,t,l,s),t.memoizedState=r.state,i&&D0(t,n,!0),t.child}function MC(e){var t=e.stateNode;t.pendingContext?I0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&I0(e,t.context,!1),mx(e,t.containerInfo)}function X0(e,t,n,r,i){return rl(),cx(i),t.flags|=256,_n(e,t,n,r),t.child}var hv={dehydrated:null,treeContext:null,retryLane:0};function pv(e){return{baseLanes:e,cachePool:null,transitions:null}}function $C(e,t,n){var r=t.pendingProps,i=dt.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),tt(dt,i&1),e===null)return av(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Bh(a,r,0,null),e=xa(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=pv(n),t.memoizedState=hv,e):jx(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return AF(e,t,a,r,l,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Cs(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Cs(l,s):(s=xa(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?pv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=hv,r}return s=e.child,e=s.sibling,r=Cs(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function jx(e,t){return t=Bh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Md(e,t,n,r){return r!==null&&cx(r),il(t,e.child,null,n),e=jx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function AF(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=wm(Error(K(422))),Md(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Bh({mode:"visible",children:r.children},i,0,null),s=xa(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&il(t,e.child,null,a),t.child.memoizedState=pv(a),t.memoizedState=hv,s);if(!(t.mode&1))return Md(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(K(419)),r=wm(s,r,void 0),Md(e,t,a,r)}if(l=(a&e.childLanes)!==0,$n||l){if(r=qt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ii(e,i),Mr(r,e,i,-1))}return Rx(),r=wm(Error(K(421))),Md(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=WF.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Zn=Ss(i.nextSibling),er=t,lt=!0,Fr=null,e!==null&&(hr[pr++]=Ri,hr[pr++]=Ni,hr[pr++]=Sa,Ri=e.id,Ni=e.overflow,Sa=t),t=jx(t,r.children),t.flags|=4096,t)}function J0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ov(e.return,t,n)}function Sm(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function UC(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_n(e,t,r.children,n),r=dt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&J0(e,n,t);else if(e.tag===19)J0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(tt(dt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Xf(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Sm(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Xf(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Sm(t,!0,n,null,s);break;case"together":Sm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Di(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_a|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=Cs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function OF(e,t,n){switch(t.tag){case 3:MC(t),rl();break;case 5:fC(t);break;case 1:Bn(t.type)&&Wf(t);break;case 4:mx(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;tt(Kf,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(tt(dt,dt.current&1),t.flags|=128,null):n&t.child.childLanes?$C(e,t,n):(tt(dt,dt.current&1),e=Di(e,t,n),e!==null?e.sibling:null);tt(dt,dt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return UC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(dt,dt.current),r)break;return null;case 22:case 23:return t.lanes=0,FC(e,t,n)}return Di(e,t,n)}var zC,mv,BC,HC;zC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mv=function(){};BC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,fa(ci.current);var s=null;switch(n){case"input":i=Lg(e,i),r=Lg(e,r),s=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),s=[];break;case"textarea":i=Ug(e,i),r=Ug(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Hf)}Bg(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&rt("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};HC=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ql(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function IF(e,t,n){var r=t.pendingProps;switch(lx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(t),null;case 1:return Bn(t.type)&&qf(),tn(t),null;case 3:return r=t.stateNode,sl(),st(zn),st(un),vx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fr!==null&&(jv(Fr),Fr=null))),mv(e,t),tn(t),null;case 5:gx(t);var i=fa(Kc.current);if(n=t.type,e!==null&&t.stateNode!=null)BC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return tn(t),null}if(e=fa(ci.current),Fd(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ai]=t,r[Vc]=s,e=(t.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<uc.length;i++)rt(uc[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":o0(r,s),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rt("invalid",r);break;case"textarea":c0(r,s),rt("invalid",r)}Bg(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Dd(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Dd(r.textContent,l,e),i=["children",""+l]):Fc.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&rt("scroll",r)}switch(n){case"input":kd(r),l0(r,s,!0);break;case"textarea":kd(r),u0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Hf)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vE(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ai]=t,e[Vc]=r,zC(e,t,!1,!1),t.stateNode=e;e:{switch(a=Hg(n,r),n){case"dialog":rt("cancel",e),rt("close",e),i=r;break;case"iframe":case"object":case"embed":rt("load",e),i=r;break;case"video":case"audio":for(i=0;i<uc.length;i++)rt(uc[i],e);i=r;break;case"source":rt("error",e),i=r;break;case"img":case"image":case"link":rt("error",e),rt("load",e),i=r;break;case"details":rt("toggle",e),i=r;break;case"input":o0(e,r),i=Lg(e,r),rt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),rt("invalid",e);break;case"textarea":c0(e,r),i=Ug(e,r),rt("invalid",e);break;default:i=r}Bg(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?bE(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yE(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Lc(e,c):typeof c=="number"&&Lc(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fc.hasOwnProperty(s)?c!=null&&s==="onScroll"&&rt("scroll",e):c!=null&&Qy(e,s,c,a))}switch(n){case"input":kd(e),l0(e,r,!1);break;case"textarea":kd(e),u0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ns(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ao(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ao(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Hf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tn(t),null;case 6:if(e&&t.stateNode!=null)HC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(n=fa(Kc.current),fa(ci.current),Fd(t)){if(r=t.stateNode,n=t.memoizedProps,r[ai]=t,(s=r.nodeValue!==n)&&(e=er,e!==null))switch(e.tag){case 3:Dd(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Dd(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ai]=t,t.stateNode=r}return tn(t),null;case 13:if(st(dt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&Zn!==null&&t.mode&1&&!(t.flags&128))oC(),rl(),t.flags|=98560,s=!1;else if(s=Fd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(K(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[ai]=t}else rl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tn(t),s=!1}else Fr!==null&&(jv(Fr),Fr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||dt.current&1?It===0&&(It=3):Rx())),t.updateQueue!==null&&(t.flags|=4),tn(t),null);case 4:return sl(),mv(e,t),e===null&&qc(t.stateNode.containerInfo),tn(t),null;case 10:return fx(t.type._context),tn(t),null;case 17:return Bn(t.type)&&qf(),tn(t),null;case 19:if(st(dt),s=t.memoizedState,s===null)return tn(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Ql(s,!1);else{if(It!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Xf(e),a!==null){for(t.flags|=128,Ql(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return tt(dt,dt.current&1|2),t.child}e=e.sibling}s.tail!==null&&St()>ol&&(t.flags|=128,r=!0,Ql(s,!1),t.lanes=4194304)}else{if(!r)if(e=Xf(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ql(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!lt)return tn(t),null}else 2*St()-s.renderingStartTime>ol&&n!==1073741824&&(t.flags|=128,r=!0,Ql(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=St(),t.sibling=null,n=dt.current,tt(dt,r?n&1|2:n&1),t):(tn(t),null);case 22:case 23:return Px(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Gn&1073741824&&(tn(t),t.subtreeFlags&6&&(t.flags|=8192)):tn(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function DF(e,t){switch(lx(t),t.tag){case 1:return Bn(t.type)&&qf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sl(),st(zn),st(un),vx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gx(t),null;case 13:if(st(dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));rl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return st(dt),null;case 4:return sl(),null;case 10:return fx(t.type._context),null;case 22:case 23:return Px(),null;case 24:return null;default:return null}}var $d=!1,on=!1,FF=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Po(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(e,t,r)}else n.current=null}function gv(e,t,n){try{n()}catch(r){vt(e,t,r)}}var Z0=!1;function LF(e,t){if(Zg=Uf,e=KE(),ax(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(l=a+i),d!==s||r!==0&&d.nodeType!==3||(c=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++u===i&&(l=a),h===s&&++f===r&&(c=a),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ev={focusedElem:e,selectionRange:n},Uf=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,b=g.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:Tr(t.type,m),b);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(S){vt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return g=Z0,Z0=!1,g}function _c(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&gv(t,n,s)}i=i.next}while(i!==r)}}function Uh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function vv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function qC(e){var t=e.alternate;t!==null&&(e.alternate=null,qC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ai],delete t[Vc],delete t[rv],delete t[xF],delete t[bF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function WC(e){return e.tag===5||e.tag===3||e.tag===4}function eS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||WC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Hf));else if(r!==4&&(e=e.child,e!==null))for(yv(e,t,n),e=e.sibling;e!==null;)yv(e,t,n),e=e.sibling}function xv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(xv(e,t,n),e=e.sibling;e!==null;)xv(e,t,n),e=e.sibling}var Kt=null,Ir=!1;function Ki(e,t,n){for(n=n.child;n!==null;)VC(e,t,n),n=n.sibling}function VC(e,t,n){if(li&&typeof li.onCommitFiberUnmount=="function")try{li.onCommitFiberUnmount(Ah,n)}catch{}switch(n.tag){case 5:on||Po(n,t);case 6:var r=Kt,i=Ir;Kt=null,Ki(e,t,n),Kt=r,Ir=i,Kt!==null&&(Ir?(e=Kt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(Ir?(e=Kt,n=n.stateNode,e.nodeType===8?mm(e.parentNode,n):e.nodeType===1&&mm(e,n),zc(e)):mm(Kt,n.stateNode));break;case 4:r=Kt,i=Ir,Kt=n.stateNode.containerInfo,Ir=!0,Ki(e,t,n),Kt=r,Ir=i;break;case 0:case 11:case 14:case 15:if(!on&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&gv(n,t,a),i=i.next}while(i!==r)}Ki(e,t,n);break;case 1:if(!on&&(Po(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){vt(n,t,l)}Ki(e,t,n);break;case 21:Ki(e,t,n);break;case 22:n.mode&1?(on=(r=on)||n.memoizedState!==null,Ki(e,t,n),on=r):Ki(e,t,n);break;default:Ki(e,t,n)}}function tS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new FF),t.forEach(function(r){var i=VF.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function kr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Kt=l.stateNode,Ir=!1;break e;case 3:Kt=l.stateNode.containerInfo,Ir=!0;break e;case 4:Kt=l.stateNode.containerInfo,Ir=!0;break e}l=l.return}if(Kt===null)throw Error(K(160));VC(s,a,i),Kt=null,Ir=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){vt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)QC(t,e),t=t.sibling}function QC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kr(t,e),Yr(e),r&4){try{_c(3,e,e.return),Uh(3,e)}catch(m){vt(e,e.return,m)}try{_c(5,e,e.return)}catch(m){vt(e,e.return,m)}}break;case 1:kr(t,e),Yr(e),r&512&&n!==null&&Po(n,n.return);break;case 5:if(kr(t,e),Yr(e),r&512&&n!==null&&Po(n,n.return),e.flags&32){var i=e.stateNode;try{Lc(i,"")}catch(m){vt(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&mE(i,s),Hg(l,a);var u=Hg(l,s);for(a=0;a<c.length;a+=2){var f=c[a],d=c[a+1];f==="style"?bE(i,d):f==="dangerouslySetInnerHTML"?yE(i,d):f==="children"?Lc(i,d):Qy(i,f,d,u)}switch(l){case"input":Mg(i,s);break;case"textarea":gE(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ao(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ao(i,!!s.multiple,s.defaultValue,!0):Ao(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vc]=s}catch(m){vt(e,e.return,m)}}break;case 6:if(kr(t,e),Yr(e),r&4){if(e.stateNode===null)throw Error(K(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){vt(e,e.return,m)}}break;case 3:if(kr(t,e),Yr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zc(t.containerInfo)}catch(m){vt(e,e.return,m)}break;case 4:kr(t,e),Yr(e);break;case 13:kr(t,e),Yr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Cx=St())),r&4&&tS(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(on=(u=on)||f,kr(t,e),on=u):kr(t,e),Yr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(ie=e,f=e.child;f!==null;){for(d=ie=f;ie!==null;){switch(h=ie,p=h.child,h.tag){case 0:case 11:case 14:case 15:_c(4,h,h.return);break;case 1:Po(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){vt(r,n,m)}}break;case 5:Po(h,h.return);break;case 22:if(h.memoizedState!==null){rS(d);continue}}p!==null?(p.return=h,ie=p):rS(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=xE("display",a))}catch(m){vt(e,e.return,m)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){vt(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:kr(t,e),Yr(e),r&4&&tS(e);break;case 21:break;default:kr(t,e),Yr(e)}}function Yr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(WC(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Lc(i,""),r.flags&=-33);var s=eS(e);xv(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=eS(e);yv(e,l,a);break;default:throw Error(K(161))}}catch(c){vt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function MF(e,t,n){ie=e,KC(e)}function KC(e,t,n){for(var r=(e.mode&1)!==0;ie!==null;){var i=ie,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||$d;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||on;l=$d;var u=on;if($d=a,(on=c)&&!u)for(ie=i;ie!==null;)a=ie,c=a.child,a.tag===22&&a.memoizedState!==null?iS(i):c!==null?(c.return=a,ie=c):iS(i);for(;s!==null;)ie=s,KC(s),s=s.sibling;ie=i,$d=l,on=u}nS(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ie=s):nS(e)}}function nS(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:on||Uh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!on)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Tr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&U0(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}U0(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&zc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}on||t.flags&512&&vv(t)}catch(h){vt(t,t.return,h)}}if(t===e){ie=null;break}if(n=t.sibling,n!==null){n.return=t.return,ie=n;break}ie=t.return}}function rS(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ie=n;break}ie=t.return}}function iS(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Uh(4,t)}catch(c){vt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){vt(t,i,c)}}var s=t.return;try{vv(t)}catch(c){vt(t,s,c)}break;case 5:var a=t.return;try{vv(t)}catch(c){vt(t,a,c)}}}catch(c){vt(t,t.return,c)}if(t===e){ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ie=l;break}ie=t.return}}var $F=Math.ceil,eh=Bi.ReactCurrentDispatcher,_x=Bi.ReactCurrentOwner,br=Bi.ReactCurrentBatchConfig,Ue=0,qt=null,kt=null,Gt=0,Gn=0,Ro=$s(0),It=0,Jc=null,_a=0,zh=0,Ex=0,Ec=null,Ln=null,Cx=0,ol=1/0,_i=null,th=!1,bv=null,_s=null,Ud=!1,vs=null,nh=0,Cc=0,wv=null,wf=-1,Sf=0;function kn(){return Ue&6?St():wf!==-1?wf:wf=St()}function Es(e){return e.mode&1?Ue&2&&Gt!==0?Gt&-Gt:SF.transition!==null?(Sf===0&&(Sf=AE()),Sf):(e=qe,e!==0||(e=window.event,e=e===void 0?16:$E(e.type)),e):1}function Mr(e,t,n,r){if(50<Cc)throw Cc=0,wv=null,Error(K(185));Vu(e,n,r),(!(Ue&2)||e!==qt)&&(e===qt&&(!(Ue&2)&&(zh|=n),It===4&&ls(e,Gt)),Hn(e,r),n===1&&Ue===0&&!(t.mode&1)&&(ol=St()+500,Lh&&Us()))}function Hn(e,t){var n=e.callbackNode;SD(e,t);var r=$f(e,e===qt?Gt:0);if(r===0)n!==null&&h0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&h0(n),t===1)e.tag===0?wF(sS.bind(null,e)):iC(sS.bind(null,e)),vF(function(){!(Ue&6)&&Us()}),n=null;else{switch(OE(r)){case 1:n=Jy;break;case 4:n=NE;break;case 16:n=Mf;break;case 536870912:n=TE;break;default:n=Mf}n=nk(n,GC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function GC(e,t){if(wf=-1,Sf=0,Ue&6)throw Error(K(327));var n=e.callbackNode;if(Lo()&&e.callbackNode!==n)return null;var r=$f(e,e===qt?Gt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=rh(e,r);else{t=r;var i=Ue;Ue|=2;var s=XC();(qt!==e||Gt!==t)&&(_i=null,ol=St()+500,ya(e,t));do try{BF();break}catch(l){YC(e,l)}while(!0);dx(),eh.current=s,Ue=i,kt!==null?t=0:(qt=null,Gt=0,t=It)}if(t!==0){if(t===2&&(i=Kg(e),i!==0&&(r=i,t=Sv(e,i))),t===1)throw n=Jc,ya(e,0),ls(e,r),Hn(e,St()),n;if(t===6)ls(e,r);else{if(i=e.current.alternate,!(r&30)&&!UF(i)&&(t=rh(e,r),t===2&&(s=Kg(e),s!==0&&(r=s,t=Sv(e,s))),t===1))throw n=Jc,ya(e,0),ls(e,r),Hn(e,St()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:na(e,Ln,_i);break;case 3:if(ls(e,r),(r&130023424)===r&&(t=Cx+500-St(),10<t)){if($f(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){kn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=nv(na.bind(null,e,Ln,_i),t);break}na(e,Ln,_i);break;case 4:if(ls(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Lr(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$F(r/1960))-r,10<r){e.timeoutHandle=nv(na.bind(null,e,Ln,_i),r);break}na(e,Ln,_i);break;case 5:na(e,Ln,_i);break;default:throw Error(K(329))}}}return Hn(e,St()),e.callbackNode===n?GC.bind(null,e):null}function Sv(e,t){var n=Ec;return e.current.memoizedState.isDehydrated&&(ya(e,t).flags|=256),e=rh(e,t),e!==2&&(t=Ln,Ln=n,t!==null&&jv(t)),e}function jv(e){Ln===null?Ln=e:Ln.push.apply(Ln,e)}function UF(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Br(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ls(e,t){for(t&=~Ex,t&=~zh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Lr(t),r=1<<n;e[n]=-1,t&=~r}}function sS(e){if(Ue&6)throw Error(K(327));Lo();var t=$f(e,0);if(!(t&1))return Hn(e,St()),null;var n=rh(e,t);if(e.tag!==0&&n===2){var r=Kg(e);r!==0&&(t=r,n=Sv(e,r))}if(n===1)throw n=Jc,ya(e,0),ls(e,t),Hn(e,St()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,na(e,Ln,_i),Hn(e,St()),null}function kx(e,t){var n=Ue;Ue|=1;try{return e(t)}finally{Ue=n,Ue===0&&(ol=St()+500,Lh&&Us())}}function Ea(e){vs!==null&&vs.tag===0&&!(Ue&6)&&Lo();var t=Ue;Ue|=1;var n=br.transition,r=qe;try{if(br.transition=null,qe=1,e)return e()}finally{qe=r,br.transition=n,Ue=t,!(Ue&6)&&Us()}}function Px(){Gn=Ro.current,st(Ro)}function ya(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gF(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(lx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qf();break;case 3:sl(),st(zn),st(un),vx();break;case 5:gx(r);break;case 4:sl();break;case 13:st(dt);break;case 19:st(dt);break;case 10:fx(r.type._context);break;case 22:case 23:Px()}n=n.return}if(qt=e,kt=e=Cs(e.current,null),Gt=Gn=t,It=0,Jc=null,Ex=zh=_a=0,Ln=Ec=null,da!==null){for(t=0;t<da.length;t++)if(n=da[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}da=null}return e}function YC(e,t){do{var n=kt;try{if(dx(),yf.current=Zf,Jf){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jf=!1}if(ja=0,Ht=At=ft=null,jc=!1,Gc=0,_x.current=null,n===null||n.return===null){It=1,Jc=t,kt=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Gt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=V0(a);if(p!==null){p.flags&=-257,Q0(p,a,l,s,t),p.mode&1&&W0(s,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){W0(s,u,t),Rx();break e}c=Error(K(426))}}else if(lt&&l.mode&1){var b=V0(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Q0(b,a,l,s,t),cx(al(c,l));break e}}s=c=al(c,l),It!==4&&(It=2),Ec===null?Ec=[s]:Ec.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=OC(s,c,t);$0(s,v);break e;case 1:l=c;var x=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_s===null||!_s.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=IC(s,l,t);$0(s,S);break e}}s=s.return}while(s!==null)}ZC(n)}catch(_){t=_,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function XC(){var e=eh.current;return eh.current=Zf,e===null?Zf:e}function Rx(){(It===0||It===3||It===2)&&(It=4),qt===null||!(_a&268435455)&&!(zh&268435455)||ls(qt,Gt)}function rh(e,t){var n=Ue;Ue|=2;var r=XC();(qt!==e||Gt!==t)&&(_i=null,ya(e,t));do try{zF();break}catch(i){YC(e,i)}while(!0);if(dx(),Ue=n,eh.current=r,kt!==null)throw Error(K(261));return qt=null,Gt=0,It}function zF(){for(;kt!==null;)JC(kt)}function BF(){for(;kt!==null&&!hD();)JC(kt)}function JC(e){var t=tk(e.alternate,e,Gn);e.memoizedProps=e.pendingProps,t===null?ZC(e):kt=t,_x.current=null}function ZC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=DF(n,t),n!==null){n.flags&=32767,kt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{It=6,kt=null;return}}else if(n=IF(n,t,Gn),n!==null){kt=n;return}if(t=t.sibling,t!==null){kt=t;return}kt=t=e}while(t!==null);It===0&&(It=5)}function na(e,t,n){var r=qe,i=br.transition;try{br.transition=null,qe=1,HF(e,t,n,r)}finally{br.transition=i,qe=r}return null}function HF(e,t,n,r){do Lo();while(vs!==null);if(Ue&6)throw Error(K(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(jD(e,s),e===qt&&(kt=qt=null,Gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ud||(Ud=!0,nk(Mf,function(){return Lo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=br.transition,br.transition=null;var a=qe;qe=1;var l=Ue;Ue|=4,_x.current=null,LF(e,n),QC(n,e),cF(ev),Uf=!!Zg,ev=Zg=null,e.current=n,MF(n),pD(),Ue=l,qe=a,br.transition=s}else e.current=n;if(Ud&&(Ud=!1,vs=e,nh=i),s=e.pendingLanes,s===0&&(_s=null),vD(n.stateNode),Hn(e,St()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(th)throw th=!1,e=bv,bv=null,e;return nh&1&&e.tag!==0&&Lo(),s=e.pendingLanes,s&1?e===wv?Cc++:(Cc=0,wv=e):Cc=0,Us(),null}function Lo(){if(vs!==null){var e=OE(nh),t=br.transition,n=qe;try{if(br.transition=null,qe=16>e?16:e,vs===null)var r=!1;else{if(e=vs,vs=null,nh=0,Ue&6)throw Error(K(331));var i=Ue;for(Ue|=4,ie=e.current;ie!==null;){var s=ie,a=s.child;if(ie.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ie=u;ie!==null;){var f=ie;switch(f.tag){case 0:case 11:case 15:_c(8,f,s)}var d=f.child;if(d!==null)d.return=f,ie=d;else for(;ie!==null;){f=ie;var h=f.sibling,p=f.return;if(qC(f),f===u){ie=null;break}if(h!==null){h.return=p,ie=h;break}ie=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}ie=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ie=a;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_c(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ie=v;break e}ie=s.return}}var x=e.current;for(ie=x;ie!==null;){a=ie;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,ie=w;else e:for(a=x;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Uh(9,l)}}catch(_){vt(l,l.return,_)}if(l===a){ie=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,ie=S;break e}ie=l.return}}if(Ue=i,Us(),li&&typeof li.onPostCommitFiberRoot=="function")try{li.onPostCommitFiberRoot(Ah,e)}catch{}r=!0}return r}finally{qe=n,br.transition=t}}return!1}function aS(e,t,n){t=al(n,t),t=OC(e,t,1),e=js(e,t,1),t=kn(),e!==null&&(Vu(e,1,t),Hn(e,t))}function vt(e,t,n){if(e.tag===3)aS(e,e,n);else for(;t!==null;){if(t.tag===3){aS(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_s===null||!_s.has(r))){e=al(n,e),e=IC(t,e,1),t=js(t,e,1),e=kn(),t!==null&&(Vu(t,1,e),Hn(t,e));break}}t=t.return}}function qF(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=kn(),e.pingedLanes|=e.suspendedLanes&n,qt===e&&(Gt&n)===n&&(It===4||It===3&&(Gt&130023424)===Gt&&500>St()-Cx?ya(e,0):Ex|=n),Hn(e,t)}function ek(e,t){t===0&&(e.mode&1?(t=Nd,Nd<<=1,!(Nd&130023424)&&(Nd=4194304)):t=1);var n=kn();e=Ii(e,t),e!==null&&(Vu(e,t,n),Hn(e,n))}function WF(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ek(e,n)}function VF(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),ek(e,n)}var tk;tk=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||zn.current)$n=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $n=!1,OF(e,t,n);$n=!!(e.flags&131072)}else $n=!1,lt&&t.flags&1048576&&sC(t,Qf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;bf(e,t),e=t.pendingProps;var i=nl(t,un.current);Fo(t,n),i=xx(null,t,r,e,i,n);var s=bx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bn(r)?(s=!0,Wf(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,px(t),i.updater=$h,t.stateNode=i,i._reactInternals=t,cv(t,r,e,n),t=fv(null,t,r,!0,s,n)):(t.tag=0,lt&&s&&ox(t),_n(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(bf(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=KF(r),e=Tr(r,e),i){case 0:t=dv(null,t,r,e,n);break e;case 1:t=Y0(null,t,r,e,n);break e;case 11:t=K0(null,t,r,e,n);break e;case 14:t=G0(null,t,r,Tr(r.type,e),n);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tr(r,i),dv(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tr(r,i),Y0(e,t,r,i,n);case 3:e:{if(MC(t),e===null)throw Error(K(387));r=t.pendingProps,s=t.memoizedState,i=s.element,dC(e,t),Yf(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=al(Error(K(423)),t),t=X0(e,t,r,n,i);break e}else if(r!==i){i=al(Error(K(424)),t),t=X0(e,t,r,n,i);break e}else for(Zn=Ss(t.stateNode.containerInfo.firstChild),er=t,lt=!0,Fr=null,n=cC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rl(),r===i){t=Di(e,t,n);break e}_n(e,t,r,n)}t=t.child}return t;case 5:return fC(t),e===null&&av(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,tv(r,i)?a=null:s!==null&&tv(r,s)&&(t.flags|=32),LC(e,t),_n(e,t,a,n),t.child;case 6:return e===null&&av(t),null;case 13:return $C(e,t,n);case 4:return mx(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=il(t,null,r,n):_n(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tr(r,i),K0(e,t,r,i,n);case 7:return _n(e,t,t.pendingProps,n),t.child;case 8:return _n(e,t,t.pendingProps.children,n),t.child;case 12:return _n(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,tt(Kf,r._currentValue),r._currentValue=a,s!==null)if(Br(s.value,a)){if(s.children===i.children&&!zn.current){t=Di(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Ti(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),ov(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(K(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),ov(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}_n(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Fo(t,n),i=_r(i),r=r(i),t.flags|=1,_n(e,t,r,n),t.child;case 14:return r=t.type,i=Tr(r,t.pendingProps),i=Tr(r.type,i),G0(e,t,r,i,n);case 15:return DC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tr(r,i),bf(e,t),t.tag=1,Bn(r)?(e=!0,Wf(t)):e=!1,Fo(t,n),AC(t,r,i),cv(t,r,i,n),fv(null,t,r,!0,e,n);case 19:return UC(e,t,n);case 22:return FC(e,t,n)}throw Error(K(156,t.tag))};function nk(e,t){return RE(e,t)}function QF(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(e,t,n,r){return new QF(e,t,n,r)}function Nx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KF(e){if(typeof e=="function")return Nx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gy)return 11;if(e===Yy)return 14}return 2}function Cs(e,t){var n=e.alternate;return n===null?(n=yr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jf(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")Nx(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case xo:return xa(n.children,i,s,t);case Ky:a=8,i|=8;break;case Og:return e=yr(12,n,t,i|2),e.elementType=Og,e.lanes=s,e;case Ig:return e=yr(13,n,t,i),e.elementType=Ig,e.lanes=s,e;case Dg:return e=yr(19,n,t,i),e.elementType=Dg,e.lanes=s,e;case fE:return Bh(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uE:a=10;break e;case dE:a=9;break e;case Gy:a=11;break e;case Yy:a=14;break e;case ss:a=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=yr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function xa(e,t,n,r){return e=yr(7,e,r,t),e.lanes=n,e}function Bh(e,t,n,r){return e=yr(22,e,r,t),e.elementType=fE,e.lanes=n,e.stateNode={isHidden:!1},e}function jm(e,t,n){return e=yr(6,e,null,t),e.lanes=n,e}function _m(e,t,n){return t=yr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function GF(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=im(0),this.expirationTimes=im(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=im(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Tx(e,t,n,r,i,s,a,l,c){return e=new GF(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=yr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},px(s),e}function YF(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rk(e){if(!e)return Ts;e=e._reactInternals;e:{if(Fa(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(Bn(n))return rC(e,n,t)}return t}function ik(e,t,n,r,i,s,a,l,c){return e=Tx(n,r,!0,e,i,s,a,l,c),e.context=rk(null),n=e.current,r=kn(),i=Es(n),s=Ti(r,i),s.callback=t??null,js(n,s,i),e.current.lanes=i,Vu(e,i,r),Hn(e,r),e}function Hh(e,t,n,r){var i=t.current,s=kn(),a=Es(i);return n=rk(n),t.context===null?t.context=n:t.pendingContext=n,t=Ti(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=js(i,t,a),e!==null&&(Mr(e,i,a,s),vf(e,i,a)),a}function ih(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function oS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ax(e,t){oS(e,t),(e=e.alternate)&&oS(e,t)}function XF(){return null}var sk=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ox(e){this._internalRoot=e}qh.prototype.render=Ox.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));Hh(e,t,null,null)};qh.prototype.unmount=Ox.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ea(function(){Hh(null,e,null,null)}),t[Oi]=null}};function qh(e){this._internalRoot=e}qh.prototype.unstable_scheduleHydration=function(e){if(e){var t=FE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<os.length&&t!==0&&t<os[n].priority;n++);os.splice(n,0,e),n===0&&ME(e)}};function Ix(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lS(){}function JF(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ih(a);s.call(u)}}var a=ik(t,r,e,0,null,!1,!1,"",lS);return e._reactRootContainer=a,e[Oi]=a.current,qc(e.nodeType===8?e.parentNode:e),Ea(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=ih(c);l.call(u)}}var c=Tx(e,0,!1,null,null,!1,!1,"",lS);return e._reactRootContainer=c,e[Oi]=c.current,qc(e.nodeType===8?e.parentNode:e),Ea(function(){Hh(t,c,n,r)}),c}function Vh(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=ih(a);l.call(c)}}Hh(t,a,e,i)}else a=JF(n,t,e,i,r);return ih(a)}IE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=cc(t.pendingLanes);n!==0&&(Zy(t,n|1),Hn(t,St()),!(Ue&6)&&(ol=St()+500,Us()))}break;case 13:Ea(function(){var r=Ii(e,1);if(r!==null){var i=kn();Mr(r,e,1,i)}}),Ax(e,1)}};ex=function(e){if(e.tag===13){var t=Ii(e,134217728);if(t!==null){var n=kn();Mr(t,e,134217728,n)}Ax(e,134217728)}};DE=function(e){if(e.tag===13){var t=Es(e),n=Ii(e,t);if(n!==null){var r=kn();Mr(n,e,t,r)}Ax(e,t)}};FE=function(){return qe};LE=function(e,t){var n=qe;try{return qe=e,t()}finally{qe=n}};Wg=function(e,t,n){switch(t){case"input":if(Mg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Fh(r);if(!i)throw Error(K(90));pE(r),Mg(r,i)}}}break;case"textarea":gE(e,n);break;case"select":t=n.value,t!=null&&Ao(e,!!n.multiple,t,!1)}};jE=kx;_E=Ea;var ZF={usingClientEntryPoint:!1,Events:[Ku,jo,Fh,wE,SE,kx]},Kl={findFiberByHostInstance:ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eL={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kE(e),e===null?null:e.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||XF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zd.isDisabled&&zd.supportsFiber)try{Ah=zd.inject(eL),li=zd}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZF;or.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ix(t))throw Error(K(200));return YF(e,t,null,n)};or.createRoot=function(e,t){if(!Ix(e))throw Error(K(299));var n=!1,r="",i=sk;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Tx(e,1,!1,null,null,n,!1,r,i),e[Oi]=t.current,qc(e.nodeType===8?e.parentNode:e),new Ox(t)};or.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=kE(t),e=e===null?null:e.stateNode,e};or.flushSync=function(e){return Ea(e)};or.hydrate=function(e,t,n){if(!Wh(t))throw Error(K(200));return Vh(null,e,t,!0,n)};or.hydrateRoot=function(e,t,n){if(!Ix(e))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=sk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=ik(t,null,e,1,n??null,i,!1,s,a),e[Oi]=t.current,qc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new qh(t)};or.render=function(e,t,n){if(!Wh(t))throw Error(K(200));return Vh(null,e,t,!1,n)};or.unmountComponentAtNode=function(e){if(!Wh(e))throw Error(K(40));return e._reactRootContainer?(Ea(function(){Vh(null,null,e,!1,function(){e._reactRootContainer=null,e[Oi]=null})}),!0):!1};or.unstable_batchedUpdates=kx;or.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Wh(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return Vh(e,t,n,!1,r)};or.version="18.3.1-next-f1338f8080-20240426";function ak(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ak)}catch(e){console.error(e)}}ak(),aE.exports=or;var La=aE.exports;const ok=Ia(La);var lk,cS=La;lk=cS.createRoot,cS.hydrateRoot;const tL=1,nL=1e6;let Em=0;function rL(){return Em=(Em+1)%Number.MAX_SAFE_INTEGER,Em.toString()}const Cm=new Map,uS=e=>{if(Cm.has(e))return;const t=setTimeout(()=>{Cm.delete(e),kc({type:"REMOVE_TOAST",toastId:e})},nL);Cm.set(e,t)},iL=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,tL)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?uS(n):e.toasts.forEach(r=>{uS(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},_f=[];let Ef={toasts:[]};function kc(e){Ef=iL(Ef,e),_f.forEach(t=>{t(Ef)})}function sL({...e}){const t=rL(),n=i=>kc({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>kc({type:"DISMISS_TOAST",toastId:t});return kc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Dt(){const[e,t]=y.useState(Ef);return y.useEffect(()=>(_f.push(t),()=>{const n=_f.indexOf(t);n>-1&&_f.splice(n,1)}),[e]),{...e,toast:sL,dismiss:n=>kc({type:"DISMISS_TOAST",toastId:n})}}function te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function aL(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Qh(...e){return t=>e.forEach(n=>aL(n,t))}function Le(...e){return y.useCallback(Qh(...e),e)}function oL(e,t=[]){let n=[];function r(s,a){const l=y.createContext(a),c=n.length;n=[...n,a];function u(d){const{scope:h,children:p,...g}=d,m=(h==null?void 0:h[e][c])||l,b=y.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:b,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,g=y.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,f]}const i=()=>{const s=n.map(a=>y.createContext(a));return function(l){const c=(l==null?void 0:l[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,lL(i,...t)]}function lL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var As=y.forwardRef((e,t)=>{const{children:n,...r}=e,i=y.Children.toArray(n),s=i.find(cL);if(s){const a=s.props.children,l=i.map(c=>c===s?y.Children.count(a)>1?y.Children.only(null):y.isValidElement(a)?a.props.children:null:c);return o.jsx(_v,{...r,ref:t,children:y.isValidElement(a)?y.cloneElement(a,void 0,l):null})}return o.jsx(_v,{...r,ref:t,children:n})});As.displayName="Slot";var _v=y.forwardRef((e,t)=>{const{children:n,...r}=e;if(y.isValidElement(n)){const i=dL(n);return y.cloneElement(n,{...uL(r,n.props),ref:t?Qh(t,i):i})}return y.Children.count(n)>1?y.Children.only(null):null});_v.displayName="SlotClone";var Dx=({children:e})=>o.jsx(o.Fragment,{children:e});function cL(e){return y.isValidElement(e)&&e.type===Dx}function uL(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{s(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function dL(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Kh(e){const t=e+"CollectionProvider",[n,r]=oL(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:g,children:m}=p,b=q.useRef(null),v=q.useRef(new Map).current;return o.jsx(i,{scope:g,itemMap:v,collectionRef:b,children:m})};a.displayName=t;const l=e+"CollectionSlot",c=q.forwardRef((p,g)=>{const{scope:m,children:b}=p,v=s(l,m),x=Le(g,v.collectionRef);return o.jsx(As,{ref:x,children:b})});c.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",d=q.forwardRef((p,g)=>{const{scope:m,children:b,...v}=p,x=q.useRef(null),w=Le(g,x),S=s(u,m);return q.useEffect(()=>(S.itemMap.set(x,{ref:x,...v}),()=>void S.itemMap.delete(x))),o.jsx(As,{[f]:"",ref:w,children:b})});d.displayName=u;function h(p){const g=s(e+"CollectionConsumer",p);return q.useCallback(()=>{const b=g.collectionRef.current;if(!b)return[];const v=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((S,_)=>v.indexOf(S.ref.current)-v.indexOf(_.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:a,Slot:c,ItemSlot:d},h,r]}function fL(e,t){const n=y.createContext(t),r=s=>{const{children:a,...l}=s,c=y.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function i(s){const a=y.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function Hi(e,t=[]){let n=[];function r(s,a){const l=y.createContext(a),c=n.length;n=[...n,a];const u=d=>{var v;const{scope:h,children:p,...g}=d,m=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,b=y.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:b,children:p})};u.displayName=s+"Provider";function f(d,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=y.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[u,f]}const i=()=>{const s=n.map(a=>y.createContext(a));return function(l){const c=(l==null?void 0:l[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,hL(i,...t)]}function hL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var pL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ve=pL.reduce((e,t)=>{const n=y.forwardRef((r,i)=>{const{asChild:s,...a}=r,l=s?As:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Fx(e,t){e&&La.flushSync(()=>e.dispatchEvent(t))}function dn(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function mL(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e);y.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var gL="DismissableLayer",Ev="dismissableLayer.update",vL="dismissableLayer.pointerDownOutside",yL="dismissableLayer.focusOutside",dS,ck=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sl=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=e,u=y.useContext(ck),[f,d]=y.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),g=Le(t,P=>d(P)),m=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(b),x=f?m.indexOf(f):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=x>=v,_=bL(P=>{const R=P.target,$=[...u.branches].some(k=>k.contains(R));!S||$||(i==null||i(P),a==null||a(P),P.defaultPrevented||l==null||l())},h),j=wL(P=>{const R=P.target;[...u.branches].some(k=>k.contains(R))||(s==null||s(P),a==null||a(P),P.defaultPrevented||l==null||l())},h);return mL(P=>{x===u.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},h),y.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(dS=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),fS(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=dS)}},[f,h,n,u]),y.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),fS())},[f,u]),y.useEffect(()=>{const P=()=>p({});return document.addEventListener(Ev,P),()=>document.removeEventListener(Ev,P)},[]),o.jsx(ve.div,{...c,ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:te(e.onFocusCapture,j.onFocusCapture),onBlurCapture:te(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:te(e.onPointerDownCapture,_.onPointerDownCapture)})});Sl.displayName=gL;var xL="DismissableLayerBranch",uk=y.forwardRef((e,t)=>{const n=y.useContext(ck),r=y.useRef(null),i=Le(t,r);return y.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),o.jsx(ve.div,{...e,ref:i})});uk.displayName=xL;function bL(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e),r=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){dk(vL,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function wL(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e),r=y.useRef(!1);return y.useEffect(()=>{const i=s=>{s.target&&!r.current&&dk(yL,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function fS(){const e=new CustomEvent(Ev);document.dispatchEvent(e)}function dk(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Fx(i,s):i.dispatchEvent(s)}var SL=Sl,jL=uk,fn=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},_L="Portal",Yu=y.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[i,s]=y.useState(!1);fn(()=>s(!0),[]);const a=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?ok.createPortal(o.jsx(ve.div,{...r,ref:t}),a):null});Yu.displayName=_L;function EL(e,t){return y.useReducer((n,r)=>t[n][r]??n,e)}var Cr=e=>{const{present:t,children:n}=e,r=CL(t),i=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),s=Le(r.ref,kL(i));return typeof n=="function"||r.isPresent?y.cloneElement(i,{ref:s}):null};Cr.displayName="Presence";function CL(e){const[t,n]=y.useState(),r=y.useRef({}),i=y.useRef(e),s=y.useRef("none"),a=e?"mounted":"unmounted",[l,c]=EL(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Bd(r.current);s.current=l==="mounted"?u:"none"},[l]),fn(()=>{const u=r.current,f=i.current;if(f!==e){const h=s.current,p=Bd(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),fn(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=p=>{const m=Bd(r.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!i.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=p=>{p.target===t&&(s.current=Bd(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Bd(e){return(e==null?void 0:e.animationName)||"none"}function kL(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Fi({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=PL({defaultProp:t,onChange:n}),s=e!==void 0,a=s?e:r,l=dn(n),c=y.useCallback(u=>{if(s){const d=typeof u=="function"?u(e):u;d!==e&&l(d)}else i(u)},[s,e,i,l]);return[a,c]}function PL({defaultProp:e,onChange:t}){const n=y.useState(e),[r]=n,i=y.useRef(r),s=dn(t);return y.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var RL="VisuallyHidden",Xu=y.forwardRef((e,t)=>o.jsx(ve.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Xu.displayName=RL;var NL=Xu,Lx="ToastProvider",[Mx,TL,AL]=Kh("Toast"),[fk,yre]=Hi("Toast",[AL]),[OL,Gh]=fk(Lx),hk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=e,[l,c]=y.useState(null),[u,f]=y.useState(0),d=y.useRef(!1),h=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Lx}\`. Expected non-empty \`string\`.`),o.jsx(Mx.Provider,{scope:t,children:o.jsx(OL,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:y.useCallback(()=>f(p=>p+1),[]),onToastRemove:y.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:a})})};hk.displayName=Lx;var pk="ToastViewport",IL=["F8"],Cv="toast.viewportPause",kv="toast.viewportResume",mk=y.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=IL,label:i="Notifications ({hotkey})",...s}=e,a=Gh(pk,n),l=TL(n),c=y.useRef(null),u=y.useRef(null),f=y.useRef(null),d=y.useRef(null),h=Le(t,d,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;y.useEffect(()=>{const b=v=>{var w;r.length!==0&&r.every(S=>v[S]||v.code===S)&&((w=d.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),y.useEffect(()=>{const b=c.current,v=d.current;if(g&&b&&v){const x=()=>{if(!a.isClosePausedRef.current){const j=new CustomEvent(Cv);v.dispatchEvent(j),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const j=new CustomEvent(kv);v.dispatchEvent(j),a.isClosePausedRef.current=!1}},S=j=>{!b.contains(j.relatedTarget)&&w()},_=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",x),b.addEventListener("focusout",S),b.addEventListener("pointermove",x),b.addEventListener("pointerleave",_),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",x),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",x),b.removeEventListener("pointerleave",_),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[g,a.isClosePausedRef]);const m=y.useCallback(({tabbingDirection:b})=>{const x=l().map(w=>{const S=w.ref.current,_=[S,...QL(S)];return b==="forwards"?_:_.reverse()});return(b==="forwards"?x.reverse():x).flat()},[l]);return y.useEffect(()=>{const b=d.current;if(b){const v=x=>{var _,j,P;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const R=document.activeElement,$=x.shiftKey;if(x.target===b&&$){(_=u.current)==null||_.focus();return}const I=m({tabbingDirection:$?"backwards":"forwards"}),U=I.findIndex(T=>T===R);km(I.slice(U+1))?x.preventDefault():$?(j=u.current)==null||j.focus():(P=f.current)==null||P.focus()}};return b.addEventListener("keydown",v),()=>b.removeEventListener("keydown",v)}},[l,m]),o.jsxs(jL,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&o.jsx(Pv,{ref:u,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"forwards"});km(b)}}),o.jsx(Mx.Slot,{scope:n,children:o.jsx(ve.ol,{tabIndex:-1,...s,ref:h})}),g&&o.jsx(Pv,{ref:f,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"backwards"});km(b)}})]})});mk.displayName=pk;var gk="ToastFocusProxy",Pv=y.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=Gh(gk,n);return o.jsx(Xu,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&r()}})});Pv.displayName=gk;var Yh="Toast",DL="toast.swipeStart",FL="toast.swipeMove",LL="toast.swipeCancel",ML="toast.swipeEnd",vk=y.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=e,[l=!0,c]=Fi({prop:r,defaultProp:i,onChange:s});return o.jsx(Cr,{present:n||l,children:o.jsx(zL,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:dn(e.onPause),onResume:dn(e.onResume),onSwipeStart:te(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:te(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:te(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:te(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});vk.displayName=Yh;var[$L,UL]=fk(Yh,{onClose(){}}),zL=y.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:p,...g}=e,m=Gh(Yh,n),[b,v]=y.useState(null),x=Le(t,T=>v(T)),w=y.useRef(null),S=y.useRef(null),_=i||m.duration,j=y.useRef(0),P=y.useRef(_),R=y.useRef(0),{onToastAdd:$,onToastRemove:k}=m,F=dn(()=>{var z;(b==null?void 0:b.contains(document.activeElement))&&((z=m.viewport)==null||z.focus()),a()}),I=y.useCallback(T=>{!T||T===1/0||(window.clearTimeout(R.current),j.current=new Date().getTime(),R.current=window.setTimeout(F,T))},[F]);y.useEffect(()=>{const T=m.viewport;if(T){const z=()=>{I(P.current),u==null||u()},A=()=>{const M=new Date().getTime()-j.current;P.current=P.current-M,window.clearTimeout(R.current),c==null||c()};return T.addEventListener(Cv,A),T.addEventListener(kv,z),()=>{T.removeEventListener(Cv,A),T.removeEventListener(kv,z)}}},[m.viewport,_,c,u,I]),y.useEffect(()=>{s&&!m.isClosePausedRef.current&&I(_)},[s,_,m.isClosePausedRef,I]),y.useEffect(()=>($(),()=>k()),[$,k]);const U=y.useMemo(()=>b?_k(b):null,[b]);return m.viewport?o.jsxs(o.Fragment,{children:[U&&o.jsx(BL,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),o.jsx($L,{scope:n,onClose:F,children:La.createPortal(o.jsx(Mx.ItemSlot,{scope:n,children:o.jsx(SL,{asChild:!0,onEscapeKeyDown:te(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||F(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:te(e.onKeyDown,T=>{T.key==="Escape"&&(l==null||l(T.nativeEvent),T.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:te(e.onPointerDown,T=>{T.button===0&&(w.current={x:T.clientX,y:T.clientY})}),onPointerMove:te(e.onPointerMove,T=>{if(!w.current)return;const z=T.clientX-w.current.x,A=T.clientY-w.current.y,M=!!S.current,E=["left","right"].includes(m.swipeDirection),O=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,C=E?O(0,z):0,D=E?0:O(0,A),B=T.pointerType==="touch"?10:2,N={x:C,y:D},ne={originalEvent:T,delta:N};M?(S.current=N,Hd(FL,d,ne,{discrete:!1})):hS(N,m.swipeDirection,B)?(S.current=N,Hd(DL,f,ne,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(z)>B||Math.abs(A)>B)&&(w.current=null)}),onPointerUp:te(e.onPointerUp,T=>{const z=S.current,A=T.target;if(A.hasPointerCapture(T.pointerId)&&A.releasePointerCapture(T.pointerId),S.current=null,w.current=null,z){const M=T.currentTarget,E={originalEvent:T,delta:z};hS(z,m.swipeDirection,m.swipeThreshold)?Hd(ML,p,E,{discrete:!0}):Hd(LL,h,E,{discrete:!0}),M.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),BL=e=>{const{__scopeToast:t,children:n,...r}=e,i=Gh(Yh,t),[s,a]=y.useState(!1),[l,c]=y.useState(!1);return WL(()=>a(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Yu,{asChild:!0,children:o.jsx(Xu,{...r,children:s&&o.jsxs(o.Fragment,{children:[i.label," ",n]})})})},HL="ToastTitle",yk=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(ve.div,{...r,ref:t})});yk.displayName=HL;var qL="ToastDescription",xk=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(ve.div,{...r,ref:t})});xk.displayName=qL;var bk="ToastAction",wk=y.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?o.jsx(jk,{altText:n,asChild:!0,children:o.jsx($x,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${bk}\`. Expected non-empty \`string\`.`),null)});wk.displayName=bk;var Sk="ToastClose",$x=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=UL(Sk,n);return o.jsx(jk,{asChild:!0,children:o.jsx(ve.button,{type:"button",...r,ref:t,onClick:te(e.onClick,i.onClose)})})});$x.displayName=Sk;var jk=y.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return o.jsx(ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function _k(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),VL(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(..._k(r))}}),t}function Hd(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Fx(i,s):i.dispatchEvent(s)}var hS=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return t==="left"||t==="right"?s&&r>n:!s&&i>n};function WL(e=()=>{}){const t=dn(e);fn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function VL(e){return e.nodeType===e.ELEMENT_NODE}function QL(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function km(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var KL=hk,Ek=mk,Ck=vk,kk=yk,Pk=xk,Rk=wk,Nk=$x;function Tk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Tk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ak(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Tk(e))&&(r&&(r+=" "),r+=t);return r}const pS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,mS=Ak,Ju=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return mS(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(u=>{const f=n==null?void 0:n[u],d=s==null?void 0:s[u];if(f===null)return null;const h=pS(f)||pS(d);return i[u][h]}),l=n&&Object.entries(n).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:d,className:h,...p}=f;return Object.entries(p).every(g=>{let[m,b]=g;return Array.isArray(b)?b.includes({...s,...l}[m]):{...s,...l}[m]===b})?[...u,d,h]:u},[]);return mS(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ok=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},c)=>y.createElement("svg",{ref:c,...YL,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Ok("lucide",i),...l},[...a.map(([u,f])=>y.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(e,t)=>{const n=y.forwardRef(({className:r,...i},s)=>y.createElement(XL,{ref:s,iconNode:t,className:Ok(`lucide-${GL(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=ye("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=ye("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=ye("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=ye("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=ye("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=ye("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=ye("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=ye("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=ye("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=ye("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=ye("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Wx="-",mM=e=>{const t=vM(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(Wx);return l[0]===""&&l.length!==1&&l.shift(),Uk(l,t)||gM(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},Uk=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?Uk(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(Wx);return(a=t.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},vS=/^\[(.+)\]$/,gM=e=>{if(vS.test(e)){const t=vS.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},vM=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return xM(Object.entries(e.classGroups),n).forEach(([s,a])=>{Nv(a,r,s,t)}),r},Nv=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:yS(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(yM(i)){Nv(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Nv(a,yS(t,s),n,r)})})},yS=(e,t)=>{let n=e;return t.split(Wx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},yM=e=>e.isThemeGetter,xM=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[t+a,l])):s);return[n,i]}):e,bM=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},zk="!",wM=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,a=l=>{const c=[];let u=0,f=0,d;for(let b=0;b<l.length;b++){let v=l[b];if(u===0){if(v===i&&(r||l.slice(b,b+s)===t)){c.push(l.slice(f,b)),f=b+s;continue}if(v==="/"){d=b;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?l:l.substring(f),p=h.startsWith(zk),g=p?h.substring(1):h,m=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return n?l=>n({className:l,parseClassName:a}):a},SM=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},jM=e=>({cache:bM(e.cacheSize),parseClassName:wM(e),...mM(e)}),_M=/\s+/,EM=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(_M);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let g=!!p,m=r(g?h.substring(0,p):h);if(!m){if(!g){l=u+(l.length>0?" "+l:l);continue}if(m=r(h),!m){l=u+(l.length>0?" "+l:l);continue}g=!1}const b=SM(f).join(":"),v=d?b+zk:b,x=v+m;if(s.includes(x))continue;s.push(x);const w=i(m,g);for(let S=0;S<w.length;++S){const _=w[S];s.push(v+_)}l=u+(l.length>0?" "+l:l)}return l};function CM(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Bk(t))&&(r&&(r+=" "),r+=n);return r}const Bk=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Bk(e[r]))&&(n&&(n+=" "),n+=t);return n};function kM(e,...t){let n,r,i,s=a;function a(c){const u=t.reduce((f,d)=>d(f),e());return n=jM(u),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const f=EM(c,n);return i(c,f),f}return function(){return s(CM.apply(null,arguments))}}const nt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Hk=/^\[(?:([a-z-]+):)?(.+)\]$/i,PM=/^\d+\/\d+$/,RM=new Set(["px","full","screen"]),NM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,OM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yi=e=>Mo(e)||RM.has(e)||PM.test(e),Gi=e=>jl(e,"length",BM),Mo=e=>!!e&&!Number.isNaN(Number(e)),Pm=e=>jl(e,"number",Mo),Gl=e=>!!e&&Number.isInteger(Number(e)),DM=e=>e.endsWith("%")&&Mo(e.slice(0,-1)),Ee=e=>Hk.test(e),Yi=e=>NM.test(e),FM=new Set(["length","size","percentage"]),LM=e=>jl(e,FM,qk),MM=e=>jl(e,"position",qk),$M=new Set(["image","url"]),UM=e=>jl(e,$M,qM),zM=e=>jl(e,"",HM),Yl=()=>!0,jl=(e,t,n)=>{const r=Hk.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},BM=e=>TM.test(e)&&!AM.test(e),qk=()=>!1,HM=e=>OM.test(e),qM=e=>IM.test(e),WM=()=>{const e=nt("colors"),t=nt("spacing"),n=nt("blur"),r=nt("brightness"),i=nt("borderColor"),s=nt("borderRadius"),a=nt("borderSpacing"),l=nt("borderWidth"),c=nt("contrast"),u=nt("grayscale"),f=nt("hueRotate"),d=nt("invert"),h=nt("gap"),p=nt("gradientColorStops"),g=nt("gradientColorStopPositions"),m=nt("inset"),b=nt("margin"),v=nt("opacity"),x=nt("padding"),w=nt("saturate"),S=nt("scale"),_=nt("sepia"),j=nt("skew"),P=nt("space"),R=nt("translate"),$=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Ee,t],I=()=>[Ee,t],U=()=>["",yi,Gi],T=()=>["auto",Mo,Ee],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",Ee],C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[Mo,Ee];return{cacheSize:500,separator:":",theme:{colors:[Yl],spacing:[yi,Gi],blur:["none","",Yi,Ee],brightness:D(),borderColor:[e],borderRadius:["none","","full",Yi,Ee],borderSpacing:I(),borderWidth:U(),contrast:D(),grayscale:O(),hueRotate:D(),invert:O(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[DM,Gi],inset:F(),margin:F(),opacity:D(),padding:I(),saturate:D(),scale:D(),sepia:O(),skew:D(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[Yi]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),Ee]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gl,Ee]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Gl,Ee]}],"grid-cols":[{"grid-cols":[Yl]}],"col-start-end":[{col:["auto",{span:["full",Gl,Ee]},Ee]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[Yl]}],"row-start-end":[{row:["auto",{span:[Gl,Ee]},Ee]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,t]}],"min-w":[{"min-w":[Ee,t,"min","max","fit"]}],"max-w":[{"max-w":[Ee,t,"none","full","min","max","fit","prose",{screen:[Yi]},Yi]}],h:[{h:[Ee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Yi,Gi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pm]}],"font-family":[{font:[Yl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",Mo,Pm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",yi,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",yi,Gi]}],"underline-offset":[{"underline-offset":["auto",yi,Ee]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),MM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",LM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},UM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:A()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[yi,Ee]}],"outline-w":[{outline:[yi,Gi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[yi,Gi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Yi,zM]}],"shadow-color":[{shadow:[Yl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Yi,Ee]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Gl,Ee]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[yi,Gi,Pm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},VM=kM(WM);/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */var Rm,xS;function bS(){if(xS)return Rm;xS=1;const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:i}=Object;let{freeze:s,seal:a,create:l}=Object,{apply:c,construct:u}=typeof Reflect<"u"&&Reflect;s||(s=function(oe){return oe}),a||(a=function(oe){return oe}),c||(c=function(oe,De,Re){return oe.apply(De,Re)}),u||(u=function(oe,De){return new oe(...De)});const f=R(Array.prototype.forEach),d=R(Array.prototype.lastIndexOf),h=R(Array.prototype.pop),p=R(Array.prototype.push),g=R(Array.prototype.splice),m=R(String.prototype.toLowerCase),b=R(String.prototype.toString),v=R(String.prototype.match),x=R(String.prototype.replace),w=R(String.prototype.indexOf),S=R(String.prototype.trim),_=R(Object.prototype.hasOwnProperty),j=R(RegExp.prototype.test),P=$(TypeError);function R(Pe){return function(oe){oe instanceof RegExp&&(oe.lastIndex=0);for(var De=arguments.length,Re=new Array(De>1?De-1:0),H=1;H<De;H++)Re[H-1]=arguments[H];return c(Pe,oe,Re)}}function $(Pe){return function(){for(var oe=arguments.length,De=new Array(oe),Re=0;Re<oe;Re++)De[Re]=arguments[Re];return u(Pe,De)}}function k(Pe,oe){let De=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m;t&&t(Pe,null);let Re=oe.length;for(;Re--;){let H=oe[Re];if(typeof H=="string"){const V=De(H);V!==H&&(n(oe)||(oe[Re]=V),H=V)}Pe[H]=!0}return Pe}function F(Pe){for(let oe=0;oe<Pe.length;oe++)_(Pe,oe)||(Pe[oe]=null);return Pe}function I(Pe){const oe=l(null);for(const[De,Re]of e(Pe))_(Pe,De)&&(Array.isArray(Re)?oe[De]=F(Re):Re&&typeof Re=="object"&&Re.constructor===Object?oe[De]=I(Re):oe[De]=Re);return oe}function U(Pe,oe){for(;Pe!==null;){const Re=i(Pe,oe);if(Re){if(Re.get)return R(Re.get);if(typeof Re.value=="function")return R(Re.value)}Pe=r(Pe)}function De(){return null}return De}const T=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),z=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),A=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),M=s(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),E=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),O=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),C=s(["#text"]),D=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),B=s(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),N=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ne=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ae=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Y=a(/<%[\w\W]*|[\w\W]*%>/gm),X=a(/\$\{[\w\W]*/gm),re=a(/^data-[\-\w.\u00B7-\uFFFF]+$/),le=a(/^aria-[\-\w]+$/),ue=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),we=a(/^(?:\w+script|data):/i),ke=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),pt=a(/^html$/i),Pt=a(/^[a-z][.\w]*(-[.\w]+)+$/i);var Rt=Object.freeze({__proto__:null,ARIA_ATTR:le,ATTR_WHITESPACE:ke,CUSTOM_ELEMENT:Pt,DATA_ATTR:re,DOCTYPE_NAME:pt,ERB_EXPR:Y,IS_ALLOWED_URI:ue,IS_SCRIPT_OR_DATA:we,MUSTACHE_EXPR:ae,TMPLIT_EXPR:X});const ct={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},cr=function(){return typeof window>"u"?null:window},Gs=function(oe,De){if(typeof oe!="object"||typeof oe.createPolicy!="function")return null;let Re=null;const H="data-tt-policy-suffix";De&&De.hasAttribute(H)&&(Re=De.getAttribute(H));const V="dompurify"+(Re?"#"+Re:"");try{return oe.createPolicy(V,{createHTML(fe){return fe},createScriptURL(fe){return fe}})}catch{return console.warn("TrustedTypes policy "+V+" could not be created."),null}},ut=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ur(){let Pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cr();const oe=de=>ur(de);if(oe.version="3.2.6",oe.removed=[],!Pe||!Pe.document||Pe.document.nodeType!==ct.document||!Pe.Element)return oe.isSupported=!1,oe;let{document:De}=Pe;const Re=De,H=Re.currentScript,{DocumentFragment:V,HTMLTemplateElement:fe,Node:xe,Element:Me,NodeFilter:Nt,NamedNodeMap:dr=Pe.NamedNodeMap||Pe.MozNamedAttrMap,HTMLFormElement:Tn,DOMParser:pi,trustedTypes:An}=Pe,We=Me.prototype,Qr=U(We,"cloneNode"),he=U(We,"remove"),Ke=U(We,"nextSibling"),Ve=U(We,"childNodes"),yn=U(We,"parentNode");if(typeof fe=="function"){const de=De.createElement("template");de.content&&de.content.ownerDocument&&(De=de.content.ownerDocument)}let Ye,Kr="";const{implementation:Fl,createNodeIterator:uI,createDocumentFragment:dI,getElementsByTagName:fI}=De,{importNode:hI}=Re;let xn=ut();oe.isSupported=typeof e=="function"&&typeof yn=="function"&&Fl&&Fl.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Mp,ERB_EXPR:$p,TMPLIT_EXPR:Up,DATA_ATTR:pI,ARIA_ATTR:mI,IS_SCRIPT_OR_DATA:gI,ATTR_WHITESPACE:Rw,CUSTOM_ELEMENT:vI}=Rt;let{IS_ALLOWED_URI:Nw}=Rt,Ft=null;const Tw=k({},[...T,...z,...A,...E,...C]);let Wt=null;const Aw=k({},[...D,...B,...N,...ne]);let bt=Object.seal(l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ll=null,zp=null,Ow=!0,Bp=!0,Iw=!1,Dw=!0,Wa=!1,vd=!0,Ys=!1,Hp=!1,qp=!1,Va=!1,yd=!1,xd=!1,Fw=!0,Lw=!1;const yI="user-content-";let Wp=!0,Ml=!1,Qa={},Ka=null;const Mw=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let $w=null;const Uw=k({},["audio","video","img","source","image","track"]);let Vp=null;const zw=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),bd="http://www.w3.org/1998/Math/MathML",wd="http://www.w3.org/2000/svg",mi="http://www.w3.org/1999/xhtml";let Ga=mi,Qp=!1,Kp=null;const xI=k({},[bd,wd,mi],b);let Sd=k({},["mi","mo","mn","ms","mtext"]),jd=k({},["annotation-xml"]);const bI=k({},["title","style","font","a","script"]);let $l=null;const wI=["application/xhtml+xml","text/html"],SI="text/html";let Lt=null,Ya=null;const jI=De.createElement("form"),Bw=function(L){return L instanceof RegExp||L instanceof Function},Gp=function(){let L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ya&&Ya===L)){if((!L||typeof L!="object")&&(L={}),L=I(L),$l=wI.indexOf(L.PARSER_MEDIA_TYPE)===-1?SI:L.PARSER_MEDIA_TYPE,Lt=$l==="application/xhtml+xml"?b:m,Ft=_(L,"ALLOWED_TAGS")?k({},L.ALLOWED_TAGS,Lt):Tw,Wt=_(L,"ALLOWED_ATTR")?k({},L.ALLOWED_ATTR,Lt):Aw,Kp=_(L,"ALLOWED_NAMESPACES")?k({},L.ALLOWED_NAMESPACES,b):xI,Vp=_(L,"ADD_URI_SAFE_ATTR")?k(I(zw),L.ADD_URI_SAFE_ATTR,Lt):zw,$w=_(L,"ADD_DATA_URI_TAGS")?k(I(Uw),L.ADD_DATA_URI_TAGS,Lt):Uw,Ka=_(L,"FORBID_CONTENTS")?k({},L.FORBID_CONTENTS,Lt):Mw,Ll=_(L,"FORBID_TAGS")?k({},L.FORBID_TAGS,Lt):I({}),zp=_(L,"FORBID_ATTR")?k({},L.FORBID_ATTR,Lt):I({}),Qa=_(L,"USE_PROFILES")?L.USE_PROFILES:!1,Ow=L.ALLOW_ARIA_ATTR!==!1,Bp=L.ALLOW_DATA_ATTR!==!1,Iw=L.ALLOW_UNKNOWN_PROTOCOLS||!1,Dw=L.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Wa=L.SAFE_FOR_TEMPLATES||!1,vd=L.SAFE_FOR_XML!==!1,Ys=L.WHOLE_DOCUMENT||!1,Va=L.RETURN_DOM||!1,yd=L.RETURN_DOM_FRAGMENT||!1,xd=L.RETURN_TRUSTED_TYPE||!1,qp=L.FORCE_BODY||!1,Fw=L.SANITIZE_DOM!==!1,Lw=L.SANITIZE_NAMED_PROPS||!1,Wp=L.KEEP_CONTENT!==!1,Ml=L.IN_PLACE||!1,Nw=L.ALLOWED_URI_REGEXP||ue,Ga=L.NAMESPACE||mi,Sd=L.MATHML_TEXT_INTEGRATION_POINTS||Sd,jd=L.HTML_INTEGRATION_POINTS||jd,bt=L.CUSTOM_ELEMENT_HANDLING||{},L.CUSTOM_ELEMENT_HANDLING&&Bw(L.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(bt.tagNameCheck=L.CUSTOM_ELEMENT_HANDLING.tagNameCheck),L.CUSTOM_ELEMENT_HANDLING&&Bw(L.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(bt.attributeNameCheck=L.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),L.CUSTOM_ELEMENT_HANDLING&&typeof L.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(bt.allowCustomizedBuiltInElements=L.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Wa&&(Bp=!1),yd&&(Va=!0),Qa&&(Ft=k({},C),Wt=[],Qa.html===!0&&(k(Ft,T),k(Wt,D)),Qa.svg===!0&&(k(Ft,z),k(Wt,B),k(Wt,ne)),Qa.svgFilters===!0&&(k(Ft,A),k(Wt,B),k(Wt,ne)),Qa.mathMl===!0&&(k(Ft,E),k(Wt,N),k(Wt,ne))),L.ADD_TAGS&&(Ft===Tw&&(Ft=I(Ft)),k(Ft,L.ADD_TAGS,Lt)),L.ADD_ATTR&&(Wt===Aw&&(Wt=I(Wt)),k(Wt,L.ADD_ATTR,Lt)),L.ADD_URI_SAFE_ATTR&&k(Vp,L.ADD_URI_SAFE_ATTR,Lt),L.FORBID_CONTENTS&&(Ka===Mw&&(Ka=I(Ka)),k(Ka,L.FORBID_CONTENTS,Lt)),Wp&&(Ft["#text"]=!0),Ys&&k(Ft,["html","head","body"]),Ft.table&&(k(Ft,["tbody"]),delete Ll.tbody),L.TRUSTED_TYPES_POLICY){if(typeof L.TRUSTED_TYPES_POLICY.createHTML!="function")throw P('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof L.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw P('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ye=L.TRUSTED_TYPES_POLICY,Kr=Ye.createHTML("")}else Ye===void 0&&(Ye=Gs(An,H)),Ye!==null&&typeof Kr=="string"&&(Kr=Ye.createHTML(""));s&&s(L),Ya=L}},Hw=k({},[...z,...A,...M]),qw=k({},[...E,...O]),_I=function(L){let J=yn(L);(!J||!J.tagName)&&(J={namespaceURI:Ga,tagName:"template"});const ce=m(L.tagName),at=m(J.tagName);return Kp[L.namespaceURI]?L.namespaceURI===wd?J.namespaceURI===mi?ce==="svg":J.namespaceURI===bd?ce==="svg"&&(at==="annotation-xml"||Sd[at]):!!Hw[ce]:L.namespaceURI===bd?J.namespaceURI===mi?ce==="math":J.namespaceURI===wd?ce==="math"&&jd[at]:!!qw[ce]:L.namespaceURI===mi?J.namespaceURI===wd&&!jd[at]||J.namespaceURI===bd&&!Sd[at]?!1:!qw[ce]&&(bI[ce]||!Hw[ce]):!!($l==="application/xhtml+xml"&&Kp[L.namespaceURI]):!1},Gr=function(L){p(oe.removed,{element:L});try{yn(L).removeChild(L)}catch{he(L)}},Xa=function(L,J){try{p(oe.removed,{attribute:J.getAttributeNode(L),from:J})}catch{p(oe.removed,{attribute:null,from:J})}if(J.removeAttribute(L),L==="is")if(Va||yd)try{Gr(J)}catch{}else try{J.setAttribute(L,"")}catch{}},Ww=function(L){let J=null,ce=null;if(qp)L="<remove></remove>"+L;else{const Tt=v(L,/^[\r\n\t ]+/);ce=Tt&&Tt[0]}$l==="application/xhtml+xml"&&Ga===mi&&(L='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+L+"</body></html>");const at=Ye?Ye.createHTML(L):L;if(Ga===mi)try{J=new pi().parseFromString(at,$l)}catch{}if(!J||!J.documentElement){J=Fl.createDocument(Ga,"template",null);try{J.documentElement.innerHTML=Qp?Kr:at}catch{}}const Xt=J.body||J.documentElement;return L&&ce&&Xt.insertBefore(De.createTextNode(ce),Xt.childNodes[0]||null),Ga===mi?fI.call(J,Ys?"html":"body")[0]:Ys?J.documentElement:Xt},Vw=function(L){return uI.call(L.ownerDocument||L,L,Nt.SHOW_ELEMENT|Nt.SHOW_COMMENT|Nt.SHOW_TEXT|Nt.SHOW_PROCESSING_INSTRUCTION|Nt.SHOW_CDATA_SECTION,null)},Yp=function(L){return L instanceof Tn&&(typeof L.nodeName!="string"||typeof L.textContent!="string"||typeof L.removeChild!="function"||!(L.attributes instanceof dr)||typeof L.removeAttribute!="function"||typeof L.setAttribute!="function"||typeof L.namespaceURI!="string"||typeof L.insertBefore!="function"||typeof L.hasChildNodes!="function")},Qw=function(L){return typeof xe=="function"&&L instanceof xe};function gi(de,L,J){f(de,ce=>{ce.call(oe,L,J,Ya)})}const Kw=function(L){let J=null;if(gi(xn.beforeSanitizeElements,L,null),Yp(L))return Gr(L),!0;const ce=Lt(L.nodeName);if(gi(xn.uponSanitizeElement,L,{tagName:ce,allowedTags:Ft}),vd&&L.hasChildNodes()&&!Qw(L.firstElementChild)&&j(/<[/\w!]/g,L.innerHTML)&&j(/<[/\w!]/g,L.textContent)||L.nodeType===ct.progressingInstruction||vd&&L.nodeType===ct.comment&&j(/<[/\w]/g,L.data))return Gr(L),!0;if(!Ft[ce]||Ll[ce]){if(!Ll[ce]&&Yw(ce)&&(bt.tagNameCheck instanceof RegExp&&j(bt.tagNameCheck,ce)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(ce)))return!1;if(Wp&&!Ka[ce]){const at=yn(L)||L.parentNode,Xt=Ve(L)||L.childNodes;if(Xt&&at){const Tt=Xt.length;for(let On=Tt-1;On>=0;--On){const vi=Qr(Xt[On],!0);vi.__removalCount=(L.__removalCount||0)+1,at.insertBefore(vi,Ke(L))}}}return Gr(L),!0}return L instanceof Me&&!_I(L)||(ce==="noscript"||ce==="noembed"||ce==="noframes")&&j(/<\/no(script|embed|frames)/i,L.innerHTML)?(Gr(L),!0):(Wa&&L.nodeType===ct.text&&(J=L.textContent,f([Mp,$p,Up],at=>{J=x(J,at," ")}),L.textContent!==J&&(p(oe.removed,{element:L.cloneNode()}),L.textContent=J)),gi(xn.afterSanitizeElements,L,null),!1)},Gw=function(L,J,ce){if(Fw&&(J==="id"||J==="name")&&(ce in De||ce in jI))return!1;if(!(Bp&&!zp[J]&&j(pI,J))){if(!(Ow&&j(mI,J))){if(!Wt[J]||zp[J]){if(!(Yw(L)&&(bt.tagNameCheck instanceof RegExp&&j(bt.tagNameCheck,L)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(L))&&(bt.attributeNameCheck instanceof RegExp&&j(bt.attributeNameCheck,J)||bt.attributeNameCheck instanceof Function&&bt.attributeNameCheck(J))||J==="is"&&bt.allowCustomizedBuiltInElements&&(bt.tagNameCheck instanceof RegExp&&j(bt.tagNameCheck,ce)||bt.tagNameCheck instanceof Function&&bt.tagNameCheck(ce))))return!1}else if(!Vp[J]){if(!j(Nw,x(ce,Rw,""))){if(!((J==="src"||J==="xlink:href"||J==="href")&&L!=="script"&&w(ce,"data:")===0&&$w[L])){if(!(Iw&&!j(gI,x(ce,Rw,"")))){if(ce)return!1}}}}}}return!0},Yw=function(L){return L!=="annotation-xml"&&v(L,vI)},Xw=function(L){gi(xn.beforeSanitizeAttributes,L,null);const{attributes:J}=L;if(!J||Yp(L))return;const ce={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Wt,forceKeepAttr:void 0};let at=J.length;for(;at--;){const Xt=J[at],{name:Tt,namespaceURI:On,value:vi}=Xt,Ul=Lt(Tt),Xp=vi;let Jt=Tt==="value"?Xp:S(Xp);if(ce.attrName=Ul,ce.attrValue=Jt,ce.keepAttr=!0,ce.forceKeepAttr=void 0,gi(xn.uponSanitizeAttribute,L,ce),Jt=ce.attrValue,Lw&&(Ul==="id"||Ul==="name")&&(Xa(Tt,L),Jt=yI+Jt),vd&&j(/((--!?|])>)|<\/(style|title)/i,Jt)){Xa(Tt,L);continue}if(ce.forceKeepAttr)continue;if(!ce.keepAttr){Xa(Tt,L);continue}if(!Dw&&j(/\/>/i,Jt)){Xa(Tt,L);continue}Wa&&f([Mp,$p,Up],Zw=>{Jt=x(Jt,Zw," ")});const Jw=Lt(L.nodeName);if(!Gw(Jw,Ul,Jt)){Xa(Tt,L);continue}if(Ye&&typeof An=="object"&&typeof An.getAttributeType=="function"&&!On)switch(An.getAttributeType(Jw,Ul)){case"TrustedHTML":{Jt=Ye.createHTML(Jt);break}case"TrustedScriptURL":{Jt=Ye.createScriptURL(Jt);break}}if(Jt!==Xp)try{On?L.setAttributeNS(On,Tt,Jt):L.setAttribute(Tt,Jt),Yp(L)?Gr(L):h(oe.removed)}catch{Xa(Tt,L)}}gi(xn.afterSanitizeAttributes,L,null)},EI=function de(L){let J=null;const ce=Vw(L);for(gi(xn.beforeSanitizeShadowDOM,L,null);J=ce.nextNode();)gi(xn.uponSanitizeShadowNode,J,null),Kw(J),Xw(J),J.content instanceof V&&de(J.content);gi(xn.afterSanitizeShadowDOM,L,null)};return oe.sanitize=function(de){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=null,ce=null,at=null,Xt=null;if(Qp=!de,Qp&&(de="<!-->"),typeof de!="string"&&!Qw(de))if(typeof de.toString=="function"){if(de=de.toString(),typeof de!="string")throw P("dirty is not a string, aborting")}else throw P("toString is not a function");if(!oe.isSupported)return de;if(Hp||Gp(L),oe.removed=[],typeof de=="string"&&(Ml=!1),Ml){if(de.nodeName){const vi=Lt(de.nodeName);if(!Ft[vi]||Ll[vi])throw P("root node is forbidden and cannot be sanitized in-place")}}else if(de instanceof xe)J=Ww("<!---->"),ce=J.ownerDocument.importNode(de,!0),ce.nodeType===ct.element&&ce.nodeName==="BODY"||ce.nodeName==="HTML"?J=ce:J.appendChild(ce);else{if(!Va&&!Wa&&!Ys&&de.indexOf("<")===-1)return Ye&&xd?Ye.createHTML(de):de;if(J=Ww(de),!J)return Va?null:xd?Kr:""}J&&qp&&Gr(J.firstChild);const Tt=Vw(Ml?de:J);for(;at=Tt.nextNode();)Kw(at),Xw(at),at.content instanceof V&&EI(at.content);if(Ml)return de;if(Va){if(yd)for(Xt=dI.call(J.ownerDocument);J.firstChild;)Xt.appendChild(J.firstChild);else Xt=J;return(Wt.shadowroot||Wt.shadowrootmode)&&(Xt=hI.call(Re,Xt,!0)),Xt}let On=Ys?J.outerHTML:J.innerHTML;return Ys&&Ft["!doctype"]&&J.ownerDocument&&J.ownerDocument.doctype&&J.ownerDocument.doctype.name&&j(pt,J.ownerDocument.doctype.name)&&(On="<!DOCTYPE "+J.ownerDocument.doctype.name+`>
`+On),Wa&&f([Mp,$p,Up],vi=>{On=x(On,vi," ")}),Ye&&xd?Ye.createHTML(On):On},oe.setConfig=function(){let de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Gp(de),Hp=!0},oe.clearConfig=function(){Ya=null,Hp=!1},oe.isValidAttribute=function(de,L,J){Ya||Gp({});const ce=Lt(de),at=Lt(L);return Gw(ce,at,J)},oe.addHook=function(de,L){typeof L=="function"&&p(xn[de],L)},oe.removeHook=function(de,L){if(L!==void 0){const J=d(xn[de],L);return J===-1?void 0:g(xn[de],J,1)[0]}return h(xn[de])},oe.removeHooks=function(de){xn[de]=[]},oe.removeAllHooks=function(){xn=ut()},oe}var Dl=ur();return Rm=Dl,Rm}window.DOMPurify||(window.DOMPurify=bS().default||bS());function se(...e){return VM(Ak(e))}const QM=KL,Wk=y.forwardRef(({className:e,...t},n)=>o.jsx(Ek,{ref:n,className:se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Wk.displayName=Ek.displayName;const KM=Ju("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Vk=y.forwardRef(({className:e,variant:t,...n},r)=>o.jsx(Ck,{ref:r,className:se(KM({variant:t}),e),...n}));Vk.displayName=Ck.displayName;const GM=y.forwardRef(({className:e,...t},n)=>o.jsx(Rk,{ref:n,className:se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));GM.displayName=Rk.displayName;const Qk=y.forwardRef(({className:e,...t},n)=>o.jsx(Nk,{ref:n,className:se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(Jh,{className:"h-4 w-4"})}));Qk.displayName=Nk.displayName;const Kk=y.forwardRef(({className:e,...t},n)=>o.jsx(kk,{ref:n,className:se("text-sm font-semibold",e),...t}));Kk.displayName=kk.displayName;const Gk=y.forwardRef(({className:e,...t},n)=>o.jsx(Pk,{ref:n,className:se("text-sm opacity-90",e),...t}));Gk.displayName=Pk.displayName;function YM(){const{toasts:e}=Dt();return o.jsxs(QM,{children:[e.map(function({id:t,title:n,description:r,action:i,...s}){return o.jsxs(Vk,{...s,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(Kk,{children:n}),r&&o.jsx(Gk,{children:r})]}),i,o.jsx(Qk,{})]},t)}),o.jsx(Wk,{})]})}var wS=["light","dark"],XM="(prefers-color-scheme: dark)",JM=y.createContext(void 0),ZM={setTheme:e=>{},themes:[]},e$=()=>{var e;return(e=y.useContext(JM))!=null?e:ZM};y.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,attrs:l,nonce:c})=>{let u=s==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=i?wS.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,m=!1,b=!0)=>{let v=a?a[g]:g,x=m?g+"|| ''":`'${v}'`,w="";return i&&b&&!m&&wS.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),n==="class"?m||v?w+=`c.add(${x})`:w+="null":v&&(w+=`d[s](n,${x})`),w},p=e?`!function(){${f}${h(e)}}()`:r?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${XM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${d}}catch(t){}}();`;return y.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var t$=e=>{switch(e){case"success":return i$;case"info":return a$;case"warning":return s$;case"error":return o$;default:return null}},n$=Array(12).fill(0),r$=({visible:e})=>q.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},q.createElement("div",{className:"sonner-spinner"},n$.map((t,n)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),i$=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),s$=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),a$=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),o$=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),l$=()=>{let[e,t]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Tv=1,c$=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Tv++,s=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:n}),{...l,...e,id:i,dismissible:a,title:n}):l):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0;return r.then(async s=>{if(d$(s)&&!s.ok){i=!1;let a=typeof t.error=="function"?await t.error(`HTTP error! status: ${s.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${s.status}`):t.description;this.create({id:n,type:"error",message:a,description:l})}else if(t.success!==void 0){i=!1;let a=typeof t.success=="function"?await t.success(s):t.success,l=typeof t.description=="function"?await t.description(s):t.description;this.create({id:n,type:"success",message:a,description:l})}}).catch(async s=>{if(t.error!==void 0){i=!1;let a=typeof t.error=="function"?await t.error(s):t.error,l=typeof t.description=="function"?await t.description(s):t.description;this.create({id:n,type:"error",message:a,description:l})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=t.finally)==null||s.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Tv++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},Kn=new c$,u$=(e,t)=>{let n=(t==null?void 0:t.id)||Tv++;return Kn.addToast({title:e,...t,id:n}),n},d$=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",f$=u$,h$=()=>Kn.toasts,jn=Object.assign(f$,{success:Kn.success,info:Kn.info,warning:Kn.warning,error:Kn.error,custom:Kn.custom,message:Kn.message,promise:Kn.promise,dismiss:Kn.dismiss,loading:Kn.loading},{getHistory:h$});function p$(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}p$(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function qd(e){return e.label!==void 0}var m$=3,g$="32px",v$=4e3,y$=356,x$=14,b$=20,w$=200;function S$(...e){return e.filter(Boolean).join(" ")}var j$=e=>{var t,n,r,i,s,a,l,c,u,f;let{invert:d,toast:h,unstyled:p,interacting:g,setHeights:m,visibleToasts:b,heights:v,index:x,toasts:w,expanded:S,removeToast:_,defaultRichColors:j,closeButton:P,style:R,cancelButtonStyle:$,actionButtonStyle:k,className:F="",descriptionClassName:I="",duration:U,position:T,gap:z,loadingIcon:A,expandByDefault:M,classNames:E,icons:O,closeButtonAriaLabel:C="Close toast",pauseWhenPageIsHidden:D,cn:B}=e,[N,ne]=q.useState(!1),[ae,Y]=q.useState(!1),[X,re]=q.useState(!1),[le,ue]=q.useState(!1),[we,ke]=q.useState(0),[pt,Pt]=q.useState(0),Rt=q.useRef(null),ct=q.useRef(null),cr=x===0,Gs=x+1<=b,ut=h.type,ur=h.dismissible!==!1,Dl=h.className||"",Pe=h.descriptionClassName||"",oe=q.useMemo(()=>v.findIndex(he=>he.toastId===h.id)||0,[v,h.id]),De=q.useMemo(()=>{var he;return(he=h.closeButton)!=null?he:P},[h.closeButton,P]),Re=q.useMemo(()=>h.duration||U||v$,[h.duration,U]),H=q.useRef(0),V=q.useRef(0),fe=q.useRef(0),xe=q.useRef(null),[Me,Nt]=T.split("-"),dr=q.useMemo(()=>v.reduce((he,Ke,Ve)=>Ve>=oe?he:he+Ke.height,0),[v,oe]),Tn=l$(),pi=h.invert||d,An=ut==="loading";V.current=q.useMemo(()=>oe*z+dr,[oe,dr]),q.useEffect(()=>{ne(!0)},[]),q.useLayoutEffect(()=>{if(!N)return;let he=ct.current,Ke=he.style.height;he.style.height="auto";let Ve=he.getBoundingClientRect().height;he.style.height=Ke,Pt(Ve),m(yn=>yn.find(Ye=>Ye.toastId===h.id)?yn.map(Ye=>Ye.toastId===h.id?{...Ye,height:Ve}:Ye):[{toastId:h.id,height:Ve,position:h.position},...yn])},[N,h.title,h.description,m,h.id]);let We=q.useCallback(()=>{Y(!0),ke(V.current),m(he=>he.filter(Ke=>Ke.toastId!==h.id)),setTimeout(()=>{_(h)},w$)},[h,_,m,V]);q.useEffect(()=>{if(h.promise&&ut==="loading"||h.duration===1/0||h.type==="loading")return;let he,Ke=Re;return S||g||D&&Tn?(()=>{if(fe.current<H.current){let Ve=new Date().getTime()-H.current;Ke=Ke-Ve}fe.current=new Date().getTime()})():Ke!==1/0&&(H.current=new Date().getTime(),he=setTimeout(()=>{var Ve;(Ve=h.onAutoClose)==null||Ve.call(h,h),We()},Ke)),()=>clearTimeout(he)},[S,g,M,h,Re,We,h.promise,ut,D,Tn]),q.useEffect(()=>{let he=ct.current;if(he){let Ke=he.getBoundingClientRect().height;return Pt(Ke),m(Ve=>[{toastId:h.id,height:Ke,position:h.position},...Ve]),()=>m(Ve=>Ve.filter(yn=>yn.toastId!==h.id))}},[m,h.id]),q.useEffect(()=>{h.delete&&We()},[We,h.delete]);function Qr(){return O!=null&&O.loading?q.createElement("div",{className:"sonner-loader","data-visible":ut==="loading"},O.loading):A?q.createElement("div",{className:"sonner-loader","data-visible":ut==="loading"},A):q.createElement(r$,{visible:ut==="loading"})}return q.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ct,className:B(F,Dl,E==null?void 0:E.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,E==null?void 0:E.default,E==null?void 0:E[ut],(n=h==null?void 0:h.classNames)==null?void 0:n[ut]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:j,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":N,"data-promise":!!h.promise,"data-removed":ae,"data-visible":Gs,"data-y-position":Me,"data-x-position":Nt,"data-index":x,"data-front":cr,"data-swiping":X,"data-dismissible":ur,"data-type":ut,"data-invert":pi,"data-swipe-out":le,"data-expanded":!!(S||M&&N),style:{"--index":x,"--toasts-before":x,"--z-index":w.length-x,"--offset":`${ae?we:V.current}px`,"--initial-height":M?"auto":`${pt}px`,...R,...h.style},onPointerDown:he=>{An||!ur||(Rt.current=new Date,ke(V.current),he.target.setPointerCapture(he.pointerId),he.target.tagName!=="BUTTON"&&(re(!0),xe.current={x:he.clientX,y:he.clientY}))},onPointerUp:()=>{var he,Ke,Ve,yn;if(le||!ur)return;xe.current=null;let Ye=Number(((he=ct.current)==null?void 0:he.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Kr=new Date().getTime()-((Ke=Rt.current)==null?void 0:Ke.getTime()),Fl=Math.abs(Ye)/Kr;if(Math.abs(Ye)>=b$||Fl>.11){ke(V.current),(Ve=h.onDismiss)==null||Ve.call(h,h),We(),ue(!0);return}(yn=ct.current)==null||yn.style.setProperty("--swipe-amount","0px"),re(!1)},onPointerMove:he=>{var Ke;if(!xe.current||!ur)return;let Ve=he.clientY-xe.current.y,yn=he.clientX-xe.current.x,Ye=(Me==="top"?Math.min:Math.max)(0,Ve),Kr=he.pointerType==="touch"?10:2;Math.abs(Ye)>Kr?(Ke=ct.current)==null||Ke.style.setProperty("--swipe-amount",`${Ve}px`):Math.abs(yn)>Kr&&(xe.current=null)}},De&&!h.jsx?q.createElement("button",{"aria-label":C,"data-disabled":An,"data-close-button":!0,onClick:An||!ur?()=>{}:()=>{var he;We(),(he=h.onDismiss)==null||he.call(h,h)},className:B(E==null?void 0:E.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||q.isValidElement(h.title)?h.jsx||h.title:q.createElement(q.Fragment,null,ut||h.icon||h.promise?q.createElement("div",{"data-icon":"",className:B(E==null?void 0:E.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Qr():null,h.type!=="loading"?h.icon||(O==null?void 0:O[ut])||t$(ut):null):null,q.createElement("div",{"data-content":"",className:B(E==null?void 0:E.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},q.createElement("div",{"data-title":"",className:B(E==null?void 0:E.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?q.createElement("div",{"data-description":"",className:B(I,Pe,E==null?void 0:E.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),q.isValidElement(h.cancel)?h.cancel:h.cancel&&qd(h.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||$,onClick:he=>{var Ke,Ve;qd(h.cancel)&&ur&&((Ve=(Ke=h.cancel).onClick)==null||Ve.call(Ke,he),We())},className:B(E==null?void 0:E.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,q.isValidElement(h.action)?h.action:h.action&&qd(h.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||k,onClick:he=>{var Ke,Ve;qd(h.action)&&(he.defaultPrevented||((Ve=(Ke=h.action).onClick)==null||Ve.call(Ke,he),We()))},className:B(E==null?void 0:E.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function SS(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var _$=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:a,offset:l,theme:c="light",richColors:u,duration:f,style:d,visibleToasts:h=m$,toastOptions:p,dir:g=SS(),gap:m=x$,loadingIcon:b,icons:v,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:w,cn:S=S$}=e,[_,j]=q.useState([]),P=q.useMemo(()=>Array.from(new Set([n].concat(_.filter(D=>D.position).map(D=>D.position)))),[_,n]),[R,$]=q.useState([]),[k,F]=q.useState(!1),[I,U]=q.useState(!1),[T,z]=q.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),A=q.useRef(null),M=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=q.useRef(null),O=q.useRef(!1),C=q.useCallback(D=>{var B;(B=_.find(N=>N.id===D.id))!=null&&B.delete||Kn.dismiss(D.id),j(N=>N.filter(({id:ne})=>ne!==D.id))},[_]);return q.useEffect(()=>Kn.subscribe(D=>{if(D.dismiss){j(B=>B.map(N=>N.id===D.id?{...N,delete:!0}:N));return}setTimeout(()=>{ok.flushSync(()=>{j(B=>{let N=B.findIndex(ne=>ne.id===D.id);return N!==-1?[...B.slice(0,N),{...B[N],...D},...B.slice(N+1)]:[D,...B]})})})}),[]),q.useEffect(()=>{if(c!=="system"){z(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:D})=>{z(D?"dark":"light")})},[c]),q.useEffect(()=>{_.length<=1&&F(!1)},[_]),q.useEffect(()=>{let D=B=>{var N,ne;r.every(ae=>B[ae]||B.code===ae)&&(F(!0),(N=A.current)==null||N.focus()),B.code==="Escape"&&(document.activeElement===A.current||(ne=A.current)!=null&&ne.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[r]),q.useEffect(()=>{if(A.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,O.current=!1)}},[A.current]),_.length?q.createElement("section",{"aria-label":`${x} ${M}`,tabIndex:-1},P.map((D,B)=>{var N;let[ne,ae]=D.split("-");return q.createElement("ol",{key:D,dir:g==="auto"?SS():g,tabIndex:-1,ref:A,className:a,"data-sonner-toaster":!0,"data-theme":T,"data-y-position":ne,"data-x-position":ae,style:{"--front-toast-height":`${((N=R[0])==null?void 0:N.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||g$,"--width":`${y$}px`,"--gap":`${m}px`,...d},onBlur:Y=>{O.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(O.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||O.current||(O.current=!0,E.current=Y.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{I||F(!1)},onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},_.filter(Y=>!Y.position&&B===0||Y.position===D).map((Y,X)=>{var re,le;return q.createElement(j$,{key:Y.id,icons:v,index:X,toast:Y,defaultRichColors:u,duration:(re=p==null?void 0:p.duration)!=null?re:f,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:h,closeButton:(le=p==null?void 0:p.closeButton)!=null?le:s,interacting:I,position:D,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:C,toasts:_.filter(ue=>ue.position==Y.position),heights:R.filter(ue=>ue.position==Y.position),setHeights:$,expandByDefault:i,gap:m,loadingIcon:b,expanded:k,pauseWhenPageIsHidden:w,cn:S})}))})):null};const E$=({...e})=>{const{theme:t="system"}=e$();return o.jsx(_$,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var C$=qy.useId||(()=>{}),k$=0;function $r(e){const[t,n]=y.useState(C$());return fn(()=>{e||n(r=>r??String(k$++))},[e]),e||(t?`radix-${t}`:"")}const P$=["top","right","bottom","left"],Os=Math.min,Yn=Math.max,oh=Math.round,Wd=Math.floor,Is=e=>({x:e,y:e}),R$={left:"right",right:"left",bottom:"top",top:"bottom"},N$={start:"end",end:"start"};function Av(e,t,n){return Yn(e,Os(t,n))}function Mi(e,t){return typeof e=="function"?e(t):e}function $i(e){return e.split("-")[0]}function _l(e){return e.split("-")[1]}function Vx(e){return e==="x"?"y":"x"}function Qx(e){return e==="y"?"height":"width"}function Ds(e){return["top","bottom"].includes($i(e))?"y":"x"}function Kx(e){return Vx(Ds(e))}function T$(e,t,n){n===void 0&&(n=!1);const r=_l(e),i=Kx(e),s=Qx(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=lh(a)),[a,lh(a)]}function A$(e){const t=lh(e);return[Ov(e),t,Ov(t)]}function Ov(e){return e.replace(/start|end/g,t=>N$[t])}function O$(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:a;default:return[]}}function I$(e,t,n,r){const i=_l(e);let s=O$($i(e),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(Ov)))),s}function lh(e){return e.replace(/left|right|bottom|top/g,t=>R$[t])}function D$(e){return{top:0,right:0,bottom:0,left:0,...e}}function Yk(e){return typeof e!="number"?D$(e):{top:e,right:e,bottom:e,left:e}}function ch(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function jS(e,t,n){let{reference:r,floating:i}=e;const s=Ds(t),a=Kx(t),l=Qx(a),c=$i(t),u=s==="y",f=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[l]/2-i[l]/2;let p;switch(c){case"top":p={x:f,y:r.y-i.height};break;case"bottom":p={x:f,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(_l(t)){case"start":p[a]-=h*(n&&u?-1:1);break;case"end":p[a]+=h*(n&&u?-1:1);break}return p}const F$=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:d}=jS(u,r,c),h=r,p={},g=0;for(let m=0;m<l.length;m++){const{name:b,fn:v}=l[m],{x,y:w,data:S,reset:_}=await v({x:f,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});f=x??f,d=w??d,p={...p,[b]:{...p[b],...S}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:f,y:d}=jS(u,h,c)),m=-1)}return{x:f,y:d,placement:h,strategy:i,middlewareData:p}};async function nu(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=Mi(t,e),g=Yk(p),b=l[h?d==="floating"?"reference":"floating":d],v=ch(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),x=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),S=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},_=ch(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(v.top-_.top+g.top)/S.y,bottom:(_.bottom-v.bottom+g.bottom)/S.y,left:(v.left-_.left+g.left)/S.x,right:(_.right-v.right+g.right)/S.x}}const L$=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=Mi(e,t)||{};if(u==null)return{};const d=Yk(f),h={x:n,y:r},p=Kx(i),g=Qx(p),m=await a.getDimensions(u),b=p==="y",v=b?"top":"left",x=b?"bottom":"right",w=b?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[p]-h[p]-s.floating[g],_=h[p]-s.reference[p],j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let P=j?j[w]:0;(!P||!await(a.isElement==null?void 0:a.isElement(j)))&&(P=l.floating[w]||s.floating[g]);const R=S/2-_/2,$=P/2-m[g]/2-1,k=Os(d[v],$),F=Os(d[x],$),I=k,U=P-m[g]-F,T=P/2-m[g]/2+R,z=Av(I,T,U),A=!c.arrow&&_l(i)!=null&&T!==z&&s.reference[g]/2-(T<I?k:F)-m[g]/2<0,M=A?T<I?T-I:T-U:0;return{[p]:h[p]+M,data:{[p]:z,centerOffset:T-z-M,...A&&{alignmentOffset:M}},reset:A}}}),M$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...b}=Mi(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=$i(i),x=Ds(l),w=$i(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(w||!m?[lh(l)]:A$(l)),j=g!=="none";!h&&j&&_.push(...I$(l,m,g,S));const P=[l,..._],R=await nu(t,b),$=[];let k=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&$.push(R[v]),d){const T=T$(i,a,S);$.push(R[T[0]],R[T[1]])}if(k=[...k,{placement:i,overflows:$}],!$.every(T=>T<=0)){var F,I;const T=(((F=s.flip)==null?void 0:F.index)||0)+1,z=P[T];if(z)return{data:{index:T,overflows:k},reset:{placement:z}};let A=(I=k.filter(M=>M.overflows[0]<=0).sort((M,E)=>M.overflows[1]-E.overflows[1])[0])==null?void 0:I.placement;if(!A)switch(p){case"bestFit":{var U;const M=(U=k.filter(E=>{if(j){const O=Ds(E.placement);return O===x||O==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(O=>O>0).reduce((O,C)=>O+C,0)]).sort((E,O)=>E[1]-O[1])[0])==null?void 0:U[0];M&&(A=M);break}case"initialPlacement":A=l;break}if(i!==A)return{reset:{placement:A}}}return{}}}};function _S(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ES(e){return P$.some(t=>e[t]>=0)}const $$=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Mi(e,t);switch(r){case"referenceHidden":{const s=await nu(t,{...i,elementContext:"reference"}),a=_S(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:ES(a)}}}case"escaped":{const s=await nu(t,{...i,altBoundary:!0}),a=_S(s,n.floating);return{data:{escapedOffsets:a,escaped:ES(a)}}}default:return{}}}}};async function U$(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=$i(n),l=_l(n),c=Ds(n)==="y",u=["left","top"].includes(a)?-1:1,f=s&&c?-1:1,d=Mi(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*f,y:h*u}:{x:h*u,y:p*f}}const z$=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:l}=t,c=await U$(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},B$=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x:v,y:x}=b;return{x:v,y:x}}},...c}=Mi(e,t),u={x:n,y:r},f=await nu(t,c),d=Ds($i(i)),h=Vx(d);let p=u[h],g=u[d];if(s){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=p+f[b],w=p-f[v];p=Av(x,p,w)}if(a){const b=d==="y"?"top":"left",v=d==="y"?"bottom":"right",x=g+f[b],w=g-f[v];g=Av(x,g,w)}const m=l.fn({...t,[h]:p,[d]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:s,[d]:a}}}}}},H$=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Mi(e,t),f={x:n,y:r},d=Ds(i),h=Vx(d);let p=f[h],g=f[d];const m=Mi(l,t),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=h==="y"?"height":"width",S=s.reference[h]-s.floating[w]+b.mainAxis,_=s.reference[h]+s.reference[w]-b.mainAxis;p<S?p=S:p>_&&(p=_)}if(u){var v,x;const w=h==="y"?"width":"height",S=["top","left"].includes($i(i)),_=s.reference[d]-s.floating[w]+(S&&((v=a.offset)==null?void 0:v[d])||0)+(S?0:b.crossAxis),j=s.reference[d]+s.reference[w]+(S?0:((x=a.offset)==null?void 0:x[d])||0)-(S?b.crossAxis:0);g<_?g=_:g>j&&(g=j)}return{[h]:p,[d]:g}}}},q$=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:l}=t,{apply:c=()=>{},...u}=Mi(e,t),f=await nu(t,u),d=$i(i),h=_l(i),p=Ds(i)==="y",{width:g,height:m}=s.floating;let b,v;d==="top"||d==="bottom"?(b=d,v=h===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(v=d,b=h==="end"?"top":"bottom");const x=m-f.top-f.bottom,w=g-f.left-f.right,S=Os(m-f[b],x),_=Os(g-f[v],w),j=!t.middlewareData.shift;let P=S,R=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(P=x),j&&!h){const k=Yn(f.left,0),F=Yn(f.right,0),I=Yn(f.top,0),U=Yn(f.bottom,0);p?R=g-2*(k!==0||F!==0?k+F:Yn(f.left,f.right)):P=m-2*(I!==0||U!==0?I+U:Yn(f.top,f.bottom))}await c({...t,availableWidth:R,availableHeight:P});const $=await a.getDimensions(l.floating);return g!==$.width||m!==$.height?{reset:{rects:!0}}:{}}}};function Zh(){return typeof window<"u"}function El(e){return Xk(e)?(e.nodeName||"").toLowerCase():"#document"}function tr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fi(e){var t;return(t=(Xk(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Xk(e){return Zh()?e instanceof Node||e instanceof tr(e).Node:!1}function Hr(e){return Zh()?e instanceof Element||e instanceof tr(e).Element:!1}function ui(e){return Zh()?e instanceof HTMLElement||e instanceof tr(e).HTMLElement:!1}function CS(e){return!Zh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof tr(e).ShadowRoot}function td(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=qr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function W$(e){return["table","td","th"].includes(El(e))}function ep(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Gx(e){const t=Yx(),n=Hr(e)?qr(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function V$(e){let t=Fs(e);for(;ui(t)&&!ll(t);){if(Gx(t))return t;if(ep(t))return null;t=Fs(t)}return null}function Yx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ll(e){return["html","body","#document"].includes(El(e))}function qr(e){return tr(e).getComputedStyle(e)}function tp(e){return Hr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fs(e){if(El(e)==="html")return e;const t=e.assignedSlot||e.parentNode||CS(e)&&e.host||fi(e);return CS(t)?t.host:t}function Jk(e){const t=Fs(e);return ll(t)?e.ownerDocument?e.ownerDocument.body:e.body:ui(t)&&td(t)?t:Jk(t)}function ru(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Jk(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=tr(i);if(s){const l=Iv(a);return t.concat(a,a.visualViewport||[],td(i)?i:[],l&&n?ru(l):[])}return t.concat(i,ru(i,[],n))}function Iv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Zk(e){const t=qr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ui(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,l=oh(n)!==s||oh(r)!==a;return l&&(n=s,r=a),{width:n,height:r,$:l}}function Xx(e){return Hr(e)?e:e.contextElement}function $o(e){const t=Xx(e);if(!ui(t))return Is(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=Zk(t);let a=(s?oh(n.width):n.width)/r,l=(s?oh(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Q$=Is(0);function eP(e){const t=tr(e);return!Yx()||!t.visualViewport?Q$:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function K$(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==tr(e)?!1:t}function Na(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=Xx(e);let a=Is(1);t&&(r?Hr(r)&&(a=$o(r)):a=$o(e));const l=K$(s,n,r)?eP(s):Is(0);let c=(i.left+l.x)/a.x,u=(i.top+l.y)/a.y,f=i.width/a.x,d=i.height/a.y;if(s){const h=tr(s),p=r&&Hr(r)?tr(r):r;let g=h,m=Iv(g);for(;m&&r&&p!==g;){const b=$o(m),v=m.getBoundingClientRect(),x=qr(m),w=v.left+(m.clientLeft+parseFloat(x.paddingLeft))*b.x,S=v.top+(m.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,u*=b.y,f*=b.x,d*=b.y,c+=w,u+=S,g=tr(m),m=Iv(g)}}return ch({width:f,height:d,x:c,y:u})}function G$(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=fi(r),l=t?ep(t.floating):!1;if(r===a||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Is(1);const f=Is(0),d=ui(r);if((d||!d&&!s)&&((El(r)!=="body"||td(a))&&(c=tp(r)),ui(r))){const h=Na(r);u=$o(r),f.x=h.x+r.clientLeft,f.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x,y:n.y*u.y-c.scrollTop*u.y+f.y}}function Y$(e){return Array.from(e.getClientRects())}function Dv(e,t){const n=tp(e).scrollLeft;return t?t.left+n:Na(fi(e)).left+n}function X$(e){const t=fi(e),n=tp(e),r=e.ownerDocument.body,i=Yn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Yn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Dv(e);const l=-n.scrollTop;return qr(r).direction==="rtl"&&(a+=Yn(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:l}}function J$(e,t){const n=tr(e),r=fi(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,l=0,c=0;if(i){s=i.width,a=i.height;const u=Yx();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:l,y:c}}function Z$(e,t){const n=Na(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=ui(e)?$o(e):Is(1),a=e.clientWidth*s.x,l=e.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:l,x:c,y:u}}function kS(e,t,n){let r;if(t==="viewport")r=J$(e,n);else if(t==="document")r=X$(fi(e));else if(Hr(t))r=Z$(t,n);else{const i=eP(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return ch(r)}function tP(e,t){const n=Fs(e);return n===t||!Hr(n)||ll(n)?!1:qr(n).position==="fixed"||tP(n,t)}function e4(e,t){const n=t.get(e);if(n)return n;let r=ru(e,[],!1).filter(l=>Hr(l)&&El(l)!=="body"),i=null;const s=qr(e).position==="fixed";let a=s?Fs(e):e;for(;Hr(a)&&!ll(a);){const l=qr(a),c=Gx(a);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||td(a)&&!c&&tP(e,a))?r=r.filter(f=>f!==a):i=l,a=Fs(a)}return t.set(e,r),r}function t4(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?ep(t)?[]:e4(t,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,f)=>{const d=kS(t,f,i);return u.top=Yn(d.top,u.top),u.right=Os(d.right,u.right),u.bottom=Os(d.bottom,u.bottom),u.left=Yn(d.left,u.left),u},kS(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function n4(e){const{width:t,height:n}=Zk(e);return{width:t,height:n}}function r4(e,t,n){const r=ui(t),i=fi(t),s=n==="fixed",a=Na(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Is(0);if(r||!r&&!s)if((El(t)!=="body"||td(i))&&(l=tp(t)),r){const p=Na(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&(c.x=Dv(i));let u=0,f=0;if(i&&!r&&!s){const p=i.getBoundingClientRect();f=p.top+l.scrollTop,u=p.left+l.scrollLeft-Dv(i,p)}const d=a.left+l.scrollLeft-c.x-u,h=a.top+l.scrollTop-c.y-f;return{x:d,y:h,width:a.width,height:a.height}}function Nm(e){return qr(e).position==="static"}function PS(e,t){if(!ui(e)||qr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return fi(e)===n&&(n=n.ownerDocument.body),n}function nP(e,t){const n=tr(e);if(ep(e))return n;if(!ui(e)){let i=Fs(e);for(;i&&!ll(i);){if(Hr(i)&&!Nm(i))return i;i=Fs(i)}return n}let r=PS(e,t);for(;r&&W$(r)&&Nm(r);)r=PS(r,t);return r&&ll(r)&&Nm(r)&&!Gx(r)?n:r||V$(e)||n}const i4=async function(e){const t=this.getOffsetParent||nP,n=this.getDimensions,r=await n(e.floating);return{reference:r4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function s4(e){return qr(e).direction==="rtl"}const a4={convertOffsetParentRelativeRectToViewportRelativeRect:G$,getDocumentElement:fi,getClippingRect:t4,getOffsetParent:nP,getElementRects:i4,getClientRects:Y$,getDimensions:n4,getScale:$o,isElement:Hr,isRTL:s4};function o4(e,t){let n=null,r;const i=fi(e);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const{left:u,top:f,width:d,height:h}=e.getBoundingClientRect();if(l||t(),!d||!h)return;const p=Wd(f),g=Wd(i.clientWidth-(u+d)),m=Wd(i.clientHeight-(f+h)),b=Wd(u),x={rootMargin:-p+"px "+-g+"px "+-m+"px "+-b+"px",threshold:Yn(0,Os(1,c))||1};let w=!0;function S(_){const j=_[0].intersectionRatio;if(j!==c){if(!w)return a();j?a(!1,j):r=setTimeout(()=>{a(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(S,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,x)}n.observe(e)}return a(!0),s}function l4(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Xx(e),f=i||s?[...u?ru(u):[],...ru(t)]:[];f.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const d=u&&l?o4(u,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(v=>{let[x]=v;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let g,m=c?Na(e):null;c&&b();function b(){const v=Na(e);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,g=requestAnimationFrame(b)}return n(),()=>{var v;f.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const c4=z$,u4=B$,d4=M$,f4=q$,h4=$$,RS=L$,p4=H$,m4=(e,t,n)=>{const r=new Map,i={platform:a4,...n},s={...i.platform,_c:r};return F$(e,t,{...i,platform:s})};var Pf=typeof document<"u"?y.useLayoutEffect:y.useEffect;function uh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!uh(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!uh(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function rP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function NS(e,t){const n=rP(e);return Math.round(t*n)/n}function Tm(e){const t=y.useRef(e);return Pf(()=>{t.current=e}),t}function g4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,d]=y.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=y.useState(r);uh(h,r)||p(r);const[g,m]=y.useState(null),[b,v]=y.useState(null),x=y.useCallback(E=>{E!==j.current&&(j.current=E,m(E))},[]),w=y.useCallback(E=>{E!==P.current&&(P.current=E,v(E))},[]),S=s||g,_=a||b,j=y.useRef(null),P=y.useRef(null),R=y.useRef(f),$=c!=null,k=Tm(c),F=Tm(i),I=Tm(u),U=y.useCallback(()=>{if(!j.current||!P.current)return;const E={placement:t,strategy:n,middleware:h};F.current&&(E.platform=F.current),m4(j.current,P.current,E).then(O=>{const C={...O,isPositioned:I.current!==!1};T.current&&!uh(R.current,C)&&(R.current=C,La.flushSync(()=>{d(C)}))})},[h,t,n,F,I]);Pf(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,d(E=>({...E,isPositioned:!1})))},[u]);const T=y.useRef(!1);Pf(()=>(T.current=!0,()=>{T.current=!1}),[]),Pf(()=>{if(S&&(j.current=S),_&&(P.current=_),S&&_){if(k.current)return k.current(S,_,U);U()}},[S,_,U,k,$]);const z=y.useMemo(()=>({reference:j,floating:P,setReference:x,setFloating:w}),[x,w]),A=y.useMemo(()=>({reference:S,floating:_}),[S,_]),M=y.useMemo(()=>{const E={position:n,left:0,top:0};if(!A.floating)return E;const O=NS(A.floating,f.x),C=NS(A.floating,f.y);return l?{...E,transform:"translate("+O+"px, "+C+"px)",...rP(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:O,top:C}},[n,l,A.floating,f.x,f.y]);return y.useMemo(()=>({...f,update:U,refs:z,elements:A,floatingStyles:M}),[f,U,z,A,M])}const v4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?RS({element:r.current,padding:i}).fn(n):{}:r?RS({element:r,padding:i}).fn(n):{}}}},y4=(e,t)=>({...c4(e),options:[e,t]}),x4=(e,t)=>({...u4(e),options:[e,t]}),b4=(e,t)=>({...p4(e),options:[e,t]}),w4=(e,t)=>({...d4(e),options:[e,t]}),S4=(e,t)=>({...f4(e),options:[e,t]}),j4=(e,t)=>({...h4(e),options:[e,t]}),_4=(e,t)=>({...v4(e),options:[e,t]});var E4="Arrow",iP=y.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return o.jsx(ve.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});iP.displayName=E4;var C4=iP;function k4(e,t=[]){let n=[];function r(s,a){const l=y.createContext(a),c=n.length;n=[...n,a];function u(d){const{scope:h,children:p,...g}=d,m=(h==null?void 0:h[e][c])||l,b=y.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:b,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,g=y.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,f]}const i=()=>{const s=n.map(a=>y.createContext(a));return function(l){const c=(l==null?void 0:l[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,P4(i,...t)]}function P4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function sP(e){const[t,n]=y.useState(void 0);return fn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Jx="Popper",[aP,Cl]=k4(Jx),[R4,oP]=aP(Jx),lP=e=>{const{__scopePopper:t,children:n}=e,[r,i]=y.useState(null);return o.jsx(R4,{scope:t,anchor:r,onAnchorChange:i,children:n})};lP.displayName=Jx;var cP="PopperAnchor",uP=y.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=oP(cP,n),a=y.useRef(null),l=Le(t,a);return y.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(ve.div,{...i,ref:l})});uP.displayName=cP;var Zx="PopperContent",[N4,T4]=aP(Zx),dP=y.forwardRef((e,t)=>{var X,re,le,ue,we,ke;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,b=oP(Zx,n),[v,x]=y.useState(null),w=Le(t,pt=>x(pt)),[S,_]=y.useState(null),j=sP(S),P=(j==null?void 0:j.width)??0,R=(j==null?void 0:j.height)??0,$=r+(s!=="center"?"-"+s:""),k=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},F=Array.isArray(u)?u:[u],I=F.length>0,U={padding:k,boundary:F.filter(O4),altBoundary:I},{refs:T,floatingStyles:z,placement:A,isPositioned:M,middlewareData:E}=g4({strategy:"fixed",placement:$,whileElementsMounted:(...pt)=>l4(...pt,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[y4({mainAxis:i+R,alignmentAxis:a}),c&&x4({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?b4():void 0,...U}),c&&w4({...U}),S4({...U,apply:({elements:pt,rects:Pt,availableWidth:Rt,availableHeight:ct})=>{const{width:cr,height:Gs}=Pt.reference,ut=pt.floating.style;ut.setProperty("--radix-popper-available-width",`${Rt}px`),ut.setProperty("--radix-popper-available-height",`${ct}px`),ut.setProperty("--radix-popper-anchor-width",`${cr}px`),ut.setProperty("--radix-popper-anchor-height",`${Gs}px`)}}),S&&_4({element:S,padding:l}),I4({arrowWidth:P,arrowHeight:R}),h&&j4({strategy:"referenceHidden",...U})]}),[O,C]=pP(A),D=dn(g);fn(()=>{M&&(D==null||D())},[M,D]);const B=(X=E.arrow)==null?void 0:X.x,N=(re=E.arrow)==null?void 0:re.y,ne=((le=E.arrow)==null?void 0:le.centerOffset)!==0,[ae,Y]=y.useState();return fn(()=>{v&&Y(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:M?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(ue=E.transformOrigin)==null?void 0:ue.x,(we=E.transformOrigin)==null?void 0:we.y].join(" "),...((ke=E.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(N4,{scope:n,placedSide:O,onArrowChange:_,arrowX:B,arrowY:N,shouldHideArrow:ne,children:o.jsx(ve.div,{"data-side":O,"data-align":C,...m,ref:w,style:{...m.style,animation:M?void 0:"none"}})})})});dP.displayName=Zx;var fP="PopperArrow",A4={top:"bottom",right:"left",bottom:"top",left:"right"},hP=y.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=T4(fP,r),a=A4[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(C4,{...i,ref:n,style:{...i.style,display:"block"}})})});hP.displayName=fP;function O4(e){return e!==null}var I4=e=>({name:"transformOrigin",options:e,fn(t){var b,v,x;const{placement:n,rects:r,middlewareData:i}=t,a=((b=i.arrow)==null?void 0:b.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,f]=pP(n),d={start:"0%",center:"50%",end:"100%"}[f],h=(((v=i.arrow)==null?void 0:v.x)??0)+l/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=a?d:`${h}px`,m=`${-c}px`):u==="top"?(g=a?d:`${h}px`,m=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=a?d:`${p}px`):u==="left"&&(g=`${r.floating.width+c}px`,m=a?d:`${p}px`),{data:{x:g,y:m}}}});function pP(e){const[t,n="center"]=e.split("-");return[t,n]}var eb=lP,tb=uP,nb=dP,rb=hP,[np,xre]=Hi("Tooltip",[Cl]),rp=Cl(),mP="TooltipProvider",D4=700,Fv="tooltip.open",[F4,ib]=np(mP),gP=e=>{const{__scopeTooltip:t,delayDuration:n=D4,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,[a,l]=y.useState(!0),c=y.useRef(!1),u=y.useRef(0);return y.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),o.jsx(F4,{scope:t,isOpenDelayed:a,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:y.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:y.useCallback(f=>{c.current=f},[]),disableHoverableContent:i,children:s})};gP.displayName=mP;var ip="Tooltip",[L4,sp]=np(ip),vP=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:a,delayDuration:l}=e,c=ib(ip,e.__scopeTooltip),u=rp(t),[f,d]=y.useState(null),h=$r(),p=y.useRef(0),g=a??c.disableHoverableContent,m=l??c.delayDuration,b=y.useRef(!1),[v=!1,x]=Fi({prop:r,defaultProp:i,onChange:P=>{P?(c.onOpen(),document.dispatchEvent(new CustomEvent(Fv))):c.onClose(),s==null||s(P)}}),w=y.useMemo(()=>v?b.current?"delayed-open":"instant-open":"closed",[v]),S=y.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,x(!0)},[x]),_=y.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),j=y.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,x(!0),p.current=0},m)},[m,x]);return y.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),o.jsx(eb,{...u,children:o.jsx(L4,{scope:t,contentId:h,open:v,stateAttribute:w,trigger:f,onTriggerChange:d,onTriggerEnter:y.useCallback(()=>{c.isOpenDelayed?j():S()},[c.isOpenDelayed,j,S]),onTriggerLeave:y.useCallback(()=>{g?_():(window.clearTimeout(p.current),p.current=0)},[_,g]),onOpen:S,onClose:_,disableHoverableContent:g,children:n})})};vP.displayName=ip;var Lv="TooltipTrigger",yP=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=sp(Lv,n),s=ib(Lv,n),a=rp(n),l=y.useRef(null),c=Le(t,l,i.onTriggerChange),u=y.useRef(!1),f=y.useRef(!1),d=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),o.jsx(tb,{asChild:!0,...a,children:o.jsx(ve.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:te(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:te(e.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:te(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:te(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:te(e.onBlur,i.onClose),onClick:te(e.onClick,i.onClose)})})});yP.displayName=Lv;var M4="TooltipPortal",[bre,$4]=np(M4,{forceMount:void 0}),cl="TooltipContent",xP=y.forwardRef((e,t)=>{const n=$4(cl,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,a=sp(cl,e.__scopeTooltip);return o.jsx(Cr,{present:r||a.open,children:a.disableHoverableContent?o.jsx(bP,{side:i,...s,ref:t}):o.jsx(U4,{side:i,...s,ref:t})})}),U4=y.forwardRef((e,t)=>{const n=sp(cl,e.__scopeTooltip),r=ib(cl,e.__scopeTooltip),i=y.useRef(null),s=Le(t,i),[a,l]=y.useState(null),{trigger:c,onClose:u}=n,f=i.current,{onPointerInTransitChange:d}=r,h=y.useCallback(()=>{l(null),d(!1)},[d]),p=y.useCallback((g,m)=>{const b=g.currentTarget,v={x:g.clientX,y:g.clientY},x=q4(v,b.getBoundingClientRect()),w=W4(v,x),S=V4(m.getBoundingClientRect()),_=K4([...w,...S]);l(_),d(!0)},[d]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(c&&f){const g=b=>p(b,f),m=b=>p(b,c);return c.addEventListener("pointerleave",g),f.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",g),f.removeEventListener("pointerleave",m)}}},[c,f,p,h]),y.useEffect(()=>{if(a){const g=m=>{const b=m.target,v={x:m.clientX,y:m.clientY},x=(c==null?void 0:c.contains(b))||(f==null?void 0:f.contains(b)),w=!Q4(v,a);x?h():w&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,f,a,u,h]),o.jsx(bP,{...e,ref:s})}),[z4,B4]=np(ip,{isInside:!1}),bP=y.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...l}=e,c=sp(cl,n),u=rp(n),{onClose:f}=c;return y.useEffect(()=>(document.addEventListener(Fv,f),()=>document.removeEventListener(Fv,f)),[f]),y.useEffect(()=>{if(c.trigger){const d=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),o.jsx(Sl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:o.jsxs(nb,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Dx,{children:r}),o.jsx(z4,{scope:n,isInside:!0,children:o.jsx(NL,{id:c.contentId,role:"tooltip",children:i||r})})]})})});xP.displayName=cl;var wP="TooltipArrow",H4=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=rp(n);return B4(wP,n).isInside?null:o.jsx(rb,{...i,...r,ref:t})});H4.displayName=wP;function q4(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function W4(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function V4(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function Q4(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const l=t[s].x,c=t[s].y,u=t[a].x,f=t[a].y;c>r!=f>r&&n<(u-l)*(r-c)/(f-c)+l&&(i=!i)}return i}function K4(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),G4(t)}function G4(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Y4=gP,X4=vP,J4=yP,SP=xP;const ra=Y4,Za=X4,eo=J4,ia=y.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(SP,{ref:r,sideOffset:t,className:se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));ia.displayName=SP.displayName;var ap=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},op=typeof window>"u"||"Deno"in globalThis;function Ar(){}function Z4(e,t){return typeof e=="function"?e(t):e}function e3(e){return typeof e=="number"&&e>=0&&e!==1/0}function t3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function TS(e,t){return typeof e=="function"?e(t):e}function n3(e,t){return typeof e=="function"?e(t):e}function AS(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:l}=e;if(a){if(r){if(t.queryHash!==sb(a,t.options))return!1}else if(!su(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||s&&!s(t))}function OS(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(iu(t.options.mutationKey)!==iu(s))return!1}else if(!su(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function sb(e,t){return((t==null?void 0:t.queryKeyHashFn)||iu)(e)}function iu(e){return JSON.stringify(e,(t,n)=>Mv(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function su(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!su(e[n],t[n])):!1}function jP(e,t){if(e===t)return e;const n=IS(e)&&IS(t);if(n||Mv(e)&&Mv(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),a=s.length,l=n?[]:{};let c=0;for(let u=0;u<a;u++){const f=n?u:s[u];(!n&&r.includes(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,c++):(l[f]=jP(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&c++)}return i===a&&c===i?e:l}return t}function IS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Mv(e){if(!DS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!DS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function DS(e){return Object.prototype.toString.call(e)==="[object Object]"}function r3(e){return new Promise(t=>{setTimeout(t,e)})}function i3(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?jP(e,t):t}function s3(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function a3(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ab=Symbol();function _P(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ab?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var pa,ds,Vo,z_,o3=(z_=class extends ap{constructor(){super();He(this,pa);He(this,ds);He(this,Vo);Ne(this,Vo,t=>{if(!op&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){W(this,ds)||this.setEventListener(W(this,Vo))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,ds))==null||t.call(this),Ne(this,ds,void 0))}setEventListener(t){var n;Ne(this,Vo,t),(n=W(this,ds))==null||n.call(this),Ne(this,ds,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){W(this,pa)!==t&&(Ne(this,pa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof W(this,pa)=="boolean"?W(this,pa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},pa=new WeakMap,ds=new WeakMap,Vo=new WeakMap,z_),EP=new o3,Qo,fs,Ko,B_,l3=(B_=class extends ap{constructor(){super();He(this,Qo,!0);He(this,fs);He(this,Ko);Ne(this,Ko,t=>{if(!op&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,fs)||this.setEventListener(W(this,Ko))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,fs))==null||t.call(this),Ne(this,fs,void 0))}setEventListener(t){var n;Ne(this,Ko,t),(n=W(this,fs))==null||n.call(this),Ne(this,fs,t(this.setOnline.bind(this)))}setOnline(t){W(this,Qo)!==t&&(Ne(this,Qo,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return W(this,Qo)}},Qo=new WeakMap,fs=new WeakMap,Ko=new WeakMap,B_),dh=new l3;function c3(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function u3(e){return Math.min(1e3*2**e,3e4)}function CP(e){return(e??"online")==="online"?dh.isOnline():!0}var kP=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Am(e){return e instanceof kP}function PP(e){let t=!1,n=0,r=!1,i;const s=c3(),a=m=>{var b;r||(h(new kP(m)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>EP.isFocused()&&(e.networkMode==="always"||dh.isOnline())&&e.canRun(),f=()=>CP(e.networkMode)&&e.canRun(),d=m=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,m),i==null||i(),s.resolve(m))},h=m=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,m),i==null||i(),s.reject(m))},p=()=>new Promise(m=>{var b;i=v=>{(r||u())&&m(v)},(b=e.onPause)==null||b.call(e)}).then(()=>{var m;i=void 0,r||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(r)return;let m;const b=n===0?e.initialPromise:void 0;try{m=b??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(d).catch(v=>{var j;if(r)return;const x=e.retry??(op?0:3),w=e.retryDelay??u3,S=typeof w=="function"?w(n,v):w,_=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,v);if(t||!_){h(v);return}n++,(j=e.onFail)==null||j.call(e,n,v),r3(S).then(()=>u()?void 0:p()).then(()=>{t?h(v):g()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?g():p().then(g),s)}}function d3(){let e=[],t=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const s=l=>{t?e.push(l):i(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var En=d3(),ma,H_,RP=(H_=class{constructor(){He(this,ma)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),e3(this.gcTime)&&Ne(this,ma,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(op?1/0:5*60*1e3))}clearGcTimeout(){W(this,ma)&&(clearTimeout(W(this,ma)),Ne(this,ma,void 0))}},ma=new WeakMap,H_),Go,Yo,fr,sn,Hu,ga,Or,bi,q_,f3=(q_=class extends RP{constructor(t){super();He(this,Or);He(this,Go);He(this,Yo);He(this,fr);He(this,sn);He(this,Hu);He(this,ga);Ne(this,ga,!1),Ne(this,Hu,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ne(this,fr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ne(this,Go,p3(this.options)),this.state=t.state??W(this,Go),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=W(this,sn))==null?void 0:t.promise}setOptions(t){this.options={...W(this,Hu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,fr).remove(this)}setData(t,n){const r=i3(this.state.data,t,this.options);return Zt(this,Or,bi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Zt(this,Or,bi).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=W(this,sn))==null?void 0:r.promise;return(i=W(this,sn))==null||i.cancel(t),n?n.then(Ar).catch(Ar):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,Go))}isActive(){return this.observers.some(t=>n3(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ab||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!t3(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=W(this,sn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=W(this,sn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),W(this,fr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(W(this,sn)&&(W(this,ga)?W(this,sn).cancel({revert:!0}):W(this,sn).cancelRetry()),this.scheduleGc()),W(this,fr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Zt(this,Or,bi).call(this,{type:"invalidate"})}fetch(t,n){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(W(this,sn))return W(this,sn).continueRetry(),W(this,sn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(Ne(this,ga,!0),r.signal)})},s=()=>{const d=_P(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return i(h),Ne(this,ga,!1),this.options.persister?this.options.persister(d,h,this):d(h)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),Ne(this,Yo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Zt(this,Or,bi).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=d=>{var h,p,g,m;Am(d)&&d.silent||Zt(this,Or,bi).call(this,{type:"error",error:d}),Am(d)||((p=(h=W(this,fr).config).onError)==null||p.call(h,d,this),(m=(g=W(this,fr).config).onSettled)==null||m.call(g,this.state.data,d,this)),this.scheduleGc()};return Ne(this,sn,PP({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var h,p,g,m;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(b){l(b);return}(p=(h=W(this,fr).config).onSuccess)==null||p.call(h,d,this),(m=(g=W(this,fr).config).onSettled)==null||m.call(g,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,h)=>{Zt(this,Or,bi).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{Zt(this,Or,bi).call(this,{type:"pause"})},onContinue:()=>{Zt(this,Or,bi).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),W(this,sn).start()}},Go=new WeakMap,Yo=new WeakMap,fr=new WeakMap,sn=new WeakMap,Hu=new WeakMap,ga=new WeakMap,Or=new WeakSet,bi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...h3(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Am(i)&&i.revert&&W(this,Yo)?{...W(this,Yo),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),En.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),W(this,fr).notify({query:this,type:"updated",action:t})})},q_);function h3(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:CP(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function p3(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ni,W_,m3=(W_=class extends ap{constructor(t={}){super();He(this,ni);this.config=t,Ne(this,ni,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??sb(i,n);let a=this.get(s);return a||(a=new f3({cache:this,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){W(this,ni).has(t.queryHash)||(W(this,ni).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=W(this,ni).get(t.queryHash);n&&(t.destroy(),n===t&&W(this,ni).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){En.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return W(this,ni).get(t)}getAll(){return[...W(this,ni).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>AS(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>AS(t,r)):n}notify(t){En.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){En.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){En.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ni=new WeakMap,W_),ri,Sn,va,ii,ns,V_,g3=(V_=class extends RP{constructor(t){super();He(this,ii);He(this,ri);He(this,Sn);He(this,va);this.mutationId=t.mutationId,Ne(this,Sn,t.mutationCache),Ne(this,ri,[]),this.state=t.state||v3(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){W(this,ri).includes(t)||(W(this,ri).push(t),this.clearGcTimeout(),W(this,Sn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ne(this,ri,W(this,ri).filter(n=>n!==t)),this.scheduleGc(),W(this,Sn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){W(this,ri).length||(this.state.status==="pending"?this.scheduleGc():W(this,Sn).remove(this))}continue(){var t;return((t=W(this,va))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,s,a,l,c,u,f,d,h,p,g,m,b,v,x,w,S,_,j,P;Ne(this,va,PP({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(R,$)=>{Zt(this,ii,ns).call(this,{type:"failed",failureCount:R,error:$})},onPause:()=>{Zt(this,ii,ns).call(this,{type:"pause"})},onContinue:()=>{Zt(this,ii,ns).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,Sn).canRun(this)}));const n=this.state.status==="pending",r=!W(this,va).canStart();try{if(!n){Zt(this,ii,ns).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(i=W(this,Sn).config).onMutate)==null?void 0:s.call(i,t,this));const $=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));$!==this.state.context&&Zt(this,ii,ns).call(this,{type:"pending",context:$,variables:t,isPaused:r})}const R=await W(this,va).start();return await((u=(c=W(this,Sn).config).onSuccess)==null?void 0:u.call(c,R,t,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,R,t,this.state.context)),await((p=(h=W(this,Sn).config).onSettled)==null?void 0:p.call(h,R,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,R,null,t,this.state.context)),Zt(this,ii,ns).call(this,{type:"success",data:R}),R}catch(R){try{throw await((v=(b=W(this,Sn).config).onError)==null?void 0:v.call(b,R,t,this.state.context,this)),await((w=(x=this.options).onError)==null?void 0:w.call(x,R,t,this.state.context)),await((_=(S=W(this,Sn).config).onSettled)==null?void 0:_.call(S,void 0,R,this.state.variables,this.state.context,this)),await((P=(j=this.options).onSettled)==null?void 0:P.call(j,void 0,R,t,this.state.context)),R}finally{Zt(this,ii,ns).call(this,{type:"error",error:R})}}finally{W(this,Sn).runNext(this)}}},ri=new WeakMap,Sn=new WeakMap,va=new WeakMap,ii=new WeakSet,ns=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),En.batch(()=>{W(this,ri).forEach(r=>{r.onMutationUpdate(t)}),W(this,Sn).notify({mutation:this,type:"updated",action:t})})},V_);function v3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qn,qu,Q_,y3=(Q_=class extends ap{constructor(t={}){super();He(this,Qn);He(this,qu);this.config=t,Ne(this,Qn,new Map),Ne(this,qu,Date.now())}build(t,n,r){const i=new g3({mutationCache:this,mutationId:++_d(this,qu)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=Vd(t),r=W(this,Qn).get(n)??[];r.push(t),W(this,Qn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Vd(t);if(W(this,Qn).has(n)){const i=(r=W(this,Qn).get(n))==null?void 0:r.filter(s=>s!==t);i&&(i.length===0?W(this,Qn).delete(n):W(this,Qn).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=W(this,Qn).get(Vd(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=W(this,Qn).get(Vd(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){En.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...W(this,Qn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>OS(n,r))}findAll(t={}){return this.getAll().filter(n=>OS(t,n))}notify(t){En.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return En.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ar))))}},Qn=new WeakMap,qu=new WeakMap,Q_);function Vd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function FS(e){return{onFetch:(t,n)=>{var f,d,h,p,g;const r=t.options,i=(h=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((p=t.state.data)==null?void 0:p.pages)||[],a=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=_P(t.options,t.fetchOptions),x=async(w,S,_)=>{if(m)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const j={queryKey:t.queryKey,pageParam:S,direction:_?"backward":"forward",meta:t.options.meta};b(j);const P=await v(j),{maxPages:R}=t.options,$=_?a3:s3;return{pages:$(w.pages,P,R),pageParams:$(w.pageParams,S,R)}};if(i&&s.length){const w=i==="backward",S=w?x3:LS,_={pages:s,pageParams:a},j=S(r,_);l=await x(_,j,w)}else{const w=e??s.length;do{const S=c===0?a[0]??r.initialPageParam:LS(r,l);if(c>0&&S==null)break;l=await x(l,S),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var m,b;return(b=(m=t.options).persister)==null?void 0:b.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function LS(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function x3(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var gt,hs,ps,Xo,Jo,ms,Zo,el,K_,b3=(K_=class{constructor(e={}){He(this,gt);He(this,hs);He(this,ps);He(this,Xo);He(this,Jo);He(this,ms);He(this,Zo);He(this,el);Ne(this,gt,e.queryCache||new m3),Ne(this,hs,e.mutationCache||new y3),Ne(this,ps,e.defaultOptions||{}),Ne(this,Xo,new Map),Ne(this,Jo,new Map),Ne(this,ms,0)}mount(){_d(this,ms)._++,W(this,ms)===1&&(Ne(this,Zo,EP.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,gt).onFocus())})),Ne(this,el,dh.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,gt).onOnline())})))}unmount(){var e,t;_d(this,ms)._--,W(this,ms)===0&&((e=W(this,Zo))==null||e.call(this),Ne(this,Zo,void 0),(t=W(this,el))==null||t.call(this),Ne(this,el,void 0))}isFetching(e){return W(this,gt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return W(this,hs).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=W(this,gt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=W(this,gt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(TS(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return W(this,gt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=W(this,gt).get(r.queryHash),s=i==null?void 0:i.state.data,a=Z4(t,s);if(a!==void 0)return W(this,gt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return En.batch(()=>W(this,gt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=W(this,gt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=W(this,gt);En.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=W(this,gt),r={type:"active",...e};return En.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=En.batch(()=>W(this,gt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Ar).catch(Ar)}invalidateQueries(e={},t={}){return En.batch(()=>{if(W(this,gt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=En.batch(()=>W(this,gt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Ar)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Ar)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=W(this,gt).build(this,t);return n.isStaleByTime(TS(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ar).catch(Ar)}fetchInfiniteQuery(e){return e.behavior=FS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ar).catch(Ar)}ensureInfiniteQueryData(e){return e.behavior=FS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return dh.isOnline()?W(this,hs).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,gt)}getMutationCache(){return W(this,hs)}getDefaultOptions(){return W(this,ps)}setDefaultOptions(e){Ne(this,ps,e)}setQueryDefaults(e,t){W(this,Xo).set(iu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...W(this,Xo).values()];let n={};return t.forEach(r=>{su(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){W(this,Jo).set(iu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...W(this,Jo).values()];let n={};return t.forEach(r=>{su(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...W(this,ps).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=sb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===ab&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...W(this,ps).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){W(this,gt).clear(),W(this,hs).clear()}},gt=new WeakMap,hs=new WeakMap,ps=new WeakMap,Xo=new WeakMap,Jo=new WeakMap,ms=new WeakMap,Zo=new WeakMap,el=new WeakMap,K_),w3=y.createContext(void 0),S3=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(w3.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},au.apply(this,arguments)}var ys;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ys||(ys={}));const MS="popstate";function j3(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:l}=r.location;return $v("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:fh(i)}return E3(t,n,null,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function NP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _3(){return Math.random().toString(36).substr(2,8)}function $S(e,t){return{usr:e.state,key:e.key,idx:t}}function $v(e,t,n,r){return n===void 0&&(n=null),au({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?kl(t):t,{state:n,key:t&&t.key||r||_3()})}function fh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function kl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function E3(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=ys.Pop,c=null,u=f();u==null&&(u=0,a.replaceState(au({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function d(){l=ys.Pop;let b=f(),v=b==null?null:b-u;u=b,c&&c({action:l,location:m.location,delta:v})}function h(b,v){l=ys.Push;let x=$v(m.location,b,v);u=f()+1;let w=$S(x,u),S=m.createHref(x);try{a.pushState(w,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(S)}s&&c&&c({action:l,location:m.location,delta:1})}function p(b,v){l=ys.Replace;let x=$v(m.location,b,v);u=f();let w=$S(x,u),S=m.createHref(x);a.replaceState(w,"",S),s&&c&&c({action:l,location:m.location,delta:0})}function g(b){let v=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof b=="string"?b:fh(b);return x=x.replace(/ $/,"%20"),_t(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let m={get action(){return l},get location(){return e(i,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(MS,d),c=b,()=>{i.removeEventListener(MS,d),c=null}},createHref(b){return t(i,b)},createURL:g,encodeLocation(b){let v=g(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(b){return a.go(b)}};return m}var US;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(US||(US={}));function C3(e,t,n){return n===void 0&&(n="/"),k3(e,t,n,!1)}function k3(e,t,n,r){let i=typeof t=="string"?kl(t):t,s=ob(i.pathname||"/",n);if(s==null)return null;let a=TP(e);P3(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=$3(s);l=L3(a[c],u,r)}return l}function TP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(_t(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ks([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(_t(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),TP(s.children,t,f,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:D3(u,s.index),routesMeta:f})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of AP(s.path))i(s,a,c)}),t}function AP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=AP(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function P3(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:F3(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const R3=/^:[\w-]+$/,N3=3,T3=2,A3=1,O3=10,I3=-2,zS=e=>e==="*";function D3(e,t){let n=e.split("/"),r=n.length;return n.some(zS)&&(r+=I3),t&&(r+=T3),n.filter(i=>!zS(i)).reduce((i,s)=>i+(R3.test(s)?N3:s===""?A3:O3),r)}function F3(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function L3(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,f=s==="/"?t:t.slice(s.length)||"/",d=BS({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=BS({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:ks([s,d.pathname]),pathnameBase:H3(ks([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=ks([s,d.pathnameBase]))}return a}function BS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=M3(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,f,d)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let m=l[d]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[d];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function M3(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),NP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function $3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return NP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ob(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function U3(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?kl(e):e;return{pathname:n?n.startsWith("/")?n:z3(n,t):t,search:q3(r),hash:W3(i)}}function z3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Om(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function B3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function lb(e,t){let n=B3(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function cb(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=kl(e):(i=au({},e),_t(!i.pathname||!i.pathname.includes("?"),Om("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),Om("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),Om("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let d=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}l=d>=0?t[d]:"/"}let c=U3(i,l),u=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const ks=e=>e.join("/").replace(/\/\/+/g,"/"),H3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,W3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function V3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const OP=["post","put","patch","delete"];new Set(OP);const Q3=["get",...OP];new Set(Q3);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ou.apply(this,arguments)}const ub=y.createContext(null),K3=y.createContext(null),zs=y.createContext(null),lp=y.createContext(null),Bs=y.createContext({outlet:null,matches:[],isDataRoute:!1}),IP=y.createContext(null);function G3(e,t){let{relative:n}=t===void 0?{}:t;Pl()||_t(!1);let{basename:r,navigator:i}=y.useContext(zs),{hash:s,pathname:a,search:l}=FP(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:ks([r,a])),i.createHref({pathname:c,search:l,hash:s})}function Pl(){return y.useContext(lp)!=null}function Hs(){return Pl()||_t(!1),y.useContext(lp).location}function DP(e){y.useContext(zs).static||y.useLayoutEffect(e)}function Ma(){let{isDataRoute:e}=y.useContext(Bs);return e?l5():Y3()}function Y3(){Pl()||_t(!1);let e=y.useContext(ub),{basename:t,future:n,navigator:r}=y.useContext(zs),{matches:i}=y.useContext(Bs),{pathname:s}=Hs(),a=JSON.stringify(lb(i,n.v7_relativeSplatPath)),l=y.useRef(!1);return DP(()=>{l.current=!0}),y.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let d=cb(u,JSON.parse(a),s,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ks([t,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[t,r,a,s,e])}function FP(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=y.useContext(zs),{matches:i}=y.useContext(Bs),{pathname:s}=Hs(),a=JSON.stringify(lb(i,r.v7_relativeSplatPath));return y.useMemo(()=>cb(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function X3(e,t){return J3(e,t)}function J3(e,t,n,r){Pl()||_t(!1);let{navigator:i}=y.useContext(zs),{matches:s}=y.useContext(Bs),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Hs(),f;if(t){var d;let b=typeof t=="string"?kl(t):t;c==="/"||(d=b.pathname)!=null&&d.startsWith(c)||_t(!1),f=b}else f=u;let h=f.pathname||"/",p=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=C3(e,{pathname:p}),m=r5(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:ks([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:ks([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return t&&m?y.createElement(lp.Provider,{value:{location:ou({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ys.Pop}},m):m}function Z3(){let e=o5(),t=V3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:i},n):null,null)}const e5=y.createElement(Z3,null);class t5 extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(Bs.Provider,{value:this.props.routeContext},y.createElement(IP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function n5(e){let{routeContext:t,match:n,children:r}=e,i=y.useContext(ub);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Bs.Provider,{value:t},r)}function r5(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||_t(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:p}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,d,h)=>{let p,g=!1,m=null,b=null;n&&(p=l&&d.route.id?l[d.route.id]:void 0,m=d.route.errorElement||e5,c&&(u<0&&h===0?(g=!0,b=null):u===h&&(g=!0,b=d.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,h+1)),x=()=>{let w;return p?w=m:g?w=b:d.route.Component?w=y.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=f,y.createElement(n5,{match:d,routeContext:{outlet:f,matches:v,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?y.createElement(t5,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var LP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(LP||{}),hh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(hh||{});function i5(e){let t=y.useContext(ub);return t||_t(!1),t}function s5(e){let t=y.useContext(K3);return t||_t(!1),t}function a5(e){let t=y.useContext(Bs);return t||_t(!1),t}function MP(e){let t=a5(),n=t.matches[t.matches.length-1];return n.route.id||_t(!1),n.route.id}function o5(){var e;let t=y.useContext(IP),n=s5(hh.UseRouteError),r=MP(hh.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function l5(){let{router:e}=i5(LP.UseNavigateStable),t=MP(hh.UseNavigateStable),n=y.useRef(!1);return DP(()=>{n.current=!0}),y.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ou({fromRouteId:t},s)))},[e,t])}function $P(e){let{to:t,replace:n,state:r,relative:i}=e;Pl()||_t(!1);let{future:s,static:a}=y.useContext(zs),{matches:l}=y.useContext(Bs),{pathname:c}=Hs(),u=Ma(),f=cb(t,lb(l,s.v7_relativeSplatPath),c,i==="path"),d=JSON.stringify(f);return y.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function Wn(e){_t(!1)}function c5(e){let{basename:t="/",children:n=null,location:r,navigationType:i=ys.Pop,navigator:s,static:a=!1,future:l}=e;Pl()&&_t(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:s,static:a,future:ou({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof r=="string"&&(r=kl(r));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:g="default"}=r,m=y.useMemo(()=>{let b=ob(f,c);return b==null?null:{location:{pathname:b,search:d,hash:h,state:p,key:g},navigationType:i}},[c,f,d,h,p,g,i]);return m==null?null:y.createElement(zs.Provider,{value:u},y.createElement(lp.Provider,{children:n,value:m}))}function u5(e){let{children:t,location:n}=e;return X3(Uv(t),n)}new Promise(()=>{});function Uv(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,i)=>{if(!y.isValidElement(r))return;let s=[...t,i];if(r.type===y.Fragment){n.push.apply(n,Uv(r.props.children,s));return}r.type!==Wn&&_t(!1),!r.props.index||!r.props.children||_t(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Uv(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zv.apply(this,arguments)}function d5(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function f5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function h5(e,t){return e.button===0&&(!t||t==="_self")&&!f5(e)}function Bv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function p5(e,t){let n=Bv(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const m5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g5="6";try{window.__reactRouterVersion=g5}catch{}const v5="startTransition",HS=qy[v5];function y5(e){let{basename:t,children:n,future:r,window:i}=e,s=y.useRef();s.current==null&&(s.current=j3({window:i,v5Compat:!0}));let a=s.current,[l,c]=y.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},f=y.useCallback(d=>{u&&HS?HS(()=>c(d)):c(d)},[c,u]);return y.useLayoutEffect(()=>a.listen(f),[a,f]),y.createElement(c5,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const x5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",b5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wt=y.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,h=d5(t,m5),{basename:p}=y.useContext(zs),g,m=!1;if(typeof u=="string"&&b5.test(u)&&(g=u,x5))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),_=ob(S.pathname,p);S.origin===w.origin&&_!=null?u=_+S.search+S.hash:m=!0}catch{}let b=G3(u,{relative:i}),v=w5(u,{replace:a,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:d});function x(w){r&&r(w),w.defaultPrevented||v(w)}return y.createElement("a",zv({},h,{href:g||b,onClick:m||s?r:x,ref:n,target:c}))});var qS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qS||(qS={}));var WS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(WS||(WS={}));function w5(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:l}=t===void 0?{}:t,c=Ma(),u=Hs(),f=FP(e,{relative:a});return y.useCallback(d=>{if(h5(d,n)){d.preventDefault();let h=r!==void 0?r:fh(u)===fh(f);c(e,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[u,c,f,r,i,n,e,s,a,l])}function S5(e){let t=y.useRef(Bv(e)),n=y.useRef(!1),r=Hs(),i=y.useMemo(()=>p5(r.search,n.current?null:t.current),[r.search]),s=Ma(),a=y.useCallback((l,c)=>{const u=Bv(typeof l=="function"?l(i):l);n.current=!0,s("?"+u,c)},[s,i]);return[i,a]}const j5="modulepreload",_5=function(e){return"/"+e},VS={},nd=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=_5(c),c in VS)return;VS[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":j5,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},E5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>nd(async()=>{const{default:r}=await Promise.resolve().then(()=>Rl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class db extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class C5 extends db{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class QS extends db{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class KS extends db{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hv||(Hv={}));var k5=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(f){try{u(r.next(f))}catch(d){a(d)}}function c(f){try{u(r.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class P5{constructor(t,{headers:n={},customFetch:r,region:i=Hv.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=E5(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return k5(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let f;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(l["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(l["Content-Type"]="application/json",f=JSON.stringify(a)));const d=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f}).catch(m=>{throw new C5(m)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new QS(d);if(!d.ok)throw new KS(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield d.json():p==="application/octet-stream"?g=yield d.blob():p==="text/event-stream"?g=d:p==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null,response:d}}catch(i){return{data:null,error:i,response:i instanceof KS||i instanceof QS?i.context:void 0}}})}}var Mn={},fb={},cp={},rd={},up={},dp={},R5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ul=R5();const N5=ul.fetch,UP=ul.fetch.bind(ul),zP=ul.Headers,T5=ul.Request,A5=ul.Response,Rl=Object.freeze(Object.defineProperty({__proto__:null,Headers:zP,Request:T5,Response:A5,default:UP,fetch:N5},Symbol.toStringTag,{value:"Module"})),O5=RI(Rl);var fp={};Object.defineProperty(fp,"__esModule",{value:!0});let I5=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};fp.default=I5;var BP=cn&&cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dp,"__esModule",{value:!0});const D5=BP(O5),F5=BP(fp);let L5=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=D5.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,l,c;let u=null,f=null,d=null,h=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const v=await s.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=v:f=JSON.parse(v))}const m=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");m&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,h=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const m=await s.text();try{u=JSON.parse(m),Array.isArray(u)&&s.status===404&&(f=[],u=null,h=200,p="OK")}catch{s.status===404&&m===""?(h=204,p="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new F5.default(u)}return{error:u,data:f,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,l,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};dp.default=L5;var M5=cn&&cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(up,"__esModule",{value:!0});const $5=M5(dp);let U5=class extends $5.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};up.default=U5;var z5=cn&&cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rd,"__esModule",{value:!0});const B5=z5(up);let H5=class extends B5.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};rd.default=H5;var q5=cn&&cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cp,"__esModule",{value:!0});const Xl=q5(rd);let W5=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new Xl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Xl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const a="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new Xl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Xl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Xl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};cp.default=W5;var hp={},pp={};Object.defineProperty(pp,"__esModule",{value:!0});pp.version=void 0;pp.version="0.0.0-automated";Object.defineProperty(hp,"__esModule",{value:!0});hp.DEFAULT_HEADERS=void 0;const V5=pp;hp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${V5.version}`};var HP=cn&&cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fb,"__esModule",{value:!0});const Q5=HP(cp),K5=HP(rd),G5=hp;let Y5=class qP{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},G5.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new Q5.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new qP(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{l.searchParams.append(f,d)})):(a="POST",c=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new K5.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};fb.default=Y5;var Nl=cn&&cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.PostgrestError=Mn.PostgrestBuilder=Mn.PostgrestTransformBuilder=Mn.PostgrestFilterBuilder=Mn.PostgrestQueryBuilder=Mn.PostgrestClient=void 0;const WP=Nl(fb);Mn.PostgrestClient=WP.default;const VP=Nl(cp);Mn.PostgrestQueryBuilder=VP.default;const QP=Nl(rd);Mn.PostgrestFilterBuilder=QP.default;const KP=Nl(up);Mn.PostgrestTransformBuilder=KP.default;const GP=Nl(dp);Mn.PostgrestBuilder=GP.default;const YP=Nl(fp);Mn.PostgrestError=YP.default;var X5=Mn.default={PostgrestClient:WP.default,PostgrestQueryBuilder:VP.default,PostgrestFilterBuilder:QP.default,PostgrestTransformBuilder:KP.default,PostgrestBuilder:GP.default,PostgrestError:YP.default};const{PostgrestClient:J5,PostgrestQueryBuilder:Cre,PostgrestFilterBuilder:kre,PostgrestTransformBuilder:Pre,PostgrestBuilder:Rre,PostgrestError:Nre}=X5;function Z5(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const eU=Z5(),tU="2.11.15",nU=`realtime-js/${tU}`,rU="1.0.0",XP=1e4,iU=1e3;var Pc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pc||(Pc={}));var rn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rn||(rn={}));var Dr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Dr||(Dr={}));var qv;(function(e){e.websocket="websocket"})(qv||(qv={}));var oa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(oa||(oa={}));class sU{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(t.slice(a,a+i));a=a+i;const c=r.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class JP{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ze||(Ze={}));const GS=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,a)=>(s[a]=aU(a,e,t,i),s),{})},aU=(e,t,n,r)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,a=n[e];return s&&!r.includes(s)?ZP(s,a):Wv(a)},ZP=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return uU(t,n)}switch(e){case Ze.bool:return oU(t);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return lU(t);case Ze.json:case Ze.jsonb:return cU(t);case Ze.timestamp:return dU(t);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return Wv(t);default:return Wv(t)}},Wv=e=>e,oU=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},lU=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},cU=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},uU=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const a=e.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>ZP(t,l))}return e},dU=e=>typeof e=="string"?e.replace(" ","T"):e,eR=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Im{constructor(t,n,r={},i=XP){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var YS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(YS||(YS={}));class Rc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rc.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=Rc.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Rc.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(s,(u,f)=>{a[u]||(c[u]=f)}),this.map(a,(u,f)=>{const d=s[u];if(d){const h=f.map(b=>b.presence_ref),p=d.map(b=>b.presence_ref),g=f.filter(b=>p.indexOf(b.presence_ref)<0),m=d.filter(b=>h.indexOf(b.presence_ref)<0);g.length>0&&(l[u]=g),m.length>0&&(c[u]=m)}else l[u]=f}),this.syncDiff(s,{joins:l,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const d=t[l].map(p=>p.presence_ref),h=f.filter(p=>d.indexOf(p.presence_ref)<0);t[l].unshift(...h)}r(l,f,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var XS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(XS||(XS={}));var JS;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(JS||(JS={}));var Ei;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ei||(Ei={}));class hb{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=rn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Im(this,Dr.join,this.params,this.timeout),this.rejoinTimer=new JP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dr.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Rc(this),this.broadcastEndpointURL=eR(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==rn.closed){const{config:{broadcast:s,presence:a,private:l}}=this.params;this._onError(f=>t==null?void 0:t(Ei.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Ei.CLOSED));const c={},u={broadcast:s,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var d;if(this.socket.setAuth(),f===void 0){t==null||t(Ei.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,g=[];for(let m=0;m<p;m++){const b=h[m],{filter:{event:v,schema:x,table:w,filter:S}}=b,_=f&&f[m];if(_&&_.event===v&&_.schema===x&&_.table===w&&_.filter===S)g.push(Object.assign(Object.assign({},b),{id:_.id}));else{this.unsubscribe(),this.state=rn.errored,t==null||t(Ei.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Ei.SUBSCRIBED);return}}).receive("error",f=>{this.state=rn.errored,t==null||t(Ei.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ei.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Im(this,Dr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Im(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=Dr;if(r&&[l,c,u,f].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,m,b;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(m=p.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(p=>p.callback(h,r)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var g,m,b,v,x,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const S=p.id,_=(g=p.filter)===null||g===void 0?void 0:g.event;return S&&((m=n.ids)===null||m===void 0?void 0:m.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(x=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:b,commit_timestamp:v,type:x,errors:w}=g;h=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:v,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(g))}p.callback(h,r)})}_isClosed(){return this.state===rn.closed}_isJoined(){return this.state===rn.joined}_isJoining(){return this.state===rn.joining}_isLeaving(){return this.state===rn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&hb.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Dr.close,{},t)}_onError(t){this._on(Dr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=GS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=GS(t.columns,t.old_record)),n}}const ZS=()=>{},fU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hU{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=XP,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ZS,this.ref=0,this.logger=ZS,this.conn=null,this.sendBuffer=[],this.serializer=new sU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...l)=>nd(async()=>{const{default:c}=await Promise.resolve().then(()=>Rl);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${qv.websocket}`,this.httpEndpoint=eR(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,a)=>a(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new JP(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=eU),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rU}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Pc.connecting:return oa.Connecting;case Pc.open:return oa.Open;case Pc.closing:return oa.Closing;default:return oa.Closed}}isConnected(){return this.connectionState()===oa.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new hb(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:nU};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Dr.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(iU,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:a}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Dr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([fU],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class pb extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ut(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class pU extends pb{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vv extends pb{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var mU=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(f){try{u(r.next(f))}catch(d){a(d)}}function c(f){try{u(r.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const tR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>nd(async()=>{const{default:r}=await Promise.resolve().then(()=>Rl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},gU=()=>mU(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield nd(()=>Promise.resolve().then(()=>Rl),void 0)).Response:Response}),Qv=e=>{if(Array.isArray(e))return e.map(n=>Qv(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Qv(r)}),t},vU=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var $a=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(f){try{u(r.next(f))}catch(d){a(d)}}function c(f){try{u(r.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Dm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yU=(e,t,n)=>$a(void 0,void 0,void 0,function*(){const r=yield gU();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new pU(Dm(i),s,a))}).catch(i=>{t(new Vv(Dm(i),i))}):t(new Vv(Dm(e),e))}),xU=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(vU(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function id(e,t,n,r,i,s){return $a(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,xU(t,r,i,s)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>yU(c,l,r))})})}function ph(e,t,n,r){return $a(this,void 0,void 0,function*(){return id(e,"GET",t,n,r)})}function Ci(e,t,n,r,i){return $a(this,void 0,void 0,function*(){return id(e,"POST",t,r,i,n)})}function Kv(e,t,n,r,i){return $a(this,void 0,void 0,function*(){return id(e,"PUT",t,r,i,n)})}function bU(e,t,n,r){return $a(this,void 0,void 0,function*(){return id(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function nR(e,t,n,r,i){return $a(this,void 0,void 0,function*(){return id(e,"DELETE",t,r,i,n)})}var In=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(f){try{u(r.next(f))}catch(d){a(d)}}function c(f){try{u(r.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const wU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},e1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class SU{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=tR(i)}uploadOrUpdate(t,n,r,i){return In(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},e1),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),d=yield(t=="PUT"?Kv:Ci)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(Ut(s))return{data:null,error:s};throw s}})}upload(t,n,r){return In(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return In(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:e1.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield Kv(this.fetch,l.toString(),c,{headers:f});return{data:{path:s,fullPath:d.Key},error:null}}catch(c){if(Ut(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return In(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Ci(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new pb("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}})}update(t,n,r){return In(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return In(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ut(i))return{data:null,error:i};throw i}})}copy(t,n,r){return In(this,void 0,void 0,function*(){try{return{data:{path:(yield Ci(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ut(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return In(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Ci(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(Ut(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return In(this,void 0,void 0,function*(){try{const i=yield Ci(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(Ut(i))return{data:null,error:i};throw i}})}download(t,n){return In(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ph(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ut(l))return{data:null,error:l};throw l}})}info(t){return In(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield ph(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Qv(r),error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}})}exists(t){return In(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield bU(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ut(r)&&r instanceof Vv){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return In(this,void 0,void 0,function*(){try{return{data:yield nR(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ut(n))return{data:null,error:n};throw n}})}list(t,n,r){return In(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},wU),n),{prefix:t||""});return{data:yield Ci(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ut(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const jU="2.10.4",_U={"X-Client-Info":`storage-js/${jU}`};var to=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(f){try{u(r.next(f))}catch(d){a(d)}}function c(f){try{u(r.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class EU{constructor(t,n={},r,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},_U),n),this.fetch=tR(r)}listBuckets(){return to(this,void 0,void 0,function*(){try{return{data:yield ph(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ut(t))return{data:null,error:t};throw t}})}getBucket(t){return to(this,void 0,void 0,function*(){try{return{data:yield ph(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ut(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return to(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return to(this,void 0,void 0,function*(){try{return{data:yield Kv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}})}emptyBucket(t){return to(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ut(n))return{data:null,error:n};throw n}})}deleteBucket(t){return to(this,void 0,void 0,function*(){try{return{data:yield nR(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ut(n))return{data:null,error:n};throw n}})}}class CU extends EU{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new SU(this.url,this.headers,t,this.fetch)}}const kU="2.53.0";let dc="";typeof Deno<"u"?dc="deno":typeof document<"u"?dc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dc="react-native":dc="node";const PU={"X-Client-Info":`supabase-js-${dc}/${kU}`},RU={headers:PU},NU={schema:"public"},TU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},AU={};var OU=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(f){try{u(r.next(f))}catch(d){a(d)}}function c(f){try{u(r.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const IU=e=>{let t;return e?t=e:typeof fetch>"u"?t=UP:t=fetch,(...n)=>t(...n)},DU=()=>typeof Headers>"u"?zP:Headers,FU=(e,t,n)=>{const r=IU(n),i=DU();return(s,a)=>OU(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},a),{headers:u}))})};var LU=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(f){try{u(r.next(f))}catch(d){a(d)}}function c(f){try{u(r.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function MU(e){return e.endsWith("/")?e:e+"/"}function $U(e,t){var n,r;const{db:i,auth:s,realtime:a,global:l}=e,{db:c,auth:u,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},f),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>LU(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const rR="2.71.1",mo=30*1e3,Gv=3,Fm=Gv*mo,UU="http://localhost:9999",zU="supabase.auth.token",BU={"X-Client-Info":`gotrue-js/${rR}`},Yv="X-Supabase-Api-Version",iR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qU=10*60*1e3;class mb extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function _e(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class WU extends mb{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function VU(e){return _e(e)&&e.name==="AuthApiError"}class sR extends mb{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class qs extends mb{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class rs extends qs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QU(e){return _e(e)&&e.name==="AuthSessionMissingError"}class Qd extends qs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kd extends qs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Gd extends qs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function KU(e){return _e(e)&&e.name==="AuthImplicitGrantRedirectError"}class t1 extends qs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xv extends qs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Lm(e){return _e(e)&&e.name==="AuthRetryableFetchError"}class n1 extends qs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Jv extends qs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const mh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),r1=` 	
\r=`.split(""),GU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<r1.length;t+=1)e[r1[t].charCodeAt(0)]=-2;for(let t=0;t<mh.length;t+=1)e[mh[t].charCodeAt(0)]=t;return e})();function i1(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(mh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(mh[r]),t.queuedBits-=6}}function aR(e,t,n){const r=GU[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function s1(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{JU(a,r,n)};for(let a=0;a<e.length;a+=1)aR(e.charCodeAt(a),i,s);return t.join("")}function YU(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function XU(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}YU(r,t)}}function JU(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ZU(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)aR(e.charCodeAt(i),n,r);return new Uint8Array(t)}function ez(e){const t=[];return XU(e,n=>t.push(n)),new Uint8Array(t)}function tz(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>i1(i,n,r)),i1(null,n,r),t.join("")}function nz(e){return Math.round(Date.now()/1e3)+e}function rz(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Rr=()=>typeof window<"u"&&typeof document<"u",Xs={tested:!1,writable:!1},oR=()=>{if(!Rr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xs.tested)return Xs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xs.tested=!0,Xs.writable=!0}catch{Xs.tested=!0,Xs.writable=!1}return Xs.writable};function iz(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const lR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>nd(async()=>{const{default:r}=await Promise.resolve().then(()=>Rl);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},sz=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",go=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Js=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Xi=async(e,t)=>{await e.removeItem(t)};class mp{constructor(){this.promise=new mp.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}mp.promiseConstructor=Promise;function Mm(e){const t=e.split(".");if(t.length!==3)throw new Jv("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!HU.test(t[r]))throw new Jv("JWT not in base64url format");return{header:JSON.parse(s1(t[0])),payload:JSON.parse(s1(t[1])),signature:ZU(t[2]),raw:{header:t[0],payload:t[1]}}}async function az(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function oz(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){r(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function lz(e){return("0"+e.toString(16)).substr(-2)}function cz(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,lz).join("")}async function uz(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function dz(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await uz(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function no(e,t,n=!1){const r=cz();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await go(e,`${t}-code-verifier`,i);const s=await dz(r);return[s,r===s?"plain":"s256"]}const fz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hz(e){const t=e.headers.get(Yv);if(!t||!t.match(fz))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function pz(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function mz(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ro(e){if(!gz.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $m(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function a1(e){return JSON.parse(JSON.stringify(e))}var vz=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const sa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yz=[502,503,504];async function o1(e){var t;if(!sz(e))throw new Xv(sa(e),0);if(yz.includes(e.status))throw new Xv(sa(e),e.status);let n;try{n=await e.json()}catch(s){throw new sR(sa(s),s)}let r;const i=hz(e);if(i&&i.getTime()>=iR["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new n1(sa(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new rs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new n1(sa(n),e.status,n.weak_password.reasons);throw new WU(sa(n),e.status||500,r)}const xz=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ae(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Yv]||(s[Yv]=iR["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await bz(e,t,n+l,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function bz(e,t,n,r,i,s){const a=xz(t,r,i,s);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new Xv(sa(c),0)}if(l.ok||await o1(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await o1(c)}}function wi(e){var t;let n=null;_z(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=nz(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function l1(e){const t=wi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function cs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function wz(e){return{data:e,error:null}}function Sz(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,a=vz(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function jz(e){return e}function _z(e){return e.access_token&&e.refresh_token&&e.expires_in}const Um=["global","local","others"];var Ez=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class Cz{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=lR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Um[0]){if(Um.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Um.join(", ")}`);try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:cs})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Ez(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Sz,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(_e(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:cs})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:jz});if(f.error)throw f.error;const d=await f.json(),h=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);u[`${b}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(_e(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ro(t);try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:cs})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ro(t);try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:cs})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ro(t);try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:cs})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ro(t.userId);try{const{data:n,error:r}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ro(t.userId),ro(t.id);try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}}function c1(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function kz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const io={debug:!!(globalThis&&oR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Pz extends cR{}async function Rz(e,t,n){io.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),io.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){io.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{io.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw io.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Pz(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(io.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}kz();const Nz={url:UU,storageKey:zU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:BU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function u1(e,t,n){return await n()}const so={};class lu{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=lu.nextInstanceID,lu.nextInstanceID+=1,this.instanceID>0&&Rr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Nz),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Cz({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=lR(i.fetch),this.lock=i.lock||u1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Rr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Rz:this.lock=u1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:oR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=c1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=c1(this.memoryStorage)),Rr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=so[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){so[this.storageKey]=Object.assign(Object.assign({},so[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=so[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){so[this.storageKey]=Object.assign(Object.assign({},so[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rR}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=iz(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Rr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),KU(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return _e(n)?{error:n}:{error:new sR("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:wi}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:f,password:d,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await no(this.storage,this.storageKey)),s=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:wi})}else if("phone"in t){const{phone:f,password:d,options:h}=t;s=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:wi})}else throw new Kd("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:a,options:l}=t;n=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:l1})}else if("phone"in t){const{phone:s,password:a,options:l}=t;n=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:l1})}else throw new Kd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Qd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,a,l,c,u,f,d,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:b,wallet:v,statement:x,options:w}=t;let S;if(Rr())if(typeof v=="object")S=v;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))S=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const _=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const j=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),x?{statement:x}:null));let P;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")P=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)P=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)g=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),m=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(f=w==null?void 0:w.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const j=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=j}}try{const{data:b,error:v}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:tz(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:wi});if(v)throw v;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Qd}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:v})}catch(b){if(_e(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const n=await Js(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:wi});if(await Xi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Qd}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(_e(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=t,l=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:wi}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Qd}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await no(this.storage,this.storageKey));const{error:d}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new Kd("You must provide either an email or phone number.")}catch(l){if(_e(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:wi});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(_e(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await no(this.storage,this.storageKey)),await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:wz})}catch(s){if(_e(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new rs;const{error:i}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:a}=await Ae(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:a,error:l}=await Ae(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Kd("You must provide either an email or phone number and a type")}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Js(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Fm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Js(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=$m()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:cs}):await this._useSession(async n=>{var r,i,s;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rs}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:cs})})}catch(n){if(_e(n))return QU(n)&&(await this._removeSession(),await Xi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new rs;const a=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await no(this.storage,this.storageKey));const{data:u,error:f}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:cs});if(f)throw f;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new rs;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=Mm(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(_e(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new rs;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Rr())throw new Gd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Gd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new t1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new t1("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new Gd("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let h=f+d;c&&(h=parseInt(c));const p=h-f;p*1e3<=mo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const g=h-d;f-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,f):f-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,f);const{data:m,error:b}=await this._getUser(s);if(b)throw b;const v={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(_e(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Js(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(VU(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Xi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=rz(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await no(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(_e(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,l,c,u,f;const{data:d,error:h}=s;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Rr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(_e(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await oz(async i=>(i>0&&await az(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wi})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Lm(s)&&Date.now()+a-r<mo})}catch(r){if(this._debug(n,"error",r),_e(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Rr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Js(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Js(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await go(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:$m()}else if(i&&!i.user&&!i.user){const a=await Js(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Xi(this.storage,this.storageKey+"-user"),await go(this.storage,this.storageKey,i)):i.user=$m()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Fm;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Fm}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Lm(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new rs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new mp;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new rs;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),_e(s)){const a={session:null,error:s};return Lm(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await go(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=a1(i);await go(this.storage,this.storageKey,s)}else{const i=a1(n);await go(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Xi(this.storage,this.storageKey),await Xi(this.storage,this.storageKey+"-code-verifier"),await Xi(this.storage,this.storageKey+"-user"),this.userStorage&&await Xi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Rr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),mo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/mo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${mo}ms, refresh threshold is ${Gv} ticks`),i<=Gv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await no(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:a,error:l}=await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(_e(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(_e(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Mm(i.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const f=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+qU>i)return r;const{data:s,error:a}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};r=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:c}}=Mm(r);n!=null&&n.allowExpired||pz(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const f=mz(i.alg),d=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,a,ez(`${l}.${c}`)))throw new Jv("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}}lu.nextInstanceID=0;const Tz=lu;class Az extends Tz{constructor(t){super(t)}}var Oz=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(f){try{u(r.next(f))}catch(d){a(d)}}function c(f){try{u(r.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class Iz{constructor(t,n,r){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=MU(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:NU,realtime:AU,auth:Object.assign(Object.assign({},TU),{storageKey:u}),global:RU},d=$U(r??{},f);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=FU(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new J5(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new CU(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new P5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Oz(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:a,lock:l,debug:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Az({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:a,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new hU(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Dz=(e,t,n)=>new Iz(e,t,n);function Fz(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Fz()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Lz="https://wrodvaatdujbpfpvrzge.supabase.co",Mz="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indyb2R2YWF0ZHVqYnBmcHZyemdlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM3MzE3MzgsImV4cCI6MjA2OTMwNzczOH0.0ac4Hjbb09n7V8orvD16jtj0ZA6Qz8T0PBM3y33fQ0s",$z=()=>{try{if(typeof window<"u"&&window.sessionStorage)return window.sessionStorage}catch{}},Q=Dz(Lz,Mz,{auth:{storage:$z(),persistSession:!0,autoRefreshToken:!0}}),uR=y.createContext(void 0),xt=()=>{const e=y.useContext(uR);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Uz=({children:e})=>{const[t,n]=y.useState(null),[r,i]=y.useState(null),[s,a]=y.useState(!0);y.useEffect(()=>{const{data:{subscription:d}}=Q.auth.onAuthStateChange(async(h,p)=>{i(p),n((p==null?void 0:p.user)??null),p!=null&&p.user&&setTimeout(async()=>{try{const{data:g,error:m}=await Q.from("users").select("workspace_id").eq("user_id",p.user.id).single();if(m){if(m.code!=="PGRST116"){const x=`auth_user_fetch_error_${m.code}_${p.user.id}`;sessionStorage.getItem(x)||(console.error("Error fetching user in auth:",m),sessionStorage.setItem(x,"logged"))}return}if(!g)return;const{data:b,error:v}=await Q.from("workspaces").select("plan_type").eq("id",g.workspace_id).single();if(v||!b)return;if(b.plan_type==="freemium"){const{data:x,error:w}=await Q.from("workspace_trials").select("expires_at").eq("workspace_id",g.workspace_id).single();!w&&x&&new Date(x.expires_at)<=new Date&&await Q.auth.signOut()}}catch(g){const m=`auth_trial_check_error_${p.user.id}`;sessionStorage.getItem(m)||(console.error("Error checking trial status:",g),sessionStorage.setItem(m,"logged"))}},0),a(!1)});return Q.auth.getSession().then(({data:{session:h}})=>{i(h),n((h==null?void 0:h.user)??null),a(!1)}),()=>d.unsubscribe()},[]);const l=async()=>{const{error:d}=await Q.auth.signOut();if(d)throw console.error("Error signing out:",d),d},c=async(d,h)=>{const{data:p,error:g}=await Q.auth.signInWithPassword({email:d,password:h});if(p!=null&&p.user&&!g)try{const{data:m,error:b}=await Q.from("users").select("workspace_id").eq("user_id",p.user.id).single();if(!b&&m){const{data:v,error:x}=await Q.from("workspaces").select("plan_type").eq("id",m.workspace_id).single();if(!x&&v&&v.plan_type==="freemium"){const{data:w,error:S}=await Q.from("workspace_trials").select("expires_at").eq("workspace_id",m.workspace_id).single();if(!S&&w&&new Date(w.expires_at)<=new Date)return await Q.auth.signOut(),{data:null,error:{message:"Votre période d'essai est expirée. Contactez notre équipe commerciale pour souscrire à un plan payant."}}}}}catch(m){console.error("Error checking trial status during login:",m)}return{data:p,error:g}},u=async(d,h,p)=>{const{data:g,error:m}=await Q.auth.signUp({email:d,password:h,options:{data:p}});return{data:g,error:m}},f=async()=>{const{data:d,error:h}=await Q.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/search`}});return{data:d,error:h}};return o.jsx(uR.Provider,{value:{user:t,session:r,loading:s,signOut:l,signIn:c,signUp:u,signInWithGoogle:f},children:e})},dR=y.createContext(void 0),gb=()=>{const e=y.useContext(dR);if(!e)throw new Error("useUser must be used within a UserProvider");return e},zz=({children:e})=>{const{user:t}=xt(),[n,r]=y.useState(null),[i,s]=y.useState(!0),a=async()=>{if(!t){r(null),s(!1);return}try{const{data:c,error:u}=await Q.from("users").select("*").eq("user_id",t.id).limit(1).single();if(u)if(u.code==="PGRST116"){console.warn(`User ${t.id} exists in auth but not in public.users. This indicates data inconsistency.`),r(null),s(!1);return}else{const h=`user_fetch_error_${u.code}_${t.id}`;sessionStorage.getItem(h)||(console.error("Error fetching user profile:",u),sessionStorage.setItem(h,"logged")),r(null),s(!1);return}let f=null;try{const{data:h}=await Q.from("user_roles").select("role, workspace_id").eq("user_id",t.id).limit(1).single();f=h}catch{}const d={user_id:t.id,workspace_id:(c==null?void 0:c.workspace_id)||(f==null?void 0:f.workspace_id)||"",first_name:c==null?void 0:c.first_name,last_name:c==null?void 0:c.last_name,company:c==null?void 0:c.company,position:c==null?void 0:c.position,phone:c==null?void 0:c.phone,email:(c==null?void 0:c.email)||t.email||"",plan_type:c==null?void 0:c.plan_type,subscribed:c==null?void 0:c.subscribed,role:f==null?void 0:f.role};r(d)}catch(c){const u=`profile_fetch_error_${t.id}`;sessionStorage.getItem(u)||(console.error("Error in fetchProfile:",c),sessionStorage.setItem(u,"logged")),r(null)}s(!1)};y.useEffect(()=>{a()},[t]);const l=async()=>{s(!0),await a()};return o.jsx(dR.Provider,{value:{userProfile:n,loading:i,refreshProfile:l},children:e})},fR=y.createContext(void 0),qi=()=>{const e=y.useContext(fR);if(!e)throw new Error("useWorkspace must be used within a WorkspaceProvider");return e},Bz=({children:e})=>{const{user:t}=xt(),{userProfile:n}=gb(),[r,i]=y.useState(null),[s,a]=y.useState(!0),l=async()=>{if(!t||!n||!n.workspace_id||n.workspace_id.trim()===""){n||console.warn("WorkspaceContext: userProfile is null, this indicates data inconsistency"),i(null),a(!1);return}try{const{data:u,error:f}=await Q.from("workspaces").select("*").eq("id",n.workspace_id).single();f?(console.error("Error fetching workspace:",f),i(null)):i(u)}catch(u){console.error("Error in fetchWorkspace:",u),i(null)}a(!1)};y.useEffect(()=>{l()},[t,n]);const c=async()=>{a(!0),await l()};return o.jsx(fR.Provider,{value:{currentWorkspace:r,loading:s,refreshWorkspace:c},children:e})},Tl=()=>{const{user:e}=xt(),{currentWorkspace:t}=qi(),[n,r]=y.useState([]),[i,s]=y.useState([]);y.useEffect(()=>{(async()=>{if(!(!e||!t))try{const{data:d}=await Q.from("fe_sources").select("source_name").eq("access_level","standard").eq("is_global",!0);d&&s(d.map(p=>p.source_name));const{data:h}=await Q.from("fe_source_workspace_assignments").select("source_name").eq("workspace_id",t.id);h&&r(h.map(p=>p.source_name))}catch(d){console.error("Error fetching source data:",d)}})()},[e,t]);const a=y.useCallback(f=>!!e,[e]),l=y.useCallback(f=>!n.includes(f),[n]),c=y.useCallback(()=>!e||!t?!1:t.plan_type==="premium",[e,t==null?void 0:t.id,t==null?void 0:t.plan_type]),u=y.useCallback((f,d)=>f?{variant:"secondary",label:"Workspace"}:null,[]);return{hasAccess:a,shouldBlurPremiumContent:l,getSourceLabel:u,canUseFavorites:c,user:e,currentWorkspace:t,standardSources:i,assignedSources:n}},hR=y.createContext(void 0),sd=()=>{const e=y.useContext(hR);if(!e)throw new Error("useFavorites must be used within a FavoritesProvider");return e},Hz=({children:e})=>{const{user:t}=xt(),{canUseFavorites:n}=Tl(),[r,i]=y.useState([]),[s,a]=y.useState(!1),[l,c]=y.useState(0),u=3e4,f=y.useRef(0),d=y.useCallback((v,x)=>({id:x,nom:v.Nom||v.nom||"",description:v.Description||v.description||"",fe:Number(v.FE||v.fe)||0,uniteActivite:v["Unité donnée d'activité"]||v.uniteActivite||"",source:v.Source||v.source||"",secteur:v.Secteur||v.secteur||"",sousSecteur:v["Sous-secteur"]||v.sousSecteur||"",localisation:v.Localisation||v.localisation||"",date:Number(v.Date||v.date)||0,incertitude:v.Incertitude||v.incertitude||"",perimetre:v.Périmètre||v.perimetre||"",contributeur:v.Contributeur||v.contributeur||"",commentaires:v.Commentaires||v.commentaires||"",isFavorite:!0}),[]),h=y.useCallback(async(v=!1)=>{if(!t||!n()){i([]),c(0),f.current=0;return}const x=Date.now();if(!(!v&&f.current&&x-f.current<u))try{a(!0);const{data:w,error:S}=await Q.from("favorites").select("item_id, item_data, created_at").eq("user_id",t.id).eq("item_type","emission_factor").order("created_at",{ascending:!1});if(S)throw S;if(!w||w.length===0){i([]),c(x),f.current=x;return}const _=w.map(j=>j.item_data?d(j.item_data,j.item_id):null).filter(Boolean);i(_),c(x),f.current=x}catch(w){console.error("Error fetching favorites:",w)}finally{a(!1)}},[t,n,d]),p=y.useCallback(async v=>{if(!(!t||!n()))try{const{error:x}=await Q.from("favorites").insert({user_id:t.id,item_type:"emission_factor",item_id:v.id,item_data:v});if(x)throw x;i(w=>[...w,{...v,isFavorite:!0}]),c(0)}catch(x){throw console.error("Error adding to favorites:",x),x}},[t,n]),g=y.useCallback(async v=>{if(!(!t||!n()))try{i(w=>w.filter(S=>S.id!==v));const{error:x}=await Q.from("favorites").delete().eq("user_id",t.id).eq("item_id",v);if(x)throw await h(!0),x;c(0)}catch(x){throw console.error("Error removing from favorites:",x),x}},[t,n,h]),m=y.useMemo(()=>new Set(r.map(v=>v.id)),[r]),b=y.useCallback(v=>m.has(v),[m]);return y.useEffect(()=>{let v;return t&&n()?v=setTimeout(()=>{h()},100):(i([]),c(0)),()=>{v&&clearTimeout(v)}},[t,n,h]),y.useEffect(()=>{if(!t||!n())return;const v=Q.channel(`favorites-realtime-${t.id}`).on("postgres_changes",{event:"*",schema:"public",table:"favorites",filter:`user_id=eq.${t.id}`},x=>{var w,S,_;try{if(x.eventType==="INSERT"&&((w=x.new)==null?void 0:w.item_type)==="emission_factor"){const j=d(x.new.item_data,x.new.item_id);i(P=>P.some(R=>R.id===j.id)?P:[...P,j])}if(x.eventType==="DELETE"){const j=(S=x.old)==null?void 0:S.item_id;j&&i(P=>P.filter(R=>R.id!==j))}if(x.eventType==="UPDATE"&&((_=x.new)==null?void 0:_.item_type)==="emission_factor"){const j=d(x.new.item_data,x.new.item_id);i(P=>P.map(R=>R.id===j.id?j:R))}}catch(j){console.error("favorites realtime handler error",j)}}).subscribe();return()=>{Q.removeChannel(v)}},[t,n,d]),o.jsx(hR.Provider,{value:{favorites:r,loading:s,addToFavorites:p,removeFromFavorites:g,isFavorite:b,refreshFavorites:h},children:e})},qz=Ju("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),hn=y.forwardRef(({className:e,variant:t,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:se(qz({variant:t}),e),...n}));hn.displayName="Alert";const gh=y.forwardRef(({className:e,...t},n)=>o.jsx("h5",{ref:n,className:se("mb-1 font-medium leading-none tracking-tight",e),...t}));gh.displayName="AlertTitle";const pn=y.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:se("text-sm [&_p]:leading-relaxed",e),...t}));pn.displayName="AlertDescription";const vb=Ju("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-semibold uppercase tracking-wide ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:shadow-soft active:shadow-none [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:brightness-105 active:brightness-95",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary text-primary bg-transparent hover:bg-primary/10 active:bg-primary/20",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90 active:bg-secondary/95",hero:"bg-primary-foreground text-primary hover:bg-primary-foreground/90 active:bg-primary-foreground/95",ghost:"text-foreground hover:bg-accent/10 hover:text-primary",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=y.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const a=r?As:"button";return o.jsx(a,{className:se(vb({variant:t,size:n,className:e})),ref:s,...i})});Z.displayName="Button";const pR=()=>{const{user:e}=xt(),[t,n]=y.useState({isImpersonating:!1,impersonatedUser:null,originalUser:null});return y.useEffect(()=>{const s=sessionStorage.getItem("impersonation_data");if(s)try{const a=JSON.parse(s);n(a)}catch(a){console.error("Error parsing impersonation data:",a),sessionStorage.removeItem("impersonation_data")}},[]),{...t,startImpersonation:async(s,a,l,c)=>{if(!e)return!1;try{const{data:u,error:f}=await Q.functions.invoke("impersonate-user",{body:{targetUserId:s,originalUserId:e.id}});if(f)throw f;const d={isImpersonating:!0,impersonatedUser:{id:s,email:a,workspace_id:l,workspace_name:c},originalUser:e};return n(d),sessionStorage.setItem("impersonation_data",JSON.stringify(d)),u.access_token&&u.refresh_token&&await Q.auth.setSession({access_token:u.access_token,refresh_token:u.refresh_token}),!0}catch(u){return console.error("Error starting impersonation:",u),!1}},stopImpersonation:async()=>{if(!t.originalUser)return!1;try{const{data:s,error:a}=await Q.functions.invoke("stop-impersonation",{body:{originalUserId:t.originalUser.id}});if(a)throw a;return s.access_token&&s.refresh_token&&await Q.auth.setSession({access_token:s.access_token,refresh_token:s.refresh_token}),n({isImpersonating:!1,impersonatedUser:null,originalUser:null}),sessionStorage.removeItem("impersonation_data"),!0}catch(s){return console.error("Error stopping impersonation:",s),!1}}}},Wz=()=>{const{isImpersonating:e,impersonatedUser:t,stopImpersonation:n}=pR(),{toast:r}=Dt();if(!e||!t)return null;const i=async()=>{await n()?(r({title:"Impersonation terminée",description:"Vous êtes de nouveau connecté avec votre compte admin"}),window.location.href="/admin"):r({variant:"destructive",title:"Erreur",description:"Impossible de terminer l'impersonation"})};return o.jsxs(hn,{className:"bg-orange-50 border-orange-200 mb-4",children:[o.jsx(Li,{className:"h-4 w-4 text-orange-600"}),o.jsxs(pn,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-orange-800",children:[o.jsx("strong",{children:"Mode Impersonation:"})," Vous êtes connecté en tant que"," ",o.jsx("strong",{children:t.email})," dans le workspace"," ",o.jsx("strong",{children:t.workspace_name})]}),o.jsxs(Z,{variant:"outline",size:"sm",onClick:i,className:"ml-4 border-orange-300 text-orange-700 hover:bg-orange-100",children:[o.jsx(Mk,{className:"h-4 w-4 mr-2"}),"Retour admin"]})]})]})},me=y.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));me.displayName="Card";const Se=y.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:se("flex flex-col space-y-1.5 p-6",e),...t}));Se.displayName="CardHeader";const je=y.forwardRef(({className:e,...t},n)=>o.jsx("h3",{ref:n,className:se("text-2xl font-semibold leading-none tracking-tight",e),...t}));je.displayName="CardTitle";const yt=y.forwardRef(({className:e,...t},n)=>o.jsx("p",{ref:n,className:se("text-sm text-muted-foreground",e),...t}));yt.displayName="CardDescription";const ge=y.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:se("p-6 pt-0",e),...t}));ge.displayName="CardContent";const Vz=y.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:se("flex items-center p-6 pt-0",e),...t}));Vz.displayName="CardFooter";function Qz(e,t=[]){let n=[];function r(s,a){const l=y.createContext(a),c=n.length;n=[...n,a];function u(d){const{scope:h,children:p,...g}=d,m=(h==null?void 0:h[e][c])||l,b=y.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:b,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,g=y.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,f]}const i=()=>{const s=n.map(a=>y.createContext(a));return function(l){const c=(l==null?void 0:l[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,Kz(i,...t)]}function Kz(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var Gz=y.createContext(void 0);function gp(e){const t=y.useContext(Gz);return e||t||"ltr"}var zm="rovingFocusGroup.onEntryFocus",Yz={bubbles:!1,cancelable:!0},vp="RovingFocusGroup",[Zv,mR,Xz]=Kh(vp),[Jz,yp]=Qz(vp,[Xz]),[Zz,e6]=Jz(vp),gR=y.forwardRef((e,t)=>o.jsx(Zv.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Zv.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(t6,{...e,ref:t})})}));gR.displayName=vp;var t6=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=y.useRef(null),p=Le(t,h),g=gp(s),[m=null,b]=Fi({prop:a,defaultProp:l,onChange:c}),[v,x]=y.useState(!1),w=dn(u),S=mR(n),_=y.useRef(!1),[j,P]=y.useState(0);return y.useEffect(()=>{const R=h.current;if(R)return R.addEventListener(zm,w),()=>R.removeEventListener(zm,w)},[w]),o.jsx(Zz,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:m,onItemFocus:y.useCallback(R=>b(R),[b]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>P(R=>R+1),[]),onFocusableItemRemove:y.useCallback(()=>P(R=>R-1),[]),children:o.jsx(ve.div,{tabIndex:v||j===0?-1:0,"data-orientation":r,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:te(e.onMouseDown,()=>{_.current=!0}),onFocus:te(e.onFocus,R=>{const $=!_.current;if(R.target===R.currentTarget&&$&&!v){const k=new CustomEvent(zm,Yz);if(R.currentTarget.dispatchEvent(k),!k.defaultPrevented){const F=S().filter(A=>A.focusable),I=F.find(A=>A.active),U=F.find(A=>A.id===m),z=[I,U,...F].filter(Boolean).map(A=>A.ref.current);xR(z,f)}}_.current=!1}),onBlur:te(e.onBlur,()=>x(!1))})})}),vR="RovingFocusGroupItem",yR=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...a}=e,l=$r(),c=s||l,u=e6(vR,n),f=u.currentTabStopId===c,d=mR(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return y.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),o.jsx(Zv.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:o.jsx(ve.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:te(e.onMouseDown,g=>{r?u.onItemFocus(c):g.preventDefault()}),onFocus:te(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:te(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=i6(g,u.orientation,u.dir);if(m!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let v=d().filter(x=>x.focusable).map(x=>x.ref.current);if(m==="last")v.reverse();else if(m==="prev"||m==="next"){m==="prev"&&v.reverse();const x=v.indexOf(g.currentTarget);v=u.loop?s6(v,x+1):v.slice(x+1)}setTimeout(()=>xR(v))}})})})});yR.displayName=vR;var n6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function r6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function i6(e,t,n){const r=r6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return n6[r]}function xR(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function s6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var bR=gR,wR=yR,yb="Tabs",[a6,Tre]=Hi(yb,[yp]),SR=yp(),[o6,xb]=a6(yb),jR=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=gp(l),[d,h]=Fi({prop:r,onChange:i,defaultProp:s});return o.jsx(o6,{scope:n,baseId:$r(),value:d,onValueChange:h,orientation:a,dir:f,activationMode:c,children:o.jsx(ve.div,{dir:f,"data-orientation":a,...u,ref:t})})});jR.displayName=yb;var _R="TabsList",ER=y.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=xb(_R,n),a=SR(n);return o.jsx(bR,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:o.jsx(ve.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});ER.displayName=_R;var CR="TabsTrigger",kR=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,a=xb(CR,n),l=SR(n),c=NR(a.baseId,r),u=TR(a.baseId,r),f=r===a.value;return o.jsx(wR,{asChild:!0,...l,focusable:!i,active:f,children:o.jsx(ve.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:te(e.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?a.onValueChange(r):d.preventDefault()}),onKeyDown:te(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&a.onValueChange(r)}),onFocus:te(e.onFocus,()=>{const d=a.activationMode!=="manual";!f&&!i&&d&&a.onValueChange(r)})})})});kR.displayName=CR;var PR="TabsContent",RR=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=e,l=xb(PR,n),c=NR(l.baseId,r),u=TR(l.baseId,r),f=r===l.value,d=y.useRef(f);return y.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(Cr,{present:i||f,children:({present:h})=>o.jsx(ve.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:h&&s})})});RR.displayName=PR;function NR(e,t){return`${e}-trigger-${t}`}function TR(e,t){return`${e}-content-${t}`}var l6=jR,AR=ER,OR=kR,IR=RR;const vh=l6,cu=y.forwardRef(({className:e,...t},n)=>o.jsx(AR,{ref:n,className:se("inline-flex h-12 items-center justify-center rounded-md p-1 gap-1 text-muted-foreground","bg-transparent",e),...t}));cu.displayName=AR.displayName;const Xn=y.forwardRef(({className:e,...t},n)=>o.jsx(OR,{ref:n,className:se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-6 py-2 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","bg-primary text-primary-foreground hover:bg-primary/90 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-sm",e),...t}));Xn.displayName=OR.displayName;const Jn=y.forwardRef(({className:e,...t},n)=>o.jsx(IR,{ref:n,className:se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Jn.displayName=IR.displayName;const Te=({src:e,alt:t,className:n})=>o.jsx("span",{role:"img","aria-label":t,className:se("block",n),style:{backgroundColor:"hsl(var(--primary))",WebkitMaskImage:`url(${e})`,maskImage:`url(${e})`,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskPosition:"center",maskPosition:"center",WebkitMaskSize:"contain",maskSize:"contain",display:"block"}}),c6=()=>{const e=Ma(),{user:t}=xt();return y.useEffect(()=>{var a,l;const n=new URLSearchParams(window.location.search),r=new URLSearchParams(window.location.hash.substring(1)),i=n.get("access_token")||r.get("access_token"),s=n.get("type")||r.get("type");if(i&&(s==="signup"||s==="invite")){console.log("Invitation détectée sur la page d'accueil, redirection..."),e("/invitation"+window.location.search+window.location.hash);return}if((a=t==null?void 0:t.user_metadata)!=null&&a.workspace_id&&((l=t==null?void 0:t.user_metadata)==null?void 0:l.invitation_type)==="workspace"){console.log("Utilisateur connecté avec invitation en attente, redirection..."),e("/invitation");return}},[e,t]),o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("nav",{className:"bg-background border-b border-border sticky top-0 z-50",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:"/lovable-uploads/415a981c-a454-47dc-a601-b214f6e857d0.png",alt:"DataCarb",className:"h-16"})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(wt,{to:"/signup",children:o.jsx(Z,{variant:"outline",children:"S'inscrire"})}),o.jsx(wt,{to:"/login",children:o.jsx(Z,{children:"Se connecter"})})]})]})})}),o.jsx("section",{className:"py-20 px-4 bg-primary text-primary-foreground",children:o.jsx("div",{className:"container mx-auto",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{className:"space-y-6 order-2 lg:order-1",children:[o.jsxs("h1",{className:"text-5xl md:text-6xl font-bold leading-tight text-primary-foreground",children:["Le moteur de recherche",o.jsx("br",{}),"de FE le plus puissant",o.jsx("br",{}),"du marché"]}),o.jsxs("p",{className:"text-primary-foreground/90",children:["Accédez à plus de 255 000 facteurs d'émissions français et internationaux",o.jsx("br",{}),"agrégés et enrichis par nos experts."]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx(wt,{to:"/signup",children:o.jsx(Z,{variant:"hero",className:"w-full sm:w-auto",children:"Tester le moteur de recherche"})}),o.jsx(wt,{to:"/login",children:o.jsx(Z,{variant:"outline",className:"w-full sm:w-auto border-primary-foreground text-primary-foreground hover:bg-primary-foreground/10",children:"Se connecter"})})]})]}),o.jsx("div",{className:"order-1 lg:order-2",children:o.jsx("img",{src:"/lovable-uploads/b3596089-c93c-4b3d-87ea-8598f493120b.png",alt:"Interface de recherche de facteurs d'émission",className:"w-full h-auto rounded-lg"})})]})})}),o.jsx("section",{className:"py-16 bg-background",children:o.jsxs("div",{className:"container mx-auto px-4 text-center",children:[o.jsx("h4",{className:"font-bold mb-12",children:"Retrouvez les plus grandes bases françaises et internationales"}),o.jsxs("div",{className:"grid grid-cols-7 gap-8 items-center",children:[o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/3fdbfe68-8e5e-4c44-8ac1-edd24a2d8fac.png",alt:"Empreinte",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/ac4b2170-676b-424b-906d-7f65f939022c.png",alt:"Ecobalyse",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/f51cec17-9b6f-417a-919b-c29f1a77ac1a.png",alt:"exiobase",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/9d73d9ce-baf8-4a47-bdd7-bcbcc41e709d.png",alt:"inies",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/8edc4de0-1e88-4d97-972f-ed5d481c1b30.png",alt:"AGRI BALYSE",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/a39b6717-f7d1-4045-a4ab-921fe28e5c53.png",alt:"Electricity Maps",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/c27135f4-de5c-49fd-9e9f-4dc89a29274f.png",alt:"PCAF",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/5310da27-1ab7-4efe-a090-a25937048f60.png",alt:"ecoinvent",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/08a66c66-7e5d-4050-918f-aa08fd2d8612.png",alt:"AIB",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/aa03a266-0170-4b29-b12a-2f86dea065a2.png",alt:"EMBER",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/c0650cbc-f7d4-40e6-a022-e6b2bac57c2a.png",alt:"Climate Trace",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/ba02a326-86d5-4773-8777-e613296e2582.png",alt:"European Environment Agency",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/2d97e89d-91a3-4143-8432-605a4422e9f0.png",alt:"Department for Business, Energy & Industrial Strategy",className:"max-h-[50px] w-full h-[50px]"})}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Te,{src:"/lovable-uploads/01ca909f-ef8b-4b32-aea1-50f98ae9e4a6.png",alt:"eco",className:"max-h-[50px] w-full h-[50px]"})})]})]})}),o.jsx("section",{className:"py-20 px-4",children:o.jsxs("div",{className:"container mx-auto text-center",children:[o.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-12",children:["Découvrez la puissance",o.jsx("br",{}),"du moteur de recherche"]}),o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx("div",{style:{position:"relative",paddingBottom:"calc(52.44791666666667% + 41px)",height:0,width:"100%"},children:o.jsx("iframe",{src:"https://demo.arcade.software/rg5Pizw2AGo4sO73KGPN?embed&embed_mobile=tab&embed_desktop=inline&show_copy_link=true",title:"Moteur de recherche de FE Sami - Démo",frameBorder:"0",loading:"lazy",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",colorScheme:"light"},allow:"clipboard-write",className:"rounded-lg"})})})]})}),o.jsx("section",{className:"py-20 px-4 bg-background",children:o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Un moteur de recherche",o.jsx("br",{}),"puissant et personnalisable"]}),o.jsxs(vh,{defaultValue:"donnees",className:"max-w-6xl mx-auto",children:[o.jsxs(cu,{className:"grid w-full grid-cols-4 mb-12 rounded-full items-center",children:[o.jsx(Xn,{value:"donnees",className:"rounded-full",children:"Données"}),o.jsx(Xn,{value:"recherche",className:"rounded-full",children:"Recherche"}),o.jsx(Xn,{value:"personnalisation",className:"rounded-full",children:"Personnalisation"}),o.jsx(Xn,{value:"plus-loin",className:"rounded-full",children:"Pour aller plus loin"})]}),o.jsxs(Jn,{value:"donnees",className:"grid lg:grid-cols-2 gap-12 items-start",children:[o.jsxs("div",{className:"space-y-8 py-4",children:[o.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Le guichet unique de vos",o.jsx("br",{}),"données carbone"]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Une donnée structurée"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Une structuration unique et homogène de plus de 20 bases de",o.jsx("br",{}),"données de références internationales."]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Une donnée à jour"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Une mise à jour en continu des bases pour une garantie de",o.jsx("br",{}),"qualité des FE."]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"+ 250K FE à disposition"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Plus de 250k FE génériques et spécifiques en cumulé,",o.jsx("br",{}),"disponibles au sein d'une structure commune."]})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg p-6",children:o.jsx("img",{src:"/lovable-uploads/71d74bc4-61b0-4e95-befc-12b9508a15e4.png",alt:"Interface base de données",className:"w-full h-auto"})})]}),o.jsxs(Jn,{value:"recherche",className:"grid lg:grid-cols-2 gap-12 items-start",children:[o.jsxs("div",{className:"space-y-8 py-4",children:[o.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Moteur fluide et simple",o.jsx("br",{}),"d'utilisation"]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Recherche intelligente"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Recherchez par mots-clés, codes, catégories ou filtres",o.jsx("br",{}),"avancés pour trouver rapidement vos FE."]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Interface intuitive"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Navigation simple et rapide avec des suggestions",o.jsx("br",{}),"automatiques et tri personnalisable."]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Résultats précis"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Algorithme optimisé pour vous proposer les facteurs",o.jsx("br",{}),"d'émission les plus pertinents selon vos critères."]})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg p-6",children:o.jsx("img",{src:"/lovable-uploads/501e99e2-29fe-4086-8d1f-9bd8028d151d.png",alt:"Interface de recherche",className:"w-full h-auto"})})]}),o.jsxs(Jn,{value:"personnalisation",className:"grid lg:grid-cols-2 gap-12 items-start",children:[o.jsxs("div",{className:"space-y-8 py-4",children:[o.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Personnalisez le moteur",o.jsx("br",{}),"selon vos besoins"]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Favoris et collections"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Sauvegardez vos FE préférés et créez des collections",o.jsx("br",{}),"thématiques pour un accès rapide."]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Filtres personnalisés"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Configurez des filtres selon vos secteurs d'activité",o.jsx("br",{}),"et vos besoins métier spécifiques."]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Données sur-mesure"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Intégrez vos propres FE spécifiques et créez votre",o.jsx("br",{}),"base de données personnalisée."]})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg p-6",children:o.jsx("img",{src:"/lovable-uploads/e3feeaa6-9229-46a9-a227-0700f479943f.png",alt:"Interface de personnalisation",className:"w-full h-auto"})})]}),o.jsxs(Jn,{value:"plus-loin",className:"grid lg:grid-cols-2 gap-12 items-start",children:[o.jsxs("div",{className:"space-y-8 py-4",children:[o.jsxs("h3",{className:"text-3xl font-bold leading-tight",children:["Allez plus loin que",o.jsx("br",{}),"la recherche de FE"]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Réalisez des benchmarks approfondis"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Positionnez facilement un produit ou une entreprise par",o.jsx("br",{}),"rapport à des concurrents et des moyennes sectorielles de marché."]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Plan d'action et décarbonation"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Identifiez rapidement les bénéfices de changements de produits,",o.jsx("br",{}),"relocalisation, de fournisseurs (achats responsables), etc."]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Support expert"}),o.jsxs("p",{className:"text-base font-light leading-relaxed",children:["Bénéficiez de l'accompagnement de nos experts",o.jsx("br",{}),"carbone pour optimiser vos calculs."]})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg p-6",children:o.jsx("img",{src:"/lovable-uploads/d9ebca49-6f11-4b52-a6b0-07a9d348c5b2.png",alt:"Interface avancée",className:"w-full h-auto"})})]})]})]})}),o.jsx("section",{className:"py-20 px-4",children:o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Toutes les bases de données",o.jsx("br",{}),"sur une seule plateforme"]}),o.jsxs(vh,{defaultValue:"standards",className:"max-w-6xl mx-auto",children:[o.jsxs(cu,{className:"grid w-full grid-cols-2 mb-12 rounded-full items-center",children:[o.jsx(Xn,{value:"standards",className:"rounded-full",children:"Datasets standards"}),o.jsx(Xn,{value:"premium",className:"rounded-full",children:"Datasets premium"})]}),o.jsx(Jn,{value:"standards",children:o.jsx("div",{className:"grid grid-cols-7 gap-8",children:["AIB","Agribalyse","BEIS","Base Carbone","Base Impacts","CCF","Climate Trace","EEA","EPA","Exiobase","EcoInvent","Ecobalyse","Electricity Maps","Ember","GESPoint5","GLEC","Kering","OMEGA TP","Open CEDA","PCAF"].map((n,r)=>o.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[o.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",children:n==="AIB"?o.jsx(Te,{src:"/lovable-uploads/04c097ec-c73b-4fb8-8788-7db8dce6aae6.png",alt:"AIB Logo",className:"w-full h-full"}):n==="Agribalyse"?o.jsx(Te,{src:"/lovable-uploads/fda086b7-f932-4837-beff-453157e04098.png",alt:"Agribalyse Logo",className:"w-full h-full"}):n==="BEIS"?o.jsx(Te,{src:"/lovable-uploads/6a36c45c-748d-4f7b-83c3-06ab2651649f.png",alt:"BEIS Logo",className:"w-full h-full"}):n==="Base Carbone"?o.jsx(Te,{src:"/lovable-uploads/e9be0482-b48d-476b-8536-b92ea3b88ea5.png",alt:"Base Carbone Logo",className:"w-full h-full"}):n==="Base Impacts"?o.jsx(Te,{src:"/lovable-uploads/8351c94f-afcc-498e-b8fa-73f47451686a.png",alt:"Base Impacts Logo",className:"w-full h-full"}):n==="CCF"?o.jsx(Te,{src:"/lovable-uploads/c9bb06bc-2cc4-4420-9704-4c9f16118e97.png",alt:"CCF Logo",className:"w-full h-full"}):n==="Climate Trace"?o.jsx(Te,{src:"/lovable-uploads/47300cd4-f205-4264-a5b0-6f1406b312f8.png",alt:"Climate Trace Logo",className:"w-full h-full"}):n==="EEA"?o.jsx(Te,{src:"/lovable-uploads/d2dffb4b-f32d-43ed-82bf-b071db714f91.png",alt:"European Environment Agency Logo",className:"w-full h-full"}):n==="EPA"?o.jsx(Te,{src:"/lovable-uploads/75c9eac2-554f-4bb0-9719-08a698c80e1d.png",alt:"US EPA Logo",className:"w-full h-full"}):n==="Exiobase"?o.jsx(Te,{src:"/lovable-uploads/373cff1a-5089-4167-b40a-38ff4d50cc36.png",alt:"Exiobase Logo",className:"w-full h-full"}):n==="EcoInvent"?o.jsx(Te,{src:"/lovable-uploads/5cc1caa1-f312-4760-849c-0b4ec3ab5f76.png",alt:"EcoInvent Logo",className:"w-full h-full"}):n==="Ecobalyse"?o.jsx(Te,{src:"/lovable-uploads/f775ed4f-912f-41cf-9ade-08338aadf665.png",alt:"Ecobalyse Logo",className:"w-full h-full"}):n==="Electricity Maps"?o.jsx(Te,{src:"/lovable-uploads/0cc5974c-e436-42f5-9776-ad4cd768b072.png",alt:"Electricity Maps Logo",className:"w-full h-full"}):n==="Ember"?o.jsx(Te,{src:"/lovable-uploads/88e14343-4589-4e34-b420-395130de1641.png",alt:"Ember Logo",className:"w-full h-full"}):n==="GESPoint5"?o.jsx(Te,{src:"/lovable-uploads/8de84824-fb1b-441b-a7c2-50b92b4072e2.png",alt:"1point5 Logo",className:"w-full h-full"}):n==="GLEC"?o.jsx(Te,{src:"/lovable-uploads/a5f3dea0-840a-4eed-b0ce-58ef94a75d67.png",alt:"GLEC Logo",className:"w-full h-full"}):n==="Kering"?o.jsx(Te,{src:"/lovable-uploads/faa38581-8c17-443c-b8de-77a4ffc6c72e.png",alt:"Kering Logo",className:"w-full h-full"}):n==="OMEGA TP"?o.jsx(Te,{src:"/lovable-uploads/4cce460f-a743-4cdf-9fdf-215ba86522d8.png",alt:"OMEGA TP Logo",className:"w-full h-full"}):n==="Open CEDA"?o.jsx(Te,{src:"/lovable-uploads/6bd2c0d0-f9d1-4f7d-853f-cc2a7932bff5.png",alt:"Open CEDA Logo",className:"w-full h-full"}):n==="PCAF"?o.jsx(Te,{src:"/lovable-uploads/b5978785-2cff-49c0-996a-225457820050.png",alt:"PCAF Logo",className:"w-full h-full"}):o.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 bg-primary rounded"})})}),o.jsx("span",{className:"text-sm text-center",children:n})]},r))})}),o.jsx(Jn,{value:"premium",children:o.jsx("div",{className:"grid grid-cols-7 gap-8",children:["Inies","Eco-platform","EcoInvent"].map((n,r)=>o.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[o.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center",children:n==="Inies"?o.jsx(Te,{src:"/lovable-uploads/59011962-91d0-4310-a1a6-4ce1c3bbb4b6.png",alt:"Inies Logo",className:"w-full h-full"}):n==="Eco-platform"?o.jsx(Te,{src:"/lovable-uploads/7d492fef-d5aa-4fa5-9732-938c9b53680d.png",alt:"Eco-platform Logo",className:"w-full h-full"}):n==="EcoInvent"?o.jsx(Te,{src:"/lovable-uploads/95586b3d-873f-4be8-a627-63fce61a19fd.png",alt:"EcoInvent Logo",className:"w-full h-full"}):o.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 bg-primary rounded"})})}),o.jsx("span",{className:"text-sm text-center",children:n})]},r))})})]})]})}),o.jsx("section",{className:"py-20 px-4 bg-background",children:o.jsx("div",{className:"container mx-auto",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("img",{src:"/lovable-uploads/aa4e0a75-7d42-444e-8f29-bd985c64a491.png",alt:"Expert",className:"w-full max-w-lg h-auto object-cover rounded-lg"})}),o.jsxs("div",{className:"space-y-8 py-4",children:[o.jsxs("h2",{className:"text-3xl md:text-4xl font-bold leading-tight",children:["Une base de données",o.jsx("br",{}),"structurée et enrichie par nos",o.jsx("br",{}),"experts"]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-2",children:"Des bases de données nettoyées et structurées"}),o.jsx("p",{className:"text-base font-light leading-relaxed",children:"Nos experts nettoient et restructurent l'ensemble des bases de données intégrées afin de disposer d'un format unique de données."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-2",children:"Enrichissement des bases de données"}),o.jsx("p",{className:"text-base font-light leading-relaxed",children:"Vérification des facteurs par poste d'émissions, correction des effets de l'inflation, traduction des métadonnées..."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold mb-2",children:"Versionnage"}),o.jsx("p",{className:"text-base font-light leading-relaxed",children:"Profitez d'un versionnage d'un maintien en temps réel de la base au gré des mises à jour des différentes sources de données."})]})]})]})]})})}),o.jsx("section",{className:"py-20 px-4",children:o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-12",children:["Un prix qui s'adapte",o.jsx("br",{}),"à vos besoins"]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[o.jsxs(me,{className:"p-8 border border-border",children:[o.jsxs(Se,{className:"pb-4",children:[o.jsx(je,{className:"text-xl font-semibold",children:"STANDARD"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"À partir de"}),o.jsxs("div",{className:"text-4xl font-bold text-foreground",children:["850€",o.jsx("span",{className:"text-lg font-normal",children:"/an"})]}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Profitez des datasets standards et du moteur de recherche"})]}),o.jsxs(ge,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(zt,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"Accès au moteur de recherche"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(zt,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"Datasets standards (165k FE)"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(zt,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"Mises à jour hebdomadaires"})]}),o.jsx(Z,{className:"w-full mt-6",children:"En savoir plus"})]})]}),o.jsxs(me,{className:"p-8 relative border border-border",children:[o.jsxs(Se,{className:"pb-4",children:[o.jsx(je,{className:"text-xl font-semibold",children:"PREMIUM"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"À partir de"}),o.jsxs("div",{className:"text-4xl font-bold text-foreground",children:["3000€",o.jsx("span",{className:"text-lg font-normal",children:"/an"})]}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Profitez des bases standards et premium et des fonctionnalités d'exports de données"})]}),o.jsxs(ge,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(zt,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"Accès au moteur de recherche"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(zt,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"Datasets standards (165k FE)"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(zt,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"Datasets premium (90K FE)"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(zt,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"Mises à jour hebdomadaires"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(zt,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"Gestion des favoris"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(zt,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"Export des données"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(zt,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm",children:"Assistance de nos experts"})]}),o.jsx(Z,{className:"w-full mt-6",children:"En savoir plus"})]})]})]})]})}),o.jsx("section",{className:"py-20 px-4 bg-primary",children:o.jsx("div",{className:"container mx-auto text-center",children:o.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[o.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-primary-foreground",children:"Prêt à explorer nos facteurs d'émission ?"}),o.jsx("p",{className:"text-primary-foreground text-lg",children:"Accédez dès maintenant au moteur de recherche le plus puissant du marché"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsx(wt,{to:"/signup",children:o.jsx(Z,{variant:"hero",className:"w-full sm:w-auto",children:"Tester le moteur de recherche"})}),o.jsx(wt,{to:"/login",children:o.jsx(Z,{variant:"outline",className:"border-primary-foreground px-8 py-3 rounded-md font-semibold font-montserrat w-full sm:w-auto hover:bg-primary-foreground/10 text-primary-foreground",children:"Se connecter"})})]})]})})}),o.jsx("footer",{className:"bg-primary text-primary-foreground py-16",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex flex-col items-center text-center space-y-8",children:[o.jsx("img",{src:"/lovable-uploads/c8972ef9-8dcc-4223-95de-2f4927d40419.png",alt:"DataCarb",className:"h-12"}),o.jsx("p",{className:"text-primary-foreground/80 max-w-md",children:"Le moteur de recherche de facteurs d'émission le plus puissant du marché."}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx(Z,{variant:"ghost",size:"sm",className:"p-2 text-primary-foreground/80 hover:text-primary-foreground hover:bg-primary-foreground/10",children:o.jsx(oM,{className:"h-4 w-4"})}),o.jsx(Z,{variant:"ghost",size:"sm",className:"p-2 text-primary-foreground/80 hover:text-primary-foreground hover:bg-primary-foreground/10",children:o.jsx(qx,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 w-full pt-8 border-t border-primary-foreground/20",children:[o.jsx("div",{className:"text-primary-foreground/80 text-sm",children:"© 2025 DataCarb. Tous droits réservés."}),o.jsxs("div",{className:"flex space-x-6 text-sm text-primary-foreground/80",children:[o.jsx(wt,{to:"/privacy",className:"hover:text-primary-foreground transition-colors",children:"Politique de confidentialité"}),o.jsx(wt,{to:"/terms",className:"hover:text-primary-foreground transition-colors",children:"Conditions d'utilisation"}),o.jsx(wt,{to:"/cookies",className:"hover:text-primary-foreground transition-colors",children:"Cookies"})]})]})]})})})]})},Ot=y.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Ot.displayName="Input";var u6="Label",DR=y.forwardRef((e,t)=>o.jsx(ve.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));DR.displayName=u6;var FR=DR;const d6=Ju("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),jt=y.forwardRef(({className:e,...t},n)=>o.jsx(FR,{ref:n,className:se(d6(),e),...t}));jt.displayName=FR.displayName;const LR=({provider:e,onClick:t,loading:n=!1,disabled:r=!1,children:i,icon:s,className:a=""})=>{const l={google:"border-red-200 hover:border-red-300 hover:bg-red-50 text-gray-700"};return o.jsxs(Z,{type:"button",variant:"outline",onClick:t,disabled:r||n,className:`w-full transition-smooth ${l[e]} ${a}`,children:[n?o.jsx(ka,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx("span",{className:"mr-2",children:s}),i]})},MR=y.createContext(void 0),$R=()=>{const e=y.useContext(MR);if(!e)throw new Error("useSSO must be used within an SSOProvider");return e},UR=({children:e})=>{const[t,n]=y.useState({loading:{google:!1},lastError:null}),r=(a,l)=>{n(c=>({...c,loading:{...c.loading,[a]:l}}))},i=a=>{n(l=>({...l,lastError:a}))},s=()=>{i(null)};return o.jsx(MR.Provider,{value:{ssoState:t,setProviderLoading:r,setLastError:i,clearError:s},children:e})},f6=()=>{const[e,t]=y.useState(""),[n,r]=y.useState(""),[i,s]=y.useState(!1),[a,l]=y.useState(!1),{toast:c}=Dt(),{signIn:u,signInWithGoogle:f}=xt(),{ssoState:d,setProviderLoading:h,setLastError:p}=$R(),g=Hs();y.useEffect(()=>{(async()=>{if(new URLSearchParams(g.search).get("trial_expired")==="true"){l(!0);return}try{const{data:{session:w}}=await Q.auth.getSession();if(w!=null&&w.user){const{data:S}=await Q.from("users").select("workspace_id").eq("user_id",w.user.id).single();if(S){const{data:_}=await Q.from("workspaces").select("plan_type").eq("id",S.workspace_id).single();if((_==null?void 0:_.plan_type)==="freemium"){const{data:j}=await Q.from("workspace_trials").select("expires_at").eq("workspace_id",S.workspace_id).single();j&&new Date(j.expires_at)<=new Date&&(l(!0),await Q.auth.signOut())}}}}catch(w){console.error("Error checking trial status:",w)}})()},[g]);const m=async v=>{v.preventDefault(),s(!0),p(null);try{const x=await u(e,n);x.error&&(c({variant:"destructive",title:"Erreur lors de la connexion",description:x.error.message}),p(x.error.message))}catch{c({variant:"destructive",title:"Erreur lors de la connexion",description:"Une erreur inattendue s'est produite"}),p("Une erreur inattendue s'est produite")}finally{s(!1)}},b=async v=>{h(v,!0),p(null);try{const x=await f();x.error&&(c({variant:"destructive",title:"Erreur lors de la connexion avec Google",description:x.error.message}),p(x.error.message))}catch{c({variant:"destructive",title:"Erreur lors de la connexion avec Google",description:"Une erreur inattendue s'est produite"}),p("Une erreur inattendue s'est produite")}finally{h(v,!1)}};return o.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"mb-6",children:o.jsxs(wt,{to:"/",className:"inline-flex items-center text-primary-foreground hover:opacity-80 transition-colors",children:[o.jsx(Ux,{className:"w-4 h-4 mr-2"}),"Retour à l'accueil"]})}),o.jsxs(me,{children:[o.jsxs(Se,{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:o.jsx("img",{src:"/lovable-uploads/8c10071b-a5e9-495c-ac9b-f3cf48b467a1.png",alt:"DataCarb",className:"w-full h-full object-contain"})}),o.jsx(je,{className:"text-2xl",children:"Se connecter"}),o.jsx(yt,{children:"Connectez-vous à votre compte DataCarb"})]}),o.jsxs(ge,{children:[a&&o.jsxs(hn,{variant:"destructive",className:"mb-6",children:[o.jsx(xr,{className:"h-4 w-4"}),o.jsx(pn,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"font-medium",children:"Votre plan freemium est terminé."}),o.jsx("p",{children:"Merci de contacter notre équipe commerciale afin de souscrire à un plan payant."})]})})]}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(jt,{htmlFor:"email",children:"Email"}),o.jsx(Ot,{id:"email",type:"email",value:e,onChange:v=>t(v.target.value),required:!0,placeholder:"votre@email.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(jt,{htmlFor:"password",children:"Mot de passe"}),o.jsx(Ot,{id:"password",type:"password",value:n,onChange:v=>r(v.target.value),required:!0,placeholder:"Votre mot de passe"})]}),o.jsx(Z,{type:"submit",className:"w-full",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx(ka,{className:"w-4 h-4 mr-2 animate-spin"}),"Connexion..."]}):"Se connecter"})]}),o.jsx("div",{className:"my-6 text-center text-sm text-gray-500",children:o.jsx("span",{children:"ou"})}),o.jsx(LR,{provider:"google",onClick:()=>b("google"),loading:d.loading.google,disabled:i||d.loading.google,icon:o.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),children:"Se connecter avec Google"}),d.lastError&&o.jsxs(hn,{variant:"destructive",className:"mt-4",children:[o.jsx(xr,{className:"h-4 w-4"}),o.jsx(pn,{children:d.lastError})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["Pas encore de compte ?"," ",o.jsx(wt,{to:"/signup",className:"text-blue-600 hover:underline",children:"S'inscrire"})]})})]})]})]})})},h6=()=>o.jsx(UR,{children:o.jsx(f6,{})}),p6=()=>{const[e,t]=y.useState(""),[n,r]=y.useState(""),[i,s]=y.useState(""),[a,l]=y.useState(""),[c,u]=y.useState(""),[f,d]=y.useState(""),[h,p]=y.useState(!1),{toast:g}=Dt(),{signUp:m,signInWithGoogle:b}=xt(),{ssoState:v,setProviderLoading:x,setLastError:w}=$R(),S=async j=>{if(j.preventDefault(),n!==i){g({variant:"destructive",title:"Erreur",description:"Les mots de passe ne correspondent pas"});return}if(n.length<6){g({variant:"destructive",title:"Erreur",description:"Le mot de passe doit contenir au moins 6 caractères"});return}p(!0),w(null);try{const P=await m(e,n,{firstName:a,lastName:c,company:f||"Mon Entreprise"});P.error?(g({variant:"destructive",title:"Erreur lors de l'inscription",description:P.error.message}),w(P.error.message)):(g({title:"Inscription réussie",description:"Un email de confirmation a été envoyé. Vérifiez votre boîte mail."}),setTimeout(()=>{window.location.href="/login"},2e3))}catch{g({variant:"destructive",title:"Erreur lors de l'inscription",description:"Une erreur inattendue s'est produite"}),w("Une erreur inattendue s'est produite")}finally{p(!1)}},_=async j=>{x(j,!0),w(null);try{const P=await b();P.error&&(g({variant:"destructive",title:"Erreur lors de l'inscription avec Google",description:P.error.message}),w(P.error.message))}catch{g({variant:"destructive",title:"Erreur lors de l'inscription avec Google",description:"Une erreur inattendue s'est produite"}),w("Une erreur inattendue s'est produite")}finally{x(j,!1)}};return o.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"mb-6",children:o.jsxs(wt,{to:"/",className:"inline-flex items-center text-primary-foreground hover:opacity-80 transition-colors",children:[o.jsx(Ux,{className:"w-4 h-4 mr-2"}),"Retour à l'accueil"]})}),o.jsxs(me,{children:[o.jsxs(Se,{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 mx-auto mb-4",children:o.jsx("img",{src:"/lovable-uploads/8c10071b-a5e9-495c-ac9b-f3cf48b467a1.png",alt:"DataCarb",className:"w-full h-full object-contain"})}),o.jsx(je,{className:"text-2xl",children:"Créer un compte"}),o.jsx(yt,{children:"Rejoignez DataCarb et accédez à notre base de données complète"})]}),o.jsxs(ge,{children:[o.jsxs("form",{onSubmit:S,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(jt,{htmlFor:"firstName",children:"Prénom"}),o.jsx(Ot,{id:"firstName",type:"text",value:a,onChange:j=>l(j.target.value),required:!0,placeholder:"Votre prénom"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(jt,{htmlFor:"lastName",children:"Nom"}),o.jsx(Ot,{id:"lastName",type:"text",value:c,onChange:j=>u(j.target.value),required:!0,placeholder:"Votre nom"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(jt,{htmlFor:"company",children:"Nom de l'entreprise"}),o.jsx(Ot,{id:"company",type:"text",value:f,onChange:j=>d(j.target.value),required:!0,placeholder:"Nom de votre entreprise"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(jt,{htmlFor:"email",children:"Email"}),o.jsx(Ot,{id:"email",type:"email",value:e,onChange:j=>t(j.target.value),required:!0,placeholder:"votre@email.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(jt,{htmlFor:"password",children:"Mot de passe"}),o.jsx(Ot,{id:"password",type:"password",value:n,onChange:j=>r(j.target.value),required:!0,placeholder:"Au moins 6 caractères"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(jt,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),o.jsx(Ot,{id:"confirmPassword",type:"password",value:i,onChange:j=>s(j.target.value),required:!0,placeholder:"Confirmez votre mot de passe"})]}),o.jsx(Z,{type:"submit",className:"w-full",disabled:h,children:h?o.jsxs(o.Fragment,{children:[o.jsx(ka,{className:"w-4 h-4 mr-2 animate-spin"}),"Création en cours..."]}):"Créer un compte"})]}),o.jsx("div",{className:"my-6 text-center text-sm text-gray-500",children:o.jsx("span",{children:"ou"})}),o.jsx(LR,{provider:"google",onClick:()=>_("google"),loading:v.loading.google,disabled:h||v.loading.google,icon:o.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),children:"S'inscrire avec Google"}),v.lastError&&o.jsxs(hn,{variant:"destructive",className:"mt-4",children:[o.jsx(xr,{className:"h-4 w-4"}),o.jsx(pn,{children:v.lastError})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["Vous avez déjà un compte ?"," ",o.jsx(wt,{to:"/login",className:"text-blue-600 hover:underline",children:"Se connecter"})]})})]})]})]})})},m6=()=>o.jsx(UR,{children:o.jsx(p6,{})});function gr({className:e,...t}){return o.jsx("div",{className:se("animate-pulse rounded-md bg-muted",e),...t})}const g6=()=>{const[e]=S5(),t=Ma(),{toast:n}=Dt(),[r,i]=y.useState(!0),[s,a]=y.useState(null);y.useEffect(()=>{(async()=>{var u;try{const{data:f,error:d}=await Q.auth.getSession();if(d)throw new Error(`Erreur d'authentification: ${d.message}`);const h=e.get("type"),p=e.get("workspaceId"),g=e.get("role");if((u=f.session)!=null&&u.user)console.log("Utilisateur authentifié:",f.session.user.email),h==="invite"&&p&&g?await l(f.session.user,p,g):t("/search");else throw new Error("Aucune session utilisateur trouvée")}catch(f){console.error("Erreur lors du callback auth:",f),a(f.message||"Erreur lors de l'authentification")}finally{i(!1)}})()},[e,t]);const l=async(c,u,f)=>{var d,h;try{const{data:p}=await Q.from("users").select("*").eq("user_id",c.id).eq("workspace_id",u).single();if(p){n({title:"Déjà membre",description:"Vous êtes déjà membre de ce workspace"}),t("/search");return}const{data:g}=await Q.from("workspaces").select("name").eq("id",u).single(),m=(g==null?void 0:g.name)||"Workspace",{error:b}=await Q.from("users").insert({user_id:c.id,workspace_id:u,first_name:((d=c.user_metadata)==null?void 0:d.first_name)||"",last_name:((h=c.user_metadata)==null?void 0:h.last_name)||"",company:m,email:c.email,plan_type:"freemium",subscribed:!1,assigned_by:c.id});if(b)throw b;const{error:v}=await Q.from("user_roles").insert({user_id:c.id,workspace_id:u,role:f,assigned_by:c.id,is_supra_admin:!1});if(v)throw v;const{error:x}=await Q.from("search_quotas").insert({user_id:c.id,exports_limit:10,clipboard_copies_limit:50,favorites_limit:100,plan_type:"freemium"});x&&console.warn("Erreur quotas (non critique):",x),n({title:"Bienvenue !",description:`Vous avez rejoint le workspace "${m}" avec succès`}),t("/search")}catch(p){console.error("Erreur lors de l'ajout au workspace:",p),n({variant:"destructive",title:"Erreur",description:"Impossible de rejoindre le workspace"}),t("/search")}};return r?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:o.jsxs(me,{className:"w-full max-w-md",children:[o.jsxs(Se,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx(Pa,{className:"h-6 w-6 text-primary animate-spin"})}),o.jsx(je,{children:"Authentification en cours..."})]}),o.jsxs(ge,{className:"space-y-4",children:[o.jsx(gr,{className:"h-4 w-full"}),o.jsx(gr,{className:"h-4 w-3/4"})]})]})}):s?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:o.jsxs(me,{className:"w-full max-w-md",children:[o.jsxs(Se,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-destructive/10 flex items-center justify-center",children:o.jsx(eM,{className:"h-6 w-6 text-destructive"})}),o.jsx(je,{className:"text-destructive",children:"Erreur d'authentification"})]}),o.jsx(ge,{children:o.jsx("p",{className:"text-sm text-muted-foreground text-center",children:s})})]})}):o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:o.jsxs(me,{className:"w-full max-w-md",children:[o.jsxs(Se,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:o.jsx(zt,{className:"h-6 w-6 text-green-600"})}),o.jsx(je,{children:"Authentification réussie"})]}),o.jsx(ge,{children:o.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Redirection en cours..."})})]})})},ey="7.16.2";function mn(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var bb=mn;mn.prototype._events=void 0;mn.prototype._maxListeners=void 0;mn.defaultMaxListeners=10;mn.prototype.setMaxListeners=function(e){if(!v6(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this};mn.prototype.emit=function(e){var t,n,r,i,s,a;if(this._events||(this._events={}),e==="error"&&(!this._events.error||uu(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],zR(n))return!1;if(Ui(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(uu(n))for(i=Array.prototype.slice.call(arguments,1),a=n.slice(),r=a.length,s=0;s<r;s++)a[s].apply(this,i);return!0};mn.prototype.addListener=function(e,t){var n;if(!Ui(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,Ui(t.listener)?t.listener:t),this._events[e]?uu(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,uu(this._events[e])&&!this._events[e].warned&&(zR(this._maxListeners)?n=mn.defaultMaxListeners:n=this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),typeof console.trace=="function"&&console.trace())),this};mn.prototype.on=mn.prototype.addListener;mn.prototype.once=function(e,t){if(!Ui(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this};mn.prototype.removeListener=function(e,t){var n,r,i,s;if(!Ui(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||Ui(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(uu(n)){for(s=i;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;n.length===1?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this};mn.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[e]&&delete this._events[e],this;if(arguments.length===0){for(t in this._events)t!=="removeListener"&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],Ui(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this};mn.prototype.listeners=function(e){var t;return!this._events||!this._events[e]?t=[]:Ui(this._events[e])?t=[this._events[e]]:t=this._events[e].slice(),t};mn.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(Ui(t))return 1;if(t)return t.length}return 0};mn.listenerCount=function(e,t){return e.listenerCount(t)};function Ui(e){return typeof e=="function"}function v6(e){return typeof e=="number"}function uu(e){return typeof e=="object"&&e!==null}function zR(e){return e===void 0}const y6=Ia(bb);function x6(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}var BR=x6,b6=bb,w6=BR;function ad(e,t,n){this.main=e,this.fn=t,this.recommendFn=n,this.lastResults=null,this.lastRecommendResults=null}w6(ad,b6);ad.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)};ad.prototype.getModifiedState=function(e){return this.fn(e)};ad.prototype.getModifiedRecommendState=function(e){return this.recommendFn(e)};var S6=ad;function j6(e){return typeof e!="string"?e:String(e).replace(/^-/,"\\-")}function _6(e){return typeof e!="string"?e:e.replace(/^\\-/,"-")}var wb={escapeFacetValue:j6,unescapeFacetValue:_6};function E6(e){return typeof e=="object"&&e!==null?Sb(Array.isArray(e)?[]:{},e):e}function yh(e){return typeof e=="function"||Array.isArray(e)||Object.prototype.toString.call(e)==="[object Object]"}function Sb(e,t){if(e===t)return e;for(var n in t)if(!(!Object.prototype.hasOwnProperty.call(t,n)||n==="__proto__"||n==="constructor")){var r=t[n],i=e[n];typeof i<"u"&&typeof r>"u"||(yh(i)&&yh(r)?e[n]=Sb(i,r):e[n]=E6(r))}return e}function C6(e){yh(e)||(e={});for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];yh(r)&&Sb(e,r)}return e}var jb=C6;function k6(e){return e&&Object.keys(e).length>0}var _b=k6;function P6(e,t){if(e===null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Eb=P6;function fc(e){e=e||{},this.params=e.params||[]}fc.prototype={constructor:fc,addParams:function(e){var t=this.params.slice();return t.push(e),new fc({params:t})},removeParams:function(e){return new fc({params:this.params.filter(function(t){return t.$$id!==e})})},addFrequentlyBoughtTogether:function(e){return this.addParams(Object.assign({},e,{model:"bought-together"}))},addRelatedProducts:function(e){return this.addParams(Object.assign({},e,{model:"related-products"}))},addTrendingItems:function(e){return this.addParams(Object.assign({},e,{model:"trending-items"}))},addTrendingFacets:function(e){return this.addParams(Object.assign({},e,{model:"trending-facets"}))},addLookingSimilar:function(e){return this.addParams(Object.assign({},e,{model:"looking-similar"}))},_buildQueries:function(e,t){return this.params.filter(function(n){return t[n.$$id]===void 0}).map(function(n){var r=Object.assign({},n,{indexName:e,threshold:n.threshold||0});return delete r.$$id,r})}};var HR=fc;function ty(e,t){this._state=e,this._rawResults={};var n=this;e.params.forEach(function(r){var i=r.$$id;n[i]=t[i],n._rawResults[i]=t[i]})}ty.prototype={constructor:ty};var qR=ty,Yd=jb;function Xd(e){return Object.keys(e).sort().reduce(function(t,n){return t[n]=e[n],t},{})}var Mt={_getQueries:function(t,n){var r=[];return r.push({indexName:t,params:Mt._getHitsSearchParams(n)}),n.getRefinedDisjunctiveFacets().forEach(function(i){r.push({indexName:t,params:Mt._getDisjunctiveFacetSearchParams(n,i)})}),n.getRefinedHierarchicalFacets().forEach(function(i){var s=n.getHierarchicalFacetByName(i),a=n.getHierarchicalRefinement(i),l=n._getHierarchicalFacetSeparator(s);if(a.length>0&&a[0].split(l).length>1){var c=a[0].split(l).slice(0,-1).reduce(function(f,d,h){return f.concat({attribute:s.attributes[h],value:h===0?d:[f[f.length-1].value,d].join(l)})},[]);c.forEach(function(u,f){var d=Mt._getDisjunctiveFacetSearchParams(n,u.attribute,f===0);function h(m){return s.attributes.some(function(b){return b===m.split(":")[0]})}var p=(d.facetFilters||[]).reduce(function(m,b){if(Array.isArray(b)){var v=b.filter(function(x){return!h(x)});v.length>0&&m.push(v)}return typeof b=="string"&&!h(b)&&m.push(b),m},[]),g=c[f-1];f>0?d.facetFilters=p.concat(g.attribute+":"+g.value):p.length>0?d.facetFilters=p:delete d.facetFilters,r.push({indexName:t,params:d})})}}),r},_getCompositionQueries:function(t){return[{compositionID:t.index,requestBody:{params:Mt._getCompositionHitsSearchParams(t)}}]},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(Mt._getHitsHierarchicalFacetsAttributes(e)).sort(),n=Mt._getFacetFilters(e),r=Mt._getNumericFilters(e),i=Mt._getTagFilters(e),s={};return t.length>0&&(s.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(s.tagFilters=i),n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r),Xd(Yd({},e.getQueryParams(),s))},_getCompositionHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets.map(function(l){return e.disjunctiveFacetsRefinements&&e.disjunctiveFacetsRefinements[l]&&e.disjunctiveFacetsRefinements[l].length>0?"disjunctive("+l+")":l})).concat(Mt._getHitsHierarchicalFacetsAttributes(e)).sort(),n=Mt._getFacetFilters(e),r=Mt._getNumericFilters(e),i=Mt._getTagFilters(e),s={};t.length>0&&(s.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(s.tagFilters=i),n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r);var a=e.getQueryParams();return delete a.highlightPreTag,delete a.highlightPostTag,delete a.index,Xd(Yd({},a,s))},_getDisjunctiveFacetSearchParams:function(e,t,n){var r=Mt._getFacetFilters(e,t,n),i=Mt._getNumericFilters(e,t),s=Mt._getTagFilters(e),a={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};s.length>0&&(a.tagFilters=s);var l=e.getHierarchicalFacetByName(t);return l?a.facets=Mt._getDisjunctiveHierarchicalFacetAttribute(e,l,n):a.facets=t,i.length>0&&(a.numericFilters=i),r.length>0&&(a.facetFilters=r),Xd(Yd({},e.getQueryParams(),a))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r]||{};Object.keys(i).forEach(function(s){var a=i[s]||[];t!==r&&a.forEach(function(l){if(Array.isArray(l)){var c=l.map(function(u){return r+s+u});n.push(c)}else n.push(r+s+l)})})}),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[],i=e.facetsRefinements||{};Object.keys(i).sort().forEach(function(c){var u=i[c]||[];u.slice().sort().forEach(function(f){r.push(c+":"+f)})});var s=e.facetsExcludes||{};Object.keys(s).sort().forEach(function(c){var u=s[c]||[];u.sort().forEach(function(f){r.push(c+":-"+f)})});var a=e.disjunctiveFacetsRefinements||{};Object.keys(a).sort().forEach(function(c){var u=a[c]||[];if(!(c===t||!u||u.length===0)){var f=[];u.slice().sort().forEach(function(d){f.push(c+":"+d)}),r.push(f)}});var l=e.hierarchicalFacetsRefinements||{};return Object.keys(l).sort().forEach(function(c){var u=l[c]||[],f=u[0];if(f!==void 0){var d=e.getHierarchicalFacetByName(c),h=e._getHierarchicalFacetSeparator(d),p=e._getHierarchicalRootPath(d),g,m;if(t===c){if(f.indexOf(h)===-1||!p&&n===!0||p&&p.split(h).length===f.split(h).length)return;p?(m=p.split(h).length-1,f=p):(m=f.split(h).length-2,f=f.slice(0,f.lastIndexOf(h))),g=d.attributes[m]}else m=f.split(h).length-1,g=d.attributes[m];g&&r.push([g+":"+f])}}),r},_getHitsHierarchicalFacetsAttributes:function(e){var t=[];return e.hierarchicalFacets.reduce(function(r,i){var s=e.getHierarchicalRefinement(i.name)[0];if(!s)return r.push(i.attributes[0]),r;var a=e._getHierarchicalFacetSeparator(i),l=s.split(a).length,c=i.attributes.slice(0,l+1);return r.concat(c)},t)},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(n===!0){var i=e._getHierarchicalRootPath(t),s=0;return i&&(s=i.split(r).length),[t.attributes[s]]}var a=e.getHierarchicalRefinement(t.name)[0]||"",l=a.split(r).length-1;return t.attributes.slice(0,l+1)},getSearchForFacetQuery:function(e,t,n,r){var i=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,s={facetQuery:t,facetName:e};return typeof n=="number"&&(s.maxFacetHits=n),Xd(Yd({},Mt._getHitsSearchParams(i),s))}},R6=Mt,Cb=function(){var t=Array.prototype.slice.call(arguments);return t.reduceRight(function(n,r){return Object.keys(Object(r)).forEach(function(i){r[i]!==void 0&&(n[i]!==void 0&&delete n[i],n[i]=r[i])}),n},{})},od=function(t,n){if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(n(t[r]))return t[r]}};function N6(e,t){return e.filter(function(n,r){return t.indexOf(n)>-1&&e.indexOf(n)===r})}var T6=N6;function WR(e){if(typeof e=="number")return e;if(typeof e=="string")return parseFloat(e);if(Array.isArray(e))return e.map(WR);throw new Error("The value should be a number, a parsable string or an array of those.")}var A6=WR,O6=function(t){return t===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(t)},I6=Cb,D6=_b,F6=Eb,aa={addRefinement:function(t,n,r){if(aa.isRefined(t,n,r))return t;var i=""+r,s=t[n]?t[n].concat(i):[i],a={};return a[n]=s,I6(a,t)},removeRefinement:function(t,n,r){if(r===void 0)return aa.clearRefinement(t,function(s,a){return n===a});var i=""+r;return aa.clearRefinement(t,function(s,a){return n===a&&i===s})},toggleRefinement:function(t,n,r){if(r===void 0)throw new Error("toggleRefinement should be used with a value");return aa.isRefined(t,n,r)?aa.removeRefinement(t,n,r):aa.addRefinement(t,n,r)},clearRefinement:function(t,n,r){if(n===void 0)return D6(t)?{}:t;if(typeof n=="string")return F6(t,[n]);if(typeof n=="function"){var i=!1,s=Object.keys(t).reduce(function(a,l){var c=t[l]||[],u=c.filter(function(f){return!n(f,l,r)});return u.length!==c.length&&(i=!0),a[l]=u,a},{});return i?s:t}},isRefined:function(t,n,r){var i=!!t[n]&&t[n].length>0;if(r===void 0||!i)return i;var s=""+r;return t[n].indexOf(s)!==-1}},L6=aa,Bm=Cb,VR=od,d1=T6,ny=jb,ry=_b,f1=Eb,Hm=A6,M6=O6,mt=L6;function kb(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(n,r){return kb(t[r],n)}):e===t}function $6(e,t){return VR(e,function(n){return kb(n,t)})}function Un(e){var t=e?Un._parseNumbers(e):{};t.userToken!==void 0&&!M6(t.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var n=this;Object.keys(t).forEach(function(r){var i=Un.PARAMETERS.indexOf(r)!==-1,s=t[r]!==void 0;!i&&s&&(n[r]=t[r])})}Un.PARAMETERS=Object.keys(new Un);Un._parseNumbers=function(e){if(e instanceof Un)return e;var t={},n=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(n.forEach(function(i){var s=e[i];if(typeof s=="string"){var a=parseFloat(s);t[i]=isNaN(a)?s:a}}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(i){return Array.isArray(i)?i.map(function(s){return parseFloat(s)}):i})),e.numericRefinements){var r={};Object.keys(e.numericRefinements).forEach(function(i){var s=e.numericRefinements[i]||{};r[i]={},Object.keys(s).forEach(function(a){var l=s[a],c=l.map(function(u){return Array.isArray(u)?u.map(function(f){return typeof f=="string"?parseFloat(f):f}):typeof u=="string"?parseFloat(u):u});r[i][a]=c})}),t.numericRefinements=r}return ny(e,t)};Un.make=function(t){var n=new Un(t),r=t.hierarchicalFacets||[];return r.forEach(function(i){if(i.rootPath){var s=n.getHierarchicalRefinement(i.name);s.length>0&&s[0].indexOf(i.rootPath)!==0&&(n=n.clearRefinements(i.name)),s=n.getHierarchicalRefinement(i.name),s.length===0&&(n=n.toggleHierarchicalFacetRefinement(i.name,i.rootPath))}}),n};Un.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&ry(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):ry(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null};Un.prototype={constructor:Un,clearRefinements:function(t){var n={numericRefinements:this._clearNumericRefinements(t),facetsRefinements:mt.clearRefinement(this.facetsRefinements,t,"conjunctiveFacet"),facetsExcludes:mt.clearRefinement(this.facetsExcludes,t,"exclude"),disjunctiveFacetsRefinements:mt.clearRefinement(this.disjunctiveFacetsRefinements,t,"disjunctiveFacet"),hierarchicalFacetsRefinements:mt.clearRefinement(this.hierarchicalFacetsRefinements,t,"hierarchicalFacet")};return n.numericRefinements===this.numericRefinements&&n.facetsRefinements===this.facetsRefinements&&n.facetsExcludes===this.facetsExcludes&&n.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&n.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(n)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(t){return t===this.index?this:this.setQueryParameters({index:t})},setQuery:function(t){return t===this.query?this:this.setQueryParameters({query:t})},setPage:function(t){return t===this.page?this:this.setQueryParameters({page:t})},setFacets:function(t){return this.setQueryParameters({facets:t})},setDisjunctiveFacets:function(t){return this.setQueryParameters({disjunctiveFacets:t})},setHitsPerPage:function(t){return this.hitsPerPage===t?this:this.setQueryParameters({hitsPerPage:t})},setTypoTolerance:function(t){return this.typoTolerance===t?this:this.setQueryParameters({typoTolerance:t})},addNumericRefinement:function(e,t,n){var r=Hm(n);if(this.isNumericRefined(e,t,r))return this;var i=ny({},this.numericRefinements);return i[e]=ny({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(r)):i[e][t]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsRefinements[e]||[]:[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)?this.disjunctiveFacetsRefinements[e]||[]:[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsExcludes[e]||[]:[]},removeNumericRefinement:function(e,t,n){var r=n;return r!==void 0?this.isNumericRefined(e,t,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e&&i.op===t&&kb(i.val,Hm(r))})}):this:t!==void 0?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e&&i.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(t){if(t===void 0)return ry(this.numericRefinements)?{}:this.numericRefinements;if(typeof t=="string")return f1(this.numericRefinements,[t]);if(typeof t=="function"){var n=!1,r=this.numericRefinements,i=Object.keys(r).reduce(function(s,a){var l=r[a],c={};return l=l||{},Object.keys(l).forEach(function(u){var f=l[u]||[],d=[];f.forEach(function(h){var p=t({val:h,op:u},a,"numeric");p||d.push(h)}),d.length!==f.length&&(n=!0),c[u]=d}),s[a]=c,s},{});return n?i:this.numericRefinements}},addFacet:function(t){return this.isConjunctiveFacet(t)?this:this.setQueryParameters({facets:this.facets.concat([t])})},addDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([t])})},addHierarchicalFacet:function(t){if(this.isHierarchicalFacet(t.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+t.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([t])})},addFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return mt.isRefined(this.facetsRefinements,t,n)?this:this.setQueryParameters({facetsRefinements:mt.addRefinement(this.facetsRefinements,t,n)})},addExcludeRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return mt.isRefined(this.facetsExcludes,t,n)?this:this.setQueryParameters({facetsExcludes:mt.addRefinement(this.facetsExcludes,t,n)})},addDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return mt.isRefined(this.disjunctiveFacetsRefinements,t,n)?this:this.setQueryParameters({disjunctiveFacetsRefinements:mt.addRefinement(this.disjunctiveFacetsRefinements,t,n)})},addTagRefinement:function(t){if(this.isTagRefined(t))return this;var n={tagRefinements:this.tagRefinements.concat(t)};return this.setQueryParameters(n)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:this.facets.filter(function(n){return n!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(n){return n!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(n){return n.name!==t})}):this},removeFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return mt.isRefined(this.facetsRefinements,t,n)?this.setQueryParameters({facetsRefinements:mt.removeRefinement(this.facetsRefinements,t,n)}):this},removeExcludeRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return mt.isRefined(this.facetsExcludes,t,n)?this.setQueryParameters({facetsExcludes:mt.removeRefinement(this.facetsExcludes,t,n)}):this},removeDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return mt.isRefined(this.disjunctiveFacetsRefinements,t,n)?this.setQueryParameters({disjunctiveFacetsRefinements:mt.removeRefinement(this.disjunctiveFacetsRefinements,t,n)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var n={tagRefinements:this.tagRefinements.filter(function(r){return r!==t})};return this.setQueryParameters(n)},toggleRefinement:function(t,n){return this.toggleFacetRefinement(t,n)},toggleFacetRefinement:function(t,n){if(this.isHierarchicalFacet(t))return this.toggleHierarchicalFacetRefinement(t,n);if(this.isConjunctiveFacet(t))return this.toggleConjunctiveFacetRefinement(t,n);if(this.isDisjunctiveFacet(t))return this.toggleDisjunctiveFacetRefinement(t,n);throw new Error("Cannot refine the undeclared facet "+t+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:mt.toggleRefinement(this.facetsRefinements,t,n)})},toggleExcludeFacetRefinement:function(t,n){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:mt.toggleRefinement(this.facetsExcludes,t,n)})},toggleDisjunctiveFacetRefinement:function(t,n){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:mt.toggleRefinement(this.disjunctiveFacetsRefinements,t,n)})},toggleHierarchicalFacetRefinement:function(t,n){if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t)),i={},s=this.hierarchicalFacetsRefinements[t]!==void 0&&this.hierarchicalFacetsRefinements[t].length>0&&(this.hierarchicalFacetsRefinements[t][0]===n||this.hierarchicalFacetsRefinements[t][0].indexOf(n+r)===0);return s?n.indexOf(r)===-1?i[t]=[]:i[t]=[n.slice(0,n.lastIndexOf(r))]:i[t]=[n],this.setQueryParameters({hierarchicalFacetsRefinements:Bm(i,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:Bm(n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:Bm(t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(t){return this.isTagRefined(t)?this.removeTagRefinement(t):this.addTagRefinement(t)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return this.getHierarchicalFacetByName(e)!==void 0},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(t,n){return this.isConjunctiveFacet(t)?mt.isRefined(this.facetsRefinements,t,n):!1},isExcludeRefined:function(t,n){return this.isConjunctiveFacet(t)?mt.isRefined(this.facetsExcludes,t,n):!1},isDisjunctiveFacetRefined:function(t,n){return this.isDisjunctiveFacet(t)?mt.isRefined(this.disjunctiveFacetsRefinements,t,n):!1},isHierarchicalFacetRefined:function(t,n){if(!this.isHierarchicalFacet(t))return!1;var r=this.getHierarchicalRefinement(t);return n?r.indexOf(n)!==-1:r.length>0},isNumericRefined:function(t,n,r){if(r===void 0&&n===void 0)return!!this.numericRefinements[t];var i=this.numericRefinements[t]&&this.numericRefinements[t][n]!==void 0;if(r===void 0||!i)return i;var s=Hm(r),a=$6(this.numericRefinements[t][n],s)!==void 0;return i&&a},isTagRefined:function(t){return this.tagRefinements.indexOf(t)!==-1},getRefinedDisjunctiveFacets:function(){var t=this,n=d1(Object.keys(this.numericRefinements).filter(function(r){return Object.keys(t.numericRefinements[r]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(r){return t.disjunctiveFacetsRefinements[r].length>0}).concat(n).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var t=this;return d1(this.hierarchicalFacets.map(function(n){return n.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(n){return t.hierarchicalFacetsRefinements[n].length>0})).sort()},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(t){return e.indexOf(t)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var t=this.managedParameters,n={},r=this;return Object.keys(this).forEach(function(i){var s=r[i];t.indexOf(i)===-1&&s!==void 0&&(n[i]=s)}),n},setQueryParameter:function(t,n){if(this[t]===n)return this;var r={};return r[t]=n,this.setQueryParameters(r)},setQueryParameters:function(t){if(!t)return this;var n=Un.validate(this,t);if(n)throw n;var r=this,i=Un._parseNumbers(t),s=Object.keys(this).reduce(function(l,c){return l[c]=r[c],l},{}),a=Object.keys(i).reduce(function(l,c){var u=l[c]!==void 0,f=i[c]!==void 0;return u&&!f?f1(l,[c]):(f&&(l[c]=i[c]),l)},s);return new this.constructor(a)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return typeof e.showParentLevel=="boolean"?e.showParentLevel:!0},getHierarchicalFacetByName:function(e){return VR(this.hierarchicalFacets,function(t){return t.name===e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r=t.split(n);return r.map(function(i){return i.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var QR=Un,U6=function(t){return Array.isArray(t)?t.filter(Boolean):[]},z6=function(t,n){if(!Array.isArray(t))return-1;for(var r=0;r<t.length;r++)if(n(t[r]))return r;return-1},B6=od,KR=function(t,n){var r=(n||[]).map(function(i){return i.split(":")});return t.reduce(function(s,a){var l=a.split(":"),c=B6(r,function(u){return u[0]===l[0]});return l.length>1||!c?(s[0].push(l[0]),s[1].push(l[1]),s):(s[0].push(c[0]),s[1].push(c[1]),s)},[[],[]])};function H6(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(t,n){return Object.keys(Object(n)).forEach(function(r){var i=typeof t[r]=="number"?t[r]:0,s=n[r];s!==void 0&&s>=i&&(t[r]!==void 0&&delete t[r],t[r]=s)}),t},{})}var q6=H6;function W6(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=t!==void 0,s=t===null;if(!s&&e>t||r&&i||!n)return 1;if(!r&&e<t||s&&n||!i)return-1}return 0}function V6(e,t,n){if(!Array.isArray(e))return[];Array.isArray(n)||(n=[]);var r=e.map(function(i,s){return{criteria:t.map(function(a){return i[a]}),index:s,value:i}});return r.sort(function(s,a){for(var l=-1;++l<s.criteria.length;){var c=W6(s.criteria[l],a.criteria[l]);if(c)return l>=n.length?c:n[l]==="desc"?-c:c}return s.index-a.index}),r.map(function(i){return i.value})}var GR=V6,Q6=Z6,YR=wb,K6=od,G6=KR,Y6=GR,X6=YR.escapeFacetValue,J6=YR.unescapeFacetValue;function Z6(e){return function(n,r){var i=e.hierarchicalFacets[r],s=e.hierarchicalFacetsRefinements[i.name]&&e.hierarchicalFacetsRefinements[i.name][0]||"",a=e._getHierarchicalFacetSeparator(i),l=e._getHierarchicalRootPath(i),c=e._getHierarchicalShowParentLevel(i),u=G6(e._getHierarchicalFacetSortBy(i)),f=n.every(function(p){return p.exhaustive}),d=eB(u,a,l,c,s),h=n;return l&&(h=n.slice(l.split(a).length)),h.reduce(d,{name:e.hierarchicalFacets[r].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:f,data:null})}}function eB(e,t,n,r,i){return function(a,l,c){var u=a;if(c>0){var f=0;for(u=a;f<c;){var d=u&&Array.isArray(u.data)?u.data:[];u=K6(d,function(p){return p.isRefined}),f++}}if(u){var h=Object.keys(l.data).map(function(p){return[p,l.data[p]]}).filter(function(p){var g=p[0];return tB(g,u.path||n,i,t,n,r)});u.data=Y6(h.map(function(p){var g=p[0],m=p[1];return nB(m,g,t,J6(i),l.exhaustive)}),e[0],e[1])}return a}}function tB(e,t,n,r,i,s){return i&&(e.indexOf(i)!==0||i===e)?!1:!i&&e.indexOf(r)===-1||i&&e.split(r).length-i.split(r).length===1||e.indexOf(r)===-1&&n.indexOf(r)===-1||n.indexOf(e)===0||e.indexOf(t+r)===0&&(s||e.indexOf(n)===0)}function nB(e,t,n,r,i){var s=t.split(n);return{name:s[s.length-1].trim(),path:t,escapedValue:X6(t),count:e,isRefined:r===t||r.indexOf(t+n)===0,exhaustive:i,data:null}}var qm=U6,Nc=Cb,XR=wb,Ur=od,Jl=z6,rB=KR,h1=q6,JR=GR,p1=XR.escapeFacetValue,ZR=XR.unescapeFacetValue,iB=Q6;function m1(e){var t={};return e.forEach(function(n,r){t[n]=r}),t}function Wm(e,t,n){t&&t[n]&&(e.stats=t[n])}function sB(e,t){return Ur(e,function(r){var i=r.attributes||[];return i.indexOf(t)>-1})}function Ps(e,t,n){var r=t[0]||{};this._rawResults=t;var i=this;Object.keys(r).forEach(function(d){i[d]=r[d]});var s=Nc(n,{persistHierarchicalRootCount:!1});Object.keys(s).forEach(function(d){i[d]=s[d]}),this.processingTimeMS=t.reduce(function(d,h){return h.processingTimeMS===void 0?d:d+h.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map(function(){return[]}),this.facets=[];var a=e.getRefinedDisjunctiveFacets(),l=m1(e.facets),c=m1(e.disjunctiveFacets),u=1,f=r.facets||{};Object.keys(f).forEach(function(d){var h=f[d],p=sB(e.hierarchicalFacets,d);if(p){var g=p.attributes.indexOf(d),m=Jl(e.hierarchicalFacets,function(w){return w.name===p.name});i.hierarchicalFacets[m][g]={attribute:d,data:h,exhaustive:r.exhaustiveFacetsCount}}else{var b=e.disjunctiveFacets.indexOf(d)!==-1,v=e.facets.indexOf(d)!==-1,x;b&&(x=c[d],i.disjunctiveFacets[x]={name:d,data:h,exhaustive:r.exhaustiveFacetsCount},Wm(i.disjunctiveFacets[x],r.facets_stats,d)),v&&(x=l[d],i.facets[x]={name:d,data:h,exhaustive:r.exhaustiveFacetsCount},Wm(i.facets[x],r.facets_stats,d))}}),this.hierarchicalFacets=qm(this.hierarchicalFacets),a.forEach(function(d){var h=t[u],p=h&&h.facets?h.facets:{},g=e.getHierarchicalFacetByName(d);Object.keys(p).forEach(function(m){var b=p[m],v;if(g){v=Jl(e.hierarchicalFacets,function(S){return S.name===g.name});var x=Jl(i.hierarchicalFacets[v],function(S){return S.attribute===m});if(x===-1)return;i.hierarchicalFacets[v][x].data=i.persistHierarchicalRootCount?h1(i.hierarchicalFacets[v][x].data,b):Nc(b,i.hierarchicalFacets[v][x].data)}else{v=c[m];var w=r.facets&&r.facets[m]||{};i.disjunctiveFacets[v]={name:m,data:h1(w,b),exhaustive:h.exhaustiveFacetsCount},Wm(i.disjunctiveFacets[v],h.facets_stats,m),e.disjunctiveFacetsRefinements[m]&&e.disjunctiveFacetsRefinements[m].forEach(function(S){!i.disjunctiveFacets[v].data[S]&&e.disjunctiveFacetsRefinements[m].indexOf(ZR(S))>-1&&(i.disjunctiveFacets[v].data[S]=0)})}}),u++}),e.getRefinedHierarchicalFacets().forEach(function(d){var h=e.getHierarchicalFacetByName(d),p=e._getHierarchicalFacetSeparator(h),g=e.getHierarchicalRefinement(d);g.length===0||g[0].split(p).length<2||t.slice(u).forEach(function(m){var b=m&&m.facets?m.facets:{};Object.keys(b).forEach(function(v){var x=b[v],w=Jl(e.hierarchicalFacets,function(P){return P.name===h.name}),S=Jl(i.hierarchicalFacets[w],function(P){return P.attribute===v});if(S!==-1){var _={};if(g.length>0&&!i.persistHierarchicalRootCount){var j=g[0].split(p)[0];_[j]=i.hierarchicalFacets[w][S].data[j]}i.hierarchicalFacets[w][S].data=Nc(_,x,i.hierarchicalFacets[w][S].data)}}),u++})}),Object.keys(e.facetsExcludes).forEach(function(d){var h=e.facetsExcludes[d],p=l[d];i.facets[p]={name:d,data:f[d],exhaustive:r.exhaustiveFacetsCount},h.forEach(function(g){i.facets[p]=i.facets[p]||{name:d},i.facets[p].data=i.facets[p].data||{},i.facets[p].data[g]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(iB(e)),this.facets=qm(this.facets),this.disjunctiveFacets=qm(this.disjunctiveFacets),this._state=e}Ps.prototype.getFacetByName=function(e){function t(n){return n.name===e}return Ur(this.facets,t)||Ur(this.disjunctiveFacets,t)||Ur(this.hierarchicalFacets,t)};function aB(e,t){function n(f){return f.name===t}if(e._state.isConjunctiveFacet(t)){var r=Ur(e.facets,n);return r?Object.keys(r.data).map(function(f){var d=p1(f);return{name:f,escapedValue:d,count:r.data[f],isRefined:e._state.isFacetRefined(t,d),isExcluded:e._state.isExcludeRefined(t,f)}}):[]}else if(e._state.isDisjunctiveFacet(t)){var i=Ur(e.disjunctiveFacets,n);return i?Object.keys(i.data).map(function(f){var d=p1(f);return{name:f,escapedValue:d,count:i.data[f],isRefined:e._state.isDisjunctiveFacetRefined(t,d)}}):[]}else if(e._state.isHierarchicalFacet(t)){var s=Ur(e.hierarchicalFacets,n);if(!s)return s;var a=e._state.getHierarchicalFacetByName(t),l=e._state._getHierarchicalFacetSeparator(a),c=ZR(e._state.getHierarchicalRefinement(t)[0]||"");c.indexOf(a.rootPath)===0&&(c=c.replace(a.rootPath+l,""));var u=c.split(l);return u.unshift(t),eN(s,u,0),s}}function eN(e,t,n){e.isRefined=e.name===(t[n]&&t[n].trim()),e.data&&e.data.forEach(function(r){eN(r,t,n+1)})}function tN(e,t,n,r){if(r=r||0,Array.isArray(t))return e(t,n[r]);if(!t.data||t.data.length===0)return t;var i=t.data.map(function(l){return tN(e,l,n,r+1)}),s=e(i,n[r]),a=Nc({data:s},t);return a}Ps.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function oB(e,t){return t.sort(e)}function lB(e,t){var n=[],r=[],i=t.hide||[],s=t.order||[],a=s.reduce(function(u,f,d){return u[f]=d,u},{});e.forEach(function(u){var f=u.path||u.name,d=i.indexOf(f)>-1;!d&&a[f]!==void 0?n[a[f]]=u:d||r.push(u)}),n=n.filter(function(u){return u});var l=t.sortRemainingBy,c;return l==="hidden"?n:(l==="alpha"?c=[["path","name"],["asc","asc"]]:c=[["count"],["desc"]],n.concat(JR(r,c[0],c[1])))}function cB(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}Ps.prototype.getFacetValues=function(e,t){var n=aB(this,e);if(n){var r=Nc(t,{sortBy:Ps.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),i=this,s;if(Array.isArray(n))s=[e];else{var a=i._state.getHierarchicalFacetByName(n.name);s=a.attributes}return tN(function(l,c){if(r.facetOrdering){var u=cB(i,c);if(u)return lB(l,u)}if(Array.isArray(r.sortBy)){var f=rB(r.sortBy,Ps.DEFAULT_SORT);return JR(l,f[0],f[1])}else if(typeof r.sortBy=="function")return oB(r.sortBy,l);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},n,s)}};Ps.prototype.getFacetStats=function(e){if(this._state.isConjunctiveFacet(e))return g1(this.facets,e);if(this._state.isDisjunctiveFacet(e))return g1(this.disjunctiveFacets,e)};function g1(e,t){var n=Ur(e,function(r){return r.name===t});return n&&n.stats}Ps.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Object.keys(e.facetsRefinements).forEach(function(r){e.facetsRefinements[r].forEach(function(i){n.push(Vm(e,"facet",r,i,t.facets))})}),Object.keys(e.facetsExcludes).forEach(function(r){e.facetsExcludes[r].forEach(function(i){n.push(Vm(e,"exclude",r,i,t.facets))})}),Object.keys(e.disjunctiveFacetsRefinements).forEach(function(r){e.disjunctiveFacetsRefinements[r].forEach(function(i){n.push(Vm(e,"disjunctive",r,i,t.disjunctiveFacets))})}),Object.keys(e.hierarchicalFacetsRefinements).forEach(function(r){e.hierarchicalFacetsRefinements[r].forEach(function(i){n.push(uB(e,r,i,t.hierarchicalFacets))})}),Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r];Object.keys(i).forEach(function(s){i[s].forEach(function(a){n.push({type:"numeric",attributeName:r,name:a,numericValue:a,operator:s})})})}),e.tagRefinements.forEach(function(r){n.push({type:"tag",attributeName:"_tags",name:r})}),n};function Vm(e,t,n,r,i){var s=Ur(i,function(c){return c.name===n}),a=s&&s.data&&s.data[r]?s.data[r]:0,l=s&&s.exhaustive||!1;return{type:t,attributeName:n,name:r,count:a,exhaustive:l}}function uB(e,t,n,r){var i=e.getHierarchicalFacetByName(t),s=e._getHierarchicalFacetSeparator(i),a=n.split(s),l=Ur(r,function(h){return h.name===t}),c=a.reduce(function(h,p){var g=h&&Ur(h.data,function(m){return m.name===p});return g!==void 0?g:h},l),u=c&&c.count||0,f=c&&c.exhaustive||!1,d=c&&c.path||"";return{type:"hierarchical",attributeName:t,name:d,count:u,exhaustive:f}}var nN=Ps,dB=function(t){return t.reduce(function(n,r){return n.concat(r)},[])},fB=od,hB=dB;function pB(e,t){var n=[];return Object.keys(e).forEach(function(r){e[r].count<2&&(e[r].indexSum+=100),n.push({objectID:r,avgOfIndices:e[r].indexSum/t})}),n.sort(function(r,i){return r.avgOfIndices>i.avgOfIndices?1:-1})}function mB(e,t){var n={};t.forEach(function(s){s.forEach(function(a,l){e.includes(a.objectID)||(n[a.objectID]?n[a.objectID]={indexSum:n[a.objectID].indexSum+l,count:n[a.objectID].count+1}:n[a.objectID]={indexSum:l,count:1})})});var r=pB(n,t.length),i=r.reduce(function(s,a){var l=fB(hB(t),function(c){return c.objectID===a.objectID});return l?s.concat(l):s},[]);return i}var gB=mB,rN="3.26.0",vB=bb,yB=S6,iN=wb.escapeFacetValue,xB=BR,bB=jb,wB=_b,SB=Eb,sN=HR,jB=qR,Ls=R6,Pb=QR,iy=nN,_B=gB,aN=rN;function ee(e,t,n,r){typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+aN+")"),this.setClient(e);var i=n||{};i.index=t,this.state=Pb.make(i),this.recommendState=new sN({params:i.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=r,this._recommendCache={}}xB(ee,vB);ee.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this};ee.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this};ee.prototype.searchWithComposition=function(){return this._runComposition({onlyWithDerivedHelpers:!0}),this};ee.prototype.recommend=function(){return this._recommend(),this};ee.prototype.getQuery=function(){var e=this.state;return Ls._getHitsSearchParams(e)};ee.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=Ls._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),t){this.client.search(r).then(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(null,new iy(n,s.results),n)}).catch(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(s,null,n)});return}return this.client.search(r).then(function(s){return i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),{content:new iy(n,s.results),state:n,_originalResponse:s}},function(s){throw i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),s})};ee.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(t),i=bB({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:SB(Ls._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),s="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(s);var a=this.client.initIndex(r.index);if(typeof a.findAnswers!="function")throw new Error(s);return a.findAnswers(r.query,e.queryLanguages,i)};ee.prototype.searchForFacetValues=function(e,t,n,r){var i=typeof this.client.searchForFacetValues=="function"&&typeof this.client.searchForFacets!="function",s=typeof this.client.initIndex=="function";if(!i&&!s&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var a=this.state.setQueryParameters(r||{}),l=a.isDisjunctiveFacet(e),c=Ls.getSearchForFacetQuery(e,t,n,a);this._currentNbQueries++;var u=this,f;i?f=this.client.searchForFacetValues([{indexName:a.index,params:c}]):s?f=this.client.initIndex(a.index).searchForFacetValues(c):(delete c.facetName,f=this.client.search([{type:"facet",facet:e,indexName:a.index,params:c}]).then(function(p){return p.results[0]})),this.emit("searchForFacetValues",{state:a,facet:e,query:t});var d=this.lastResults&&this.lastResults.index===a.index&&this.lastResults.renderingContent&&this.lastResults.renderingContent.facetOrdering&&this.lastResults.renderingContent.facetOrdering.values&&this.lastResults.renderingContent.facetOrdering.values[e]&&this.lastResults.renderingContent.facetOrdering.values[e].hide||[];return f.then(function(p){return u._currentNbQueries--,u._currentNbQueries===0&&u.emit("searchQueueEmpty"),p=Array.isArray(p)?p[0]:p,p.facetHits.forEach(function(g,m){if(d.indexOf(g.value)>-1){p.facetHits.splice(m,1);return}g.escapedValue=iN(g.value),g.isRefined=l?a.isDisjunctiveFacetRefined(e,g.escapedValue):a.isFacetRefined(e,g.escapedValue)}),p},function(h){throw u._currentNbQueries--,u._currentNbQueries===0&&u.emit("searchQueueEmpty"),h})};ee.prototype.searchForCompositionFacetValues=function(e,t,n,r){if(typeof this.client.searchForFacetValues!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues");var i=this.state.setQueryParameters(r||{}),s=i.isDisjunctiveFacet(e);this._currentNbQueries++;var a=this,l;return l=this.client.searchForFacetValues({compositionID:i.index,facetName:e,searchForFacetValuesRequest:{params:{query:t,maxFacetHits:n,searchQuery:Ls._getCompositionHitsSearchParams(i)}}}),this.emit("searchForFacetValues",{state:i,facet:e,query:t}),l.then(function(u){return a._currentNbQueries--,a._currentNbQueries===0&&a.emit("searchQueueEmpty"),u=u.results[0],u.facetHits.forEach(function(f){f.escapedValue=iN(f.value),f.isRefined=s?i.isDisjunctiveFacetRefined(e,f.escapedValue):i.isFacetRefined(e,f.escapedValue)}),u},function(c){throw a._currentNbQueries--,a._currentNbQueries===0&&a.emit("searchQueueEmpty"),c})};ee.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this};ee.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this};ee.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this};ee.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)};ee.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this};ee.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)};ee.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this};ee.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)};ee.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this};ee.prototype.addFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(e)}),this};ee.prototype.addRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.addRelatedProducts(e)}),this};ee.prototype.addTrendingItems=function(e){return this._recommendChange({state:this.recommendState.addTrendingItems(e)}),this};ee.prototype.addTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.addTrendingFacets(e)}),this};ee.prototype.addLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.addLookingSimilar(e)}),this};ee.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this};ee.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)};ee.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this};ee.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)};ee.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this};ee.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)};ee.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this};ee.prototype.removeFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};ee.prototype.removeRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};ee.prototype.removeTrendingItems=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};ee.prototype.removeTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};ee.prototype.removeLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};ee.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)};ee.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)};ee.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this};ee.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)};ee.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this};ee.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)};ee.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)};function oN(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}ee.prototype.setCurrentPage=oN;ee.prototype.setPage=oN;ee.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this};ee.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this};ee.prototype.setState=function(e){return this._change({state:Pb.make(e),isPageReset:!1}),this};ee.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new Pb(e),this};ee.prototype.hasRefinements=function(e){return wB(this.state.getNumericRefinements(e))?!0:this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):this.state.isHierarchicalFacet(e)?this.state.isHierarchicalFacetRefined(e):!1};ee.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)};ee.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)};ee.prototype.hasTag=function(e){return this.state.isTagRefined(e)};ee.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)};ee.prototype.getIndex=function(){return this.state.index};function lN(){return this.state.page}ee.prototype.getCurrentPage=lN;ee.prototype.getPage=lN;ee.prototype.getTags=function(){return this.state.tagRefinements};ee.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e)){var n=this.state.getConjunctiveRefinements(e);n.forEach(function(a){t.push({value:a,type:"conjunctive"})});var r=this.state.getExcludeRefinements(e);r.forEach(function(a){t.push({value:a,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(e)){var i=this.state.getDisjunctiveRefinements(e);i.forEach(function(a){t.push({value:a,type:"disjunctive"})})}var s=this.state.getNumericRefinements(e);return Object.keys(s).forEach(function(a){var l=s[a];t.push({value:l,operator:a,type:"numeric"})}),t};ee.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)};ee.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)};ee.prototype._search=function(e){var t=this.state,n=[],r=[];e.onlyWithDerivedHelpers||(r=Ls._getQueries(t.index,t),n.push({state:t,queriesCount:r.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map(function(l){var c=l.getModifiedState(t),u=c.index?Ls._getQueries(c.index,c):[];return n.push({state:c,queriesCount:u.length,helper:l}),l.emit("search",{state:c,results:l.lastResults}),u}),s=Array.prototype.concat.apply(r,i),a=this._queryId++;if(this._currentNbQueries++,!s.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,n,a));try{this.client.search(s).then(this._dispatchAlgoliaResponse.bind(this,n,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(l){this.emit("error",{error:l})}};ee.prototype._runComposition=function(){var e=this.state,t=[],n=[],r=this.derivedHelpers.map(function(l){var c=l.getModifiedState(e),u=Ls._getCompositionQueries(c);return t.push({state:c,queriesCount:u.length,helper:l}),l.emit("search",{state:c,results:l.lastResults}),u}),i=Array.prototype.concat.apply(n,r),s=this._queryId++;if(this._currentNbQueries++,!i.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,t,s));if(i.length>1)throw new Error("Only one query is allowed when using a composition.");var a=i[0];try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,t,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(l){this.emit("error",{error:l})}};ee.prototype._recommend=function(){var e=this.state,t=this.recommendState,n=this.getIndex(),r=[{state:t,index:n,helper:this}],i=t.params.map(function(u){return u.$$id});this.emit("fetch",{recommend:{state:t,results:this.lastRecommendResults}});var s=this._recommendCache,a=this.derivedHelpers.map(function(u){var f=u.getModifiedState(e).index;if(!f)return[];var d=u.getModifiedRecommendState(new sN);return r.push({state:d,index:f,helper:u}),i=Array.prototype.concat.apply(i,d.params.map(function(h){return h.$$id})),u.emit("fetch",{recommend:{state:d,results:u.lastRecommendResults}}),d._buildQueries(f,s)}),l=Array.prototype.concat.apply(this.recommendState._buildQueries(n,s),a);if(l.length!==0){if(l.length>0&&typeof this.client.getRecommendations>"u"){console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");return}var c=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(l).then(this._dispatchRecommendResponse.bind(this,c,r,i)).catch(this._dispatchRecommendError.bind(this,c))}catch(u){this.emit("error",{error:u})}}};ee.prototype._dispatchAlgoliaResponse=function(e,t,n){var r=this;if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var i=n.results.slice(),s=Object.keys(n).reduce(function(a,l){return l!=="results"&&(a[l]=n[l]),a},{});Object.keys(s).length<=0&&(s=void 0),e.forEach(function(a){var l=a.state,c=a.queriesCount,u=a.helper,f=i.splice(0,c);if(!l.index){u.emit("result",{results:null,state:l});return}u.lastResults=new iy(l,f,r._searchResultsOptions),s!==void 0&&(u.lastResults._rawContent=s),u.emit("result",{results:u.lastResults,state:l})})}};ee.prototype._dispatchRecommendResponse=function(e,t,n,r){if(!(e<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty");var i=this._recommendCache,s={};n.filter(function(l){return i[l]===void 0}).forEach(function(l,c){s[l]||(s[l]=[]),s[l].push(c)}),Object.keys(s).forEach(function(l){var c=s[l],u=r.results[c[0]];if(c.length===1){i[l]=u;return}i[l]=Object.assign({},u,{hits:_B(n,c.map(function(f){return r.results[f].hits}))})});var a={};n.forEach(function(l){a[l]=i[l]}),t.forEach(function(l){var c=l.state,u=l.helper;if(!l.index){u.emit("recommend:result",{results:null,state:c});return}u.lastRecommendResults=new jB(c,a),u.emit("recommend:result",{recommend:{results:u.lastRecommendResults,state:c}})})}};ee.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))};ee.prototype._dispatchRecommendError=function(e,t){e<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty"))};ee.prototype.containsRefinement=function(e,t,n,r){return e||t.length!==0||n.length!==0||r.length!==0};ee.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0};ee.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))};ee.prototype._recommendChange=function(e){var t=e.state;t!==this.recommendState&&(this.recommendState=t,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))};ee.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this};ee.prototype.setClient=function(e){return this.client===e?this:(typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+aN+")"),this.client=e,this)};ee.prototype.getClient=function(){return this.client};ee.prototype.derive=function(e,t){var n=new yB(this,e,t);return this.derivedHelpers.push(n),n};ee.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(t===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)};ee.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var EB=ee,cN=EB,CB=HR,kB=qR,PB=QR,RB=nN;function Ua(e,t,n,r){return new cN(e,t,n,r)}Ua.version=rN;Ua.AlgoliaSearchHelper=cN;Ua.SearchParameters=PB;Ua.RecommendParameters=CB;Ua.SearchResults=RB;Ua.RecommendResults=kB;var NB=Ua;const an=Ia(NB);var TB=0;function AB(e){e.dependsOn==="recommend"&&(e.$$id=TB++)}function Ct(){}function OB(e){return Object.prototype.toString.call(e).slice(8,-1)}function Ws(e,t){if(e===void 0||typeof e!="function")throw new Error("The render function is not valid (received type ".concat(OB(e),`).

`).concat(t))}function v1(e){var t=e.helper,n=e.attributesToClear,r=n===void 0?[]:n,i=t.state.setPage(0);return i=r.reduce(function(s,a){return i.isNumericRefined(a)?s.removeNumericRefinement(a):i.isHierarchicalFacet(a)?s.removeHierarchicalFacetRefinement(a):i.isDisjunctiveFacet(a)?s.removeDisjunctiveFacetRefinement(a):i.isConjunctiveFacet(a)?s.removeFacetRefinement(a):s},i),r.indexOf("query")!==-1&&(i=i.setQuery("")),i}var IB={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},uN=/[&<>"']/g,DB=RegExp(uN.source);function FB(e){return e&&DB.test(e)?e.replace(uN,function(t){return IB[t]}):e}var LB={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},dN=/&(amp|quot|lt|gt|#39);/g,MB=RegExp(dN.source);function $B(e){return e&&MB.test(e)?e.replace(dN,function(t){return LB[t]}):e}function sy(e){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sy(e)}function UB(e){return e===null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function zB(e){return sy(e)==="object"&&e!==null}function fN(e){if(!zB(e)||UB(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function BB(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ay.apply(this,arguments)}function y1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function No(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y1(Object(n),!0).forEach(function(r){hN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hN(e,t,n){return t=HB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HB(e){var t=qB(e,"string");return du(t)=="symbol"?t:String(t)}function qB(e,t){if(du(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dl={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},gn={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function pN(e){return FB(e).replace(new RegExp(dl.highlightPreTag,"g"),gn.highlightPreTag).replace(new RegExp(dl.highlightPostTag,"g"),gn.highlightPostTag)}function xh(e){return fN(e)&&typeof e.value!="string"?Object.keys(e).reduce(function(t,n){return No(No({},t),{},hN({},n,xh(e[n])))},{}):Array.isArray(e)?e.map(xh):No(No({},e),{},{value:pN(e.value)})}function WB(e){return e.__escaped===void 0&&(e=e.map(function(t){var n=ay({},(BB(t),t));return n._highlightResult&&(n._highlightResult=xh(n._highlightResult)),n._snippetResult&&(n._snippetResult=xh(n._snippetResult)),n}),e.__escaped=!0),e}function VB(e){return e.map(function(t){return No(No({},t),{},{highlighted:pN(t.highlighted)})})}function mN(e){var t=gn.highlightPreTag,n=gn.highlightPostTag;return e.map(function(r){return r.isHighlighted?t+r.value+n:r.value}).join("")}function QB(e,t,n){return e.state.isHierarchicalFacet(t)?e.state.isHierarchicalFacetRefined(t,n):e.state.isConjunctiveFacet(t)?e.state.isFacetRefined(t,n):e.state.isDisjunctiveFacetRefined(t,n)}function x1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x1(Object(n),!0).forEach(function(r){GB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GB(e,t,n){return t=YB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YB(e){var t=XB(e,"string");return fl(t)=="symbol"?t:String(t)}function XB(e,t){if(fl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function JB(e,t){return nH(e)||tH(e,t)||eH(e,t)||ZB()}function ZB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eH(e,t){if(e){if(typeof e=="string")return b1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b1(e,t)}}function b1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function nH(e){if(Array.isArray(e))return e}function rH(e){var t=e.instantSearchInstance,n=e.helper,r=e.attribute,i=e.widgetType,s=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=c[1],d=c[2],h=d===void 0?"Filter Applied":d,p=c[3],g=p===void 0?{}:p,m=c[0].split(":"),b=JB(m,2),v=b[0],x=b[1],w=typeof r=="string"?r:r(f);if(c.length===1&&fl(c[0])==="object")t.sendEventToInsights(c[0]);else if(v==="click"&&c.length>=2&&c.length<=4&&!QB(n,w,f)){var S;t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:i,eventType:v,eventModifier:x,payload:KB({eventName:h,index:((S=n.lastResults)===null||S===void 0?void 0:S.index)||n.state.index,filters:["".concat(w,":").concat(f)]},g),attribute:w})}};return s}function gN(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function w1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w1(Object(n),!0).forEach(function(r){iH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iH(e,t,n){return t=sH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sH(e){var t=aH(e,"string");return hl(t)=="symbol"?t:String(t)}function aH(e,t){if(hl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oH(e,t){return dH(e)||uH(e,t)||cH(e,t)||lH()}function lH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cH(e,t){if(e){if(typeof e=="string")return S1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S1(e,t)}}function S1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function dH(e){if(Array.isArray(e))return e}function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function fH(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,n=[],r=0;r<Math.ceil(e.length/t);r++)n.push(e.slice(r*t,(r+1)*t));return n}function vN(e){var t=e.helper,n=e.widgetType;e.methodName;var r=e.args,i=e.instantSearchInstance;if(r.length===1&&hl(r[0])==="object")return[r[0]];var s=r[0].split(":"),a=oH(s,2),l=a[0],c=a[1],u=r[1],f=r[2],d=r[3]||{};if(!u)return[];if((l==="click"||l==="conversion")&&!f)return[];var h=Array.isArray(u)?u:[u];if(h.length===0)return[];var p=h[0].__queryID,g=fH(h),m=g.map(function(v){return v.map(function(x){return x.objectID})}),b=g.map(function(v){return v.map(function(x){return x.__position})});return l==="view"?i.status!=="idle"?[]:g.map(function(v,x){var w;return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:l,payload:Qm({eventName:f||"Hits Viewed",index:((w=t.lastResults)===null||w===void 0?void 0:w.index)||t.state.index,objectIDs:m[x]},d),hits:v,eventModifier:c}}):l==="click"?g.map(function(v,x){var w;return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:l,payload:Qm({eventName:f||"Hit Clicked",index:((w=t.lastResults)===null||w===void 0?void 0:w.index)||t.state.index,queryID:p,objectIDs:m[x],positions:b[x]},d),hits:v,eventModifier:c}}):l==="conversion"?g.map(function(v,x){var w;return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:l,payload:Qm({eventName:f||"Hit Converted",index:((w=t.lastResults)===null||w===void 0?void 0:w.index)||t.state.index,queryID:p,objectIDs:m[x]},d),hits:v,eventModifier:c}}):[]}function hH(e){var t=e.instantSearchInstance,n=e.helper,r=e.widgetType,i={},s=void 0,a=function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var d=vN({widgetType:r,helper:n,methodName:"sendEvent",args:u,instantSearchInstance:t});d.forEach(function(h){h.eventType==="click"&&h.eventModifier==="internal"&&i[h.eventType]||(i[h.eventType]=!0,t.sendEventToInsights(h))}),clearTimeout(s),s=setTimeout(function(){i={}},0)};return a}function pH(e){var t=e.helper,n=e.widgetType,r=e.instantSearchInstance,i=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=vN({widgetType:n,helper:t,methodName:"bindEvent",args:l,instantSearchInstance:r});return u.length?"data-insights-event=".concat(gN(u)):""};return i}function vr(e){return e.$$type==="ais.index"}function oy(e,t){var n=e[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:n})),t.getWidgets().filter(vr).forEach(function(r){return oy(e,r)})}var mH=Promise.resolve();function Zl(e){var t=null,n=!1,r=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];t===null&&(t=mH.then(function(){if(t=null,n){n=!1;return}e.apply(void 0,a)}))};return r.wait=function(){if(t===null)throw new Error("The deferred function should be called before calling `wait()`");return t},r.cancel=function(){t!==null&&(n=!0)},r}function gH(e){var t=e.name,n=e.connector,r=n===void 0?!1:n;return["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",r?"#connector":""].join("")}function Wr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(i){return gH(i)}).join(", ");return function(i){return[i,"See documentation: ".concat(r)].filter(Boolean).join(`

`)}}function vH(e){return typeof e=="string"?e.replace(/^\\-/,"-"):e}function yH(e){return typeof e=="number"&&e<0||typeof e=="string"?String(e).replace(/^-/,"\\-"):e}function fu(e,t){for(var n,r=0;r<e.length;r++)if(n=e[r],t(n,r,e))return n}function xH(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function j1(e){if(e.appId&&e.apiKey)return[e.appId,e.apiKey];if(e.transporter){var t=e.transporter,n=t.headers||t.baseHeaders,r=t.queryParameters||t.baseQueryParameters,i="x-algolia-application-id",s="x-algolia-api-key",a=n[i]||r[i],l=n[s]||r[s];return[a,l]}else return[e.applicationID,e.apiKey]}function yN(e){var t=gn.highlightPostTag,n=gn.highlightPreTag,r=e.split(n),i=r.shift(),s=i?[{value:i,isHighlighted:!1}]:[];return r.forEach(function(a){var l=a.split(t);s.push({value:l[0],isHighlighted:!0}),l[1]!==""&&s.push({value:l[1],isHighlighted:!1})}),s}var bH=new RegExp(/\w/i);function wH(e,t){var n,r,i=e[t],s=((n=e[t+1])===null||n===void 0?void 0:n.isHighlighted)||!0,a=((r=e[t-1])===null||r===void 0?void 0:r.isHighlighted)||!0;return!bH.test($B(i.value))&&a===s?a:i.isHighlighted}function xp(e,t){var n=Array.isArray(t)?t:t.split(".");return n.reduce(function(r,i){return r&&r[i]},e)}function Km(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],s={type:t,attribute:n,name:r,escapedValue:yH(r)},a=fu(i,function(p){return p.name===n}),l;if(t==="hierarchical"){for(var c=e.getHierarchicalFacetByName(n),u=r.split(c.separator),f=function(g){return function(m){return g[m]}},d=function(g){a=a&&a.data&&fu(Object.keys(a.data).map(f(a.data)),function(m){return m.name===u[g]})},h=0;a!==void 0&&h<u.length;++h)d(h);l=a&&a.count}else l=a&&a.data&&a.data[s.name];return l!==void 0&&(s.count=l),a&&a.exhaustive!==void 0&&(s.exhaustive=a.exhaustive),s}function SH(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e||{},i=[],s=t.facetsRefinements,a=s===void 0?{}:s,l=t.facetsExcludes,c=l===void 0?{}:l,u=t.disjunctiveFacetsRefinements,f=u===void 0?{}:u,d=t.hierarchicalFacetsRefinements,h=d===void 0?{}:d,p=t.numericRefinements,g=p===void 0?{}:p,m=t.tagRefinements,b=m===void 0?[]:m;return Object.keys(a).forEach(function(v){var x=a[v];x.forEach(function(w){i.push(Km(t,"facet",v,w,r.facets))})}),Object.keys(c).forEach(function(v){var x=c[v];x.forEach(function(w){i.push({type:"exclude",attribute:v,name:w,exclude:!0})})}),Object.keys(f).forEach(function(v){var x=f[v];x.forEach(function(w){i.push(Km(t,"disjunctive",v,vH(w),r.disjunctiveFacets))})}),Object.keys(h).forEach(function(v){var x=h[v];x.forEach(function(w){i.push(Km(t,"hierarchical",v,w,r.hierarchicalFacets))})}),Object.keys(g).forEach(function(v){var x=g[v];Object.keys(x).forEach(function(w){var S=w,_=x[S],j=Array.isArray(_)?_:[_];j.forEach(function(P){i.push({type:"numeric",attribute:v,name:"".concat(P),numericValue:P,operator:S})})})}),b.forEach(function(v){i.push({type:"tag",attribute:"_tags",name:v})}),n&&t.query&&t.query.trim()&&i.push({attribute:"query",type:"query",name:t.query,query:t.query}),i}function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function _1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function E1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(n),!0).forEach(function(r){jH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jH(e,t,n){return t=_H(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _H(e){var t=EH(e,"string");return hu(t)=="symbol"?t:String(t)}function EH(e,t){if(hu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CH(e,t,n){return e.map(function(r,i){return E1(E1({},r),{},{__position:n*t+i+1})})}function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function C1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function k1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C1(Object(n),!0).forEach(function(r){kH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kH(e,t,n){return t=PH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PH(e){var t=RH(e,"string");return pu(t)=="symbol"?t:String(t)}function RH(e,t){if(pu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NH(e,t){return t?e.map(function(n){return k1(k1({},n),{},{__queryID:t})}):e}function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function P1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function R1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P1(Object(n),!0).forEach(function(r){TH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TH(e,t,n){return t=AH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AH(e){var t=OH(e,"string");return mu(t)=="symbol"?t:String(t)}function OH(e,t){if(mu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IH(e,t){var n=Object.keys(t).reduce(function(r,i){var s=t[i];return s.recommendResults?R1(R1({},r),s.recommendResults.results):r},{});e._recommendCache=n}function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function DH(e,t){return $H(e)||MH(e,t)||LH(e,t)||FH()}function FH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LH(e,t){if(e){if(typeof e=="string")return N1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N1(e,t)}}function N1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function $H(e){if(Array.isArray(e))return e}function T1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ec(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T1(Object(n),!0).forEach(function(r){xN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xN(e,t,n){return t=UH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UH(e){var t=zH(e,"string");return gu(t)=="symbol"?t:String(t)}function zH(e,t){if(gu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BH(e,t){if(t&&!((!("transporter"in e)||e._cacheHydrated)&&(!e._useCache||typeof e.addAlgoliaAgent!="function"))){var n=[Object.keys(t).reduce(function(a,l){var c=t[l],u=c.state,f=c.requestParams,d=c.results,h=d&&u?d.map(function(p,g){return ec({indexName:u.index||p.index},f!=null&&f[g]||p.params?{params:Gm((f==null?void 0:f[g])||HH(p.params))}:{})}):[];return a.concat(h)},[])],r=Object.keys(t).reduce(function(a,l){var c=t[l].results;return c?a.concat(c):a},[]);if("transporter"in e&&!e._cacheHydrated){e._cacheHydrated=!0;var i=e.search.bind(e);e.search=function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];var f=Array.isArray(a)?a.map(function(d){return ec(ec({},d),{},{params:Gm(d.params)})}):Gm(a.requestBody.params);return e.transporter.responsesCache.get({method:"search",args:[f].concat(c)},function(){return i.apply(void 0,[a].concat(c))})},e.transporter.responsesCache.set({method:"search",args:n},{results:r})}if(!("transporter"in e)){var s="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:n}));e.cache=ec(ec({},e.cache),{},xN({},s,JSON.stringify({results:Object.keys(t).map(function(a){return t[a].results})})))}}}function HH(e){return e.split("&").reduce(function(t,n){var r=n.split("="),i=DH(r,2),s=i[0],a=i[1];return t[s]=a?decodeURIComponent(a):"",t},{})}function Gm(e){var t=function(i){return Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"},n=function(i){for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];var c=0;return i.replace(/%s/g,function(){return encodeURIComponent(a[c++])})};return Object.keys(e).map(function(r){return n("%s=%s",r,t(e[r])?JSON.stringify(e[r]):e[r])}).join("&")}function A1(e){return e!==Object(e)}function bN(e,t){if(e===t)return!0;if(A1(e)||A1(t)||typeof e=="function"||typeof t=="function")return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!(i in t)||!bN(e[i],t[i]))return!1}return!0}function Xe(e){return typeof e=="number"&&isFinite(e)}function wN(e){return e.filter(function(t,n,r){return r.indexOf(t)===n})}function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}var qH=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function O1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O1(Object(n),!0).forEach(function(r){WH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WH(e,t,n){return t=VH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VH(e){var t=QH(e,"string");return vu(t)=="symbol"?t:String(t)}function QH(e,t){if(vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KH(e,t){if(e==null)return{};var n=GH(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function GH(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var YH=function(t,n){n.facets,n.disjunctiveFacets,n.facetsRefinements,n.facetsExcludes,n.disjunctiveFacetsRefinements,n.numericRefinements,n.tagRefinements,n.hierarchicalFacets,n.hierarchicalFacetsRefinements,n.ruleContexts;var r=KH(n,qH);return t.setQueryParameters(r)},XH=function(t,n){return n.facets.reduce(function(r,i){return r.addFacet(i)},t)},JH=function(t,n){return n.disjunctiveFacets.reduce(function(r,i){return r.addDisjunctiveFacet(i)},t)},ZH=function(t,n){return t.setQueryParameters({hierarchicalFacets:n.hierarchicalFacets.reduce(function(r,i){var s=xH(r,function(l){return l.name===i.name});if(s===-1)return r.concat(i);var a=r.slice();return a.splice(s,1,i),a},t.hierarchicalFacets)})},e8=function(t,n){return n.tagRefinements.reduce(function(r,i){return r.addTagRefinement(i)},t)},t8=function(t,n){return t.setQueryParameters({facetsRefinements:di(di({},t.facetsRefinements),n.facetsRefinements)})},n8=function(t,n){return t.setQueryParameters({facetsExcludes:di(di({},t.facetsExcludes),n.facetsExcludes)})},r8=function(t,n){return t.setQueryParameters({disjunctiveFacetsRefinements:di(di({},t.disjunctiveFacetsRefinements),n.disjunctiveFacetsRefinements)})},i8=function(t,n){return t.setQueryParameters({numericRefinements:di(di({},t.numericRefinements),n.numericRefinements)})},s8=function(t,n){return t.setQueryParameters({hierarchicalFacetsRefinements:di(di({},t.hierarchicalFacetsRefinements),n.hierarchicalFacetsRefinements)})},a8=function(t,n){var r=wN([].concat(t.ruleContexts).concat(n.ruleContexts).filter(Boolean));return r.length>0?t.setQueryParameters({ruleContexts:r}):t},Tc=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce(function(i,s){var a=s8(i,s),l=ZH(a,s),c=e8(l,s),u=i8(c,s),f=r8(u,s),d=n8(f,s),h=t8(d,s),p=JH(h,s),g=a8(p,s),m=XH(g,s);return YH(m,s)})};function o8(e){return d8(e)||u8(e)||c8(e)||l8()}function l8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c8(e,t){if(e){if(typeof e=="string")return ly(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ly(e,t)}}function u8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d8(e){if(Array.isArray(e))return ly(e)}function ly(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I1(e){var t=e.start,n=t===void 0?0:t,r=e.end,i=e.step,s=i===void 0?1:i,a=s===0?1:s,l=Math.round((r-n)/a);return o8(Array(l)).map(function(c,u){return n+u*a})}function hc(e,t,n){var r=t.getHelper();return{uiState:n,helper:r,parent:t,instantSearchInstance:e,state:r.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function D1(e,t,n){var r=t.getResultsForWidget(n),i=t.getHelper();return{helper:i,parent:t,instantSearchInstance:e,results:r,scopedResults:t.getScopedResults(),state:r&&"_state"in r?r._state:i.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function f8(e){for(var t=e.getParent(),n=[e.getHelper().state];t!==null;)n=[t.getHelper().state].concat(n),t=t.getParent();return n}function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function F1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F1(Object(n),!0).forEach(function(r){h8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h8(e,t,n){return t=p8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p8(e){var t=m8(e,"string");return yu(t)=="symbol"?t:String(t)}function m8(e,t){if(yu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SN(e){return e.some(function(t){return t.isHighlighted})?e.map(function(t,n){return Jd(Jd({},t),{},{isHighlighted:!wH(e,n)})}):e.map(function(t){return Jd(Jd({},t),{},{isHighlighted:!1})})}function us(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},n=t.fallback;return typeof window>"u"?n():e({window})}function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function L1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(n),!0).forEach(function(r){jN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jN(e,t,n){return t=g8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g8(e){var t=v8(e,"string");return xu(t)=="symbol"?t:String(t)}function v8(e,t){if(xu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y8=Wr({name:"configure",connector:!0});function M1(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce(function(n,r){return $t($t({},n),{},jN({},r,void 0))},{}))}var x8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ct,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct;return function(r){if(!r||!fN(r.searchParameters))throw new Error(y8("The `searchParameters` option expects an object."));var i={};function s(a){return function(l){var c=M1(a.state,r),u=Tc(c,new an.SearchParameters(l));r.searchParameters=l,a.setState(u).search()}}return{$$type:"ais.configure",init:function(l){var c=l.instantSearchInstance;t($t($t({},this.getWidgetRenderState(l)),{},{instantSearchInstance:c}),!0)},render:function(l){var c=l.instantSearchInstance;t($t($t({},this.getWidgetRenderState(l)),{},{instantSearchInstance:c}),!1)},dispose:function(l){var c=l.state;return n(),M1(c,r)},getRenderState:function(l,c){var u,f=this.getWidgetRenderState(c);return $t($t({},l),{},{configure:$t($t({},f),{},{widgetParams:$t($t({},f.widgetParams),{},{searchParameters:Tc(new an.SearchParameters((u=l.configure)===null||u===void 0?void 0:u.widgetParams.searchParameters),new an.SearchParameters(f.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(l){var c=l.helper;return i.refine||(i.refine=s(c)),{refine:i.refine,widgetParams:r}},getWidgetSearchParameters:function(l,c){var u=c.uiState;return Tc(l,new an.SearchParameters($t($t({},u.configure),r.searchParameters)))},getWidgetUiState:function(l){return $t($t({},l),{},{configure:$t($t({},l.configure),r.searchParameters)})}}}};function cy(e){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cy(e)}var $1=Object.prototype.hasOwnProperty;function pl(e,t,n){if(n!=null&&n(e,t))return!0;var r,i;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((i=e.length)===t.length)for(;i--&&pl(e[i],t[i],n););return i===-1}if(!r||cy(e)==="object"){i=0;for(r in e)if($1.call(e,r)&&++i&&!$1.call(t,r)||!(r in t)||!pl(e[r],t[r],n))return!1;return Object.keys(t).length===i}}return e!==e&&t!==t}function U1(e){var t,n,r;return new an.SearchResults(e,[{query:(t=e.query)!==null&&t!==void 0?t:"",page:(n=e.page)!==null&&n!==void 0?n:0,hitsPerPage:(r=e.hitsPerPage)!==null&&r!==void 0?r:20,hits:[],nbHits:0,nbPages:0,params:"",exhaustiveNbHits:!0,exhaustiveFacetsCount:!0,processingTimeMS:0,index:e.index}],{__isArtificial:!0})}function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function z1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function B1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z1(Object(n),!0).forEach(function(r){b8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b8(e,t,n){return t=w8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w8(e){var t=S8(e,"string");return bu(t)=="symbol"?t:String(t)}function S8(e,t){if(bu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j8(e){var t=e.getHelper(),n=e.getResults()||U1(t.state),r=e.getScopedResults().map(function(i){var s=i.indexId===e.getIndexId()?n:U1(i.helper.state);return B1(B1({},i),{},{results:i.results||s})});return{results:n,scopedResults:r,recommendResults:t.lastRecommendResults}}var _N=y.createContext(null);function EN(e,t){if(!e)throw new Error("Invariant failed")}function _8(){var e=y.useContext(_N);return EN(e!==null),e}var CN=y.createContext(null);function kN(){var e=y.useContext(CN);return EN(e!==null),e}var E8=y.createContext(null);function PN(){return y.useContext(E8)}var C8=y.createContext(null);function RN(){return y.useContext(C8)}function k8(e,t){return T8(e)||N8(e,t)||R8(e,t)||P8()}function P8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R8(e,t){if(e){if(typeof e=="string")return H1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H1(e,t)}}function H1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function T8(e){if(Array.isArray(e))return e}function q1(e){var t=y.useState(function(){return e}),n=k8(t,2),r=n[0],i=n[1];return pl(r,e)||i(e),r}var A8="use",W1=qy[A8],O8=typeof window<"u"?y.useLayoutEffect:y.useEffect,I8=y.createContext({countRef:{current:0},waitForResultsRef:null,ignoreMultipleHooksWarning:!1});function NN(){return y.useContext(I8)}function D8(e){var t,n,r=e.widget,i=e.parentIndex,s=e.props,a=e.shouldSsr,l=e.skipSuspense,c=NN(),u=c.waitForResultsRef,f=c.countRef;c.ignoreMultipleHooksWarning;var d=y.useRef(s);y.useEffect(function(){d.current=s},[s]);var h=y.useRef(r);y.useEffect(function(){h.current=r},[r]);var p=y.useRef(null),g=a&&!i.getWidgets().includes(r),m=kN();if(O8(function(){var v=h.current;if(!p.current)a||i.addWidgets([r]);else{clearTimeout(p.current);var x=pl(s,d.current);x||(i.removeWidgets([v]),i.addWidgets([r]))}return function(){p.current=setTimeout(function(){m._schedule(function(){m._preventWidgetCleanup||i.removeWidgets([v])})})}},[i,r,a,m,s]),(g||(u==null||(t=u.current)===null||t===void 0?void 0:t.status)==="pending")&&i.addWidgets([r]),u!=null&&u.current&&!l){var b;W1(u.current),r.$$type!=="ais.dynamicWidgets"&&(b=m.helper)!==null&&b!==void 0&&b.lastResults&&W1(u.current)}(u==null||(n=u.current)===null||n===void 0?void 0:n.status)==="fulfilled"&&(f.current+=1)}function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}var F8=["skipSuspense"],L8=["instantSearchInstance","widgetParams"],M8=["widgetParams"];function $8(e,t){return H8(e)||B8(e,t)||z8(e,t)||U8()}function U8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z8(e,t){if(e){if(typeof e=="string")return V1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V1(e,t)}}function V1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function H8(e){if(Array.isArray(e))return e}function Q1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(n),!0).forEach(function(r){q8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q8(e,t,n){return t=W8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W8(e){var t=V8(e,"string");return wu(t)=="symbol"?t:String(t)}function V8(e,t){if(wu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ym(e,t){if(e==null)return{};var n=Q8(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Q8(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Wi(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipSuspense,i=r===void 0?!1:r,s=Ym(n,F8),a=PN(),l=RN(),c=kN(),u=_8(),f=q1(t),d=q1(s),h=y.useRef(!0),p=y.useRef(null),g=y.useRef(c.status),m=y.useMemo(function(){var S=e(function(_,j){if(j){h.current=!0;return}if(h.current){var P=_.instantSearchInstance;_.widgetParams;var R=Ym(_,L8);(!pl(R,p.current,function($,k){return($==null?void 0:$.constructor)===Function&&(k==null?void 0:k.constructor)===Function})||P.status!==g.current)&&(w(R),p.current=R,g.current=P.status)}},function(){h.current=!1});return K1(K1({},S(f)),d)},[e,f,d]),b=y.useState(function(){if(m.getWidgetRenderState){var S,_=u.getHelper(),j=u.getWidgetUiState({})[u.getIndexId()];_.state=((S=m.getWidgetSearchParameters)===null||S===void 0?void 0:S.call(m,_.state,{uiState:j}))||_.state;var P=j8(u),R=P.results,$=P.scopedResults,k=P.recommendResults,F=m.getWidgetRenderState({helper:_,parent:u,instantSearchInstance:c,results:m.dependsOn==="recommend"&&k&&l?k[l.recommendIdx.current++]:R,scopedResults:$,state:_.state,renderState:c.renderState,templatesConfig:c.templatesConfig,createURL:u.createURL,searchMetadata:{isSearchStalled:c.status==="stalled"},status:c.status,error:c.error});F.widgetParams;var I=Ym(F,M8);return I}return{}}),v=$8(b,2),x=v[0],w=v[1];return D8({widget:m,parentIndex:u,props:f,shouldSsr:!!a,skipSuspense:i}),x}function K8(e,t){return Wi(x8,{searchParameters:e},t)}function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function G1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function G8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(n),!0).forEach(function(r){Y8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y8(e,t,n){return t=X8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X8(e){var t=J8(e,"string");return Su(t)=="symbol"?t:String(t)}function J8(e,t){if(Su(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TN(e){return K8(G8({},e),{$$widgetType:"ais.configure"}),null}function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}var Z8=["initialSearchParameters"],eq=["initialRecommendParameters"];function Y1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function si(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(n),!0).forEach(function(r){To(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function To(e,t,n){return t=tq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tq(e){var t=nq(e,"string");return ju(t)=="symbol"?t:String(t)}function nq(e,t){if(ju(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AN(e){return aq(e)||sq(e)||iq(e)||rq()}function rq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iq(e,t){if(e){if(typeof e=="string")return uy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uy(e,t)}}function sq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aq(e){if(Array.isArray(e))return uy(e)}function uy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ON(e,t){if(e==null)return{};var n=oq(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oq(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var tc=Wr({name:"index-widget"});function IN(e,t){var n=t.state,r=t.recommendState,i=t.isPageReset,s=t._uiState;n!==e.state&&(e.state=n,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:i,_uiState:s})),r!==e.recommendState&&(e.recommendState=r)}function nc(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.reduce(function(r,i){return vr(i)||!i.getWidgetUiState&&!i.getWidgetState?r:i.getWidgetUiState?i.getWidgetUiState(r,t):i.getWidgetState(r,t)},n)}function rc(e,t){var n=t.initialSearchParameters,r=ON(t,Z8);return e.reduce(function(i,s){return!s.getWidgetSearchParameters||vr(s)?i:s.dependsOn==="search"&&s.getWidgetParameters?s.getWidgetParameters(i,r):s.getWidgetSearchParameters(i,r)},n)}function X1(e,t){var n=t.initialRecommendParameters,r=ON(t,eq);return e.reduce(function(i,s){return!vr(s)&&s.dependsOn==="recommend"&&s.getWidgetParameters?s.getWidgetParameters(i,r):i},n)}function DN(e){var t=e.filter(vr);t.length!==0&&t.forEach(function(n){var r=n.getHelper();IN(r,{state:r.state.resetPage(),recommendState:r.recommendState,isPageReset:!0}),DN(n.getWidgets())})}function FN(e){var t=e.filter(vr);return t.reduce(function(n,r){return n.concat.apply(n,[{indexId:r.getIndexId(),results:r.getResults(),helper:r.getHelper()}].concat(AN(FN(r.getWidgets()))))},[])}var lq=function(t){if(t===void 0||t.indexName===void 0)throw new Error(tc("The `indexName` option is required."));var n=t.indexName,r=t.indexId,i=r===void 0?n:r,s=[],a={},l=null,c=null,u=null,f=null,d=null,h=!1,p=!1;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return n},getIndexId:function(){return i},getHelper:function(){return u},getResults:function(){var m;return(m=f)!==null&&m!==void 0&&m.lastResults?(f.lastResults._state=u.state,f.lastResults):null},getResultsForWidget:function(m){var b;return m.dependsOn!=="recommend"||vr(m)||m.$$id===void 0?this.getResults():(b=u)!==null&&b!==void 0&&b.lastRecommendResults?u.lastRecommendResults[m.$$id]:null},getPreviousState:function(){return d},getScopedResults:function(){var m=this.getParent(),b;return m?b=m.getWidgets():n.length===0?b=this.getWidgets():b=[this],FN(b)},getParent:function(){return c},createURL:function(m){return typeof m=="function"?l._createURL(To({},i,m(a))):l._createURL(To({},i,nc(s,{searchParameters:m,helper:u})))},getWidgets:function(){return s},addWidgets:function(m){var b=this;if(!Array.isArray(m))throw new Error(tc("The `addWidgets` method expects an array of widgets."));if(m.some(function(v){return typeof v.init!="function"&&typeof v.render!="function"}))throw new Error(tc("The widget definition expects a `render` and/or an `init` method."));return m.forEach(function(v){vr(v)||(l&&v.dependsOn==="recommend"?l._hasRecommendWidget=!0:l?l._hasSearchWidget=!0:v.dependsOn==="recommend"?h=!0:p=!0,AB(v))}),s=s.concat(m),l&&m.length&&(IN(u,{state:rc(s,{uiState:a,initialSearchParameters:u.state}),recommendState:X1(s,{uiState:a,initialRecommendParameters:u.recommendState}),_uiState:a}),m.forEach(function(v){if(v.getRenderState){var x=v.getRenderState(l.renderState[b.getIndexId()]||{},hc(l,b,l._initialUiState));Xm({renderState:x,instantSearchInstance:l,parent:b})}}),m.forEach(function(v){v.init&&v.init(hc(l,b,l._initialUiState))}),l.scheduleSearch()),this},removeWidgets:function(m){var b=this;if(!Array.isArray(m))throw new Error(tc("The `removeWidgets` method expects an array of widgets."));if(m.some(function(_){return typeof _.dispose!="function"}))throw new Error(tc("The widget definition expects a `dispose` method."));if(s=s.filter(function(_){return m.indexOf(_)===-1}),s.forEach(function(_){vr(_)||(l&&_.dependsOn==="recommend"?l._hasRecommendWidget=!0:l?l._hasSearchWidget=!0:_.dependsOn==="recommend"?h=!0:p=!0)}),l&&m.length){var v=m.reduce(function(_,j){var P=j.dispose({helper:u,state:_.cleanedSearchState,recommendState:_.cleanedRecommendState,parent:b});return P instanceof an.RecommendParameters?_.cleanedRecommendState=P:P&&(_.cleanedSearchState=P),_},{cleanedSearchState:u.state,cleanedRecommendState:u.recommendState}),x=v.cleanedSearchState,w=v.cleanedRecommendState,S=l.future.preserveSharedStateOnUnmount?rc(s,{uiState:a,initialSearchParameters:new an.SearchParameters({index:this.getIndexName()})}):rc(s,{uiState:nc(s,{searchParameters:x,helper:u}),initialSearchParameters:x});a=nc(s,{searchParameters:S,helper:u}),u.setState(S),u.recommendState=w,s.length&&l.scheduleSearch()}return this},init:function(m){var b=this,v,x=m.instantSearchInstance,w=m.parent,S=m.uiState;if(u===null){l=x,c=w,a=S[i]||{};var _=x.mainHelper,j=rc(s,{uiState:a,initialSearchParameters:new an.SearchParameters({index:n})}),P=X1(s,{uiState:a,initialRecommendParameters:new an.RecommendParameters});u=an({},j.index,j),u.recommendState=P,u.search=function(){return x.onStateChange?(x.onStateChange({uiState:x.mainIndex.getWidgetUiState({}),setUiState:function(I){return x.setUiState(I,!1)}}),_):_.search()},u.searchWithoutTriggeringOnStateChange=function(){return _.search()},u.searchForFacetValues=function(F,I,U,T){var z=u.state.setQueryParameters(T);return _.searchForFacetValues(F,I,U,z)},f=_.derive(function(){return Tc.apply(void 0,[_.state].concat(AN(f8(b))))},function(){return b.getHelper().recommendState});var R=(v=x._initialResults)===null||v===void 0?void 0:v[this.getIndexId()];if(R!=null&&R.results){var $=new an.SearchResults(new an.SearchParameters(R.state),R.results);f.lastResults=$,u.lastResults=$}if(R!=null&&R.recommendResults){var k=new an.RecommendResults(new an.RecommendParameters({params:R.recommendResults.params}),R.recommendResults.results);f.lastRecommendResults=k,u.lastRecommendResults=k}u.on("change",function(F){var I=F.isPageReset;I&&DN(s)}),f.on("search",function(){x.scheduleStalledRender()}),f.on("result",function(F){var I=F.results;x.scheduleRender(),u.lastResults=I,d=I==null?void 0:I._state}),f.on("recommend:result",function(F){var I=F.recommend;x.scheduleRender(),u.lastRecommendResults=I.results}),s.forEach(function(F){if(F.getRenderState){var I=F.getRenderState(x.renderState[b.getIndexId()]||{},hc(x,b,S));Xm({renderState:I,instantSearchInstance:x,parent:b})}}),s.forEach(function(F){F.init&&F.init(hc(x,b,S))}),u.on("change",function(F){var I=F.state,U=F._uiState;a=nc(s,{searchParameters:I,helper:u},U||{}),x.onStateChange||x.onInternalStateChange()}),R&&x.scheduleRender(),h&&(x._hasRecommendWidget=!0),p&&(x._hasSearchWidget=!0)}},render:function(m){var b,v=this,x=m.instantSearchInstance;x.status==="error"&&!x.mainHelper.hasPendingRequests()&&d&&u.setState(d);var w=this.getResults()||(b=f)!==null&&b!==void 0&&b.lastRecommendResults?s:s.filter(vr);w=w.filter(function(S){return S.shouldRender?S.shouldRender({instantSearchInstance:x}):!0}),w.forEach(function(S){if(S.getRenderState){var _=S.getRenderState(x.renderState[v.getIndexId()]||{},D1(x,v,S));Xm({renderState:_,instantSearchInstance:x,parent:v})}}),w.forEach(function(S){S.render&&S.render(D1(x,v,S))})},dispose:function(){var m=this,b,v;s.forEach(function(x){x.dispose&&u&&x.dispose({helper:u,state:u.state,recommendState:u.recommendState,parent:m})}),l=null,c=null,(b=u)===null||b===void 0||b.removeAllListeners(),u=null,(v=f)===null||v===void 0||v.detach(),f=null},getWidgetUiState:function(m){return s.filter(vr).reduce(function(b,v){return v.getWidgetUiState(b)},si(si({},m),{},To({},i,si(si({},m[i]),a))))},getWidgetState:function(m){return this.getWidgetUiState(m)},getWidgetSearchParameters:function(m,b){var v=b.uiState;return rc(s,{uiState:v,initialSearchParameters:m})},refreshUiState:function(){a=nc(s,{searchParameters:this.getHelper().state,helper:this.getHelper()},a)},setIndexUiState:function(m){var b=typeof m=="function"?m(a):m;l.setUiState(function(v){return si(si({},v),{},To({},i,b))})}}};function Xm(e){var t=e.renderState,n=e.instantSearchInstance,r=e.parent,i=r?r.getIndexId():n.mainIndex.getIndexId();n.renderState=si(si({},n.renderState),{},To({},i,si(si({},n.renderState[i]),t)))}function cq(e,t){return hq(e)||fq(e,t)||dq(e,t)||uq()}function uq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dq(e,t){if(e){if(typeof e=="string")return J1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J1(e,t)}}function J1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fq(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function hq(e){if(Array.isArray(e))return e}function pq(){var e=y.useReducer(function(r){return r+1},0),t=cq(e,2),n=t[1];return n}var mq="ais",bp=function(t){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.descendantName,i=n.modifierName,s=r?"-".concat(r):"",a=i?"--".concat(i):"";return"".concat(mq,"-").concat(t).concat(s).concat(a)}},gq=bp("Highlight");function vq(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,l=xp(i._highlightResult,t),c=l||{},u=c.value,f=u===void 0?"":u,d=gq({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return f.replace(new RegExp(gn.highlightPreTag,"g"),"<".concat(r,' class="').concat(d,'">')).replace(new RegExp(gn.highlightPostTag,"g"),"</".concat(r,">"))}var yq=bp("ReverseHighlight");function xq(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,l=xp(i._highlightResult,t),c=l||{},u=c.value,f=u===void 0?"":u,d=yq({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):""),h=mN(SN(yN(f)));return h.replace(new RegExp(gn.highlightPreTag,"g"),"<".concat(r,' class="').concat(d,'">')).replace(new RegExp(gn.highlightPostTag,"g"),"</".concat(r,">"))}var bq=bp("Snippet");function wq(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,l=xp(i._snippetResult,t),c=l||{},u=c.value,f=u===void 0?"":u,d=bq({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return f.replace(new RegExp(gn.highlightPreTag,"g"),"<".concat(r,' class="').concat(d,'">')).replace(new RegExp(gn.highlightPostTag,"g"),"</".concat(r,">"))}var Sq=bp("ReverseSnippet");function jq(e){var t=e.attribute,n=e.highlightedTagName,r=n===void 0?"mark":n,i=e.hit,s=e.cssClasses,a=s===void 0?{}:s,l=xp(i._snippetResult,t),c=l||{},u=c.value,f=u===void 0?"":u,d=Sq({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):""),h=mN(SN(yN(f)));return h.replace(new RegExp(gn.highlightPreTag,"g"),"<".concat(r,' class="').concat(d,'">')).replace(new RegExp(gn.highlightPostTag,"g"),"</".concat(r,">"))}function dy(e){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dy(e)}function _q(e){var t=e.method,n=e.payload;if(dy(n)!=="object")throw new Error("The insights helper expects the payload to be an object.");var r;try{r=gN(n)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(t,'" data-insights-payload="').concat(r,'"')}function Eq(e,t){return _q({method:e,payload:t})}function fy(e){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fy(e)}var Cq="_ALGOLIA";function kq(e){if(!((typeof document>"u"?"undefined":fy(document))!=="object"||typeof document.cookie!="string"))for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}}function Pq(){return kq(Cq)}function Rq(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function _u(e){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}function Z1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z1(Object(n),!0).forEach(function(r){Nq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nq(e,t,n){return t=Tq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tq(e){var t=Aq(e,"string");return _u(t)=="symbol"?t:String(t)}function Aq(e,t){if(_u(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Si(e,t){return Dq(e)||Iq(e,t)||LN(e,t)||Oq()}function Oq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iq(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function Dq(e){if(Array.isArray(e))return e}function Fq(e){return $q(e)||Mq(e)||LN(e)||Lq()}function Lq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LN(e,t){if(e){if(typeof e=="string")return hy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hy(e,t)}}function Mq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $q(e){if(Array.isArray(e))return hy(e)}function hy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var MN="2.17.2",Uq="https://cdn.jsdelivr.net/npm/search-insights@".concat(MN,"/dist/search-insights.min.js");function ej(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.insightsClient,n=e.insightsInitParams,r=e.onEvent,i=e.$$internal,s=i===void 0?!1:i,a=e.$$automatic,l=a===void 0?!1:a,c=t;!t&&t!==null&&us(function(f){var d=f.window,h=d.AlgoliaAnalyticsObject||"aa";typeof h=="string"&&(c=d[h]),c||(d.AlgoliaAnalyticsObject=h,d[h]||(d[h]=function(){d[h].queue||(d[h].queue=[]);for(var p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];d[h].queue.push(g)},d[h].version=MN,d[h].shouldAddScript=!0),c=d[h])});var u=c||Ct;return function(f){var d=f.instantSearchInstance,h=d.middleware.filter(function($){return $.instance.$$type==="ais.insights"&&$.instance.$$internal}).map(function($){return $.creator});d.unuse.apply(d,Fq(h));var p=j1(d.client),g=Si(p,2),m=g[0],b=g[1],v=void 0,x=void 0,w=void 0,S=u.queue;if(Array.isArray(S)){var _=["setUserToken","init"].map(function($){var k=fu(S.slice().reverse(),function(U){var T=Si(U,1),z=T[0];return z===$})||[],F=Si(k,2),I=F[1];return I}),j=Si(_,2);x=j[0],v=j[1]}u("getUserToken",null,function($,k){w=nj(k)}),(n||!tj(u))&&u("init",Zs({appId:m,apiKey:b,partial:!0},n));var P,R;return{$$type:"ais.insights",$$internal:s,$$automatic:l,onStateChange:function(){},subscribe:function(){if(u.shouldAddScript){var k="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var F=document.createElement("script");F.async=!0,F.src=Uq,F.onerror=function(){d.emit("error",new Error(k))},document.body.appendChild(F),u.shouldAddScript=!1}catch{u.shouldAddScript=!1,d.emit("error",new Error(k))}}},started:function(){u("addAlgoliaAgent","insights-middleware"),R=d.mainHelper;var k=u.queue;if(Array.isArray(k)){var F=["setUserToken","init"].map(function(ae){var Y=fu(k.slice().reverse(),function(le){var ue=Si(le,1),we=ue[0];return we===ae})||[],X=Si(Y,2),re=X[1];return re}),I=Si(F,2);x=I[0],v=I[1]}P=zq(d),l||R.overrideStateWithoutTriggeringChangeEvent(Zs(Zs({},R.state),{},{clickAnalytics:!0})),s||d.scheduleSearch();var U=function(Y){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,re=nj(Y);if(!re)return;var le=R.state.userToken;function ue(){R.overrideStateWithoutTriggeringChangeEvent(Zs(Zs({},R.state),{},{userToken:re})),le&&le!==Y&&d.scheduleSearch()}X?ue():setTimeout(ue,0)};function T(ae){U(ae,!0),u("setUserToken",ae)}var z=void 0,A=Pq();if(A)z=A;else{var M="anonymous-".concat(Rq());z=M}var E,O=P.userToken;if(n!=null&&n.userToken&&(E=n.userToken),E)T(E);else if(O)T(O);else if(w)T(w);else if(x)T(x);else if(z){var C;if(T(z),n!=null&&n.useCookie||(C=v)!==null&&C!==void 0&&C.useCookie){var D;Bq(z,(n==null?void 0:n.cookieDuration)||((D=v)===null||D===void 0?void 0:D.cookieDuration))}}u("onUserTokenChange",function(ae){return U(ae,!0)},{immediate:!0});var B=u;tj(u)&&(B=function(Y,X){var re=j1(d.client),le=Si(re,2),ue=le[0],we=le[1],ke={headers:{"X-Algolia-Application-Id":ue,"X-Algolia-API-Key":we}};return u(Y,X,ke)});var N=new Set,ne;d.mainHelper.derivedHelpers[0].on("result",function(ae){var Y=ae.results;Y&&(!Y.queryID||Y.queryID!==ne)&&(ne=Y.queryID,N.clear())}),d.sendEventToInsights=function(ae){if(r)r(ae,B);else if(ae.insightsMethod){if(ae.insightsMethod==="viewedObjectIDs"){var Y=ae.payload,X=Y.objectIDs.filter(function(re){return!N.has(re)});if(X.length===0)return;X.forEach(function(re){return N.add(re)}),Y.objectIDs=X}ae.payload.algoliaSource=["instantsearch"],l&&ae.payload.algoliaSource.push("instantsearch-automatic"),ae.eventModifier==="internal"&&ae.payload.algoliaSource.push("instantsearch-internal"),B(ae.insightsMethod,ae.payload)}}},unsubscribe:function(){u("onUserTokenChange",void 0),d.sendEventToInsights=Ct,R&&P&&(R.overrideStateWithoutTriggeringChangeEvent(Zs(Zs({},R.state),P)),d.scheduleSearch())}}}}function zq(e){var t,n,r=((t=e._initialResults)===null||t===void 0||(n=t[e.indexName])===null||n===void 0?void 0:n.state)||{},i=e.mainHelper.state;return{userToken:r.userToken||i.userToken,clickAnalytics:r.clickAnalytics||i.clickAnalytics}}function Bq(e,t){var n=2592e6,r=new Date;r.setTime(r.getTime()+(t||n*6));var i="expires=".concat(r.toUTCString());document.cookie="_ALGOLIA=".concat(e,";").concat(i,";path=/")}function tj(e){var t=(e.version||"").split(".").map(Number),n=Si(t,2),r=n[0],i=n[1],s=r>=3,a=r===2&&i>=6,l=r===1&&i>=10;return s||a||l}function nj(e){if(e)return typeof e=="number"?e.toString():e}function $N(e,t,n){var r=hc(t,t.mainIndex,t._initialUiState);e.forEach(function(i){var s={};if(i.getWidgetRenderState){var a=i.getWidgetRenderState(r);a&&a.widgetParams&&(s=a.widgetParams)}var l=Object.keys(s).filter(function(c){return s[c]!==void 0});n.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:l}),i.$$type==="ais.index"&&$N(i.getWidgets(),t,n)})}function Hq(){return us(function(e){var t,n,r=e.window;return((t=r.navigator)===null||t===void 0||(n=t.userAgent)===null||n===void 0?void 0:n.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function qq(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.$$internal,n=t===void 0?!1:t;return function(r){var i=r.instantSearchInstance,s={widgets:[]},a=document.createElement("meta"),l=document.querySelector("head");return a.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:n,onStateChange:function(){},subscribe:function(){setTimeout(function(){var u=i.client;s.ua=u.transporter&&u.transporter.userAgent?u.transporter.userAgent.value:u._ua,$N(i.mainIndex.getWidgets(),i,s),i.middleware.forEach(function(f){return s.widgets.push({middleware:!0,type:f.instance.$$type,internal:f.instance.$$internal})}),a.content=JSON.stringify(s),l.appendChild(a)},0)},started:function(){},unsubscribe:function(){a.remove()}}}}var Wq=String.prototype.replace,Vq=/%20/g,Jm={RFC1738:"RFC1738",RFC3986:"RFC3986"},Rb={default:Jm.RFC3986,formatters:{RFC1738:function(e){return Wq.call(e,Vq,"+")},RFC3986:function(e){return String(e)}},RFC1738:Jm.RFC1738,RFC3986:Jm.RFC3986},Qq=Rb,Zm=Object.prototype.hasOwnProperty,la=Array.isArray,Xr=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Kq=function(t){for(;t.length>1;){var n=t.pop(),r=n.obj[n.prop];if(la(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},UN=function(t,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(r[i]=t[i]);return r},Gq=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(la(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Zm.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var i=t;return la(t)&&!la(n)&&(i=UN(t,r)),la(t)&&la(n)?(n.forEach(function(s,a){if(Zm.call(t,a)){var l=t[a];l&&typeof l=="object"&&s&&typeof s=="object"?t[a]=e(l,s,r):t.push(s)}else t[a]=s}),t):Object.keys(n).reduce(function(s,a){var l=n[a];return Zm.call(s,a)?s[a]=e(s[a],l,r):s[a]=l,s},i)},Yq=function(t,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},t)},Xq=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},Jq=function(t,n,r,i,s){if(t.length===0)return t;var a=t;if(typeof t=="symbol"?a=Symbol.prototype.toString.call(t):typeof t!="string"&&(a=String(t)),r==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var l="",c=0;c<a.length;++c){var u=a.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===Qq.RFC1738&&(u===40||u===41)){l+=a.charAt(c);continue}if(u<128){l=l+Xr[u];continue}if(u<2048){l=l+(Xr[192|u>>6]+Xr[128|u&63]);continue}if(u<55296||u>=57344){l=l+(Xr[224|u>>12]+Xr[128|u>>6&63]+Xr[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|a.charCodeAt(c)&1023),l+=Xr[240|u>>18]+Xr[128|u>>12&63]+Xr[128|u>>6&63]+Xr[128|u&63]}return l},Zq=function(t){for(var n=[{obj:{o:t},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],a=s.obj[s.prop],l=Object.keys(a),c=0;c<l.length;++c){var u=l[c],f=a[u];typeof f=="object"&&f!==null&&r.indexOf(f)===-1&&(n.push({obj:a,prop:u}),r.push(f))}return Kq(n),t},e9=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},t9=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},n9=function(t,n){return[].concat(t,n)},r9=function(t,n){if(la(t)){for(var r=[],i=0;i<t.length;i+=1)r.push(n(t[i]));return r}return n(t)},zN={arrayToObject:UN,assign:Yq,combine:n9,compact:Zq,decode:Xq,encode:Jq,isBuffer:t9,isRegExp:e9,maybeMap:r9,merge:Gq},py=zN,Ac=Rb,i9=Object.prototype.hasOwnProperty,rj={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},ha=Array.isArray,s9=String.prototype.split,a9=Array.prototype.push,BN=function(e,t){a9.apply(e,ha(t)?t:[t])},o9=Date.prototype.toISOString,ij=Ac.default,Qt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:py.encode,encodeValuesOnly:!1,format:ij,formatter:Ac.formatters[ij],indices:!1,serializeDate:function(t){return o9.call(t)},skipNulls:!1,strictNullHandling:!1},l9=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},c9=function e(t,n,r,i,s,a,l,c,u,f,d,h,p,g){var m=t;if(typeof l=="function"?m=l(n,m):m instanceof Date?m=f(m):r==="comma"&&ha(m)&&(m=py.maybeMap(m,function(F){return F instanceof Date?f(F):F})),m===null){if(i)return a&&!p?a(n,Qt.encoder,g,"key",d):n;m=""}if(l9(m)||py.isBuffer(m)){if(a){var b=p?n:a(n,Qt.encoder,g,"key",d);if(r==="comma"&&p){for(var v=s9.call(String(m),","),x="",w=0;w<v.length;++w)x+=(w===0?"":",")+h(a(v[w],Qt.encoder,g,"value",d));return[h(b)+"="+x]}return[h(b)+"="+h(a(m,Qt.encoder,g,"value",d))]}return[h(n)+"="+h(String(m))]}var S=[];if(typeof m>"u")return S;var _;if(r==="comma"&&ha(m))_=[{value:m.length>0?m.join(",")||null:void 0}];else if(ha(l))_=l;else{var j=Object.keys(m);_=c?j.sort(c):j}for(var P=0;P<_.length;++P){var R=_[P],$=typeof R=="object"&&typeof R.value<"u"?R.value:m[R];if(!(s&&$===null)){var k=ha(m)?typeof r=="function"?r(n,R):n:n+(u?"."+R:"["+R+"]");BN(S,e($,k,r,i,s,a,l,c,u,f,d,h,p,g))}}return S},u9=function(t){if(!t)return Qt;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=t.charset||Qt.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Ac.default;if(typeof t.format<"u"){if(!i9.call(Ac.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var i=Ac.formatters[r],s=Qt.filter;return(typeof t.filter=="function"||ha(t.filter))&&(s=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Qt.addQueryPrefix,allowDots:typeof t.allowDots>"u"?Qt.allowDots:!!t.allowDots,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Qt.charsetSentinel,delimiter:typeof t.delimiter>"u"?Qt.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Qt.encode,encoder:typeof t.encoder=="function"?t.encoder:Qt.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Qt.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Qt.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Qt.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Qt.strictNullHandling}},d9=function(e,t){var n=e,r=u9(t),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):ha(r.filter)&&(s=r.filter,i=s);var a=[];if(typeof n!="object"||n===null)return"";var l;t&&t.arrayFormat in rj?l=t.arrayFormat:t&&"indices"in t?l=t.indices?"indices":"repeat":l="indices";var c=rj[l];i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var u=0;u<i.length;++u){var f=i[u];r.skipNulls&&n[f]===null||BN(a,c9(n[f],f,c,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset))}var d=a.join(r.delimiter),h=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),d.length>0?h+d:""},ml=zN,my=Object.prototype.hasOwnProperty,f9=Array.isArray,Vt={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ml.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},h9=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},HN=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},p9="utf8=%26%2310003%3B",m9="utf8=%E2%9C%93",g9=function(t,n){var r={},i=n.ignoreQueryPrefix?t.replace(/^\?/,""):t,s=n.parameterLimit===1/0?void 0:n.parameterLimit,a=i.split(n.delimiter,s),l=-1,c,u=n.charset;if(n.charsetSentinel)for(c=0;c<a.length;++c)a[c].indexOf("utf8=")===0&&(a[c]===m9?u="utf-8":a[c]===p9&&(u="iso-8859-1"),l=c,c=a.length);for(c=0;c<a.length;++c)if(c!==l){var f=a[c],d=f.indexOf("]="),h=d===-1?f.indexOf("="):d+1,p,g;h===-1?(p=n.decoder(f,Vt.decoder,u,"key"),g=n.strictNullHandling?null:""):(p=n.decoder(f.slice(0,h),Vt.decoder,u,"key"),g=ml.maybeMap(HN(f.slice(h+1),n),function(m){return n.decoder(m,Vt.decoder,u,"value")})),g&&n.interpretNumericEntities&&u==="iso-8859-1"&&(g=h9(g)),f.indexOf("[]=")>-1&&(g=f9(g)?[g]:g),my.call(r,p)?r[p]=ml.combine(r[p],g):r[p]=g}return r},v9=function(e,t,n,r){for(var i=r?t:HN(t,n),s=e.length-1;s>=0;--s){var a,l=e[s];if(l==="[]"&&n.parseArrays)a=[].concat(i);else{a=n.plainObjects?Object.create(null):{};var c=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,u=parseInt(c,10);!n.parseArrays&&c===""?a={0:i}:!isNaN(u)&&l!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(a=[],a[u]=i):c!=="__proto__"&&(a[c]=i)}i=a}return i},y9=function(t,n,r,i){if(t){var s=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,c=r.depth>0&&a.exec(s),u=c?s.slice(0,c.index):s,f=[];if(u){if(!r.plainObjects&&my.call(Object.prototype,u)&&!r.allowPrototypes)return;f.push(u)}for(var d=0;r.depth>0&&(c=l.exec(s))!==null&&d<r.depth;){if(d+=1,!r.plainObjects&&my.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;f.push(c[1])}return c&&f.push("["+s.slice(c.index)+"]"),v9(f,n,r,i)}},x9=function(t){if(!t)return Vt;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof t.charset>"u"?Vt.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?Vt.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:Vt.allowPrototypes,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:Vt.arrayLimit,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Vt.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:Vt.comma,decoder:typeof t.decoder=="function"?t.decoder:Vt.decoder,delimiter:typeof t.delimiter=="string"||ml.isRegExp(t.delimiter)?t.delimiter:Vt.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:Vt.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:Vt.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:Vt.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:Vt.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Vt.strictNullHandling}},b9=function(e,t){var n=x9(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?g9(e,n):e,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),a=0;a<s.length;++a){var l=s[a],c=y9(l,r[l],n,typeof e=="string");i=ml.merge(i,c,n)}return ml.compact(i)},w9=d9,S9=b9,j9=Rb,_9={formats:j9,parse:S9,stringify:w9};const sj=Ia(_9);function Eu(e){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}function E9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qN(r.key),r)}}function k9(e,t,n){return t&&C9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bn(e,t,n){return t=qN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qN(e){var t=P9(e,"string");return Eu(t)=="symbol"?t:String(t)}function P9(e,t){if(Eu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aj=function(t){t&&(window.document.title=t)},R9=function(){function e(t){var n=this,r=t.windowTitle,i=t.writeDelay,s=i===void 0?400:i,a=t.createURL,l=t.parseURL,c=t.getLocation,u=t.start,f=t.dispose,d=t.push,h=t.cleanUrlOnDispose;E9(this,e),bn(this,"$$type","ais.browser"),bn(this,"windowTitle",void 0),bn(this,"writeDelay",void 0),bn(this,"_createURL",void 0),bn(this,"parseURL",void 0),bn(this,"getLocation",void 0),bn(this,"writeTimer",void 0),bn(this,"_onPopState",void 0),bn(this,"inPopState",!1),bn(this,"isDisposed",!1),bn(this,"latestAcknowledgedHistory",0),bn(this,"_start",void 0),bn(this,"_dispose",void 0),bn(this,"_push",void 0),bn(this,"_cleanUrlOnDispose",void 0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=s,this._createURL=a,this.parseURL=l,this.getLocation=c,this._start=u,this._dispose=f,this._push=d,this._cleanUrlOnDispose=typeof h>"u"?!0:h,us(function(p){var g=p.window,m=n.windowTitle&&n.windowTitle(n.read());aj(m),n.latestAcknowledgedHistory=g.history.length})}return k9(e,[{key:"read",value:function(){return this.parseURL({qsModule:sj,location:this.getLocation()})}},{key:"write",value:function(n){var r=this;us(function(i){var s=i.window,a=r.createURL(n),l=r.windowTitle&&r.windowTitle(n);r.writeTimer&&clearTimeout(r.writeTimer),r.writeTimer=setTimeout(function(){aj(l),r.shouldWrite(a)&&(r._push?r._push(a):s.history.pushState(n,l||"",a),r.latestAcknowledgedHistory=s.history.length),r.inPopState=!1,r.writeTimer=void 0},r.writeDelay)})}},{key:"onUpdate",value:function(n){var r=this;this._start&&this._start(function(){n(r.read())}),this._onPopState=function(){r.writeTimer&&(clearTimeout(r.writeTimer),r.writeTimer=void 0),r.inPopState=!0,n(r.read())},us(function(i){var s=i.window;s.addEventListener("popstate",r._onPopState)})}},{key:"createURL",value:function(n){var r=this._createURL({qsModule:sj,routeState:n,location:this.getLocation()});return r}},{key:"dispose",value:function(){var n=this;this._dispose&&this._dispose(),this.isDisposed=!0,us(function(r){var i=r.window;n._onPopState&&i.removeEventListener("popstate",n._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(n){var r=this;return us(function(i){var s=i.window;if(r.isDisposed&&!r._cleanUrlOnDispose)return!1;var a=!(r.isDisposed&&r.latestAcknowledgedHistory!==s.history.length);return!r.inPopState&&a&&n!==s.location.href})}}]),e}();function N9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.createURL,n=t===void 0?function(g){var m=g.qsModule,b=g.routeState,v=g.location,x=v.protocol,w=v.hostname,S=v.port,_=S===void 0?"":S,j=v.pathname,P=v.hash,R=m.stringify(b),$=_===""?"":":".concat(_);return R?"".concat(x,"//").concat(w).concat($).concat(j,"?").concat(R).concat(P):"".concat(x,"//").concat(w).concat($).concat(j).concat(P)}:t,r=e.parseURL,i=r===void 0?function(g){var m=g.qsModule,b=g.location;return m.parse(b.search.slice(1),{arrayLimit:99})}:r,s=e.writeDelay,a=s===void 0?400:s,l=e.windowTitle,c=e.getLocation,u=c===void 0?function(){return us(function(g){var m=g.window;return m.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:c,f=e.start,d=e.dispose,h=e.push,p=e.cleanUrlOnDispose;return new R9({createURL:n,parseURL:i,writeDelay:a,windowTitle:l,getLocation:u,start:f,dispose:d,push:h,cleanUrlOnDispose:p})}function Cu(e){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(e)}var T9=["configure"];function oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(n),!0).forEach(function(r){gy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gy(e,t,n){return t=A9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A9(e){var t=O9(e,"string");return Cu(t)=="symbol"?t:String(t)}function O9(e,t){if(Cu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I9(e,t){if(e==null)return{};var n=D9(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function D9(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function lj(e){e.configure;var t=I9(e,T9);return t}function F9(){return{$$type:"ais.simple",stateToRoute:function(t){return Object.keys(t).reduce(function(n,r){return Zd(Zd({},n),{},gy({},r,lj(t[r])))},{})},routeToState:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(n,r){return Zd(Zd({},n),{},gy({},r,lj(t[r])))},{})}}}function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(n),!0).forEach(function(r){WN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WN(e,t,n){return t=L9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L9(e){var t=M9(e,"string");return ku(t)=="symbol"?t:String(t)}function M9(e,t){if(ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.router,r=n===void 0?N9():n,i=t.stateMapping,s=i===void 0?F9():i,a=t.$$internal,l=a===void 0?!1:a;return function(c){var u=c.instantSearchInstance;function f(p){var g=u.mainIndex.getWidgets().length===0?u._initialUiState:u.mainIndex.getWidgetUiState({}),m=Object.keys(p).reduce(function(v,x){return ef(ef({},v),{},WN({},x,p[x]))},g),b=s.stateToRoute(m);return r.createURL(b)}u._createURL=f;var d=void 0,h=u._initialUiState;return{$$type:"ais.router({router:".concat(r.$$type||"__unknown__",", stateMapping:").concat(s.$$type||"__unknown__","})"),$$internal:l,onStateChange:function(g){var m=g.uiState,b=s.stateToRoute(m);(d===void 0||!bN(d,b))&&(r.write(b),d=b)},subscribe:function(){u._initialUiState=ef(ef({},h),s.routeToState(r.read())),r.onUpdate(function(g){u.mainIndex.getWidgets().length>0&&u.setUiState(s.routeToState(g))})},started:function(){var g;(g=r.start)===null||g===void 0||g.call(r)},unsubscribe:function(){r.dispose()}}}};function U9(e,t){return e.toLocaleString(t)}function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}function uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(n),!0).forEach(function(r){z9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z9(e,t,n){return t=B9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B9(e){var t=H9(e,"string");return Pu(t)=="symbol"?t:String(t)}function H9(e,t){if(Pu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q9(e){var t=e.numberLocale;return{formatNumber:function(r,i){return U9(Number(i(r)),t)},highlight:function(r,i){try{var s=JSON.parse(r);return i(vq(xi(xi({},s),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(r,i){try{var s=JSON.parse(r);return i(xq(xi(xi({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(r,i){try{var s=JSON.parse(r);return i(wq(xi(xi({},s),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(r,i){try{var s=JSON.parse(r);return i(jq(xi(xi({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(r,i){try{var s=JSON.parse(r),a=s.method,l=s.payload;return i(Eq(a,xi({objectIDs:[this.objectID]},l)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}const W9="4.79.2";function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(n),!0).forEach(function(r){ze(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VN(r.key),r)}}function K9(e,t,n){return t&&Q9(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vy(e,t)}function vy(e,t){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vy(e,t)}function Y9(e){var t=J9();return function(){var r=bh(e),i;if(t){var s=bh(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return X9(this,i)}}function X9(e,t){if(t&&(gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(e)}function $e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bh(e){return bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bh(e)}function ze(e,t,n){return t=VN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VN(e){var t=Z9(e,"string");return gl(t)=="symbol"?t:String(t)}function Z9(e,t){if(gl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pr=Wr({name:"instantsearch"});function eW(){return"#"}var QN={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},tW=function(e){G9(n,e);var t=Y9(n);function n(r){var i;V9(this,n),i=t.call(this),ze($e(i),"client",void 0),ze($e(i),"indexName",void 0),ze($e(i),"compositionID",void 0),ze($e(i),"insightsClient",void 0),ze($e(i),"onStateChange",null),ze($e(i),"future",void 0),ze($e(i),"helper",void 0),ze($e(i),"mainHelper",void 0),ze($e(i),"mainIndex",void 0),ze($e(i),"started",void 0),ze($e(i),"templatesConfig",void 0),ze($e(i),"renderState",{}),ze($e(i),"_stalledSearchDelay",void 0),ze($e(i),"_searchStalledTimer",void 0),ze($e(i),"_initialUiState",void 0),ze($e(i),"_initialResults",void 0),ze($e(i),"_manuallyResetScheduleSearch",!1),ze($e(i),"_resetScheduleSearch",void 0),ze($e(i),"_createURL",void 0),ze($e(i),"_searchFunction",void 0),ze($e(i),"_mainHelperSearch",void 0),ze($e(i),"_hasSearchWidget",!1),ze($e(i),"_hasRecommendWidget",!1),ze($e(i),"_insights",void 0),ze($e(i),"middleware",[]),ze($e(i),"sendEventToInsights",void 0),ze($e(i),"status","idle"),ze($e(i),"error",void 0),ze($e(i),"scheduleSearch",Zl(function(){i.started&&i.mainHelper.search()})),ze($e(i),"scheduleRender",Zl(function(){var I,U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(I=i.mainHelper)!==null&&I!==void 0&&I.hasPendingRequests()||(clearTimeout(i._searchStalledTimer),i._searchStalledTimer=null,U&&(i.status="idle",i.error=void 0)),i.mainIndex.render({instantSearchInstance:$e(i)}),i.emit("render")})),ze($e(i),"onInternalStateChange",Zl(function(){var I=i.mainIndex.getWidgetUiState({});i.middleware.forEach(function(U){var T=U.instance;T.onStateChange({uiState:I})})})),i.setMaxListeners(100);var s=r.indexName,a=s===void 0?"":s,l=r.compositionID,c=r.numberLocale,u=r.initialUiState,f=u===void 0?{}:u,d=r.routing,h=d===void 0?null:d,p=r.insights,g=p===void 0?void 0:p,m=r.searchFunction,b=r.stalledSearchDelay,v=b===void 0?200:b,x=r.searchClient,w=x===void 0?null:x,S=r.insightsClient,_=S===void 0?null:S,j=r.onStateChange,P=j===void 0?null:j,R=r.future,$=R===void 0?eg(eg({},QN),r.future||{}):R;if(w===null)throw new Error(Pr("The `searchClient` option is required."));if(typeof w.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof w.addAlgoliaAgent=="function"&&w.addAlgoliaAgent("instantsearch.js (".concat(W9,")")),_&&typeof _!="function")throw new Error(Pr("The `insightsClient` option should be a function."));if(i.client=w,i.future=$,i.insightsClient=_,i.indexName=a,i.compositionID=l,i.helper=null,i.mainHelper=null,i.mainIndex=lq({indexName:i.compositionID||i.indexName}),i.onStateChange=P,i.started=!1,i.templatesConfig={helpers:q9({numberLocale:c}),compileOptions:{}},i._stalledSearchDelay=v,i._searchStalledTimer=null,i._createURL=eW,i._initialUiState=f,i._initialResults=null,i._insights=g,m&&(i._searchFunction=m),i.sendEventToInsights=Ct,h){var k=typeof h=="boolean"?{}:h;k.$$internal=!0,i.use($9(k))}if(g){var F=typeof g=="boolean"?{}:g;F.$$internal=!0,i.use(ej(F))}return Hq()&&i.use(qq({$$internal:!0})),i}return K9(n,[{key:"_isSearchStalled",get:function(){return this.status==="stalled"}},{key:"use",value:function(){for(var i=this,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var c=a.map(function(u){var f=eg({$$type:"__unknown__",$$internal:!1,subscribe:Ct,started:Ct,unsubscribe:Ct,onStateChange:Ct},u({instantSearchInstance:i}));return i.middleware.push({creator:u,instance:f}),f});return this.started&&c.forEach(function(u){u.subscribe(),u.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return this.middleware.filter(function(l){return s.includes(l.creator)}).forEach(function(l){return l.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(l){return!s.includes(l.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(Pr("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(i.some(function(s){return typeof s.init!="function"&&typeof s.render!="function"}))throw new Error(Pr("The widget definition expects a `render` and/or an `init` method."));if(this.compositionID&&i.some(vr))throw new Error(Pr("The `index` widget cannot be used with a composition-based InstantSearch implementation."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(Pr("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(i.some(function(s){return typeof s.dispose!="function"}))throw new Error(Pr("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(Pr("The `start` method has already been called once."));var s=this.mainHelper||an(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(this.compositionID&&(s.searchForFacetValues=s.searchForCompositionFacetValues.bind(s)),s.search=function(){return i.status="loading",i.scheduleRender(!1),i._hasSearchWidget&&(i.compositionID?s.searchWithComposition():s.searchOnlyWithDerivedHelpers()),i._hasRecommendWidget&&s.recommend(),s},this._searchFunction){var a={search:function(){return new Promise(Ct)}};this._mainHelperSearch=s.search.bind(s),s.search=function(){var c=i.mainIndex.getHelper(),u=an(a,c.state.index,c.state);return u.once("search",function(f){var d=f.state;c.overrideStateWithoutTriggeringChangeEvent(d),i._mainHelperSearch()}),u.on("change",function(f){var d=f.state;c.setState(d)}),i._searchFunction(u),s}}if(s.on("error",function(c){var u=c.error;if(!(u instanceof Error)){var f=u;u=Object.keys(f).reduce(function(d,h){return d[h]=f[h],d},new Error(f.message))}u.error=u,i.error=u,i.status="error",i.scheduleRender(!1),i.emit("error",u)}),this.mainHelper=s,this.middleware.forEach(function(c){var u=c.instance;u.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){BH(this.client,this._initialResults),IH(this.mainHelper,this._initialResults);var l=this.scheduleSearch;this.scheduleSearch=Zl(Ct),this._manuallyResetScheduleSearch?this._resetScheduleSearch=function(){i.scheduleSearch=l}:Zl(function(){i.scheduleSearch=l})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(c){var u=c.instance;u.started()}),typeof this._insights>"u"&&s.derivedHelpers[0].once("result",function(){var c=i.mainIndex.getScopedResults().some(function(u){var f=u.results;return f==null?void 0:f._automaticInsights});c&&i.use(ej({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var i;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(i=this.mainHelper)===null||i===void 0||i.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(s){var a=s.instance;a.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(Pr("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var l=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&a?this.onStateChange({uiState:l,setUiState:function(u){oy(typeof u=="function"?u(l):u,s.mainIndex),s.scheduleSearch(),s.onInternalStateChange()}}):(oy(l,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(Pr("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(Pr("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),n}(y6),KN={exports:{}},GN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=y;function nW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rW=typeof Object.is=="function"?Object.is:nW,iW=vl.useState,sW=vl.useEffect,aW=vl.useLayoutEffect,oW=vl.useDebugValue;function lW(e,t){var n=t(),r=iW({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return aW(function(){i.value=n,i.getSnapshot=t,tg(i)&&s({inst:i})},[e,n,t]),sW(function(){return tg(i)&&s({inst:i}),e(function(){tg(i)&&s({inst:i})})},[e]),oW(n),n}function tg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rW(e,n)}catch{return!0}}function cW(e,t){return t()}var uW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cW:lW;GN.useSyncExternalStore=vl.useSyncExternalStore!==void 0?vl.useSyncExternalStore:uW;KN.exports=GN;var dW=KN.exports,fW={};function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}function fj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(n),!0).forEach(function(r){hW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hW(e,t,n){return t=pW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pW(e){var t=mW(e,"string");return Ru(t)=="symbol"?t:String(t)}function mW(e,t){if(Ru(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pj=["react (".concat(y.version,")"),"react-instantsearch (".concat(ey,")"),"react-instantsearch-core (".concat(ey,")")],mj="react-instantsearch-server (".concat(ey,")"),gW=function(t){return t?"next.js (".concat(t,")"):null};function vW(e){var t=pq(),n=PN(),r=RN(),i=NN(),s=i.waitForResultsRef,a=r==null?void 0:r.initialResults,l=y.useRef(e),c=n||a||s,u=y.useRef(null);if(r!=null&&r.ssrSearchRef&&(u=r.ssrSearchRef),u.current===null){var f=new tW(e);f._schedule=function(v){f._schedule.queue.push(v),clearTimeout(f._schedule.timer),f._schedule.timer=setTimeout(function(){f._schedule.queue.forEach(function(x){x()}),f._schedule.queue=[]},0)},f._schedule.queue=[],c&&(f._initialResults=a||{},f._manuallyResetScheduleSearch=!0),gj(e.searchClient,[].concat(pj,[n&&mj,gW(yW())])),c&&f.start(),n&&n.notifyServer({search:f}),e.routing,u.current=f}{var d=u.current,h=l.current;if(h.indexName!==e.indexName&&(d.helper.setIndex(e.indexName||"").search(),l.current=e),h.searchClient!==e.searchClient&&(gj(e.searchClient,[].concat(pj,[n&&mj])),d.mainHelper.setClient(e.searchClient).search(),l.current=e),h.onStateChange!==e.onStateChange&&(d.onStateChange=e.onStateChange,l.current=e),h.searchFunction!==e.searchFunction&&(d._searchFunction=e.searchFunction,l.current=e),h.stalledSearchDelay!==e.stalledSearchDelay){var p;d._stalledSearchDelay=(p=e.stalledSearchDelay)!==null&&p!==void 0?p:200,l.current=e}pl(h.future,e.future)||(d.future=hj(hj({},QN),e.future),l.current=e)}var g=y.useRef(null),m=dW.useSyncExternalStore(y.useCallback(function(){var b=u.current;return g.current===null?b.started||(b.start(),t()):(clearTimeout(g.current),b._preventWidgetCleanup=!1),function(){if(r!=null&&r.ssrSearchRef)return;function v(){b.dispose()}clearTimeout(b._schedule.timer),g.current=setTimeout(v),b._preventWidgetCleanup=!0}},[t,r]),function(){return u.current},function(){return u.current});return m}function gj(e,t){typeof e.addAlgoliaAgent=="function"&&t.filter(Boolean).forEach(function(n){e.addAlgoliaAgent(n)})}function yW(){var e,t;return typeof window<"u"&&((e=window.next)===null||e===void 0?void 0:e.version)||(typeof process<"u"?(t=fW)===null||t===void 0?void 0:t.NEXT_RUNTIME:void 0)}var xW=["children"];function bW(e,t){if(e==null)return{};var n=wW(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wW(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function SW(e){var t=e.children,n=bW(e,xW),r=vW(n);return r.started?q.createElement(CN.Provider,{value:r},q.createElement(_N.Provider,{value:r.mainIndex},t,q.createElement(jW,{search:r}))):null}function jW(e){var t=e.search;return y.useEffect(function(){t._resetScheduleSearch&&t._resetScheduleSearch()},[t]),null}function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}function _W(e){return PW(e)||kW(e)||CW(e)||EW()}function EW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CW(e,t){if(e){if(typeof e=="string")return yy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yy(e,t)}}function kW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PW(e){if(Array.isArray(e))return yy(e)}function yy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ao(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vj(Object(n),!0).forEach(function(r){RW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RW(e,t,n){return t=NW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NW(e){var t=TW(e,"string");return Nu(t)=="symbol"?t:String(t)}function TW(e,t){if(Nu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yj=Wr({name:"clear-refinements",connector:!0}),AW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct;return Ws(t,yj()),function(r){var i=r||{},s=i.includedAttributes,a=s===void 0?[]:s,l=i.excludedAttributes,c=l===void 0?["query"]:l,u=i.transformItems,f=u===void 0?function(g){return g}:u;if(r&&r.includedAttributes&&r.excludedAttributes)throw new Error(yj("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var d={refine:Ct,createURL:function(){return""},attributesToClear:[]},h=function(){return d.refine()},p=function(){return d.createURL()};return{$$type:"ais.clearRefinements",init:function(m){var b=m.instantSearchInstance;t(ao(ao({},this.getWidgetRenderState(m)),{},{instantSearchInstance:b}),!0)},render:function(m){var b=m.instantSearchInstance;t(ao(ao({},this.getWidgetRenderState(m)),{},{instantSearchInstance:b}),!1)},dispose:function(){n()},getRenderState:function(m,b){return ao(ao({},m),{},{clearRefinements:this.getWidgetRenderState(b)})},getWidgetRenderState:function(m){var b=m.createURL,v=m.scopedResults,x=m.results;d.attributesToClear=v.reduce(function(S,_){return S.concat(OW({scopedResult:_,includedAttributes:a,excludedAttributes:c,transformItems:f,results:x}))},[]),d.refine=function(){d.attributesToClear.forEach(function(S){var _=S.helper,j=S.items;_.setState(v1({helper:_,attributesToClear:j})).search()})},d.createURL=function(){return b(Tc.apply(void 0,_W(d.attributesToClear.map(function(S){var _=S.helper,j=S.items;return v1({helper:_,attributesToClear:j})}))))};var w=d.attributesToClear.some(function(S){return S.items.length>0});return{canRefine:w,hasRefinements:w,refine:h,createURL:p,widgetParams:r}}}}};function OW(e){var t=e.scopedResult,n=e.includedAttributes,r=e.excludedAttributes,i=e.transformItems,s=e.results,a=n.indexOf("query")!==-1||r.indexOf("query")===-1;return{helper:t.helper,items:i(wN(SH(t.results,t.helper.state,a).map(function(l){return l.attribute}).filter(function(l){return n.length===0||n.indexOf(l)!==-1}).filter(function(l){return l==="query"&&a||r.indexOf(l)===-1})),{results:s})}}function IW(e,t){return Wi(AW,e,t)}function Tu(e){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}function xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(n),!0).forEach(function(r){YN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YN(e,t,n){return t=DW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DW(e){var t=FW(e,"string");return Tu(t)=="symbol"?t:String(t)}function FW(e,t){if(Tu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LW=Wr({name:"hits",connector:!0});const MW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct;return Ws(t,LW()),function(r){var i=r||{},s=i.escapeHTML,a=s===void 0?!0:s,l=i.transformItems,c=l===void 0?function(d){return d}:l,u,f;return{$$type:"ais.hits",init:function(h){t(Ji(Ji({},this.getWidgetRenderState(h)),{},{instantSearchInstance:h.instantSearchInstance}),!0)},render:function(h){var p=this.getWidgetRenderState(h);t(Ji(Ji({},p),{},{instantSearchInstance:h.instantSearchInstance}),!1),p.sendEvent("view:internal",p.items)},getRenderState:function(h,p){return Ji(Ji({},h),{},{hits:this.getWidgetRenderState(p)})},getWidgetRenderState:function(h){var p,g,m,b=h.results,v=h.helper,x=h.instantSearchInstance;if(u||(u=hH({instantSearchInstance:x,helper:v,widgetType:this.$$type})),f||(f=pH({helper:v,widgetType:this.$$type,instantSearchInstance:x})),!b)return{hits:[],items:[],results:void 0,banner:void 0,sendEvent:u,bindEvent:f,widgetParams:r};a&&b.hits.length>0&&(b.hits=WB(b.hits));var w=CH(b.hits,b.page,b.hitsPerPage),S=NH(w,b.queryID),_=c(S,{results:b}),j=(p=b.renderingContent)===null||p===void 0||(g=p.widgets)===null||g===void 0||(m=g.banners)===null||m===void 0?void 0:m[0];return{hits:_,items:_,results:b,banner:j,sendEvent:u,bindEvent:f,widgetParams:r}},dispose:function(h){var p=h.state;return n(),a?p.setQueryParameters(Object.keys(dl).reduce(function(g,m){return Ji(Ji({},g),{},YN({},m,void 0))},{})):p},getWidgetSearchParameters:function(h,p){return a?h.setQueryParameters(dl):h}}}};function wp(e,t){return Wi(MW,e,t)}function Au(e){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}function $W(e){return HW(e)||BW(e)||zW(e)||UW()}function UW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zW(e,t){if(e){if(typeof e=="string")return xy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xy(e,t)}}function BW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HW(e){if(Array.isArray(e))return xy(e)}function xy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(n),!0).forEach(function(r){qW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qW(e,t,n){return t=WW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WW(e){var t=VW(e,"string");return Au(t)=="symbol"?t:String(t)}function VW(e,t){if(Au(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tf=Wr({name:"hits-per-page",connector:!0}),QW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct;return Ws(t,tf()),function(r){var i=r||{},s=i.items,a=i.transformItems,l=a===void 0?function(p){return p}:a;if(!Array.isArray(s))throw new Error(tf("The `items` option expects an array of objects."));var c=s,u=c.filter(function(p){return p.default===!0});if(u.length===0)throw new Error(tf("A default value must be specified in `items`."));if(u.length>1)throw new Error(tf("More than one default value is specified in `items`."));var f=u[0],d=function(g){var m=g.hitsPerPage;return c.map(function(b){return Jr(Jr({},b),{},{isRefined:Number(b.value)===Number(m)})})},h={getRefine:function(g){return function(m){return!m&&m!==0?g.setQueryParameter("hitsPerPage",void 0).search():g.setQueryParameter("hitsPerPage",m).search()}},createURLFactory:function(g){var m=g.state,b=g.createURL,v=g.getWidgetUiState,x=g.helper;return function(w){return b(function(S){return v(S,{searchParameters:m.resetPage().setQueryParameter("hitsPerPage",!w&&w!==0?void 0:w),helper:x})})}}};return{$$type:"ais.hitsPerPage",init:function(g){var m=g.state,b=g.instantSearchInstance,v=c.some(function(x){return Number(m.hitsPerPage)===Number(x.value)});v||(c=[{value:"",label:""}].concat($W(c))),t(Jr(Jr({},this.getWidgetRenderState(g)),{},{instantSearchInstance:b}),!0)},render:function(g){var m=g.instantSearchInstance;t(Jr(Jr({},this.getWidgetRenderState(g)),{},{instantSearchInstance:m}),!1)},dispose:function(g){var m=g.state;return n(),m.setQueryParameter("hitsPerPage",void 0)},getRenderState:function(g,m){return Jr(Jr({},g),{},{hitsPerPage:this.getWidgetRenderState(m)})},getWidgetRenderState:function(g){var m=g.state,b=g.results,v=g.createURL,x=g.helper,w=b?b.nbHits>0:!1;return{items:l(d(m),{results:b}),refine:h.getRefine(x),createURL:h.createURLFactory({state:m,createURL:v,getWidgetUiState:this.getWidgetUiState,helper:x}),hasNoResults:!w,canRefine:w,widgetParams:r}},getWidgetUiState:function(g,m){var b=m.searchParameters,v=b.hitsPerPage;return v===void 0||v===f.value?g:Jr(Jr({},g),{},{hitsPerPage:v})},getWidgetSearchParameters:function(g,m){var b=m.uiState;return g.setQueryParameters({hitsPerPage:b.hitsPerPage||f.value})}}}};function KW(e,t){return Wi(QW,e,t)}function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function GW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XN(r.key),r)}}function XW(e,t,n){return t&&YW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ng(e,t,n){return t=XN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XN(e){var t=JW(e,"string");return Ou(t)=="symbol"?t:String(t)}function JW(e,t){if(Ou(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZW=function(){function e(t){GW(this,e),ng(this,"currentPage",void 0),ng(this,"total",void 0),ng(this,"padding",void 0),this.currentPage=t.currentPage,this.total=t.total,this.padding=t.padding}return XW(e,[{key:"pages",value:function(){var n=this.total,r=this.currentPage,i=this.padding;if(n===0)return[0];var s=this.nbPagesDisplayed(i,n);if(s===n)return I1({end:n});var a=this.calculatePaddingLeft(r,i,n,s),l=s-a,c=r-a,u=r+l;return I1({start:c,end:u})}},{key:"nbPagesDisplayed",value:function(n,r){return Math.min(2*n+1,r)}},{key:"calculatePaddingLeft",value:function(n,r,i,s){return n<=r?n:n>=i-r?s-(i-n):r}},{key:"isLastPage",value:function(){return this.currentPage>=this.total-1}},{key:"isFirstPage",value:function(){return this.currentPage<=0}}]),e}();function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(n),!0).forEach(function(r){e7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e7(e,t,n){return t=t7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t7(e){var t=n7(e,"string");return Iu(t)=="symbol"?t:String(t)}function n7(e,t){if(Iu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r7=Wr({name:"pagination",connector:!0}),i7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct;return Ws(t,r7()),function(r){var i=r||{},s=i.totalPages,a=i.padding,l=a===void 0?3:a,c=new ZW({currentPage:0,total:0,padding:l}),u={};function f(d){var h=d.nbPages;return s!==void 0?Math.min(s,h):h}return{$$type:"ais.pagination",init:function(h){var p=h.instantSearchInstance;t(Zr(Zr({},this.getWidgetRenderState(h)),{},{instantSearchInstance:p}),!0)},render:function(h){var p=h.instantSearchInstance;t(Zr(Zr({},this.getWidgetRenderState(h)),{},{instantSearchInstance:p}),!1)},dispose:function(h){var p=h.state;return n(),p.setQueryParameter("page",void 0)},getWidgetUiState:function(h,p){var g=p.searchParameters,m=g.page||0;return m?Zr(Zr({},h),{},{page:m+1}):h},getWidgetSearchParameters:function(h,p){var g=p.uiState,m=g.page?g.page-1:0;return h.setQueryParameter("page",m)},getWidgetRenderState:function(h){var p=h.results,g=h.helper,m=h.state,b=h.createURL;u.refine||(u.refine=function(w){g.setPage(w),g.search()}),u.createURL||(u.createURL=function(w){return b(function(S){return Zr(Zr({},S),{},{page:w+1})})});var v=m.page||0,x=f(p||{nbPages:0});return c.currentPage=v,c.total=x,{createURL:u.createURL,refine:u.refine,canRefine:x>1,currentRefinement:v,nbHits:(p==null?void 0:p.nbHits)||0,nbPages:x,pages:p?c.pages():[],isFirstPage:c.isFirstPage(),isLastPage:c.isLastPage(),widgetParams:r}},getRenderState:function(h,p){return Zr(Zr({},h),{},{pagination:this.getWidgetRenderState(p)})}}}};function JN(e,t){return Wi(i7,e,t)}function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}function Sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(n),!0).forEach(function(r){Rf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rf(e,t,n){return t=s7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s7(e){var t=a7(e,"string");return Du(t)=="symbol"?t:String(t)}function a7(e,t){if(Du(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oo(e,t){return u7(e)||c7(e,t)||l7(e,t)||o7()}function o7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l7(e,t){if(e){if(typeof e=="string")return jj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jj(e,t)}}function jj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c7(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function u7(e){if(Array.isArray(e))return e}var rg=Wr({name:"range-input",connector:!0},{name:"range-slider",connector:!0}),d7="ais.range";function _j(e){var t=e.min,n=e.max,r=e.precision,i=Math.pow(10,r);return{min:t&&Math.floor(t*i)/i,max:n&&Math.ceil(n*i)/i}}var f7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct;return Ws(t,rg()),function(r){var i=r||{},s=i.attribute,a=s===void 0?"":s,l=i.min,c=i.max,u=i.precision,f=u===void 0?0:u;if(!a)throw new Error(rg("The `attribute` option is required."));if(Xe(l)&&Xe(c)&&l>c)throw new Error(rg("The `max` option can't be lower than `min`."));var d=function(w){return Number(Number(w).toFixed(f))},h={from:function(w){return w.toLocaleString()},to:function(w){return d(w).toLocaleString()}},p=function(w,S,_,j){var P=w.state,R=S.min,$=S.max,k=P.getNumericRefinement(a,">=")||[],F=oo(k,1),I=F[0],U=P.getNumericRefinement(a,"<=")||[],T=oo(U,1),z=T[0],A=_===void 0||_==="",M=j===void 0||j==="",E=_j({min:A?void 0:parseFloat(_),max:M?void 0:parseFloat(j),precision:f}),O=E.min,C=E.max,D;!Xe(l)&&R===O?D=void 0:Xe(l)&&A?D=l:D=O;var B;!Xe(c)&&$===C?B=void 0:Xe(c)&&M?B=c:B=C;var N=D===void 0,ne=Xe(R)&&R<=D,ae=N||Xe(D)&&(!Xe(R)||ne),Y=B===void 0,X=Xe(B)&&$>=B,re=Y||Xe(B)&&(!Xe($)||X),le=I!==D,ue=z!==B;return(le||ue)&&ae&&re?(P=P.removeNumericRefinement(a),Xe(D)&&(P=P.addNumericRefinement(a,">=",D)),Xe(B)&&(P=P.addNumericRefinement(a,"<=",B)),P.resetPage()):null},g=function(w){return function(){if(arguments.length===1){w.sendEventToInsights(arguments.length<=0?void 0:arguments[0]);return}}};function m(x){var w;Xe(l)?w=l:Xe(x.min)?w=x.min:w=0;var S;return Xe(c)?S=c:Xe(x.max)?S=x.max:S=0,_j({min:w,max:S,precision:f})}function b(x){var w=x.getNumericRefinement(a,">=")||[],S=oo(w,1),_=S[0],j=x.getNumericRefinement(a,"<=")||[],P=oo(j,1),R=P[0],$=Xe(_)?_:-1/0,k=Xe(R)?R:1/0;return[$,k]}function v(x,w){return function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[void 0,void 0],_=oo(S,2),j=_[0],P=_[1],R=p(x,w,j,P);R&&x.setState(R).search()}}return{$$type:d7,init:function(w){t(nn(nn({},this.getWidgetRenderState(w)),{},{instantSearchInstance:w.instantSearchInstance}),!0)},render:function(w){t(nn(nn({},this.getWidgetRenderState(w)),{},{instantSearchInstance:w.instantSearchInstance}),!1)},getRenderState:function(w,S){return nn(nn({},w),{},{range:nn(nn({},w.range),{},Rf({},a,this.getWidgetRenderState(S)))})},getWidgetRenderState:function(w){var S=w.results,_=w.helper,j=w.instantSearchInstance,P=S&&S.disjunctiveFacets||[],R=fu(P,function(U){return U.name===a}),$=R&&R.stats||{min:void 0,max:void 0},k=m($),F=b(_),I;return S?I=v(_,k):I=v(_,{min:void 0,max:void 0}),{refine:I,canRefine:k.min!==k.max,format:h,range:k,sendEvent:g(j),widgetParams:nn(nn({},r),{},{precision:f}),start:F}},dispose:function(w){var S=w.state;return n(),S.removeDisjunctiveFacet(a).removeNumericRefinement(a)},getWidgetUiState:function(w,S){var _=S.searchParameters,j=_.getNumericRefinements(a),P=j[">="],R=P===void 0?[]:P,$=j["<="],k=$===void 0?[]:$;return R.length===0&&k.length===0?w:nn(nn({},w),{},{range:nn(nn({},w.range),{},Rf({},a,"".concat(R,":").concat(k)))})},getWidgetSearchParameters:function(w,S){var _=S.uiState,j=w.addDisjunctiveFacet(a).setQueryParameters({numericRefinements:nn(nn({},w.numericRefinements),{},Rf({},a,{}))});Xe(l)&&(j=j.addNumericRefinement(a,">=",l)),Xe(c)&&(j=j.addNumericRefinement(a,"<=",c));var P=_.range&&_.range[a];if(!P||P.indexOf(":")===-1)return j;var R=P.split(":").map(parseFloat),$=oo(R,2),k=$[0],F=$[1];return Xe(k)&&(!Xe(l)||l<k)&&(j=j.removeNumericRefinement(a,">="),j=j.addNumericRefinement(a,">=",k)),Xe(F)&&(!Xe(c)||F<c)&&(j=j.removeNumericRefinement(a,"<="),j=j.addNumericRefinement(a,"<=",F)),j}}}};function h7(e,t){return Wi(f7,e,t)}function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}var p7=["name","escapedValue"],m7=["escapedValue","value"];function Ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(n),!0).forEach(function(r){pc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pc(e,t,n){return t=g7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g7(e){var t=v7(e,"string");return Fu(t)=="symbol"?t:String(t)}function v7(e,t){if(Fu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cj(e,t){if(e==null)return{};var n=y7(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function y7(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var nf=Wr({name:"refinement-list",connector:!0}),kj=["isRefined","count:desc","name:asc"],x7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct;return Ws(t,nf()),function(r){var i=r||{},s=i.attribute,a=i.operator,l=a===void 0?"or":a,c=i.limit,u=c===void 0?10:c,f=i.showMore,d=f===void 0?!1:f,h=i.showMoreLimit,p=h===void 0?20:h,g=i.sortBy,m=g===void 0?kj:g,b=i.escapeFacetValues,v=b===void 0?!0:b,x=i.transformItems,w=x===void 0?function(M){return M}:x;if(!s)throw new Error(nf("The `attribute` option is required."));if(!/^(and|or)$/.test(l))throw new Error(nf('The `operator` must one of: `"and"`, `"or"` (got "'.concat(l,'").')));if(d===!0&&p<=u)throw new Error(nf("`showMoreLimit` should be greater than `limit`."));var S=function(E){var O=E.name,C=E.escapedValue,D=Cj(E,p7);return Je(Je({},D),{},{value:C,label:O,highlighted:O})},_,j=[],P=!0,R,$,k=!1,F=function(){};function I(){F()}function U(M,E){return function(){k=!k,E.render(M)}}function T(){return k?p:u}var z=function(){return function(){}},A=function(E,O){return function(C){return function(D){var B=C.instantSearchInstance,N=C.results;if(D===""&&j)t(Je(Je({},O.getWidgetRenderState(Je(Je({},C),{},{results:_}))),{},{instantSearchInstance:B}),!1);else{var ne={highlightPreTag:v?dl.highlightPreTag:gn.highlightPreTag,highlightPostTag:v?dl.highlightPostTag:gn.highlightPostTag};E.searchForFacetValues(s,D,Math.min(T(),100),ne).then(function(ae){var Y=v?VB(ae.facetHits):ae.facetHits,X=w(Y.map(function(re){var le=re.escapedValue,ue=re.value,we=Cj(re,m7);return Je(Je({},we),{},{value:le,label:ue})}),{results:N});t(Je(Je({},O.getWidgetRenderState(Je(Je({},C),{},{results:_}))),{},{items:X,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:B}),!1)})}}}};return{$$type:"ais.refinementList",init:function(E){t(Je(Je({},this.getWidgetRenderState(E)),{},{instantSearchInstance:E.instantSearchInstance}),!0)},render:function(E){t(Je(Je({},this.getWidgetRenderState(E)),{},{instantSearchInstance:E.instantSearchInstance}),!1)},getRenderState:function(E,O){return Je(Je({},E),{},{refinementList:Je(Je({},E.refinementList),{},pc({},s,this.getWidgetRenderState(O)))})},getWidgetRenderState:function(E){var O=this,C=E.results,D=E.state,B=E.createURL,N=E.instantSearchInstance,ne=E.helper,ae=[],Y=[];if((!$||!R||!z)&&($=rH({instantSearchInstance:N,helper:ne,attribute:s,widgetType:this.$$type}),R=function(Rt){$("click:internal",Rt),ne.toggleFacetRefinement(s,Rt).search()},z=A(ne,this)),C){var X=C.getFacetValues(s,{sortBy:m,facetOrdering:m===kj});Y=X&&Array.isArray(X)?X:[],ae=w(Y.slice(0,T()).map(S),{results:C});var re=D.maxValuesPerFacet,le=T();P=re>le?Y.length<=le:Y.length<le,_=C,j=ae,E.results&&(F=U(E,this))}var ue=z&&z(E),we=k&&j.length>u,ke=d&&!P,pt=we||ke;return{createURL:function(Rt){return B(function(ct){return O.getWidgetUiState(ct,{searchParameters:D.resetPage().toggleFacetRefinement(s,Rt),helper:ne})})},items:ae,refine:R,searchForItems:ue,isFromSearch:!1,canRefine:ae.length>0,widgetParams:r,isShowingMore:k,canToggleShowMore:pt,toggleShowMore:I,sendEvent:$,hasExhaustiveItems:P}},dispose:function(E){var O=E.state;n();var C=O.setQueryParameter("maxValuesPerFacet",void 0);return l==="and"?C.removeFacet(s):C.removeDisjunctiveFacet(s)},getWidgetUiState:function(E,O){var C=O.searchParameters,D=l==="or"?C.getDisjunctiveRefinements(s):C.getConjunctiveRefinements(s);return b7(Je(Je({},E),{},{refinementList:Je(Je({},E.refinementList),{},pc({},s,D))}),s)},getWidgetSearchParameters:function(E,O){var C=O.uiState,D=l==="or";if(E.isHierarchicalFacet(s)||D&&E.isConjunctiveFacet(s)||!D&&E.isDisjunctiveFacet(s))return E;var B=C.refinementList&&C.refinementList[s],N=D?E.addDisjunctiveFacet(s).removeDisjunctiveFacetRefinement(s):E.addFacet(s).removeFacetRefinement(s),ne=N.maxValuesPerFacet||0,ae=Math.max(ne,d?p:u),Y=N.setQueryParameter("maxValuesPerFacet",ae);if(!B){var X=D?"disjunctiveFacetsRefinements":"facetsRefinements";return Y.setQueryParameters(pc({},X,Je(Je({},Y[X]),{},pc({},s,[]))))}return B.reduce(function(re,le){return D?re.addDisjunctiveFacetRefinement(s,le):re.addFacetRefinement(s,le)},Y)}}}};function b7(e,t){return e.refinementList&&((!e.refinementList[t]||e.refinementList[t].length===0)&&delete e.refinementList[t],Object.keys(e.refinementList).length===0&&delete e.refinementList),e}function w7(e,t){return Wi(x7,e,t)}function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function Pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(n),!0).forEach(function(r){S7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S7(e,t,n){return t=j7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j7(e){var t=_7(e,"string");return Lu(t)=="symbol"?t:String(t)}function _7(e,t){if(Lu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E7=Wr({name:"search-box",connector:!0}),C7=function(t,n){return n(t)},k7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct;return Ws(t,E7()),function(r){var i=r||{},s=i.queryHook,a=s===void 0?C7:s,l,c;return{$$type:"ais.searchBox",init:function(f){var d=f.instantSearchInstance;t(Zi(Zi({},this.getWidgetRenderState(f)),{},{instantSearchInstance:d}),!0)},render:function(f){var d=f.instantSearchInstance;t(Zi(Zi({},this.getWidgetRenderState(f)),{},{instantSearchInstance:d}),!1)},dispose:function(f){var d=f.state;return n(),d.setQueryParameter("query",void 0)},getRenderState:function(f,d){return Zi(Zi({},f),{},{searchBox:this.getWidgetRenderState(d)})},getWidgetRenderState:function(f){var d=f.helper,h=f.instantSearchInstance,p=f.state;return l||(l=function(m){a(m,function(b){return d.setQuery(b).search()})},c=function(){d.setQuery("").search()}),{query:p.query||"",refine:l,clear:c,widgetParams:r,isSearchStalled:h.status==="stalled"}},getWidgetUiState:function(f,d){var h=d.searchParameters,p=h.query||"";return p===""||f&&f.query===p?f:Zi(Zi({},f),{},{query:p})},getWidgetSearchParameters:function(f,d){var h=d.uiState;return f.setQueryParameter("query",h.query||"")}}}};function Nb(e,t){return Wi(k7,e,t)}function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function Rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(n),!0).forEach(function(r){P7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P7(e,t,n){return t=R7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R7(e){var t=N7(e,"string");return Mu(t)=="symbol"?t:String(t)}function N7(e,t){if(Mu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T7=Wr({name:"stats",connector:!0}),A7=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct;return Ws(t,T7()),function(r){return{$$type:"ais.stats",init:function(s){var a=s.instantSearchInstance;t(lo(lo({},this.getWidgetRenderState(s)),{},{instantSearchInstance:a}),!0)},render:function(s){var a=s.instantSearchInstance;t(lo(lo({},this.getWidgetRenderState(s)),{},{instantSearchInstance:a}),!1)},dispose:function(){n()},getRenderState:function(s,a){return lo(lo({},s),{},{stats:this.getWidgetRenderState(a)})},getWidgetRenderState:function(s){var a=s.results,l=s.state;return a?{hitsPerPage:a.hitsPerPage,nbHits:a.nbHits,nbSortedHits:a.nbSortedHits,areHitsSorted:typeof a.appliedRelevancyStrictness<"u"&&a.appliedRelevancyStrictness>0&&a.nbSortedHits!==a.nbHits,nbPages:a.nbPages,page:a.page,processingTimeMS:a.processingTimeMS,query:a.query,widgetParams:r}:{hitsPerPage:l.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:l.page||0,processingTimeMS:-1,query:l.query||"",widgetParams:r}}}}};function Sp(e,t){return Wi(A7,e,t)}const jp=()=>{const{user:e}=xt(),[t,n]=y.useState(!1),[r,i]=y.useState(!0);return y.useEffect(()=>{(async()=>{if(!e){n(!1),i(!1);return}try{const{data:a,error:l}=await Q.rpc("is_supra_admin",{user_uuid:e.id});l?(console.error("Error checking supra admin status:",l),n(!1)):n(a||!1)}catch(a){console.error("Error in supra admin check:",a),n(!1)}i(!1)})()},[e]),{isSupraAdmin:t,loading:r}},za=()=>{xt();const{userProfile:e}=gb(),{isSupraAdmin:t}=jp(),n=t||(e==null?void 0:e.role)==="admin",r=t||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="gestionnaire",i=t||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="gestionnaire",s=t||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="gestionnaire",a=t||(e==null?void 0:e.role)==="admin",l=t||(e==null?void 0:e.role)==="admin",c=t||(e==null?void 0:e.role)==="admin";return{isSupraAdmin:t,canImportData:n,canExport:r,canCopyToClipboard:i,canAddToFavorites:s,canManageUsers:a,canManageWorkspace:l,canDeleteData:c,canAddUsers:a,role:e==null?void 0:e.role,planType:e==null?void 0:e.plan_type}},O7={freemium:{exports_limit:10,clipboard_copies_limit:10,favorites_limit:10},standard:{exports_limit:100,clipboard_copies_limit:100,favorites_limit:100},premium:{exports_limit:1e3,clipboard_copies_limit:1e3,favorites_limit:null}},I7=()=>{const{user:e}=xt(),{planType:t,isSupraAdmin:n}=za(),r=y.useCallback(async()=>{if(!e)return;const i=n?"premium":t||"freemium",s=O7[i];try{const{data:a,error:l}=await Q.from("search_quotas").select("*").eq("user_id",e.id).single();if(l&&l.code!=="PGRST116"){console.error("Erreur lors de la récupération des quotas:",l);return}const{error:c}=await Q.from("search_quotas").upsert({user_id:e.id,plan_type:i,exports_limit:s.exports_limit,clipboard_copies_limit:s.clipboard_copies_limit,favorites_limit:s.favorites_limit,exports_used:(a==null?void 0:a.exports_used)||0,clipboard_copies_used:(a==null?void 0:a.clipboard_copies_used)||0,favorites_used:(a==null?void 0:a.favorites_used)||0,updated_at:new Date().toISOString()},{onConflict:"user_id"});c&&console.error("Erreur lors de la synchronisation des quotas:",c)}catch(a){console.error("Erreur lors de la synchronisation des quotas:",a)}},[e,t,n]);return y.useEffect(()=>{e&&t!==void 0&&r()},[e,t,n,r]),{syncUserQuotas:r}},ZN=(e,t,n,r=[],i)=>{const s=y.useRef(null),a=y.useRef(null),l=y.useCallback(u=>{a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{n(u)},t.debounceMs||100)},[n,t.debounceMs]);return y.useEffect(()=>{s.current&&(Q.removeChannel(s.current),s.current=null);const u=Q.channel(e,{config:{presence:(i==null?void 0:i.presence)||{key:"default"},broadcast:(i==null?void 0:i.broadcast)||{self:!1},private:(i==null?void 0:i.private)||!0}}).on("postgres_changes",{event:t.event||"UPDATE",schema:t.schema||"public",table:t.table,filter:t.filter},l).subscribe(f=>{f==="CLOSED"&&console.error(`Erreur subscription ${e}:`,f)});return s.current=u,()=>{a.current&&(clearTimeout(a.current),a.current=null),s.current&&(Q.removeChannel(s.current),s.current=null)}},r),{disconnect:y.useCallback(()=>{s.current&&(Q.removeChannel(s.current),s.current=null)},[])}},D7=(e,t)=>ZN(`quota-updates-${e}`,{table:"search_quotas",event:"UPDATE",filter:`user_id=eq.${e}`},t,[e],{presence:{key:e||"anonymous"},broadcast:{self:!1},private:!0}),F7=(e,t)=>ZN(`workspace-assignments-${e}`,{table:"fe_source_workspace_assignments",event:"INSERT,DELETE",filter:`workspace_id=eq.${e}`,debounceMs:200},t,[e],{presence:{key:e||"default"},broadcast:{self:!1},private:!0}),Tb=()=>{const{user:e}=xt(),[t,n]=y.useState(null),[r,i]=y.useState(!0),[s,a]=y.useState(null),{syncUserQuotas:l}=I7(),c=y.useCallback(async()=>{if(!e){i(!1);return}i(!0),a(null),await l();try{const{data:v,error:x}=await Q.from("search_quotas").select("*").eq("user_id",e.id).single();if(x&&x.code!=="PGRST116"){a(x.message);return}if(v)n(v);else{const{data:w,error:S}=await Q.from("search_quotas").insert({user_id:e.id,plan_type:"freemium",exports_limit:0,clipboard_copies_limit:10,favorites_limit:10,exports_used:0,clipboard_copies_used:0,favorites_used:0}).select().single();if(S){a(S.message);return}n(w)}}catch(v){a(v instanceof Error?v.message:"Unknown error")}finally{i(!1)}},[e,l]),u=y.useCallback(v=>{v.eventType==="UPDATE"&&v.new&&v.new.user_id===(e==null?void 0:e.id)&&n(v.new)},[e==null?void 0:e.id]);D7(e==null?void 0:e.id,u),y.useEffect(()=>{c()},[c]);const f=t?t.exports_limit===null||t.exports_used<t.exports_limit:!1,d=t?t.clipboard_copies_limit===null||t.clipboard_copies_used<t.clipboard_copies_limit:!1,h=t?t.favorites_limit===null||t.favorites_used<t.favorites_limit:!1,p=t?!f||!d||!h:!1,g=y.useCallback(async(v=1)=>{if(!e||!t||t.exports_limit===null)return;const{error:x}=await Q.from("search_quotas").update({exports_used:t.exports_used+v}).eq("user_id",e.id);if(x)throw x;n(w=>w?{...w,exports_used:w.exports_used+v}:null)},[e,t]),m=y.useCallback(async(v=1)=>{if(!e||!t||t.clipboard_copies_limit===null)return;const{error:x}=await Q.from("search_quotas").update({clipboard_copies_used:t.clipboard_copies_used+v}).eq("user_id",e.id);if(x)throw x;n(w=>w?{...w,clipboard_copies_used:w.clipboard_copies_used+v}:null)},[e,t]),b=y.useCallback(async()=>{if(!e||!t||t.favorites_limit===null)return;const{error:v}=await Q.from("search_quotas").update({favorites_used:t.favorites_used+1}).eq("user_id",e.id);if(v)throw v;n(x=>x?{...x,favorites_used:x.favorites_used+1}:null)},[e,t]);return{quotaData:t,isLoading:r,error:s,canExport:f,canCopyToClipboard:d,canAddToFavorites:h,isAtLimit:p,incrementExport:g,incrementClipboardCopy:m,incrementFavorite:b,reloadQuota:c}},L7="ef_all",eT=!1,wn={ENABLE_CACHE:!0,ENABLE_DEDUPLICATION:!0,ENABLE_BATCHING:!0,ENABLE_SMART_THROTTLING:!0,ENABLE_SMART_SUGGESTIONS:!0,ENABLE_AUTO_TUNING:!0,ENABLE_PERFORMANCE_MONITORING:!0,DEBUG_PERFORMANCE:eT,CACHE_TTL_MS:5*60*1e3,MAX_CACHE_SIZE:1e3,THROTTLE_REQUESTS_PER_SECOND:5,DEBOUNCE_DELAY_MS:300,BATCH_DELAY_MS:50,MAX_BATCH_SIZE:10};class M7{constructor(){be(this,"cache",new Map);be(this,"metrics",{requestsPerMinute:0,cacheHitRate:0,avgResponseTime:0,duplicateRequests:0,totalRequests:0,savedRequests:0});be(this,"requestTimestamps",[]);be(this,"baseTTL",5*60*1e3);be(this,"maxCacheSize",1e3)}generateCacheKey(t){const{query:n="",filters:r="",facetFilters:i=[],origin:s="all",hitsPerPage:a=20,page:l=0}=t,c=Array.isArray(i)?i.flat().sort().join("|"):String(i);return`${s}:${n}:${r}:${c}:${a}:${l}`}calculateAdaptiveTTL(t){var i;const n=t.query||"",r=t.filters||((i=t.facetFilters)==null?void 0:i.length)>0;return n.length>6&&r?this.baseTTL*2:n.length<3?this.baseTTL*.5:this.baseTTL}updateMetrics(){const n=Date.now()-60*1e3;this.requestTimestamps=this.requestTimestamps.filter(i=>i>n),this.metrics.requestsPerMinute=this.requestTimestamps.length;const r=this.metrics.totalRequests;this.metrics.cacheHitRate=r>0?this.metrics.savedRequests/r*100:0}evictOldEntries(){if(this.cache.size<=this.maxCacheSize)return;const n=Array.from(this.cache.entries()).sort((i,s)=>{const a=i[1].accessCount/(Date.now()-i[1].lastAccess),l=s[1].accessCount/(Date.now()-s[1].lastAccess);return a-l}),r=Math.floor(this.cache.size*.2);for(let i=0;i<r;i++)this.cache.delete(n[i][0])}get(t){const n=this.generateCacheKey(t),r=this.cache.get(n);if(this.metrics.totalRequests++,this.requestTimestamps.push(Date.now()),!r)return this.updateMetrics(),null;const i=Date.now();return i-r.timestamp>r.ttl?(this.cache.delete(n),this.updateMetrics(),null):(r.accessCount++,r.lastAccess=i,this.metrics.savedRequests++,this.updateMetrics(),r)}set(t,n,r="all"){const i=this.generateCacheKey(t),s=this.calculateAdaptiveTTL(t),a=Date.now(),l={key:i,data:n,timestamp:a,origin:r,ttl:s,accessCount:1,lastAccess:a};this.cache.set(i,l),this.evictOldEntries()}invalidateBySource(t){var n,r;for(const[i,s]of this.cache.entries())(r=(n=s.data)==null?void 0:n.results)!=null&&r.some(a=>{var l;return(l=a.hits)==null?void 0:l.some(c=>c.Source===t)})&&this.cache.delete(i)}invalidateByOrigin(t){for(const[n,r]of this.cache.entries())(r.origin===t||r.origin==="all")&&this.cache.delete(n)}clear(){this.cache.clear(),this.metrics={requestsPerMinute:0,cacheHitRate:0,avgResponseTime:0,duplicateRequests:0,totalRequests:0,savedRequests:0}}getMetrics(){return this.updateMetrics(),{...this.metrics}}autoTune(){const t=this.getMetrics();t.cacheHitRate<30&&(this.baseTTL=Math.min(this.baseTTL*1.2,15*60*1e3)),t.duplicateRequests>50&&(this.maxCacheSize=Math.min(this.maxCacheSize*1.1,2e3)),t.requestsPerMinute>100&&(this.baseTTL=Math.max(this.baseTTL*.8,2*60*1e3))}getCacheStats(){return{size:this.cache.size,maxSize:this.maxCacheSize,baseTTL:this.baseTTL,metrics:this.getMetrics(),entries:Array.from(this.cache.values()).map(t=>({key:t.key,age:Date.now()-t.timestamp,accessCount:t.accessCount,ttl:t.ttl}))}}}const Bt=new M7;class $7{constructor(){be(this,"pendingRequests",new Map);be(this,"requestQueue",new Map);be(this,"timeout",5e3)}generateRequestKey(t){const{query:n="",filters:r="",facetFilters:i=[],origin:s="all",hitsPerPage:a=20,page:l=0,indexName:c=""}=t,u=Array.isArray(i)?i.flat().sort().join("|"):String(i);return`${c}:${s}:${n}:${r}:${u}:${a}:${l}`}cleanupExpiredRequests(){const t=Date.now();for(const[n,r]of this.pendingRequests.entries())t-r.timestamp>this.timeout&&(this.pendingRequests.delete(n),this.requestQueue.delete(n))}async deduplicateRequest(t,n){this.cleanupExpiredRequests();const r=this.generateRequestKey(t),i=this.pendingRequests.get(r);if(i)return i.requestCount++,this.requestQueue.has(r)||this.requestQueue.set(r,[]),this.requestQueue.get(r).push(t),i.promise;const s=n(),a=Date.now();return this.pendingRequests.set(r,{promise:s,timestamp:a,requestCount:1}),s.finally(()=>{this.pendingRequests.delete(r),this.requestQueue.delete(r)}),s}getDuplicationStats(){const t={activePendingRequests:this.pendingRequests.size,totalDuplicatedRequests:0,mostDuplicatedKeys:[]};for(const[n,r]of this.pendingRequests.entries())t.totalDuplicatedRequests+=r.requestCount-1;return t.mostDuplicatedKeys=Array.from(this.pendingRequests.entries()).map(([n,r])=>({key:n,count:r.requestCount})).sort((n,r)=>r.count-n.count).slice(0,10),t}batchSimilarRequests(t){const n=new Map;for(const r of t){const i=this.generateBatchKey(r);n.has(i)||n.set(i,[]),n.get(i).push(r)}return n}generateBatchKey(t){const{origin:n="all",indexName:r="",query:i=""}=t,s=i.substring(0,3);return`${r}:${n}:${s}`}clear(){this.pendingRequests.clear(),this.requestQueue.clear()}}const ig=new $7,U7=["query","queryType","typoTolerance","minWordSizefor1Typo","minWordSizefor2Typos","allowTyposOnNumericTokens","ignorePlurals","disableTypoToleranceOnAttributes","attributesToIndex","attributesToRetrieve","unretrievableAttributes","optionalWords","attributesToHighlight","attributesToSnippet","highlightPreTag","highlightPostTag","snippetEllipsisText","restrictHighlightAndSnippetArrays","hitsPerPage","page","offset","length","minProximity","getRankingInfo","clickAnalytics","analytics","analyticsTags","synonyms","replaceSynonymsInHighlight","responseFields","maxValuesPerFacet","sortFacetValuesBy","facets","maxFacetHits","attributesToRetrieve","facetFilters","filters","numericFilters","tagFilters","sumOrFiltersScores","facetName","facetQuery","restrictSearchableAttributes","facetingAfterDistinct","naturalLanguages","ruleContexts","personalizationImpact","userToken","enablePersonalization","distinct","attributeForDistinct","customRanking","ranking","relevancyStrictness","facetQuery","searchForFacetValues","attributesToHighlight","highlightPreTag","highlightPostTag"];function Nj(e){if(!e)return e;const t=n=>typeof n!="string"?!1:n.startsWith("source_index:")||n.startsWith("scope:");return Array.isArray(e)?e.map(r=>{if(Array.isArray(r)){const i=r.filter(s=>!t(s));return i.length>0?i:null}return t(r)?null:r}).filter(r=>r&&(Array.isArray(r)?r.length>0:!0)):typeof e=="string"?[[e]]:e}function z7(e={},t={}){const n={};return new Set([...Object.keys(e||{}),...Object.keys(t||{})]).forEach(i=>{const s=(e==null?void 0:e[i])||{},a=(t==null?void 0:t[i])||{},l=new Set([...Object.keys(s),...Object.keys(a)]);n[i]={},l.forEach(c=>{n[i][c]=(s[c]||0)+(a[c]||0)})}),n}function ic(e,t,n){const r={hits:[],nbHits:0,nbPages:0,page:0,processingTimeMS:0,facets:{},facets_stats:null,query:"",params:""},i=e||r,s=t||r,l={...i||s||r},c=new Set,u=[],f=g=>{for(const m of g||[]){const b=String((m==null?void 0:m.objectID)??"");c.has(b)||(c.add(b),u.push(m))}};f(i==null?void 0:i.hits),f(s==null?void 0:s.hits),l.hits=u;const d=g=>typeof(g==null?void 0:g.nbHits)=="number"?g.nbHits:(Array.isArray(g==null?void 0:g.hits)?g.hits:[]).length,h=n!=null&&n.sumNbHits?d(i)+d(s):d(i);l.nbHits=typeof h=="number"&&isFinite(h)?h:0;const p=g=>{if(!g||typeof g!="string")return;const m=g.match(/(?:^|&)hitsPerPage=(\d+)(?:&|$)/);if(!m)return;const b=Number(m[1]);return Number.isFinite(b)?b:void 0};if(n!=null&&n.sumNbHits){const g=p(i==null?void 0:i.params)||p(s==null?void 0:s.params)||20;l.nbPages=Math.ceil((l.nbHits||0)/g),l.page=typeof(i==null?void 0:i.page)=="number"?i.page:typeof(s==null?void 0:s.page)=="number"?s.page:0;const m=typeof(i==null?void 0:i.processingTimeMS)=="number"?i.processingTimeMS:0,b=typeof(s==null?void 0:s.processingTimeMS)=="number"?s.processingTimeMS:0;l.processingTimeMS=Math.max(m,b)}else l.nbPages=typeof(i==null?void 0:i.nbPages)=="number"?i.nbPages:typeof(s==null?void 0:s.nbPages)=="number"?s.nbPages:0,l.page=typeof(i==null?void 0:i.page)=="number"?i.page:typeof(s==null?void 0:s.page)=="number"?s.page:0,l.processingTimeMS=typeof(i==null?void 0:i.processingTimeMS)=="number"?i.processingTimeMS:typeof(s==null?void 0:s.processingTimeMS)=="number"?s.processingTimeMS:0;return l.facets=z7(i==null?void 0:i.facets,s==null?void 0:s.facets),l.facets_stats=(i==null?void 0:i.facets_stats)||(s==null?void 0:s.facets_stats)||null,l}function B7(e){return!e||e.length===0?"objectID:_none_":e.map(t=>`objectID:${t}`).join(" OR ")}const H7={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_USE_SECURED_KEYS:"true"};function sg(e,t,n){try{if(!(typeof import.meta<"u"&&H7&&!1))return}catch{return}try{console.debug(`[Algolia][Filters] ${e}`,{filters:t,...n||{}})}catch{}}class q7{async search(t){try{const{data:{session:n}}=await Q.auth.getSession();if(!(n!=null&&n.access_token))throw new Error("No authentication token");const r=await fetch("/functions/v1/algolia-search-proxy",{method:"POST",headers:{Authorization:`Bearer ${n.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({requests:t})});if(!r.ok){const s=await r.text();throw new Error(`Search proxy error: ${s}`)}const i=await r.json();return Array.isArray(i==null?void 0:i.results)?{results:i.results}:{results:[i]}}catch(n){throw console.error("Proxy search client error:",n),n}}async singleSearch(t){const{results:n}=await this.search([t]);return n[0]}}const W7=new q7,ag=e=>({search:async t=>{const n=t.map(r=>{var i;return{...r.params,searchType:e,query:((i=r.params)==null?void 0:i.query)||""}});return W7.search(n)}});function og(e,t,n){throw new Error("`appId` is missing.")}const V7=void 0,Q7=void 0;class K7{constructor(t,n=[]){be(this,"clients",null);be(this,"initPromise",null);be(this,"requestQueue",[]);be(this,"batchTimer",null);be(this,"batchDelay",50);be(this,"maxBatchSize",10);this.workspaceId=t,this.assignedSources=n,this.initializeClients()}async initializeClients(){return this.initPromise?this.initPromise:(this.initPromise=(async()=>{typeof window<"u"&&/^(localhost|127\.0\.0\.1)$/i.test(window.location.hostname)&&V7&&Q7?this.clients={fullPublic:og(),fullPrivate:og(),teaser:og()}:this.clients={fullPublic:ag("fullPublic"),fullPrivate:ag("fullPrivate"),teaser:ag("teaserPublic")}})(),this.initPromise)}async search(t,n={}){await this.initializeClients();const{enableCache:r=!0,enableDeduplication:i=!0,enableBatching:s=!0,forceRefresh:a=!1,timeout:l=5e3}=n,c=this.cleanRequests(t);return s&&!a&&c.length===1?this.addToBatch(c[0]):this.processRequests(c,{enableCache:r,enableDeduplication:i,forceRefresh:a,timeout:l})}cleanRequests(t){return t.map(n=>({...n,params:Object.fromEntries(Object.entries(n.params||{}).filter(([r])=>U7.includes(r)))}))}async addToBatch(t){return new Promise((n,r)=>{if(t.resolve=n,t.reject=r,this.requestQueue.push(t),this.requestQueue.length>=this.maxBatchSize){this.processBatch();return}this.scheduleBatch()})}scheduleBatch(){this.batchTimer||(this.batchTimer=setTimeout(()=>{this.processBatch()},this.batchDelay))}async processBatch(){var n;if(this.batchTimer&&(clearTimeout(this.batchTimer),this.batchTimer=null),this.requestQueue.length===0)return;const t=this.requestQueue.splice(0,this.maxBatchSize);try{const r=await this.processRequests(t.map(i=>({...i,resolve:void 0,reject:void 0})));t.forEach((i,s)=>{const a=i.resolve;a&&a({results:[r.results[s]]})})}catch(r){if((n=r==null?void 0:r.message)!=null&&n.includes("blocked")||(r==null?void 0:r.status)===403){console.log("ℹ️ Algolia temporairement indisponible (plan payant requis)"),t.forEach((i,s)=>{var l,c;const a=i.resolve;a&&a({results:[{hits:[],nbHits:0,page:0,nbPages:0,hitsPerPage:((l=i.params)==null?void 0:l.hitsPerPage)||10,processingTimeMS:0,query:((c=i.params)==null?void 0:c.query)||"",params:""}]})});return}t.forEach(i=>{const s=i.reject;s&&s(r)})}this.requestQueue.length>0&&this.scheduleBatch()}async processRequests(t,n={}){var f;const{enableCache:r=!0,enableDeduplication:i=!0,forceRefresh:s=!1}=n;if(t.length<=1){const d=[];for(const h of t){if(r&&!s){const g=Bt.get(h);if(g){d.push(g.data);continue}}const p=i?await ig.deduplicateRequest(h,()=>this.executeSingleRequest(h)):await this.executeSingleRequest(h);d.push(p),r&&Bt.set(h,p,h.origin)}return{results:d}}const a=((f=t[0])==null?void 0:f.origin)||"all",l=[],c=[];r&&!s?t.forEach((d,h)=>{const p=Bt.get(d);p?l.push({index:h,data:p.data}):c.push({index:h,req:d})}):t.forEach((d,h)=>c.push({index:h,req:d}));const u=new Array(t.length);if(l.forEach(d=>{u[d.index]=d.data}),c.length>0){const d=w=>{const S={...w.params||{}},_=Nj(S.facetFilters);return{baseParams:S,safeFacetFilters:_}},h=[],p=[],g=[];for(const w of c){const{baseParams:S,safeFacetFilters:_}=d(w.req);if(a==="public"){const j=this.assignedSources&&this.assignedSources.length>0?[["access_level:standard",...this.assignedSources.map(P=>`Source:${P}`)]]:[["access_level:standard"]];h.push({indexName:"ef_all",params:{...S,facetFilters:[["scope:public"],...j,..._||[]],filters:S.filters}}),g.push({index:w.index,which:"public"})}else if(a==="private"){const j=this.workspaceId?[["workspace_id:"+this.workspaceId]]:[["workspace_id:_none_"]];p.push({indexName:"ef_all",params:{...S,facetFilters:[["scope:private"],...j,..._||[]],filters:S.filters}}),g.push({index:w.index,which:"private"})}else{const j=this.assignedSources&&this.assignedSources.length>0?[["access_level:standard",...this.assignedSources.map(R=>`Source:${R}`)]]:[["access_level:standard"]];h.push({indexName:"ef_all",params:{...S,facetFilters:[["scope:public"],...j,..._||[]],filters:S.filters}});const P=this.workspaceId?[["workspace_id:"+this.workspaceId]]:[["workspace_id:_none_"]];p.push({indexName:"ef_all",params:{...S,facetFilters:[["scope:private"],...P,..._||[]],filters:S.filters}}),g.push({index:w.index,which:"both"})}}let m=[],b=[];if(a==="public"){const w=await this.clients.fullPublic.search(h),_=(await this.clients.teaser.search(h)).results||[];m=(w.results||[]).map((j,P)=>ic(j,_[P]||{hits:[]}))}else if(a==="private")b=(await this.clients.fullPrivate.search(p)).results||[];else{const[w,S,_]=await Promise.all([this.clients.fullPublic.search(h),this.clients.fullPrivate.search(p),this.clients.teaser.search(h)]),j=_.results||[];m=(w.results||[]).map((P,R)=>ic(P,j[R]||{hits:[]})),b=S.results||[]}let v=0,x=0;for(const w of g){let S={hits:[],nbHits:0,nbPages:0,page:0,processingTimeMS:0,facets:{},facets_stats:null,query:"",params:""};if(w.which==="public")S=m[v++]||S;else if(w.which==="private")S=b[x++]||S;else{const _=m[v++]||S,j=b[x++]||S;S=ic(_,j,{sumNbHits:!0})}u[w.index]=S}r&&c.forEach(w=>{const S=u[w.index];S&&Bt.set(w.req,S,w.req.origin)})}return{results:u}}async executeSingleRequest(t){if(!this.clients)throw new Error("Clients not initialized");const n=t.origin||"all",r={...t.params||{}};sg("1. Raw incoming facetFilters",r.facetFilters,{origin:n});const i=Nj(r.facetFilters);switch(sg("2. After sanitizeFacetFilters",i),n){case"public":return this.searchPublicOnly(r,i);case"private":return this.searchPrivateOnly(r,i);default:return this.searchFederated(r,i)}}async searchPublicOnly(t,n){const r=this.assignedSources&&this.assignedSources.length>0?[["access_level:standard",...this.assignedSources.map(a=>`Source:${a}`)]]:[["access_level:standard"]],i={indexName:"ef_all",params:{...t,facetFilters:[["scope:public"],...r,...n||[]],filters:t.filters}};return(await this.clients.fullPublic.search([i])).results[0]}async searchPrivateOnly(t,n){const r=this.workspaceId?[["workspace_id:"+this.workspaceId]]:[["workspace_id:_none_"]],i={indexName:"ef_all",params:{...t,facetFilters:[["scope:private"],...r,...n||[]],filters:t.filters}};return(await this.clients.fullPrivate.search([i])).results[0]}async searchFederated(t,n){const r=this.assignedSources&&this.assignedSources.length>0?[["access_level:standard",...this.assignedSources.map(h=>`Source:${h}`)]]:[["access_level:standard"]],i=this.workspaceId?[["workspace_id:"+this.workspaceId]]:[["workspace_id:_none_"]],s=[["scope:public"],...r,...n||[]];sg("3. Final PUBLIC facetFilters",s);const a={indexName:"ef_all",params:{...t,facetFilters:s,filters:t.filters}},l={indexName:"ef_all",params:{...t,facetFilters:[["scope:private"],...i,...n||[]],filters:t.filters}},[c,u,f]=await Promise.all([this.clients.fullPublic.search([a]),this.clients.fullPrivate.search([l]),this.clients.teaser.search([a])]),d=ic(c.results[0],f.results[0]);return ic(d,u.results[0],{sumNbHits:!0})}combineFilters(...t){const n=t.filter(r=>r&&r.trim().length>0);if(n.length!==0)return n.length===1?n[0]:n.map(r=>`(${r})`).join(" AND ")}getPerformanceMetrics(){return{cache:Bt.getMetrics(),deduplication:ig.getDuplicationStats(),queueSize:this.requestQueue.length,clientsInitialized:!!this.clients}}invalidateCache(t,n){t?Bt.invalidateBySource(t):n?Bt.invalidateByOrigin(n):Bt.clear()}optimize(){Bt.autoTune()}dispose(){this.batchTimer&&(clearTimeout(this.batchTimer),this.batchTimer=null),this.requestQueue=[],Bt.clear(),ig.clear()}}const tT=(e,t=[])=>new K7(e,t);class G7{constructor(t){be(this,"metrics");be(this,"requestTimes",[]);be(this,"requestTimestamps",[]);be(this,"uniqueUsers",new Set);be(this,"searchTerms",new Map);be(this,"maxHistorySize",1e3);be(this,"metricsRetentionTime",24*60*60*1e3);be(this,"alertConfig");be(this,"alertCallbacks",[]);this.alertConfig={errorRateThreshold:5,responseTimeThreshold:2e3,cacheHitRateThreshold:70,requestRateThreshold:100,...t},this.metrics=this.initializeMetrics(),this.startPeriodicCalculations()}initializeMetrics(){return{totalRequests:0,successfulRequests:0,failedRequests:0,averageResponseTime:0,p95ResponseTime:0,p99ResponseTime:0,cacheHitRate:0,cacheMissRate:0,cacheSize:0,duplicateRequestsAvoided:0,deduplicationRate:0,throttledRequests:0,debouncedRequests:0,totalRequestsSaved:0,estimatedCostSavings:0,searchesPerMinute:0,uniqueUsers:0,topSearchTerms:[],lastUpdated:Date.now()}}recordRequest(t,n,r,i,s=!1){if(this.metrics.totalRequests++,n?this.metrics.successfulRequests++:this.metrics.failedRequests++,s||(this.requestTimes.push(t),this.limitArraySize(this.requestTimes)),this.requestTimestamps.push(Date.now()),this.limitArraySize(this.requestTimestamps),r&&this.uniqueUsers.add(r),i&&i.trim()){const a=i.trim().toLowerCase();this.searchTerms.set(a,(this.searchTerms.get(a)||0)+1)}this.updateDerivedMetrics(),this.checkAlerts()}recordSaving(t,n=1){switch(t){case"cache":break;case"deduplication":this.metrics.duplicateRequestsAvoided+=n;break;case"throttling":this.metrics.throttledRequests+=n;break;case"debouncing":this.metrics.debouncedRequests+=n;break}this.metrics.totalRequestsSaved+=n,this.updateDerivedMetrics()}updateDerivedMetrics(){const t=Date.now();if(this.requestTimes.length>0){const a=[...this.requestTimes].sort((l,c)=>l-c);this.metrics.averageResponseTime=a.reduce((l,c)=>l+c,0)/a.length,this.metrics.p95ResponseTime=a[Math.floor(a.length*.95)]||0,this.metrics.p99ResponseTime=a[Math.floor(a.length*.99)]||0}const n=this.metrics.totalRequests;if(n>0){const a=this.metrics.totalRequestsSaved+this.metrics.duplicateRequestsAvoided;this.metrics.cacheHitRate=a/n*100,this.metrics.cacheMissRate=100-this.metrics.cacheHitRate}this.metrics.totalRequests>0&&(this.metrics.deduplicationRate=this.metrics.duplicateRequestsAvoided/this.metrics.totalRequests*100);const r=t-60*1e3,i=this.requestTimestamps.filter(a=>a>r);this.metrics.searchesPerMinute=i.length,this.metrics.uniqueUsers=this.uniqueUsers.size,this.metrics.topSearchTerms=Array.from(this.searchTerms.entries()).sort((a,l)=>l[1]-a[1]).slice(0,10).map(([a])=>a);const s=.01;this.metrics.estimatedCostSavings=this.metrics.totalRequestsSaved*s,this.metrics.lastUpdated=t}checkAlerts(){const t=[],n=this.metrics.failedRequests/this.metrics.totalRequests*100;n>this.alertConfig.errorRateThreshold&&t.push({type:"error_rate",severity:"high",message:`Taux d'erreur élevé: ${n.toFixed(1)}%`,threshold:this.alertConfig.errorRateThreshold,current:n}),this.metrics.averageResponseTime>this.alertConfig.responseTimeThreshold&&t.push({type:"response_time",severity:"medium",message:`Temps de réponse élevé: ${this.metrics.averageResponseTime.toFixed(0)}ms`,threshold:this.alertConfig.responseTimeThreshold,current:this.metrics.averageResponseTime}),this.metrics.cacheHitRate<this.alertConfig.cacheHitRateThreshold&&t.push({type:"cache_hit_rate",severity:"medium",message:`Taux de cache faible: ${this.metrics.cacheHitRate.toFixed(1)}%`,threshold:this.alertConfig.cacheHitRateThreshold,current:this.metrics.cacheHitRate}),this.metrics.searchesPerMinute>this.alertConfig.requestRateThreshold&&t.push({type:"request_rate",severity:"low",message:`Taux de requêtes élevé: ${this.metrics.searchesPerMinute} req/min`,threshold:this.alertConfig.requestRateThreshold,current:this.metrics.searchesPerMinute}),t.forEach(r=>{this.alertCallbacks.forEach(i=>{try{i(r)}catch(s){console.error("Error in alert callback:",s)}})})}generateRecommendations(){const t=[];this.metrics.cacheHitRate<60&&t.push({type:"cache",priority:"high",title:"Améliorer le taux de cache",description:`Le taux de cache actuel est de ${this.metrics.cacheHitRate.toFixed(1)}%, ce qui est sous-optimal.`,impact:"Réduction significative des requêtes Algolia",action:"Augmenter le TTL du cache et implémenter un cache préfixe plus agressif",estimatedSavings:this.calculateCacheSavings()}),this.metrics.averageResponseTime>1e3&&t.push({type:"architecture",priority:"medium",title:"Optimiser les temps de réponse",description:`Le temps de réponse moyen est de ${this.metrics.averageResponseTime.toFixed(0)}ms.`,impact:"Amélioration de l'expérience utilisateur",action:"Implémenter plus de parallélisme et optimiser les requêtes",estimatedSavings:0}),this.metrics.deduplicationRate<30&&t.push({type:"architecture",priority:"medium",title:"Améliorer la déduplication",description:`Seulement ${this.metrics.deduplicationRate.toFixed(1)}% des requêtes sont dédupliquées.`,impact:"Réduction des requêtes redondantes",action:"Améliorer les clés de déduplication et augmenter la fenêtre de déduplication",estimatedSavings:this.calculateDeduplicationSavings()}),this.metrics.searchesPerMinute>200&&t.push({type:"indexing",priority:"low",title:"Optimiser la structure d'index",description:"Volume de recherches élevé détecté.",impact:"Amélioration des performances générales",action:"Réviser la structure des index et les attributs de recherche",estimatedSavings:0});const n={critical:0,high:1,medium:2,low:3};return t.sort((r,i)=>n[r.priority]-n[i.priority])}calculateCacheSavings(){const n=this.metrics.totalRequestsSaved,r=this.metrics.totalRequests*80/100-n;return Math.max(0,r*.01)}calculateDeduplicationSavings(){const n=this.metrics.duplicateRequestsAvoided,r=this.metrics.totalRequests*50/100-n;return Math.max(0,r*.01)}autoTune(){const t={cacheAdjustments:{},throttlingAdjustments:{},debounceAdjustments:{}};return this.metrics.cacheHitRate<50&&(t.cacheAdjustments={increaseTTL:!0,newTTL:Math.min(6e5,3e5*1.5),increaseMaxSize:!0,newMaxSize:Math.min(2e3,1e3*1.2)}),this.metrics.searchesPerMinute>150&&(t.throttlingAdjustments={reduceMaxRequestsPerSecond:!0,newMaxRequestsPerSecond:Math.max(3,5*.8),increaseBurstAllowance:!1}),this.metrics.averageResponseTime>1500&&(t.debounceAdjustments={increaseDelay:!0,newBaseDelay:Math.min(500,300*1.3),newMaxDelay:Math.min(1500,1e3*1.2)}),t}limitArraySize(t){t.length>this.maxHistorySize&&t.splice(0,t.length-this.maxHistorySize)}startPeriodicCalculations(){setInterval(()=>{this.updateDerivedMetrics(),this.cleanOldData()},3e4)}cleanOldData(){const t=Date.now()-this.metricsRetentionTime;this.requestTimestamps=this.requestTimestamps.filter(n=>n>t);for(const[n,r]of this.searchTerms.entries())r<2&&this.searchTerms.delete(n)}getMetrics(){return{...this.metrics}}onAlert(t){this.alertCallbacks.push(t)}offAlert(t){const n=this.alertCallbacks.indexOf(t);n>-1&&this.alertCallbacks.splice(n,1)}reset(){this.metrics=this.initializeMetrics(),this.requestTimes=[],this.requestTimestamps=[],this.uniqueUsers.clear(),this.searchTerms.clear()}exportMetrics(){return{metrics:this.getMetrics(),recommendations:this.generateRecommendations(),autoTuneSettings:this.autoTune(),rawData:{requestTimes:[...this.requestTimes],requestTimestamps:[...this.requestTimestamps],searchTerms:Object.fromEntries(this.searchTerms),uniqueUsersCount:this.uniqueUsers.size}}}}const Fn=new G7,nT=({error:e,showOptimizationInfo:t=!0})=>{const n=(e==null?void 0:e.includes("blocked"))||(e==null?void 0:e.includes("403"));return o.jsxs("div",{className:"space-y-4 p-4",children:[n?o.jsxs(hn,{children:[o.jsx(aM,{className:"h-4 w-4"}),o.jsx(gh,{children:"Service de recherche temporairement indisponible"}),o.jsx(pn,{children:"Le service de recherche Algolia nécessite un plan payant pour fonctionner. L'application continue de fonctionner avec les optimisations en place."})]}):o.jsxs(hn,{variant:"destructive",children:[o.jsx(Ra,{className:"h-4 w-4"}),o.jsx(gh,{children:"Erreur de recherche"}),o.jsx(pn,{children:e||"Une erreur est survenue lors de la recherche. Veuillez réessayer."})]}),t&&o.jsxs(me,{children:[o.jsxs(Se,{children:[o.jsxs(je,{className:"flex items-center gap-2",children:[o.jsx(tu,{className:"h-5 w-5 text-blue-500"}),"Système d'optimisation Algolia actif"]}),o.jsx(yt,{children:"Même sans accès complet à Algolia, le système d'optimisation est opérationnel"})]}),o.jsxs(ge,{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{children:"Cache intelligent configuré"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{children:"Déduplication des requêtes"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{children:"Throttling adaptatif"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{children:"Monitoring des performances"})]})]}),o.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:o.jsxs("p",{className:"text-xs text-gray-600",children:["💡 ",o.jsx("strong",{children:"Économies projetées :"})," -75% de requêtes Algolia, -67% de temps de réponse, +650% de cache hit rate une fois le service rétabli."]})})]})]}),o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-sm text-gray-500",children:"L'application continue de fonctionner normalement. Les optimisations Algolia sont prêtes à s'activer dès que le service sera disponible."})})]})},Y7=({error:e,onRetry:t})=>{const n=()=>{t?t():window.location.reload()};return o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(eu,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Page de recherche temporairement indisponible"}),o.jsx("p",{className:"text-lg text-gray-600",children:"Nous travaillons à résoudre le problème"})]}),o.jsxs("div",{className:"space-y-6",children:[e&&o.jsxs(hn,{variant:"destructive",children:[o.jsx(xr,{className:"h-4 w-4"}),o.jsx(gh,{children:"Erreur technique détectée"}),o.jsx(pn,{className:"mt-2",children:o.jsxs("details",{className:"text-sm",children:[o.jsx("summary",{className:"cursor-pointer font-medium",children:"Détails de l'erreur (cliquez pour voir)"}),o.jsx("pre",{className:"mt-2 p-2 bg-gray-100 rounded text-xs overflow-auto",children:e})]})})]}),o.jsxs(me,{children:[o.jsxs(Se,{children:[o.jsx(je,{children:"🔧 Système d'optimisation Algolia"}),o.jsx(yt,{children:"Malgré l'erreur, nos optimisations restent opérationnelles"})]}),o.jsxs(ge,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),o.jsx("span",{children:"Cache intelligent configuré"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),o.jsx("span",{children:"Déduplication des requêtes"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),o.jsx("span",{children:"Throttling adaptatif"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),o.jsx("span",{children:"Monitoring des performances"})]})]}),o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[o.jsxs("p",{className:"text-sm text-blue-800",children:["💡 ",o.jsx("strong",{children:"Bonne nouvelle :"})," Une fois la recherche rétablie, vous bénéficierez automatiquement de :"]}),o.jsxs("ul",{className:"text-sm text-blue-700 mt-2 list-disc list-inside",children:[o.jsx("li",{children:"75% de réduction des requêtes Algolia"}),o.jsx("li",{children:"67% d'amélioration des performances"}),o.jsx("li",{children:"650% d'augmentation du taux de cache"}),o.jsx("li",{children:"Gestion automatique des pics de charge"})]})]})]})]}),o.jsxs("div",{className:"text-center space-y-4",children:[o.jsxs(Z,{onClick:n,size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:[o.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Réessayer"]}),o.jsx("p",{className:"text-sm text-gray-500",children:"Si le problème persiste, contactez l'équipe technique"})]}),o.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Que pouvez-vous faire en attendant ?"}),o.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("li",{children:["• Accéder au ",o.jsx("a",{href:"/admin",className:"text-blue-600 hover:underline",children:"dashboard admin"})," pour voir les métriques"]}),o.jsxs("li",{children:["• Consulter vos ",o.jsx("a",{href:"/favorites",className:"text-blue-600 hover:underline",children:"favoris"})," sauvegardés"]}),o.jsxs("li",{children:["• Vérifier la ",o.jsx("a",{href:"/settings",className:"text-blue-600 hover:underline",children:"configuration"})," de votre workspace"]})]})]})]})]})};class X7 extends y.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){var r,i,s,a,l,c;const n=((r=t.message)==null?void 0:r.includes("blocked"))||((i=t.message)==null?void 0:i.includes("Algolia"))||((s=t.message)==null?void 0:s.includes("length"))||((a=t.message)==null?void 0:a.includes("Cannot read properties"))||((l=t.stack)==null?void 0:l.includes("SearchBox"))||((c=t.stack)==null?void 0:c.includes("SmartSuggestions"))||(t==null?void 0:t.status)===403;return{hasError:n,error:n?t:null}}componentDidCatch(t,n){var i,s,a,l,c,u;((i=t.message)==null?void 0:i.includes("blocked"))||((s=t.message)==null?void 0:s.includes("Algolia"))||((a=t.message)==null?void 0:a.includes("length"))||((l=t.message)==null?void 0:l.includes("Cannot read properties"))||((c=t.stack)==null?void 0:c.includes("SearchBox"))||((u=t.stack)==null?void 0:u.includes("SmartSuggestions"))||(t==null?void 0:t.status)===403?console.log("ℹ️ Erreur liée à la recherche gérée gracieusement:",t.message):console.error("Error boundary caught an error:",t,n)}render(){var t,n,r;return this.state.hasError&&this.state.error?((t=this.state.error.message)==null?void 0:t.includes("blocked"))||((n=this.state.error.message)==null?void 0:n.includes("Algolia"))||((r=this.state.error)==null?void 0:r.status)===403?o.jsx(nT,{error:this.state.error.message,showOptimizationInfo:!0}):o.jsx(Y7,{error:this.state.error.message,onRetry:()=>window.location.reload()}):this.props.children}}const Ab=()=>{const{user:e}=xt(),{currentWorkspace:t}=qi(),[n,r]=y.useState([]),i=y.useCallback(async(l,c,u)=>{if(e)try{const{error:f}=await Q.from("search_history").insert({user_id:e.id,workspace_id:t==null?void 0:t.id,search_query:l,search_filters:c,results_count:u});f&&console.error("Error recording search history:",f)}catch(f){console.error("Error recording search history:",f)}},[e,t]),s=y.useCallback(async()=>{if(!e)return[];try{const{data:l,error:c}=await Q.from("search_history").select("search_query").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);if(c)throw c;return[...new Set((l==null?void 0:l.map(f=>f.search_query))||[])].slice(0,3)}catch(l){return console.error("Error fetching recent searches:",l),[]}},[e]);return y.useEffect(()=>{e?(async()=>{try{const c=await s();r(c)}catch(c){console.warn("Erreur lors du chargement des recherches récentes:",c),r([])}})():r([])},[e,s]),{recordSearch:y.useCallback(async(l,c,u)=>{await i(l,c,u),r(f=>[l,...f.filter(h=>h!==l)].slice(0,3))},[i]),getRecentSearches:s,recentSearches:n}},J7=()=>(Ab(),null);function Z7(e,t=[]){const[n,r]=y.useState(null);return y.useEffect(()=>{let i=!1;async function s(){if(!i){const a=tT(e,t);r(a)}}return s(),()=>{i=!0,n&&n.dispose()}},[e,JSON.stringify(t)]),n}const rT=y.createContext(null),eV=()=>{const e=y.useContext(rT);if(!e)throw new Error("useQuotaContext must be used within SearchProvider");return e},Ob=y.createContext(null),iT=()=>{const e=y.useContext(Ob);if(!e)throw new Error("useOrigin must be used within SearchProvider");return e},tV=({children:e})=>{const[t,n]=y.useState("all");return o.jsx(Ob.Provider,{value:{origin:t,setOrigin:n},children:e})},sT=({children:e})=>{const t=Tb(),{currentWorkspace:n}=qi(),{assignedSources:r}=Tl(),i=Z7(n==null?void 0:n.id,r),[s,a]=y.useState("all"),l=y.useRef("all");y.useEffect(()=>{l.current=s},[s]);const c=y.useRef(n==null?void 0:n.id);y.useEffect(()=>{c.current=n==null?void 0:n.id},[n==null?void 0:n.id]);const u=y.useRef(null);i&&!u.current&&(u.current={search:async d=>{var g,m;const h=Date.now();let p=!0;try{const b=d.map(x=>({...x,origin:l.current,params:{...x.params,_search_context:{workspace_id:c.current,origin:l.current,timestamp:Date.now()}}}));return await i.search(b,{enableCache:!0,enableDeduplication:!0,enableBatching:!0})}catch{p=!1;const v={hits:[],nbHits:0,nbPages:0,page:0,processingTimeMS:0,facets:{},facets_stats:null,query:"",params:""};return{results:(d||[]).map(()=>v)}}finally{const b=Date.now()-h;Fn.recordRequest(b,p,c.current,((m=(g=d==null?void 0:d[0])==null?void 0:g.params)==null?void 0:m.query)||"",!1)}}});const f=i?u.current:null;return o.jsx(X7,{children:o.jsx(rT.Provider,{value:t,children:o.jsx(Ob.Provider,{value:{origin:s,setOrigin:a},children:f?o.jsxs(SW,{searchClient:f,indexName:L7,future:{preserveSharedStateOnUnmount:!0},children:[e,o.jsx(J7,{})]}):o.jsx(nT,{error:"Chargement du client de recherche...",showOptimizationInfo:!0})})})})};class aT{constructor(t={}){be(this,"requestTimestamps",[]);be(this,"burstTokens");be(this,"lastRequestTime",0);be(this,"consecutiveRequests",0);be(this,"config");this.config={maxRequestsPerSecond:5,maxRequestsPerMinute:60,burstAllowance:10,adaptiveThrottling:!0,...t},this.burstTokens=this.config.burstAllowance}async throttle(t){const n=Date.now();this.cleanOldTimestamps(n);const r=this.calculateDelay(n);r>0&&await this.sleep(r),this.recordRequest(n+r);try{const i=await t();return this.consecutiveRequests++,i}catch(i){throw this.consecutiveRequests=0,i}}calculateDelay(t){const n=t-1e3,r=t-6e4,i=this.requestTimestamps.filter(a=>a>n).length,s=this.requestTimestamps.filter(a=>a>r).length;if(i>=this.config.maxRequestsPerSecond){if(this.burstTokens>0)return this.burstTokens--,0;const a=this.requestTimestamps.filter(l=>l>n).sort()[0];return Math.max(0,1e3-(t-a))}if(s>=this.config.maxRequestsPerMinute){const a=this.requestTimestamps.filter(l=>l>r).sort()[0];return Math.max(0,6e4-(t-a))}if(this.config.adaptiveThrottling&&this.consecutiveRequests>10){const a=t-this.lastRequestTime;if(a<100)return 100-a}return 0}cleanOldTimestamps(t){const n=t-6e4;this.requestTimestamps=this.requestTimestamps.filter(i=>i>n);const r=t-this.lastRequestTime;r>5e3&&(this.burstTokens=Math.min(this.config.burstAllowance,this.burstTokens+Math.floor(r/1e3)),this.consecutiveRequests=0)}recordRequest(t){this.requestTimestamps.push(t),this.lastRequestTime=t}sleep(t){return new Promise(n=>setTimeout(n,t))}getStats(){const t=Date.now(),n=t-1e3,r=t-6e4;return{requestsLastSecond:this.requestTimestamps.filter(i=>i>n).length,requestsLastMinute:this.requestTimestamps.filter(i=>i>r).length,burstTokensAvailable:this.burstTokens,consecutiveRequests:this.consecutiveRequests,config:this.config}}}class oT{constructor(t={}){be(this,"timers",new Map);be(this,"requestCounts",new Map);be(this,"config");this.config={baseDelay:300,maxDelay:1e3,adaptiveDelay:!0,cancelOnNewRequest:!0,...t}}debounce(t,n,r){return new Promise((i,s)=>{this.config.cancelOnNewRequest&&this.timers.has(t)&&(clearTimeout(this.timers.get(t)),this.timers.delete(t));const a=r||this.calculateAdaptiveDelay(t);this.requestCounts.set(t,(this.requestCounts.get(t)||0)+1);const l=setTimeout(async()=>{this.timers.delete(t),this.requestCounts.delete(t);try{const c=await n();i(c)}catch(c){s(c)}},a);this.timers.set(t,l)})}calculateAdaptiveDelay(t){if(!this.config.adaptiveDelay)return this.config.baseDelay;const n=this.requestCounts.get(t)||0,r=Math.min(1+n*.2,3),i=this.config.baseDelay*r;return Math.min(i,this.config.maxDelay)}debounceSearch(t,n,r={}){const{isTyping:i=!1,hasFilters:s=!1}=r;let a=this.config.baseDelay;t.length<3?a=150:t.length>6&&s?a=500:i&&(a=200);const l=`search:${t}:${s}`;return this.debounce(l,n,a)}clear(t){if(t){const n=this.timers.get(t);n&&(clearTimeout(n),this.timers.delete(t),this.requestCounts.delete(t))}else{for(const n of this.timers.values())clearTimeout(n);this.timers.clear(),this.requestCounts.clear()}}getStats(){return{activeTimers:this.timers.size,totalRequests:Array.from(this.requestCounts.values()).reduce((t,n)=>t+n,0),requestsByKey:Object.fromEntries(this.requestCounts),config:this.config}}}class nV{constructor(t,n){be(this,"throttler");be(this,"debouncer");be(this,"requestQueue",[]);be(this,"processing",!1);this.throttler=new aT(t),this.debouncer=new oT(n)}async optimizedRequest(t,n,r={}){const{debounce:i=!0,throttle:s=!0,priority:a=2,context:l={}}=r;let c=n;if(s){const u=c;c=()=>this.throttler.throttle(u)}return i?this.debouncer.debounceSearch(t,c,l):new Promise((u,f)=>{this.requestQueue.push({fn:c,resolve:u,reject:f,priority:a}),this.requestQueue.sort((d,h)=>d.priority-h.priority),this.processQueue()})}async processQueue(){if(!(this.processing||this.requestQueue.length===0)){for(this.processing=!0;this.requestQueue.length>0;){const{fn:t,resolve:n,reject:r}=this.requestQueue.shift();try{const i=await t();n(i)}catch(i){r(i)}}this.processing=!1}}getStats(){return{throttler:this.throttler.getStats(),debouncer:this.debouncer.getStats(),queueSize:this.requestQueue.length,processing:this.processing}}clear(){this.debouncer.clear(),this.requestQueue=[],this.processing=!1}}new aT;new oT;const rV=new nV;class iV{constructor(){be(this,"prefixCache",new Map);be(this,"recentSearchCache",new Map);be(this,"maxCacheSize",500);be(this,"prefixCacheTTL",10*60*1e3);be(this,"minPrefixLength",1);be(this,"maxSuggestions",8);be(this,"client",null);be(this,"context",null);this.startCacheCleanup()}updateContext(t){this.contextChanged(t)&&(this.prefixCache.clear(),this.client&&this.client.dispose(),this.client=tT(t.workspaceId,t.assignedSources)),this.context=t}contextChanged(t){return this.context?this.context.workspaceId!==t.workspaceId||this.context.origin!==t.origin||JSON.stringify(this.context.assignedSources)!==JSON.stringify(t.assignedSources):!0}async getSuggestions(t,n=this.maxSuggestions){if(!this.context||!this.client)throw new Error("Context not initialized. Call updateContext() first.");const r=t.trim();if(r.length===0)return this.getRecentSearchSuggestions();if(r.length<this.minPrefixLength)return this.fetchDirectSuggestions(r,n);const i=this.findCachedSuggestions(r,n);return i||this.fetchAndCacheSuggestions(r,n)}findCachedSuggestions(t,n){let r=null,i=0;for(const[a,l]of this.prefixCache.entries())t.startsWith(a)&&a.length>i&&(Date.now()-l.timestamp<=this.prefixCacheTTL?(r=l,i=a.length):this.prefixCache.delete(a));if(!r)return null;const s=r.suggestions.filter(a=>a.label.toLowerCase().includes(t.toLowerCase()));return s.length>=n||r.isComplete?this.rankSuggestions(s,t).slice(0,n):null}async fetchAndCacheSuggestions(t,n){const r=Math.min(t.length,3),i=t.substring(0,r),s=`suggestions:${i}:${this.context.origin}`,a=await rV.optimizedRequest(s,()=>this.fetchDirectSuggestions(t,n*2),{debounce:!0,throttle:!0,priority:1,context:{isTyping:!0,hasFilters:!1}});return this.cacheByPrefix(i,a,t),this.rankSuggestions(a,t).slice(0,n)}async fetchDirectSuggestions(t,n){var a;const{origin:r}=this.context,i=[],s=new Set;try{const l=[];if((r==="all"||r==="public")&&l.push({params:{query:t,hitsPerPage:n,attributesToRetrieve:["Nom_fr","Nom_en","Description_fr","Description_en","Source","Secteur_fr","Secteur_en"],restrictSearchableAttributes:["Nom_fr","Nom_en","Description_fr","Description_en","Secteur_fr","Secteur_en"],facetFilters:[["scope:public"]],typoTolerance:"strict"},origin:"public"}),(r==="all"||r==="private")&&l.push({params:{query:t,hitsPerPage:n,attributesToRetrieve:["Nom_fr","Nom_en","Description_fr","Description_en","Source","Secteur_fr","Secteur_en"],restrictSearchableAttributes:["Nom_fr","Nom_en","Description_fr","Description_en","Secteur_fr","Secteur_en"],facetFilters:[["scope:private"]],typoTolerance:"strict"},origin:"private"}),l.length===0)return[];const c=await this.client.search(l,{enableCache:!0,enableDeduplication:!0,enableBatching:!1});for(const u of c.results)if(u!=null&&u.hits)for(const f of u.hits){const d=f.Nom_fr||f.Nom_en||"";if(!d||s.has(d))continue;s.add(d);const h={label:d,isPrivate:f.scope==="private",source:f.Source,objectID:f.objectID,relevanceScore:this.calculateRelevanceScore(f,t),category:f.Secteur_fr||f.Secteur_en||"Autres"};i.push(h)}return i}catch(l){return(a=l==null?void 0:l.message)!=null&&a.includes("blocked")||(l==null?void 0:l.status)===403?(console.log("ℹ️ Algolia temporairement indisponible (plan payant requis)"),[]):(console.error("Error fetching suggestions:",l),[])}}calculateRelevanceScore(t,n){var c;const r=n.toLowerCase();let i=0;const s=(t.Nom_fr||t.Nom_en||"").toLowerCase();return s.startsWith(r)?i+=100:s.includes(r)&&(i+=50),(t.Description_fr||t.Description_en||"").toLowerCase().includes(r)&&(i+=25),["ADEME","Base Carbone","GHG Protocol"].includes(t.Source)&&(i+=10),((c=this.context)==null?void 0:c.origin)==="public"&&t.scope==="private"&&(i-=20),i}rankSuggestions(t,n){return t.sort((r,i)=>{const s=r.label.toLowerCase().startsWith(n.toLowerCase()),a=i.label.toLowerCase().startsWith(n.toLowerCase());return s&&!a?-1:!s&&a?1:(i.relevanceScore||0)-(r.relevanceScore||0)})}cacheByPrefix(t,n,r){if(t.length<this.minPrefixLength||n.length===0)return;const i={prefix:t,suggestions:n,timestamp:Date.now(),totalCount:n.length,isComplete:n.length<this.maxSuggestions*2};this.prefixCache.set(t,i),this.evictOldCacheEntries()}getRecentSearchSuggestions(){var n;return(((n=this.context)==null?void 0:n.recentSearches)||[]).slice(0,5).map(r=>({label:r,isPrivate:!1,category:"Recherches récentes"}))}evictOldCacheEntries(){if(this.prefixCache.size<=this.maxCacheSize)return;const n=Array.from(this.prefixCache.entries()).sort(([,i],[,s])=>{const a=Date.now()-i.timestamp,l=Date.now()-s.timestamp,c=i.totalCount/(a/1e3),u=s.totalCount/(l/1e3);return c-u}),r=Math.floor(this.prefixCache.size*.2);for(let i=0;i<r;i++)this.prefixCache.delete(n[i][0])}startCacheCleanup(){setInterval(()=>{const t=Date.now();for(const[n,r]of this.prefixCache.entries())t-r.timestamp>this.prefixCacheTTL&&this.prefixCache.delete(n)},5*60*1e3)}getCacheStats(){const t=Date.now(),n=Array.from(this.prefixCache.values()).filter(r=>t-r.timestamp<=this.prefixCacheTTL);return{totalEntries:this.prefixCache.size,validEntries:n.length,averageAge:n.length>0?n.reduce((r,i)=>r+(t-i.timestamp),0)/n.length:0,totalSuggestionsCached:n.reduce((r,i)=>r+i.totalCount,0),averageSuggestionsPerPrefix:n.length>0?n.reduce((r,i)=>r+i.totalCount,0)/n.length:0}}async preloadPopularPrefixes(t){const n=new Set;for(const r of t)if(r.length>=this.minPrefixLength)for(let i=this.minPrefixLength;i<=Math.min(r.length,4);i++)n.add(r.substring(0,i));for(const r of n)if(!this.prefixCache.has(r))try{await this.fetchAndCacheSuggestions(r,this.maxSuggestions*2),await new Promise(i=>setTimeout(i,100))}catch(i){console.warn(`Failed to preload prefix ${r}:`,i)}}clear(){this.prefixCache.clear(),this.recentSearchCache.clear(),this.client&&(this.client.dispose(),this.client=null),this.context=null}}const Pi=new iV,sV=(e,t="all",n={})=>{const{maxSuggestions:r=8,enablePreloading:i=!0,debounceDelay:s=150,showRecentSearches:a=!0}=n,{currentWorkspace:l}=qi(),{assignedSources:c}=Tl(),{recentSearches:u}=Ab(),[f,d]=y.useState([]),[h,p]=y.useState(!1),[g,m]=y.useState(null),b=y.useRef(null),v=y.useRef(""),x=y.useRef(0);y.useEffect(()=>{Pi.updateContext({workspaceId:l==null?void 0:l.id,assignedSources:c,origin:t,recentSearches:a?u||[]:[],userLanguage:"fr"})},[l==null?void 0:l.id,c,t,u,a]),y.useEffect(()=>{i&&u&&u.length>0&&Pi.preloadPopularPrefixes(u.slice(0,10))},[i,u]);const w=y.useCallback(async $=>{const k=++x.current;try{p(!0),m(null);const F=await Pi.getSuggestions($,r);k===x.current&&d(F)}catch(F){k===x.current&&(m(F.message||"Erreur lors de la récupération des suggestions"),d([]))}finally{k===x.current&&p(!1)}},[r]),S=y.useCallback($=>{if(b.current&&clearTimeout(b.current),$.trim().length===0){w($);return}let k=s;$.length<3?k=Math.max(100,s*.5):$.length>6&&(k=Math.min(300,s*1.5)),b.current=setTimeout(()=>{w($)},k)},[w,s]);y.useEffect(()=>(e!==v.current&&(v.current=e,S(e)),()=>{b.current&&clearTimeout(b.current)}),[e,S]),y.useEffect(()=>()=>{b.current&&clearTimeout(b.current)},[]);const _=y.useCallback(()=>{d([]),m(null),p(!1),b.current&&(clearTimeout(b.current),b.current=null)},[]),j=y.useCallback(()=>{w(e)},[e,w]),P=y.useCallback(()=>Pi.getCacheStats(),[]),R=y.useCallback($=>{Pi.getSuggestions($,r)},[r]);return{suggestions:f,loading:h,error:g,clearSuggestions:_,refreshSuggestions:j,getCacheStats:P,preloadSuggestions:R,hasResults:f.length>0,isEmpty:!h&&f.length===0&&e.trim().length>0,isRecentSearches:f.length>0&&f.every($=>$.category==="Recherches récentes")}},aV=(e,t="all",n={})=>{const{showCategories:r=!0,groupByCategory:i=!1,highlightMatches:s=!0,...a}=n,{suggestions:l,loading:c,error:u,...f}=sV(e,t,a),d=y.useRef({suggestions:[],groupedSuggestions:{},highlightedSuggestions:[]});return y.useEffect(()=>{const h=s?l.map(g=>({...g,highlightedLabel:oV(g.label,e)})):l,p=i?cV(h):{};d.current={suggestions:l,groupedSuggestions:p,highlightedSuggestions:h}},[l,e,i,s]),{suggestions:d.current.suggestions,groupedSuggestions:d.current.groupedSuggestions,highlightedSuggestions:d.current.highlightedSuggestions,loading:c,error:u,...f}};function oV(e,t){if(!t.trim())return e;const n=new RegExp(`(${lV(t)})`,"gi");return e.replace(n,"<mark>$1</mark>")}function lV(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function cV(e){return e.reduce((t,n)=>{const r=n.category||"Autres";return t[r]||(t[r]=[]),t[r].push(n),t},{})}const uV=Ju("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Be({className:e,variant:t,...n}){return o.jsx("div",{className:se(uV({variant:t}),e),...n})}const dV=()=>{const{query:e,refine:t}=Nb(),{nbHits:n}=Sp();wp();const{origin:r}=iT(),{highlightedSuggestions:i,groupedSuggestions:s,loading:a,isRecentSearches:l,getCacheStats:c}=aV(e,r,{maxSuggestions:8,enablePreloading:!1,debounceDelay:250,showCategories:!0,groupByCategory:!0,highlightMatches:!0}),{recordSearch:u}=Ab(),[f,d]=y.useState(!1),h=y.useRef(null);y.useRef({origin:r,query:e,suggestions:0}),q.useEffect(()=>{i.length},[r,e,i.length,c]),y.useEffect(()=>{const b=v=>{h.current&&!h.current.contains(v.target)&&d(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const p=()=>{t(""),d(!1)},g=b=>{t(b),d(!1),u(b,{},0)},m=()=>{e.trim()&&u(e,{},n||0),d(!1)};return o.jsx("div",{className:"space-y-4",ref:h,children:o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(eu,{className:"absolute left-8 top-1/2 transform -translate-y-1/2 text-indigo-950/60 h-6 w-6"}),o.jsx(Ot,{type:"text",value:e,onChange:b=>{t(b.target.value),d(b.target.value.length>0)},onKeyDown:b=>{b.key==="Enter"&&m()},placeholder:"Rechercher des facteurs d'émission...",className:"flex-1 bg-white border-white/20 text-indigo-950 placeholder:text-indigo-950/60 font-montserrat h-20 text-2xl pl-20 pr-20 rounded-xl"}),e&&o.jsx("button",{onClick:p,className:"absolute right-8 top-1/2 transform -translate-y-1/2 text-indigo-950/60 hover:text-indigo-950",children:o.jsx(Jh,{className:"h-6 w-6"})})]}),o.jsx(Z,{variant:"hero",onClick:m,className:"h-20 px-10 text-xl rounded-xl",children:"Rechercher"})]}),f&&i.length>0&&o.jsxs("div",{className:"absolute top-full left-0 right-[200px] bg-white border border-white/20 rounded-xl shadow-xl z-50 mt-2",children:[a&&o.jsxs("div",{className:"p-3 text-sm text-indigo-950/70 border-b border-white/20 bg-white font-montserrat flex items-center gap-2",children:[o.jsx(tu,{className:"h-3 w-3 animate-pulse"}),"Recherche optimisée..."]}),l?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-3 text-sm text-indigo-950/70 border-b border-white/20 bg-white flex items-center gap-2 font-montserrat",children:[o.jsx(sh,{className:"h-3 w-3"}),"Recherches récentes"]}),o.jsx("div",{className:"max-h-32 overflow-y-auto bg-white",children:i.map((b,v)=>o.jsxs("button",{onClick:()=>g(b.label),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 text-sm text-indigo-950 bg-white flex items-center gap-2 font-montserrat",children:[o.jsx(sh,{className:"h-3 w-3 text-indigo-950/60"}),b.label]},`recent-${v}`))})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-3 text-sm text-indigo-950/70 border-b border-white/20 bg-white font-montserrat flex items-center gap-2",children:[o.jsx(tu,{className:"h-3 w-3"}),"Suggestions intelligentes (",i.length,")"]}),o.jsx("div",{className:"max-h-40 overflow-y-auto bg-white",children:Object.keys(s).length>0?Object.entries(s).map(([b,v])=>o.jsxs("div",{children:[b!=="Autres"&&o.jsx("div",{className:"px-4 py-2 text-xs text-indigo-950/50 bg-gray-50 font-montserrat",children:b}),v.map((x,w)=>o.jsxs("button",{onClick:()=>g(x.label),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 text-sm text-indigo-950 bg-white font-montserrat flex items-center gap-2",children:[o.jsx("span",{className:"truncate flex-1",dangerouslySetInnerHTML:{__html:x.label}}),x.isPrivate&&o.jsx(Be,{variant:"secondary",className:"text-[10px] leading-none px-2 py-0.5",children:"FE importé"}),x.source&&o.jsx(Be,{variant:"outline",className:"text-[10px] leading-none px-2 py-0.5",children:x.source})]},`${b}-${w}`))]},b)):i.map((b,v)=>o.jsxs("button",{onClick:()=>g(b.label),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 text-sm text-indigo-950 bg-white font-montserrat flex items-center gap-2",children:[o.jsx("span",{className:"truncate flex-1",dangerouslySetInnerHTML:{__html:b.highlightedLabel||b.label}}),b.isPrivate&&o.jsx(Be,{variant:"secondary",className:"text-[10px] leading-none px-2 py-0.5",children:"FE importé"}),b.source&&o.jsx(Be,{variant:"outline",className:"text-[10px] leading-none px-2 py-0.5",children:b.source})]},`suggestion-${v}`))})]})]})]})})};function Tj(e,[t,n]){return Math.min(n,Math.max(t,e))}var lg=0;function Ib(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Aj()),document.body.insertAdjacentElement("beforeend",e[1]??Aj()),lg++,()=>{lg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),lg--}},[])}function Aj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var cg="focusScope.autoFocusOnMount",ug="focusScope.autoFocusOnUnmount",Oj={bubbles:!1,cancelable:!0},fV="FocusScope",_p=y.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[l,c]=y.useState(null),u=dn(i),f=dn(s),d=y.useRef(null),h=Le(t,m=>c(m)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let m=function(w){if(p.paused||!l)return;const S=w.target;l.contains(S)?d.current=S:is(d.current,{select:!0})},b=function(w){if(p.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||is(d.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&is(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",b);const x=new MutationObserver(v);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",b),x.disconnect()}}},[r,l,p.paused]),y.useEffect(()=>{if(l){Dj.add(p);const m=document.activeElement;if(!l.contains(m)){const v=new CustomEvent(cg,Oj);l.addEventListener(cg,u),l.dispatchEvent(v),v.defaultPrevented||(hV(yV(lT(l)),{select:!0}),document.activeElement===m&&is(l))}return()=>{l.removeEventListener(cg,u),setTimeout(()=>{const v=new CustomEvent(ug,Oj);l.addEventListener(ug,f),l.dispatchEvent(v),v.defaultPrevented||is(m??document.body,{select:!0}),l.removeEventListener(ug,f),Dj.remove(p)},0)}}},[l,u,f,p]);const g=y.useCallback(m=>{if(!n&&!r||p.paused)return;const b=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(b&&v){const x=m.currentTarget,[w,S]=pV(x);w&&S?!m.shiftKey&&v===S?(m.preventDefault(),n&&is(w,{select:!0})):m.shiftKey&&v===w&&(m.preventDefault(),n&&is(S,{select:!0})):v===x&&m.preventDefault()}},[n,r,p.paused]);return o.jsx(ve.div,{tabIndex:-1,...a,ref:h,onKeyDown:g})});_p.displayName=fV;function hV(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(is(r,{select:t}),document.activeElement!==n)return}function pV(e){const t=lT(e),n=Ij(t,e),r=Ij(t.reverse(),e);return[n,r]}function lT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ij(e,t){for(const n of e)if(!mV(n,{upTo:t}))return n}function mV(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function gV(e){return e instanceof HTMLInputElement&&"select"in e}function is(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&gV(e)&&t&&e.select()}}var Dj=vV();function vV(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Fj(e,t),e.unshift(t)},remove(t){var n;e=Fj(e,t),(n=e[0])==null||n.resume()}}}function Fj(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function yV(e){return e.filter(t=>t.tagName!=="A")}function cT(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var xV=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},co=new WeakMap,rf=new WeakMap,sf={},dg=0,uT=function(e){return e&&(e.host||uT(e.parentNode))},bV=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=uT(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},wV=function(e,t,n,r){var i=bV(t,Array.isArray(e)?e:[e]);sf[n]||(sf[n]=new WeakMap);var s=sf[n],a=[],l=new Set,c=new Set(i),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};i.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))f(h);else try{var p=h.getAttribute(r),g=p!==null&&p!=="false",m=(co.get(h)||0)+1,b=(s.get(h)||0)+1;co.set(h,m),s.set(h,b),a.push(h),m===1&&g&&rf.set(h,!0),b===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return f(t),l.clear(),dg++,function(){a.forEach(function(d){var h=co.get(d)-1,p=s.get(d)-1;co.set(d,h),s.set(d,p),h||(rf.has(d)||d.removeAttribute(r),rf.delete(d)),p||d.removeAttribute(n)}),dg--,dg||(co=new WeakMap,co=new WeakMap,rf=new WeakMap,sf={})}},Db=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=xV(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),wV(r,i,n,"aria-hidden")):function(){return null}},oi=function(){return oi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},oi.apply(this,arguments)};function dT(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function SV(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Nf="right-scroll-bar-position",Tf="width-before-scroll-bar",jV="with-scroll-bars-hidden",_V="--removed-body-scroll-bar-size";function fg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function EV(e,t){var n=y.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var CV=typeof window<"u"?y.useLayoutEffect:y.useEffect,Lj=new WeakMap;function kV(e,t){var n=EV(null,function(r){return e.forEach(function(i){return fg(i,r)})});return CV(function(){var r=Lj.get(n);if(r){var i=new Set(r),s=new Set(e),a=n.current;i.forEach(function(l){s.has(l)||fg(l,null)}),s.forEach(function(l){i.has(l)||fg(l,a)})}Lj.set(n,e)},[e]),n}function PV(e){return e}function RV(e,t){t===void 0&&(t=PV);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var c=function(){var f=a;a=[],f.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){a.push(f),u()},filter:function(f){return a=a.filter(f),n}}}};return i}function NV(e){e===void 0&&(e={});var t=RV(null);return t.options=oi({async:!0,ssr:!1},e),t}var fT=function(e){var t=e.sideCar,n=dT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,oi({},n))};fT.isSideCarExport=!0;function TV(e,t){return e.useMedium(t),fT}var hT=NV(),hg=function(){},Ep=y.forwardRef(function(e,t){var n=y.useRef(null),r=y.useState({onScrollCapture:hg,onWheelCapture:hg,onTouchMoveCapture:hg}),i=r[0],s=r[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,m=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,x=e.gapMode,w=dT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,_=kV([n,t]),j=oi(oi({},w),i);return y.createElement(y.Fragment,null,f&&y.createElement(S,{sideCar:hT,removeScrollBar:u,shards:d,noIsolation:p,inert:g,setCallbacks:s,allowPinchZoom:!!m,lockRef:n,gapMode:x}),a?y.cloneElement(y.Children.only(l),oi(oi({},j),{ref:_})):y.createElement(v,oi({},j,{className:c,ref:_}),l))});Ep.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ep.classNames={fullWidth:Tf,zeroRight:Nf};var AV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function OV(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=AV();return t&&e.setAttribute("nonce",t),e}function IV(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function DV(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var FV=function(){var e=0,t=null;return{add:function(n){e==0&&(t=OV())&&(IV(t,n),DV(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},LV=function(){var e=FV();return function(t,n){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},pT=function(){var e=LV(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},MV={left:0,top:0,right:0,gap:0},pg=function(e){return parseInt(e||"",10)||0},$V=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[pg(n),pg(r),pg(i)]},UV=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return MV;var t=$V(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},zV=pT(),Uo="data-scroll-locked",BV=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(jV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Uo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Tf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Nf," .").concat(Nf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Tf," .").concat(Tf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Uo,`] {
    `).concat(_V,": ").concat(l,`px;
  }
`)},Mj=function(){var e=parseInt(document.body.getAttribute(Uo)||"0",10);return isFinite(e)?e:0},HV=function(){y.useEffect(function(){return document.body.setAttribute(Uo,(Mj()+1).toString()),function(){var e=Mj()-1;e<=0?document.body.removeAttribute(Uo):document.body.setAttribute(Uo,e.toString())}},[])},qV=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;HV();var s=y.useMemo(function(){return UV(i)},[i]);return y.createElement(zV,{styles:BV(s,!t,i,n?"":"!important")})},by=!1;if(typeof window<"u")try{var af=Object.defineProperty({},"passive",{get:function(){return by=!0,!0}});window.addEventListener("test",af,af),window.removeEventListener("test",af,af)}catch{by=!1}var uo=by?{passive:!1}:!1,WV=function(e){return e.tagName==="TEXTAREA"},mT=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!WV(e)&&n[t]==="visible")},VV=function(e){return mT(e,"overflowY")},QV=function(e){return mT(e,"overflowX")},$j=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=gT(e,r);if(i){var s=vT(e,r),a=s[1],l=s[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},KV=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},GV=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},gT=function(e,t){return e==="v"?VV(t):QV(t)},vT=function(e,t){return e==="v"?KV(t):GV(t)},YV=function(e,t){return e==="h"&&t==="rtl"?-1:1},XV=function(e,t,n,r,i){var s=YV(e,window.getComputedStyle(t).direction),a=s*r,l=n.target,c=t.contains(l),u=!1,f=a>0,d=0,h=0;do{var p=vT(e,l),g=p[0],m=p[1],b=p[2],v=m-b-s*g;(g||v)&&gT(e,l)&&(d+=v,h+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(d)<1||!i)||!f&&(Math.abs(h)<1||!i))&&(u=!0),u},of=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Uj=function(e){return[e.deltaX,e.deltaY]},zj=function(e){return e&&"current"in e?e.current:e},JV=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ZV=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},eQ=0,fo=[];function tQ(e){var t=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),i=y.useState(eQ++)[0],s=y.useState(pT)[0],a=y.useRef(e);y.useEffect(function(){a.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=SV([e.lockRef.current],(e.shards||[]).map(zj),!0).filter(Boolean);return m.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(m,b){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var v=of(m),x=n.current,w="deltaX"in m?m.deltaX:x[0]-v[0],S="deltaY"in m?m.deltaY:x[1]-v[1],_,j=m.target,P=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in m&&P==="h"&&j.type==="range")return!1;var R=$j(P,j);if(!R)return!0;if(R?_=P:(_=P==="v"?"h":"v",R=$j(P,j)),!R)return!1;if(!r.current&&"changedTouches"in m&&(w||S)&&(r.current=_),!_)return!0;var $=r.current||_;return XV($,b,m,$==="h"?w:S,!0)},[]),c=y.useCallback(function(m){var b=m;if(!(!fo.length||fo[fo.length-1]!==s)){var v="deltaY"in b?Uj(b):of(b),x=t.current.filter(function(_){return _.name===b.type&&(_.target===b.target||b.target===_.shadowParent)&&JV(_.delta,v)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var w=(a.current.shards||[]).map(zj).filter(Boolean).filter(function(_){return _.contains(b.target)}),S=w.length>0?l(b,w[0]):!a.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=y.useCallback(function(m,b,v,x){var w={name:m,delta:b,target:v,should:x,shadowParent:nQ(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),f=y.useCallback(function(m){n.current=of(m),r.current=void 0},[]),d=y.useCallback(function(m){u(m.type,Uj(m),m.target,l(m,e.lockRef.current))},[]),h=y.useCallback(function(m){u(m.type,of(m),m.target,l(m,e.lockRef.current))},[]);y.useEffect(function(){return fo.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,uo),document.addEventListener("touchmove",c,uo),document.addEventListener("touchstart",f,uo),function(){fo=fo.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,uo),document.removeEventListener("touchmove",c,uo),document.removeEventListener("touchstart",f,uo)}},[]);var p=e.removeScrollBar,g=e.inert;return y.createElement(y.Fragment,null,g?y.createElement(s,{styles:ZV(i)}):null,p?y.createElement(qV,{gapMode:e.gapMode}):null)}function nQ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const rQ=TV(hT,tQ);var Cp=y.forwardRef(function(e,t){return y.createElement(Ep,oi({},e,{ref:t,sideCar:rQ}))});Cp.classNames=Ep.classNames;var iQ=[" ","Enter","ArrowUp","ArrowDown"],sQ=[" ","Enter"],ld="Select",[kp,Pp,aQ]=Kh(ld),[Al,Are]=Hi(ld,[aQ,Cl]),Rp=Cl(),[oQ,Vs]=Al(ld),[lQ,cQ]=Al(ld),yT=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:h,required:p,form:g}=e,m=Rp(t),[b,v]=y.useState(null),[x,w]=y.useState(null),[S,_]=y.useState(!1),j=gp(u),[P=!1,R]=Fi({prop:r,defaultProp:i,onChange:s}),[$,k]=Fi({prop:a,defaultProp:l,onChange:c}),F=y.useRef(null),I=b?g||!!b.closest("form"):!0,[U,T]=y.useState(new Set),z=Array.from(U).map(A=>A.props.value).join(";");return o.jsx(eb,{...m,children:o.jsxs(oQ,{required:p,scope:t,trigger:b,onTriggerChange:v,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:$r(),value:$,onValueChange:k,open:P,onOpenChange:R,dir:j,triggerPointerDownPosRef:F,disabled:h,children:[o.jsx(kp.Provider,{scope:t,children:o.jsx(lQ,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(A=>{T(M=>new Set(M).add(A))},[]),onNativeOptionRemove:y.useCallback(A=>{T(M=>{const E=new Set(M);return E.delete(A),E})},[]),children:n})}),I?o.jsxs(HT,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:d,value:$,onChange:A=>k(A.target.value),disabled:h,form:g,children:[$===void 0?o.jsx("option",{value:""}):null,Array.from(U)]},z):null]})})};yT.displayName=ld;var xT="SelectTrigger",bT=y.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=Rp(n),a=Vs(xT,n),l=a.disabled||r,c=Le(t,a.onTriggerChange),u=Pp(n),f=y.useRef("touch"),[d,h,p]=qT(m=>{const b=u().filter(w=>!w.disabled),v=b.find(w=>w.value===a.value),x=WT(b,m,v);x!==void 0&&a.onValueChange(x.value)}),g=m=>{l||(a.onOpenChange(!0),p()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(tb,{asChild:!0,...s,children:o.jsx(ve.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":BT(a.value)?"":void 0,...i,ref:c,onClick:te(i.onClick,m=>{m.currentTarget.focus(),f.current!=="mouse"&&g(m)}),onPointerDown:te(i.onPointerDown,m=>{f.current=m.pointerType;const b=m.target;b.hasPointerCapture(m.pointerId)&&b.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:te(i.onKeyDown,m=>{const b=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(b&&m.key===" ")&&iQ.includes(m.key)&&(g(),m.preventDefault())})})})});bT.displayName=xT;var wT="SelectValue",ST=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...l}=e,c=Vs(wT,n),{onValueNodeHasChildrenChange:u}=c,f=s!==void 0,d=Le(t,c.onValueNodeChange);return fn(()=>{u(f)},[u,f]),o.jsx(ve.span,{...l,ref:d,style:{pointerEvents:"none"},children:BT(c.value)?o.jsx(o.Fragment,{children:a}):s})});ST.displayName=wT;var uQ="SelectIcon",jT=y.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return o.jsx(ve.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});jT.displayName=uQ;var dQ="SelectPortal",_T=e=>o.jsx(Yu,{asChild:!0,...e});_T.displayName=dQ;var Ta="SelectContent",ET=y.forwardRef((e,t)=>{const n=Vs(Ta,e.__scopeSelect),[r,i]=y.useState();if(fn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?La.createPortal(o.jsx(CT,{scope:e.__scopeSelect,children:o.jsx(kp.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),s):null}return o.jsx(kT,{...e,ref:t})});ET.displayName=Ta;var Nr=10,[CT,Qs]=Al(Ta),fQ="SelectContentImpl",kT=y.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:b,...v}=e,x=Vs(Ta,n),[w,S]=y.useState(null),[_,j]=y.useState(null),P=Le(t,X=>S(X)),[R,$]=y.useState(null),[k,F]=y.useState(null),I=Pp(n),[U,T]=y.useState(!1),z=y.useRef(!1);y.useEffect(()=>{if(w)return Db(w)},[w]),Ib();const A=y.useCallback(X=>{const[re,...le]=I().map(ke=>ke.ref.current),[ue]=le.slice(-1),we=document.activeElement;for(const ke of X)if(ke===we||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===re&&_&&(_.scrollTop=0),ke===ue&&_&&(_.scrollTop=_.scrollHeight),ke==null||ke.focus(),document.activeElement!==we))return},[I,_]),M=y.useCallback(()=>A([R,w]),[A,R,w]);y.useEffect(()=>{U&&M()},[U,M]);const{onOpenChange:E,triggerPointerDownPosRef:O}=x;y.useEffect(()=>{if(w){let X={x:0,y:0};const re=ue=>{var we,ke;X={x:Math.abs(Math.round(ue.pageX)-(((we=O.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((ke=O.current)==null?void 0:ke.y)??0))}},le=ue=>{X.x<=10&&X.y<=10?ue.preventDefault():w.contains(ue.target)||E(!1),document.removeEventListener("pointermove",re),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",le,{capture:!0})}}},[w,E,O]),y.useEffect(()=>{const X=()=>E(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[E]);const[C,D]=qT(X=>{const re=I().filter(we=>!we.disabled),le=re.find(we=>we.ref.current===document.activeElement),ue=WT(re,X,le);ue&&setTimeout(()=>ue.ref.current.focus())}),B=y.useCallback((X,re,le)=>{const ue=!z.current&&!le;(x.value!==void 0&&x.value===re||ue)&&($(X),ue&&(z.current=!0))},[x.value]),N=y.useCallback(()=>w==null?void 0:w.focus(),[w]),ne=y.useCallback((X,re,le)=>{const ue=!z.current&&!le;(x.value!==void 0&&x.value===re||ue)&&F(X)},[x.value]),ae=r==="popper"?wy:PT,Y=ae===wy?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:b}:{};return o.jsx(CT,{scope:n,content:w,viewport:_,onViewportChange:j,itemRefCallback:B,selectedItem:R,onItemLeave:N,itemTextRefCallback:ne,focusSelectedItem:M,selectedItemText:k,position:r,isPositioned:U,searchRef:C,children:o.jsx(Cp,{as:As,allowPinchZoom:!0,children:o.jsx(_p,{asChild:!0,trapped:x.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:te(i,X=>{var re;(re=x.trigger)==null||re.focus({preventScroll:!0}),X.preventDefault()}),children:o.jsx(Sl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(ae,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:X=>X.preventDefault(),...v,...Y,onPlaced:()=>T(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:te(v.onKeyDown,X=>{const re=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!re&&X.key.length===1&&D(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let ue=I().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(X.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const we=X.target,ke=ue.indexOf(we);ue=ue.slice(ke+1)}setTimeout(()=>A(ue)),X.preventDefault()}})})})})})})});kT.displayName=fQ;var hQ="SelectItemAlignedPosition",PT=y.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=Vs(Ta,n),a=Qs(Ta,n),[l,c]=y.useState(null),[u,f]=y.useState(null),d=Le(t,P=>f(P)),h=Pp(n),p=y.useRef(!1),g=y.useRef(!0),{viewport:m,selectedItem:b,selectedItemText:v,focusSelectedItem:x}=a,w=y.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&m&&b&&v){const P=s.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),$=s.valueNode.getBoundingClientRect(),k=v.getBoundingClientRect();if(s.dir!=="rtl"){const we=k.left-R.left,ke=$.left-we,pt=P.left-ke,Pt=P.width+pt,Rt=Math.max(Pt,R.width),ct=window.innerWidth-Nr,cr=Tj(ke,[Nr,Math.max(Nr,ct-Rt)]);l.style.minWidth=Pt+"px",l.style.left=cr+"px"}else{const we=R.right-k.right,ke=window.innerWidth-$.right-we,pt=window.innerWidth-P.right-ke,Pt=P.width+pt,Rt=Math.max(Pt,R.width),ct=window.innerWidth-Nr,cr=Tj(ke,[Nr,Math.max(Nr,ct-Rt)]);l.style.minWidth=Pt+"px",l.style.right=cr+"px"}const F=h(),I=window.innerHeight-Nr*2,U=m.scrollHeight,T=window.getComputedStyle(u),z=parseInt(T.borderTopWidth,10),A=parseInt(T.paddingTop,10),M=parseInt(T.borderBottomWidth,10),E=parseInt(T.paddingBottom,10),O=z+A+U+E+M,C=Math.min(b.offsetHeight*5,O),D=window.getComputedStyle(m),B=parseInt(D.paddingTop,10),N=parseInt(D.paddingBottom,10),ne=P.top+P.height/2-Nr,ae=I-ne,Y=b.offsetHeight/2,X=b.offsetTop+Y,re=z+A+X,le=O-re;if(re<=ne){const we=F.length>0&&b===F[F.length-1].ref.current;l.style.bottom="0px";const ke=u.clientHeight-m.offsetTop-m.offsetHeight,pt=Math.max(ae,Y+(we?N:0)+ke+M),Pt=re+pt;l.style.height=Pt+"px"}else{const we=F.length>0&&b===F[0].ref.current;l.style.top="0px";const pt=Math.max(ne,z+m.offsetTop+(we?B:0)+Y)+le;l.style.height=pt+"px",m.scrollTop=re-ne+m.offsetTop}l.style.margin=`${Nr}px 0`,l.style.minHeight=C+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,l,u,m,b,v,s.dir,r]);fn(()=>w(),[w]);const[S,_]=y.useState();fn(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const j=y.useCallback(P=>{P&&g.current===!0&&(w(),x==null||x(),g.current=!1)},[w,x]);return o.jsx(mQ,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:o.jsx(ve.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});PT.displayName=hQ;var pQ="SelectPopperPosition",wy=y.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Nr,...s}=e,a=Rp(n);return o.jsx(nb,{...a,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});wy.displayName=pQ;var[mQ,Fb]=Al(Ta,{}),Sy="SelectViewport",RT=y.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=Qs(Sy,n),a=Fb(Sy,n),l=Le(t,s.onViewportChange),c=y.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(kp.Slot,{scope:n,children:o.jsx(ve.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:te(i.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&d){const p=Math.abs(c.current-f.scrollTop);if(p>0){const g=window.innerHeight-Nr*2,m=parseFloat(d.style.minHeight),b=parseFloat(d.style.height),v=Math.max(m,b);if(v<g){const x=v+p,w=Math.min(g,x),S=x-w;d.style.height=w+"px",d.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});RT.displayName=Sy;var NT="SelectGroup",[gQ,vQ]=Al(NT),yQ=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=$r();return o.jsx(gQ,{scope:n,id:i,children:o.jsx(ve.div,{role:"group","aria-labelledby":i,...r,ref:t})})});yQ.displayName=NT;var TT="SelectLabel",AT=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=vQ(TT,n);return o.jsx(ve.div,{id:i.id,...r,ref:t})});AT.displayName=TT;var wh="SelectItem",[xQ,OT]=Al(wh),IT=y.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=e,l=Vs(wh,n),c=Qs(wh,n),u=l.value===r,[f,d]=y.useState(s??""),[h,p]=y.useState(!1),g=Le(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,r,i)}),m=$r(),b=y.useRef("touch"),v=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(xQ,{scope:n,value:r,disabled:i,textId:m,isSelected:u,onItemTextChange:y.useCallback(x=>{d(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:o.jsx(kp.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:o.jsx(ve.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:te(a.onFocus,()=>p(!0)),onBlur:te(a.onBlur,()=>p(!1)),onClick:te(a.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:te(a.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:te(a.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:te(a.onPointerMove,x=>{var w;b.current=x.pointerType,i?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:te(a.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:te(a.onKeyDown,x=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(sQ.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});IT.displayName=wh;var mc="SelectItemText",DT=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,a=Vs(mc,n),l=Qs(mc,n),c=OT(mc,n),u=cQ(mc,n),[f,d]=y.useState(null),h=Le(t,v=>d(v),c.onItemTextChange,v=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,v,c.value,c.disabled)}),p=f==null?void 0:f.textContent,g=y.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:b}=u;return fn(()=>(m(g),()=>b(g)),[m,b,g]),o.jsxs(o.Fragment,{children:[o.jsx(ve.span,{id:c.textId,...s,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?La.createPortal(s.children,a.valueNode):null]})});DT.displayName=mc;var FT="SelectItemIndicator",LT=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return OT(FT,n).isSelected?o.jsx(ve.span,{"aria-hidden":!0,...r,ref:t}):null});LT.displayName=FT;var jy="SelectScrollUpButton",MT=y.forwardRef((e,t)=>{const n=Qs(jy,e.__scopeSelect),r=Fb(jy,e.__scopeSelect),[i,s]=y.useState(!1),a=Le(t,r.onScrollButtonChange);return fn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(UT,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});MT.displayName=jy;var _y="SelectScrollDownButton",$T=y.forwardRef((e,t)=>{const n=Qs(_y,e.__scopeSelect),r=Fb(_y,e.__scopeSelect),[i,s]=y.useState(!1),a=Le(t,r.onScrollButtonChange);return fn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;s(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(UT,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});$T.displayName=_y;var UT=y.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=Qs("SelectScrollButton",n),a=y.useRef(null),l=Pp(n),c=y.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),fn(()=>{var f;const u=l().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),o.jsx(ve.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:te(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:te(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:te(i.onPointerLeave,()=>{c()})})}),bQ="SelectSeparator",zT=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(ve.div,{"aria-hidden":!0,...r,ref:t})});zT.displayName=bQ;var Ey="SelectArrow",wQ=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Rp(n),s=Vs(Ey,n),a=Qs(Ey,n);return s.open&&a.position==="popper"?o.jsx(rb,{...i,...r,ref:t}):null});wQ.displayName=Ey;function BT(e){return e===""||e===void 0}var HT=y.forwardRef((e,t)=>{const{value:n,...r}=e,i=y.useRef(null),s=Le(t,i),a=cT(n);return y.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&f){const d=new Event("change",{bubbles:!0});f.call(l,n),l.dispatchEvent(d)}},[a,n]),o.jsx(Xu,{asChild:!0,children:o.jsx("select",{...r,ref:s,defaultValue:n})})});HT.displayName="BubbleSelect";function qT(e){const t=dn(e),n=y.useRef(""),r=y.useRef(0),i=y.useCallback(a=>{const l=n.current+a;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function WT(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=SQ(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function SQ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var jQ=yT,VT=bT,_Q=ST,EQ=jT,CQ=_T,QT=ET,kQ=RT,KT=AT,GT=IT,PQ=DT,RQ=LT,YT=MT,XT=$T,JT=zT;const wr=jQ,Sr=_Q,nr=y.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(VT,{ref:r,className:se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,o.jsx(EQ,{asChild:!0,children:o.jsx(Zu,{className:"h-4 w-4 opacity-50"})})]}));nr.displayName=VT.displayName;const ZT=y.forwardRef(({className:e,...t},n)=>o.jsx(YT,{ref:n,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Bx,{className:"h-4 w-4"})}));ZT.displayName=YT.displayName;const eA=y.forwardRef(({className:e,...t},n)=>o.jsx(XT,{ref:n,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Zu,{className:"h-4 w-4"})}));eA.displayName=XT.displayName;const rr=y.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>o.jsx(CQ,{children:o.jsxs(QT,{ref:i,className:se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(ZT,{}),o.jsx(kQ,{className:se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(eA,{})]})}));rr.displayName=QT.displayName;const NQ=y.forwardRef(({className:e,...t},n)=>o.jsx(KT,{ref:n,className:se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));NQ.displayName=KT.displayName;const it=y.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(GT,{ref:r,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(RQ,{children:o.jsx(Xh,{className:"h-4 w-4"})})}),o.jsx(PQ,{children:t})]}));it.displayName=GT.displayName;const TQ=y.forwardRef(({className:e,...t},n)=>o.jsx(JT,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));TQ.displayName=JT.displayName;var Lb="Checkbox",[AQ,Ore]=Hi(Lb),[OQ,IQ]=AQ(Lb),tA=y.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:l,value:c="on",onCheckedChange:u,form:f,...d}=e,[h,p]=y.useState(null),g=Le(t,S=>p(S)),m=y.useRef(!1),b=h?f||!!h.closest("form"):!0,[v=!1,x]=Fi({prop:i,defaultProp:s,onChange:u}),w=y.useRef(v);return y.useEffect(()=>{const S=h==null?void 0:h.form;if(S){const _=()=>x(w.current);return S.addEventListener("reset",_),()=>S.removeEventListener("reset",_)}},[h,x]),o.jsxs(OQ,{scope:n,state:v,disabled:l,children:[o.jsx(ve.button,{type:"button",role:"checkbox","aria-checked":Rs(v)?"mixed":v,"aria-required":a,"data-state":iA(v),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:g,onKeyDown:te(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:te(e.onClick,S=>{x(_=>Rs(_)?!0:!_),b&&(m.current=S.isPropagationStopped(),m.current||S.stopPropagation())})}),b&&o.jsx(DQ,{control:h,bubbles:!m.current,name:r,value:c,checked:v,required:a,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:Rs(s)?!1:s})]})});tA.displayName=Lb;var nA="CheckboxIndicator",rA=y.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,s=IQ(nA,n);return o.jsx(Cr,{present:r||Rs(s.state)||s.state===!0,children:o.jsx(ve.span,{"data-state":iA(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});rA.displayName=nA;var DQ=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:i,...s}=e,a=y.useRef(null),l=cT(n),c=sP(t);y.useEffect(()=>{const f=a.current,d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==n&&p){const g=new Event("click",{bubbles:r});f.indeterminate=Rs(n),p.call(f,Rs(n)?!1:n),f.dispatchEvent(g)}},[l,n,r]);const u=y.useRef(Rs(n)?!1:n);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...s,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Rs(e){return e==="indeterminate"}function iA(e){return Rs(e)?"indeterminate":e?"checked":"unchecked"}var sA=tA,FQ=rA;const zi=y.forwardRef(({className:e,...t},n)=>o.jsx(sA,{ref:n,className:se("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(FQ,{className:se("flex items-center justify-center text-current"),children:o.jsx(Xh,{className:"h-4 w-4"})})}));zi.displayName=sA.displayName;const Sh=({isBlurred:e=!1,children:t,className:n,showUpgradeButton:r=!1,showBadge:i=!0})=>(qi(),e?o.jsxs("div",{className:se("relative",n),children:[o.jsx("div",{className:"filter blur-sm pointer-events-none select-none",children:t}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80",children:o.jsxs("div",{className:"text-center space-y-2",children:[i&&o.jsxs(Be,{variant:"default",className:"bg-[#4ABEA1] text-white border-0",children:[o.jsx(Ca,{className:"w-3 h-3 mr-1"}),"Base payante"]}),r&&o.jsxs(Z,{size:"sm",onClick:()=>window.location.href="/settings",className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 hover:from-yellow-500 hover:to-orange-600",children:[o.jsx(lM,{className:"w-3 h-3 mr-1"}),"Débloquer"]})]})})]}):o.jsx(o.Fragment,{children:t})),aA=()=>{const{canExport:e,canCopyToClipboard:t,quotaData:n,incrementExport:r,incrementClipboardCopy:i}=Tb(),{canExport:s}=za(),a=u=>({id:u.objectID,nom:u.Nom_fr||u.Nom_en||u.Nom||"",description:u.Description_fr||u.Description_en||u.Description||"",fe:u.FE,uniteActivite:u.Unite_fr||u.Unite_en||u["Unité donnée d'activité"]||"",source:u.Source,secteur:u.Secteur_fr||u.Secteur_en||u.Secteur||"",sousSecteur:u["Sous-secteur_fr"]||u["Sous-secteur_en"]||u["Sous-secteur"]||"",localisation:u.Localisation_fr||u.Localisation_en||u.Localisation||"",date:u.Date||0,incertitude:u.Incertitude,perimetre:u.Périmètre_fr||u.Périmètre_en||u.Périmètre||"",contributeur:u.Contributeur||"",commentaires:u.Commentaires_fr||u.Commentaires_en||u.Commentaires||""}),l=y.useCallback(async(u,f="emission_factors")=>{if(!s)return jn.error("Vous n'avez pas les permissions pour exporter"),!1;if(u.length===0)return jn.error("Aucun élément sélectionné pour l'export"),!1;if(!e)return jn.error("Limite d'exports atteinte pour ce mois"),!1;if((n==null?void 0:n.exports_limit)!==null&&n){const d=n.exports_limit-n.exports_used;if(u.length>d)return jn.error(`Quota insuffisant. Il vous reste ${d} export(s) disponible(s), mais vous tentez d'exporter ${u.length} élément(s).`),!1}try{await r(u.length);let d;u.length>0&&"objectID"in u[0]?d=u.map(a):d=u;const g=[["Nom","Nom_en","Description","Description_en","FE","Unité donnée d'activité","Unite_en","Source","Secteur","Secteur_en","Sous-secteur","Sous-secteur_en","Localisation","Localisation_en","Date","Incertitude","Périmètre","Périmètre_en","Contributeur","Commentaires","Commentaires_en"],...d.map(v=>{var x,w;return[v.nom||"","",v.description||"","",((x=v.fe)==null?void 0:x.toString())||"",v.uniteActivite||"","",v.source||"",v.secteur||"","",v.sousSecteur||"","",v.localisation||"","",((w=v.date)==null?void 0:w.toString())||"",v.incertitude||"",v.perimetre||"","",v.contributeur||"",v.commentaires||"",""]})].map(v=>v.map(x=>`"${String(x).replace(/"/g,'""')}"`).join(",")).join(`
`),m=new Blob([g],{type:"text/csv;charset=utf-8;"}),b=document.createElement("a");return b.href=URL.createObjectURL(m),b.download=`${f}.csv`,b.click(),URL.revokeObjectURL(b.href),jn.success(`${d.length} facteur(s) d'émission exporté(s)`),!0}catch(d){return console.error("Erreur lors de l'export:",d),jn.error("Erreur lors de l'export"),!1}},[s,e,n,r]),c=y.useCallback(async u=>{if(u.length===0)return jn.error("Aucun élément sélectionné pour la copie"),!1;if(!t)return jn.error("Limite de copies atteinte pour ce mois"),!1;if((n==null?void 0:n.clipboard_copies_limit)!==null&&n){const f=n.clipboard_copies_limit-n.clipboard_copies_used;if(u.length>f)return jn.error(`Quota insuffisant. Il vous reste ${f} copie(s) disponible(s), mais vous tentez de copier ${u.length} élément(s).`),!1}try{await i(u.length);let f;u.length>0&&"objectID"in u[0]?f=u.map(a):f=u;const d=["Nom","Nom_en","Description","Description_en","FE","Unité donnée d'activité","Unite_en","Source","Secteur","Secteur_en","Sous-secteur","Sous-secteur_en","Localisation","Localisation_en","Date","Incertitude","Périmètre","Périmètre_en","Contributeur","Commentaires","Commentaires_en"],h=f.map(m=>{var b,v;return[m.nom||"","",m.description||"","",((b=m.fe)==null?void 0:b.toString())||"",m.uniteActivite||"","",m.source||"",m.secteur||"","",m.sousSecteur||"","",m.localisation||"","",((v=m.date)==null?void 0:v.toString())||"",m.incertitude||"",m.perimetre||"","",m.contributeur||"",m.commentaires||"",""]}),g=[d,...h].map(m=>m.join("	")).join(`
`);return await navigator.clipboard.writeText(g),jn.success(`${f.length} facteur(s) d'émission copié(s) dans le presse-papier`),!0}catch(f){return console.error("Erreur lors de la copie:",f),jn.error("Erreur lors de la copie dans le presse-papier"),!1}},[t,n,i]);return{handleExport:l,handleCopyToClipboard:c,canExport:s&&e,canCopyToClipboard:t}};function LQ(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const MQ=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$Q=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,UQ={};function Bj(e,t){return(UQ.jsx?$Q:MQ).test(e)}const zQ=/[ \t\n\f\r]/g;function BQ(e){return typeof e=="object"?e.type==="text"?Hj(e.value):!1:Hj(e)}function Hj(e){return e.replace(zQ,"")===""}class cd{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}cd.prototype.normal={};cd.prototype.property={};cd.prototype.space=void 0;function oA(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new cd(n,r,t)}function Cy(e){return e.toLowerCase()}class qn{constructor(t,n){this.attribute=n,this.property=t}}qn.prototype.attribute="";qn.prototype.booleanish=!1;qn.prototype.boolean=!1;qn.prototype.commaOrSpaceSeparated=!1;qn.prototype.commaSeparated=!1;qn.prototype.defined=!1;qn.prototype.mustUseProperty=!1;qn.prototype.number=!1;qn.prototype.overloadedBoolean=!1;qn.prototype.property="";qn.prototype.spaceSeparated=!1;qn.prototype.space=void 0;let HQ=0;const Ce=Ba(),Et=Ba(),ky=Ba(),G=Ba(),et=Ba(),zo=Ba(),Vn=Ba();function Ba(){return 2**++HQ}const Py=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ce,booleanish:Et,commaOrSpaceSeparated:Vn,commaSeparated:zo,number:G,overloadedBoolean:ky,spaceSeparated:et},Symbol.toStringTag,{value:"Module"})),mg=Object.keys(Py);class Mb extends qn{constructor(t,n,r,i){let s=-1;if(super(t,n),qj(this,"space",i),typeof r=="number")for(;++s<mg.length;){const a=mg[s];qj(this,mg[s],(r&Py[a])===Py[a])}}}Mb.prototype.defined=!0;function qj(e,t,n){n&&(e[t]=n)}function Ol(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new Mb(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Cy(r)]=r,n[Cy(s.attribute)]=r}return new cd(t,n,e.space)}const lA=Ol({properties:{ariaActiveDescendant:null,ariaAtomic:Et,ariaAutoComplete:null,ariaBusy:Et,ariaChecked:Et,ariaColCount:G,ariaColIndex:G,ariaColSpan:G,ariaControls:et,ariaCurrent:null,ariaDescribedBy:et,ariaDetails:null,ariaDisabled:Et,ariaDropEffect:et,ariaErrorMessage:null,ariaExpanded:Et,ariaFlowTo:et,ariaGrabbed:Et,ariaHasPopup:null,ariaHidden:Et,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:et,ariaLevel:G,ariaLive:null,ariaModal:Et,ariaMultiLine:Et,ariaMultiSelectable:Et,ariaOrientation:null,ariaOwns:et,ariaPlaceholder:null,ariaPosInSet:G,ariaPressed:Et,ariaReadOnly:Et,ariaRelevant:null,ariaRequired:Et,ariaRoleDescription:et,ariaRowCount:G,ariaRowIndex:G,ariaRowSpan:G,ariaSelected:Et,ariaSetSize:G,ariaSort:null,ariaValueMax:G,ariaValueMin:G,ariaValueNow:G,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function cA(e,t){return t in e?e[t]:t}function uA(e,t){return cA(e,t.toLowerCase())}const qQ=Ol({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:zo,acceptCharset:et,accessKey:et,action:null,allow:null,allowFullScreen:Ce,allowPaymentRequest:Ce,allowUserMedia:Ce,alt:null,as:null,async:Ce,autoCapitalize:null,autoComplete:et,autoFocus:Ce,autoPlay:Ce,blocking:et,capture:null,charSet:null,checked:Ce,cite:null,className:et,cols:G,colSpan:null,content:null,contentEditable:Et,controls:Ce,controlsList:et,coords:G|zo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ce,defer:Ce,dir:null,dirName:null,disabled:Ce,download:ky,draggable:Et,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ce,formTarget:null,headers:et,height:G,hidden:ky,high:G,href:null,hrefLang:null,htmlFor:et,httpEquiv:et,id:null,imageSizes:null,imageSrcSet:null,inert:Ce,inputMode:null,integrity:null,is:null,isMap:Ce,itemId:null,itemProp:et,itemRef:et,itemScope:Ce,itemType:et,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ce,low:G,manifest:null,max:null,maxLength:G,media:null,method:null,min:null,minLength:G,multiple:Ce,muted:Ce,name:null,nonce:null,noModule:Ce,noValidate:Ce,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ce,optimum:G,pattern:null,ping:et,placeholder:null,playsInline:Ce,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ce,referrerPolicy:null,rel:et,required:Ce,reversed:Ce,rows:G,rowSpan:G,sandbox:et,scope:null,scoped:Ce,seamless:Ce,selected:Ce,shadowRootClonable:Ce,shadowRootDelegatesFocus:Ce,shadowRootMode:null,shape:null,size:G,sizes:null,slot:null,span:G,spellCheck:Et,src:null,srcDoc:null,srcLang:null,srcSet:null,start:G,step:null,style:null,tabIndex:G,target:null,title:null,translate:null,type:null,typeMustMatch:Ce,useMap:null,value:Et,width:G,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:et,axis:null,background:null,bgColor:null,border:G,borderColor:null,bottomMargin:G,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ce,declare:Ce,event:null,face:null,frame:null,frameBorder:null,hSpace:G,leftMargin:G,link:null,longDesc:null,lowSrc:null,marginHeight:G,marginWidth:G,noResize:Ce,noHref:Ce,noShade:Ce,noWrap:Ce,object:null,profile:null,prompt:null,rev:null,rightMargin:G,rules:null,scheme:null,scrolling:Et,standby:null,summary:null,text:null,topMargin:G,valueType:null,version:null,vAlign:null,vLink:null,vSpace:G,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ce,disableRemotePlayback:Ce,prefix:null,property:null,results:G,security:null,unselectable:null},space:"html",transform:uA}),WQ=Ol({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Vn,accentHeight:G,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:G,amplitude:G,arabicForm:null,ascent:G,attributeName:null,attributeType:null,azimuth:G,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:G,by:null,calcMode:null,capHeight:G,className:et,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:G,diffuseConstant:G,direction:null,display:null,dur:null,divisor:G,dominantBaseline:null,download:Ce,dx:null,dy:null,edgeMode:null,editable:null,elevation:G,enableBackground:null,end:null,event:null,exponent:G,externalResourcesRequired:null,fill:null,fillOpacity:G,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:zo,g2:zo,glyphName:zo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:G,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:G,horizOriginX:G,horizOriginY:G,id:null,ideographic:G,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:G,k:G,k1:G,k2:G,k3:G,k4:G,kernelMatrix:Vn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:G,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:G,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:G,overlineThickness:G,paintOrder:null,panose1:null,path:null,pathLength:G,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:et,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:G,pointsAtY:G,pointsAtZ:G,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Vn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Vn,rev:Vn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Vn,requiredFeatures:Vn,requiredFonts:Vn,requiredFormats:Vn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:G,specularExponent:G,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:G,strikethroughThickness:G,string:null,stroke:null,strokeDashArray:Vn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:G,strokeOpacity:G,strokeWidth:null,style:null,surfaceScale:G,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Vn,tabIndex:G,tableValues:null,target:null,targetX:G,targetY:G,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Vn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:G,underlineThickness:G,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:G,values:null,vAlphabetic:G,vMathematical:G,vectorEffect:null,vHanging:G,vIdeographic:G,version:null,vertAdvY:G,vertOriginX:G,vertOriginY:G,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:G,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:cA}),dA=Ol({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),fA=Ol({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:uA}),hA=Ol({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),VQ={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},QQ=/[A-Z]/g,Wj=/-[a-z]/g,KQ=/^data[-\w.:]+$/i;function GQ(e,t){const n=Cy(t);let r=t,i=qn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&KQ.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Wj,XQ);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Wj.test(s)){let a=s.replace(QQ,YQ);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=Mb}return new i(r,t)}function YQ(e){return"-"+e.toLowerCase()}function XQ(e){return e.charAt(1).toUpperCase()}const JQ=oA([lA,qQ,dA,fA,hA],"html"),$b=oA([lA,WQ,dA,fA,hA],"svg");function ZQ(e){return e.join(" ").trim()}var Ub={},Vj=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,eK=/\n/g,tK=/^\s*/,nK=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,rK=/^:\s*/,iK=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,sK=/^[;\s]*/,aK=/^\s+|\s+$/g,oK=`
`,Qj="/",Kj="*",ca="",lK="comment",cK="declaration",uK=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var m=g.match(eK);m&&(n+=m.length);var b=g.lastIndexOf(oK);r=~b?g.length-b:r+g.length}function s(){var g={line:n,column:r};return function(m){return m.position=new a(g),u(),m}}function a(g){this.start=g,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function l(g){var m=new Error(t.source+":"+n+":"+r+": "+g);if(m.reason=g,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function c(g){var m=g.exec(e);if(m){var b=m[0];return i(b),e=e.slice(b.length),m}}function u(){c(tK)}function f(g){var m;for(g=g||[];m=d();)m!==!1&&g.push(m);return g}function d(){var g=s();if(!(Qj!=e.charAt(0)||Kj!=e.charAt(1))){for(var m=2;ca!=e.charAt(m)&&(Kj!=e.charAt(m)||Qj!=e.charAt(m+1));)++m;if(m+=2,ca===e.charAt(m-1))return l("End of comment missing");var b=e.slice(2,m-2);return r+=2,i(b),e=e.slice(m),r+=2,g({type:lK,comment:b})}}function h(){var g=s(),m=c(nK);if(m){if(d(),!c(rK))return l("property missing ':'");var b=c(iK),v=g({type:cK,property:Gj(m[0].replace(Vj,ca)),value:b?Gj(b[0].replace(Vj,ca)):ca});return c(sK),v}}function p(){var g=[];f(g);for(var m;m=h();)m!==!1&&(g.push(m),f(g));return g}return u(),p()};function Gj(e){return e?e.replace(aK,ca):ca}var dK=cn&&cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ub,"__esModule",{value:!0});Ub.default=hK;var fK=dK(uK);function hK(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,fK.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var a=s.property,l=s.value;i?t(a,l,s):l&&(n=n||{},n[a]=l)}}),n}var Np={};Object.defineProperty(Np,"__esModule",{value:!0});Np.camelCase=void 0;var pK=/^--[a-zA-Z0-9_-]+$/,mK=/-([a-z])/g,gK=/^[^-]+$/,vK=/^-(webkit|moz|ms|o|khtml)-/,yK=/^-(ms)-/,xK=function(e){return!e||gK.test(e)||pK.test(e)},bK=function(e,t){return t.toUpperCase()},Yj=function(e,t){return"".concat(t,"-")},wK=function(e,t){return t===void 0&&(t={}),xK(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(yK,Yj):e=e.replace(vK,Yj),e.replace(mK,bK))};Np.camelCase=wK;var SK=cn&&cn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},jK=SK(Ub),_K=Np;function Ry(e,t){var n={};return!e||typeof e!="string"||(0,jK.default)(e,function(r,i){r&&i&&(n[(0,_K.camelCase)(r,t)]=i)}),n}Ry.default=Ry;var EK=Ry;const CK=Ia(EK),pA=mA("end"),zb=mA("start");function mA(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function kK(e){const t=zb(e),n=pA(e);if(t&&n)return{start:t,end:n}}function Oc(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Xj(e.position):"start"in e||"end"in e?Xj(e):"line"in e||"column"in e?Ny(e):""}function Ny(e){return Jj(e&&e.line)+":"+Jj(e&&e.column)}function Xj(e){return Ny(e&&e.start)+"-"+Ny(e&&e.end)}function Jj(e){return e&&typeof e=="number"?e:1}class vn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=Oc(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}vn.prototype.file="";vn.prototype.name="";vn.prototype.reason="";vn.prototype.message="";vn.prototype.stack="";vn.prototype.column=void 0;vn.prototype.line=void 0;vn.prototype.ancestors=void 0;vn.prototype.cause=void 0;vn.prototype.fatal=void 0;vn.prototype.place=void 0;vn.prototype.ruleId=void 0;vn.prototype.source=void 0;const Bb={}.hasOwnProperty,PK=new Map,RK=/[A-Z]/g,NK=new Set(["table","tbody","thead","tfoot","tr"]),TK=new Set(["td","th"]),gA="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function AK(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=UK(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=$K(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?$b:JQ,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=vA(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function vA(e,t,n){if(t.type==="element")return OK(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return IK(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return FK(e,t,n);if(t.type==="mdxjsEsm")return DK(e,t);if(t.type==="root")return LK(e,t,n);if(t.type==="text")return MK(e,t)}function OK(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=$b,e.schema=i),e.ancestors.push(t);const s=xA(e,t.tagName,!1),a=zK(e,t);let l=qb(e,t);return NK.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!BQ(c):!0})),yA(e,a,s,t),Hb(a,l),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function IK(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}$u(e,t.position)}function DK(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);$u(e,t.position)}function FK(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=$b,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:xA(e,t.name,!0),a=BK(e,t),l=qb(e,t);return yA(e,a,s,t),Hb(a,l),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function LK(e,t,n){const r={};return Hb(r,qb(e,t)),e.create(t,e.Fragment,r,n)}function MK(e,t){return t.value}function yA(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Hb(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function $K(e,t,n){return r;function r(i,s,a,l){const u=Array.isArray(a.children)?n:t;return l?u(s,a,l):u(s,a)}}function UK(e,t){return n;function n(r,i,s,a){const l=Array.isArray(s.children),c=zb(r);return t(i,s,a,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function zK(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Bb.call(t.properties,i)){const s=HK(e,i,t.properties[i]);if(s){const[a,l]=s;e.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&TK.has(t.tagName)?r=l:n[a]=l}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function BK(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const l=a.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else $u(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,s=e.evaluater.evaluateExpression(l.expression)}else $u(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function qb(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:PK;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const u=i.get(c)||0;a=c+"-"+u,i.set(c,u+1)}}const l=vA(e,s,a);l!==void 0&&n.push(l)}return n}function HK(e,t,n){const r=GQ(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?LQ(n):ZQ(n)),r.property==="style"){let i=typeof n=="object"?n:qK(e,String(n));return e.stylePropertyNameCase==="css"&&(i=WK(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?VQ[r.property]||r.property:r.attribute,n]}}function qK(e,t){try{return CK(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new vn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=gA+"#cannot-parse-style-attribute",i}}function xA(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const l=Bj(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}r=a}else r=Bj(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Bb.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);$u(e)}function $u(e,t){const n=new vn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=gA+"#cannot-handle-mdx-estrees-without-createevaluater",n}function WK(e){const t={};let n;for(n in e)Bb.call(e,n)&&(t[VK(n)]=e[n]);return t}function VK(e){let t=e.replace(RK,QK);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function QK(e){return"-"+e.toLowerCase()}const gg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},KK={};function Wb(e,t){const n=KK,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return bA(e,r,i)}function bA(e,t,n){if(GK(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Zj(e.children,t,n)}return Array.isArray(e)?Zj(e,t,n):""}function Zj(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=bA(e[i],t,n);return r.join("")}function GK(e){return!!(e&&typeof e=="object")}const e_=document.createElement("i");function Vb(e){const t="&"+e+";";e_.innerHTML=t;const n=e_.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ir(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function mr(e,t){return e.length>0?(ir(e,e.length,0,t),e):t}const t_={}.hasOwnProperty;function wA(e){const t={};let n=-1;for(;++n<e.length;)YK(t,e[n]);return t}function YK(e,t){let n;for(n in t){const i=(t_.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){t_.call(i,a)||(i[a]=[]);const l=s[a];XK(i[a],Array.isArray(l)?l:l?[l]:[])}}}function XK(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ir(e,0,0,r)}function SA(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function zr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Cn=Ks(/[A-Za-z]/),ln=Ks(/[\dA-Za-z]/),JK=Ks(/[#-'*+\--9=?A-Z^-~]/);function jh(e){return e!==null&&(e<32||e===127)}const Ty=Ks(/\d/),ZK=Ks(/[\dA-Fa-f]/),eG=Ks(/[!-/:-@[-`{-~]/);function pe(e){return e!==null&&e<-2}function Ge(e){return e!==null&&(e<0||e===32)}function Oe(e){return e===-2||e===-1||e===32}const Tp=Ks(new RegExp("\\p{P}|\\p{S}","u")),Aa=Ks(/\s/);function Ks(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Il(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&ln(e.charCodeAt(n+1))&&ln(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const l=e.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(a=String.fromCharCode(s,l),i=1):a="�"}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Fe(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(c){return Oe(c)?(e.enter(n),l(c)):t(c)}function l(c){return Oe(c)&&s++<i?(e.consume(c),l):(e.exit(n),t(c))}}const tG={tokenize:nG};function nG(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Fe(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),s(l)}function s(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(l)}function a(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return pe(l)?(e.consume(l),e.exit("chunkText"),s):(e.consume(l),a)}}const rG={tokenize:iG},n_={tokenize:sG};function iG(e){const t=this,n=[];let r=0,i,s,a;return l;function l(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,c,u)(w)}return u(w)}function c(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const S=t.events.length;let _=S,j;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){j=t.events[_][1].end;break}v(r);let P=S;for(;P<t.events.length;)t.events[P][1].end={...j},P++;return ir(t.events,_+1,0,t.events.slice(S)),t.events.length=P,u(w)}return l(w)}function u(w){if(r===n.length){if(!i)return h(w);if(i.currentConstruct&&i.currentConstruct.concrete)return g(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(n_,f,d)(w)}function f(w){return i&&x(),v(r),h(w)}function d(w){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,g(w)}function h(w){return t.containerState={},e.attempt(n_,p,g)(w)}function p(w){return r++,n.push([t.currentConstruct,t.containerState]),h(w)}function g(w){if(w===null){i&&x(),v(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),m(w)}function m(w){if(w===null){b(e.exit("chunkFlow"),!0),v(0),e.consume(w);return}return pe(w)?(e.consume(w),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(w),m)}function b(w,S){const _=t.sliceStream(w);if(S&&_.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(_),t.parser.lazy[w.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<a&&(!i.events[j][1].end||i.events[j][1].end.offset>a))return;const P=t.events.length;let R=P,$,k;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){if($){k=t.events[R][1].end;break}$=!0}for(v(r),j=P;j<t.events.length;)t.events[j][1].end={...k},j++;ir(t.events,R+1,0,t.events.slice(P)),t.events.length=j}}function v(w){let S=n.length;for(;S-- >w;){const _=n[S];t.containerState=_[1],_[0].exit.call(t,e)}n.length=w}function x(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function sG(e,t,n){return Fe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function yl(e){if(e===null||Ge(e)||Aa(e))return 1;if(Tp(e))return 2}function Ap(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Ay={name:"attention",resolveAll:aG,tokenize:oG};function aG(e,t){let n=-1,r,i,s,a,l,c,u,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},h={...e[n][1].start};r_(d,-c),r_(h,c),a={type:c>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},s={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},e[r][1].end={...a.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=mr(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=mr(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),u=mr(u,Ap(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=mr(u,[["exit",s,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,u=mr(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,ir(e,r-1,n-r+3,u),n=r+u.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function oG(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=yl(r);let s;return a;function a(c){return s=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===s)return e.consume(c),l;const u=e.exit("attentionSequence"),f=yl(c),d=!f||f===2&&i||n.includes(c),h=!i||i===2&&f||n.includes(r);return u._open=!!(s===42?d:d&&(i||!h)),u._close=!!(s===42?h:h&&(f||!d)),t(c)}}function r_(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const lG={name:"autolink",tokenize:cG};function cG(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return Cn(p)?(e.consume(p),a):p===64?n(p):u(p)}function a(p){return p===43||p===45||p===46||ln(p)?(r=1,l(p)):u(p)}function l(p){return p===58?(e.consume(p),r=0,c):(p===43||p===45||p===46||ln(p))&&r++<32?(e.consume(p),l):(r=0,u(p))}function c(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||jh(p)?n(p):(e.consume(p),c)}function u(p){return p===64?(e.consume(p),f):JK(p)?(e.consume(p),u):n(p)}function f(p){return ln(p)?d(p):n(p)}function d(p){return p===46?(e.consume(p),r=0,f):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||ln(p))&&r++<63){const g=p===45?h:d;return e.consume(p),g}return n(p)}}const ud={partial:!0,tokenize:uG};function uG(e,t,n){return r;function r(s){return Oe(s)?Fe(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||pe(s)?t(s):n(s)}}const jA={continuation:{tokenize:fG},exit:hG,name:"blockQuote",tokenize:dG};function dG(e,t,n){const r=this;return i;function i(a){if(a===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return Oe(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function fG(e,t,n){const r=this;return i;function i(a){return Oe(a)?Fe(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(jA,t,n)(a)}}function hG(e){e.exit("blockQuote")}const _A={name:"characterEscape",tokenize:pG};function pG(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return eG(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const EA={name:"characterReference",tokenize:mG};function mG(e,t,n){const r=this;let i=0,s,a;return l;function l(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),c}function c(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,a=ln,f(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=ZK,f):(e.enter("characterReferenceValue"),s=7,a=Ty,f(d))}function f(d){if(d===59&&i){const h=e.exit("characterReferenceValue");return a===ln&&!Vb(r.sliceSerialize(h))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(d)&&i++<s?(e.consume(d),f):n(d)}}const i_={partial:!0,tokenize:vG},s_={concrete:!0,name:"codeFenced",tokenize:gG};function gG(e,t,n){const r=this,i={partial:!0,tokenize:_};let s=0,a=0,l;return c;function c(j){return u(j)}function u(j){const P=r.events[r.events.length-1];return s=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,l=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(j)}function f(j){return j===l?(a++,e.consume(j),f):a<3?n(j):(e.exit("codeFencedFenceSequence"),Oe(j)?Fe(e,d,"whitespace")(j):d(j))}function d(j){return j===null||pe(j)?(e.exit("codeFencedFence"),r.interrupt?t(j):e.check(i_,m,S)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(j))}function h(j){return j===null||pe(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(j)):Oe(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Fe(e,p,"whitespace")(j)):j===96&&j===l?n(j):(e.consume(j),h)}function p(j){return j===null||pe(j)?d(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(j))}function g(j){return j===null||pe(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(j)):j===96&&j===l?n(j):(e.consume(j),g)}function m(j){return e.attempt(i,S,b)(j)}function b(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),v}function v(j){return s>0&&Oe(j)?Fe(e,x,"linePrefix",s+1)(j):x(j)}function x(j){return j===null||pe(j)?e.check(i_,m,S)(j):(e.enter("codeFlowValue"),w(j))}function w(j){return j===null||pe(j)?(e.exit("codeFlowValue"),x(j)):(e.consume(j),w)}function S(j){return e.exit("codeFenced"),t(j)}function _(j,P,R){let $=0;return k;function k(z){return j.enter("lineEnding"),j.consume(z),j.exit("lineEnding"),F}function F(z){return j.enter("codeFencedFence"),Oe(z)?Fe(j,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):I(z)}function I(z){return z===l?(j.enter("codeFencedFenceSequence"),U(z)):R(z)}function U(z){return z===l?($++,j.consume(z),U):$>=a?(j.exit("codeFencedFenceSequence"),Oe(z)?Fe(j,T,"whitespace")(z):T(z)):R(z)}function T(z){return z===null||pe(z)?(j.exit("codeFencedFence"),P(z)):R(z)}}}function vG(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const vg={name:"codeIndented",tokenize:xG},yG={partial:!0,tokenize:bG};function xG(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Fe(e,s,"linePrefix",5)(u)}function s(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?c(u):pe(u)?e.attempt(yG,a,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||pe(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function bG(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):pe(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):Fe(e,s,"linePrefix",5)(a)}function s(a){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):pe(a)?i(a):n(a)}}const wG={name:"codeText",previous:jG,resolve:SG,tokenize:_G};function SG(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function jG(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function _G(e,t,n){let r=0,i,s;return a;function a(d){return e.enter("codeText"),e.enter("codeTextSequence"),l(d)}function l(d){return d===96?(e.consume(d),r++,l):(e.exit("codeTextSequence"),c(d))}function c(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),c):d===96?(s=e.enter("codeTextSequence"),i=0,f(d)):pe(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||pe(d)?(e.exit("codeTextData"),c(d)):(e.consume(d),u)}function f(d){return d===96?(e.consume(d),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(s.type="codeTextData",u(d))}}class EG{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&sc(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),sc(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),sc(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);sc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);sc(this.left,n.reverse())}}}function sc(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function CA(e){const t={};let n=-1,r,i,s,a,l,c,u;const f=new EG(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,CG(f,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=f.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},l=f.slice(i,n),l.unshift(r),f.splice(i,n-i+1,l))}}return ir(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function CG(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,c=[],u={};let f,d,h=-1,p=n,g=0,m=0;const b=[m];for(;p;){for(;e.get(++i)[1]!==p;);s.push(i),p._tokenizer||(f=r.sliceStream(p),p.next||f.push(null),d&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(f),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<l.length;)l[h][0]==="exit"&&l[h-1][0]==="enter"&&l[h][1].type===l[h-1][1].type&&l[h][1].start.line!==l[h][1].end.line&&(m=h+1,b.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):b.pop(),h=b.length;h--;){const v=l.slice(b[h],b[h+1]),x=s.pop();c.push([x,x+v.length-1]),e.splice(x,2,v)}for(c.reverse(),h=-1;++h<c.length;)u[g+c[h][0]]=g+c[h][1],g+=c[h][1]-c[h][0]-1;return u}const kG={resolve:RG,tokenize:NG},PG={partial:!0,tokenize:TG};function RG(e){return CA(e),e}function NG(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):pe(l)?e.check(PG,a,s)(l):(e.consume(l),i)}function s(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function a(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function TG(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Fe(e,s,"linePrefix")}function s(a){if(a===null||pe(a))return n(a);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function kA(e,t,n,r,i,s,a,l,c){const u=c||Number.POSITIVE_INFINITY;let f=0;return d;function d(v){return v===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(v),e.exit(s),h):v===null||v===32||v===41||jh(v)?n(v):(e.enter(r),e.enter(a),e.enter(l),e.enter("chunkString",{contentType:"string"}),m(v))}function h(v){return v===62?(e.enter(s),e.consume(v),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(e.exit("chunkString"),e.exit(l),h(v)):v===null||v===60||pe(v)?n(v):(e.consume(v),v===92?g:p)}function g(v){return v===60||v===62||v===92?(e.consume(v),p):p(v)}function m(v){return!f&&(v===null||v===41||Ge(v))?(e.exit("chunkString"),e.exit(l),e.exit(a),e.exit(r),t(v)):f<u&&v===40?(e.consume(v),f++,m):v===41?(e.consume(v),f--,m):v===null||v===32||v===40||jh(v)?n(v):(e.consume(v),v===92?b:m)}function b(v){return v===40||v===41||v===92?(e.consume(v),m):m(v)}}function PA(e,t,n,r,i,s){const a=this;let l=0,c;return u;function u(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(s),f}function f(p){return l>999||p===null||p===91||p===93&&!c||p===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(e.exit(s),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):pe(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||pe(p)||l++>999?(e.exit("chunkString"),f(p)):(e.consume(p),c||(c=!Oe(p)),p===92?h:d)}function h(p){return p===91||p===92||p===93?(e.consume(p),l++,d):d(p)}}function RA(e,t,n,r,i,s){let a;return l;function l(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),a=h===40?41:h,c):n(h)}function c(h){return h===a?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(s),u(h))}function u(h){return h===a?(e.exit(s),c(a)):h===null?n(h):pe(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Fe(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===a||h===null||pe(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?d:f)}function d(h){return h===a||h===92?(e.consume(h),f):f(h)}}function Ic(e,t){let n;return r;function r(i){return pe(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Oe(i)?Fe(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const AG={name:"definition",tokenize:IG},OG={partial:!0,tokenize:DG};function IG(e,t,n){const r=this;let i;return s;function s(p){return e.enter("definition"),a(p)}function a(p){return PA.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function l(p){return i=zr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),c):n(p)}function c(p){return Ge(p)?Ic(e,u)(p):u(p)}function u(p){return kA(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function f(p){return e.attempt(OG,d,d)(p)}function d(p){return Oe(p)?Fe(e,h,"whitespace")(p):h(p)}function h(p){return p===null||pe(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function DG(e,t,n){return r;function r(l){return Ge(l)?Ic(e,i)(l):n(l)}function i(l){return RA(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return Oe(l)?Fe(e,a,"whitespace")(l):a(l)}function a(l){return l===null||pe(l)?t(l):n(l)}}const FG={name:"hardBreakEscape",tokenize:LG};function LG(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return pe(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const MG={name:"headingAtx",resolve:$G,tokenize:UG};function $G(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ir(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function UG(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),s(f)}function s(f){return e.enter("atxHeadingSequence"),a(f)}function a(f){return f===35&&r++<6?(e.consume(f),a):f===null||Ge(f)?(e.exit("atxHeadingSequence"),l(f)):n(f)}function l(f){return f===35?(e.enter("atxHeadingSequence"),c(f)):f===null||pe(f)?(e.exit("atxHeading"),t(f)):Oe(f)?Fe(e,l,"whitespace")(f):(e.enter("atxHeadingText"),u(f))}function c(f){return f===35?(e.consume(f),c):(e.exit("atxHeadingSequence"),l(f))}function u(f){return f===null||f===35||Ge(f)?(e.exit("atxHeadingText"),l(f)):(e.consume(f),u)}}const zG=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],a_=["pre","script","style","textarea"],BG={concrete:!0,name:"htmlFlow",resolveTo:WG,tokenize:VG},HG={partial:!0,tokenize:KG},qG={partial:!0,tokenize:QG};function WG(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function VG(e,t,n){const r=this;let i,s,a,l,c;return u;function u(N){return f(N)}function f(N){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(N),d}function d(N){return N===33?(e.consume(N),h):N===47?(e.consume(N),s=!0,m):N===63?(e.consume(N),i=3,r.interrupt?t:C):Cn(N)?(e.consume(N),a=String.fromCharCode(N),b):n(N)}function h(N){return N===45?(e.consume(N),i=2,p):N===91?(e.consume(N),i=5,l=0,g):Cn(N)?(e.consume(N),i=4,r.interrupt?t:C):n(N)}function p(N){return N===45?(e.consume(N),r.interrupt?t:C):n(N)}function g(N){const ne="CDATA[";return N===ne.charCodeAt(l++)?(e.consume(N),l===ne.length?r.interrupt?t:I:g):n(N)}function m(N){return Cn(N)?(e.consume(N),a=String.fromCharCode(N),b):n(N)}function b(N){if(N===null||N===47||N===62||Ge(N)){const ne=N===47,ae=a.toLowerCase();return!ne&&!s&&a_.includes(ae)?(i=1,r.interrupt?t(N):I(N)):zG.includes(a.toLowerCase())?(i=6,ne?(e.consume(N),v):r.interrupt?t(N):I(N)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):s?x(N):w(N))}return N===45||ln(N)?(e.consume(N),a+=String.fromCharCode(N),b):n(N)}function v(N){return N===62?(e.consume(N),r.interrupt?t:I):n(N)}function x(N){return Oe(N)?(e.consume(N),x):k(N)}function w(N){return N===47?(e.consume(N),k):N===58||N===95||Cn(N)?(e.consume(N),S):Oe(N)?(e.consume(N),w):k(N)}function S(N){return N===45||N===46||N===58||N===95||ln(N)?(e.consume(N),S):_(N)}function _(N){return N===61?(e.consume(N),j):Oe(N)?(e.consume(N),_):w(N)}function j(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),c=N,P):Oe(N)?(e.consume(N),j):R(N)}function P(N){return N===c?(e.consume(N),c=null,$):N===null||pe(N)?n(N):(e.consume(N),P)}function R(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||Ge(N)?_(N):(e.consume(N),R)}function $(N){return N===47||N===62||Oe(N)?w(N):n(N)}function k(N){return N===62?(e.consume(N),F):n(N)}function F(N){return N===null||pe(N)?I(N):Oe(N)?(e.consume(N),F):n(N)}function I(N){return N===45&&i===2?(e.consume(N),A):N===60&&i===1?(e.consume(N),M):N===62&&i===4?(e.consume(N),D):N===63&&i===3?(e.consume(N),C):N===93&&i===5?(e.consume(N),O):pe(N)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(HG,B,U)(N)):N===null||pe(N)?(e.exit("htmlFlowData"),U(N)):(e.consume(N),I)}function U(N){return e.check(qG,T,B)(N)}function T(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),z}function z(N){return N===null||pe(N)?U(N):(e.enter("htmlFlowData"),I(N))}function A(N){return N===45?(e.consume(N),C):I(N)}function M(N){return N===47?(e.consume(N),a="",E):I(N)}function E(N){if(N===62){const ne=a.toLowerCase();return a_.includes(ne)?(e.consume(N),D):I(N)}return Cn(N)&&a.length<8?(e.consume(N),a+=String.fromCharCode(N),E):I(N)}function O(N){return N===93?(e.consume(N),C):I(N)}function C(N){return N===62?(e.consume(N),D):N===45&&i===2?(e.consume(N),C):I(N)}function D(N){return N===null||pe(N)?(e.exit("htmlFlowData"),B(N)):(e.consume(N),D)}function B(N){return e.exit("htmlFlow"),t(N)}}function QG(e,t,n){const r=this;return i;function i(a){return pe(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function KG(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(ud,t,n)}}const GG={name:"htmlText",tokenize:YG};function YG(e,t,n){const r=this;let i,s,a;return l;function l(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),c}function c(C){return C===33?(e.consume(C),u):C===47?(e.consume(C),_):C===63?(e.consume(C),w):Cn(C)?(e.consume(C),R):n(C)}function u(C){return C===45?(e.consume(C),f):C===91?(e.consume(C),s=0,g):Cn(C)?(e.consume(C),x):n(C)}function f(C){return C===45?(e.consume(C),p):n(C)}function d(C){return C===null?n(C):C===45?(e.consume(C),h):pe(C)?(a=d,M(C)):(e.consume(C),d)}function h(C){return C===45?(e.consume(C),p):d(C)}function p(C){return C===62?A(C):C===45?h(C):d(C)}function g(C){const D="CDATA[";return C===D.charCodeAt(s++)?(e.consume(C),s===D.length?m:g):n(C)}function m(C){return C===null?n(C):C===93?(e.consume(C),b):pe(C)?(a=m,M(C)):(e.consume(C),m)}function b(C){return C===93?(e.consume(C),v):m(C)}function v(C){return C===62?A(C):C===93?(e.consume(C),v):m(C)}function x(C){return C===null||C===62?A(C):pe(C)?(a=x,M(C)):(e.consume(C),x)}function w(C){return C===null?n(C):C===63?(e.consume(C),S):pe(C)?(a=w,M(C)):(e.consume(C),w)}function S(C){return C===62?A(C):w(C)}function _(C){return Cn(C)?(e.consume(C),j):n(C)}function j(C){return C===45||ln(C)?(e.consume(C),j):P(C)}function P(C){return pe(C)?(a=P,M(C)):Oe(C)?(e.consume(C),P):A(C)}function R(C){return C===45||ln(C)?(e.consume(C),R):C===47||C===62||Ge(C)?$(C):n(C)}function $(C){return C===47?(e.consume(C),A):C===58||C===95||Cn(C)?(e.consume(C),k):pe(C)?(a=$,M(C)):Oe(C)?(e.consume(C),$):A(C)}function k(C){return C===45||C===46||C===58||C===95||ln(C)?(e.consume(C),k):F(C)}function F(C){return C===61?(e.consume(C),I):pe(C)?(a=F,M(C)):Oe(C)?(e.consume(C),F):$(C)}function I(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),i=C,U):pe(C)?(a=I,M(C)):Oe(C)?(e.consume(C),I):(e.consume(C),T)}function U(C){return C===i?(e.consume(C),i=void 0,z):C===null?n(C):pe(C)?(a=U,M(C)):(e.consume(C),U)}function T(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||Ge(C)?$(C):(e.consume(C),T)}function z(C){return C===47||C===62||Ge(C)?$(C):n(C)}function A(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function M(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),E}function E(C){return Oe(C)?Fe(e,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):O(C)}function O(C){return e.enter("htmlTextData"),a(C)}}const Qb={name:"labelEnd",resolveAll:eY,resolveTo:tY,tokenize:nY},XG={tokenize:rY},JG={tokenize:iY},ZG={tokenize:sY};function eY(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&ir(e,0,e.length,n),e}function tY(e,t){let n=e.length,r=0,i,s,a,l;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const c={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},f={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=mr(l,e.slice(s+1,s+r+3)),l=mr(l,[["enter",f,t]]),l=mr(l,Ap(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),l=mr(l,[["exit",f,t],e[a-2],e[a-1],["exit",u,t]]),l=mr(l,e.slice(a+1)),l=mr(l,[["exit",c,t]]),ir(e,s,e.length,l),e}function nY(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(h){return s?s._inactive?d(h):(a=r.parser.defined.includes(zr(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),c):n(h)}function c(h){return h===40?e.attempt(XG,f,a?f:d)(h):h===91?e.attempt(JG,f,a?u:d)(h):a?f(h):d(h)}function u(h){return e.attempt(ZG,f,d)(h)}function f(h){return t(h)}function d(h){return s._balanced=!0,n(h)}}function rY(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return Ge(d)?Ic(e,s)(d):s(d)}function s(d){return d===41?f(d):kA(e,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function a(d){return Ge(d)?Ic(e,c)(d):f(d)}function l(d){return n(d)}function c(d){return d===34||d===39||d===40?RA(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):f(d)}function u(d){return Ge(d)?Ic(e,f)(d):f(d)}function f(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function iY(e,t,n){const r=this;return i;function i(l){return PA.call(r,e,s,a,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(zr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function a(l){return n(l)}}function sY(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const aY={name:"labelStartImage",resolveAll:Qb.resolveAll,tokenize:oY};function oY(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),s}function s(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const lY={name:"labelStartLink",resolveAll:Qb.resolveAll,tokenize:cY};function cY(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const yg={name:"lineEnding",tokenize:uY};function uY(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Fe(e,t,"linePrefix")}}const Af={name:"thematicBreak",tokenize:dY};function dY(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,l(u)}function l(u){return u===i?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||pe(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===i?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),Oe(u)?Fe(e,l,"whitespace")(u):l(u))}}const Dn={continuation:{tokenize:mY},exit:vY,name:"list",tokenize:pY},fY={partial:!0,tokenize:yY},hY={partial:!0,tokenize:gY};function pY(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return l;function l(p){const g=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:Ty(p)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(Af,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(p)}return n(p)}function c(p){return Ty(p)&&++a<10?(e.consume(p),c):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(ud,r.interrupt?n:f,e.attempt(fY,h,d))}function f(p){return r.containerState.initialBlankLine=!0,s++,h(p)}function d(p){return Oe(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function mY(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ud,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Fe(e,t,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!Oe(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(hY,t,a)(l))}function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Fe(e,e.attempt(Dn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function gY(e,t,n){const r=this;return Fe(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function vY(e){e.exit(this.containerState.type)}function yY(e,t,n){const r=this;return Fe(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!Oe(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const o_={name:"setextUnderline",resolveTo:xY,tokenize:bY};function xY(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function bY(e,t,n){const r=this;let i;return s;function s(u){let f=r.events.length,d;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){d=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),Oe(u)?Fe(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||pe(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const wY={tokenize:SY};function SY(e){const t=this,n=e.attempt(ud,r,e.attempt(this.parser.constructs.flowInitial,i,Fe(e,e.attempt(this.parser.constructs.flow,i,e.attempt(kG,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const jY={resolveAll:TA()},_Y=NA("string"),EY=NA("text");function NA(e){return{resolveAll:TA(e==="text"?CY:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,l);return a;function a(f){return u(f)?s(f):l(f)}function l(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),c}function c(f){return u(f)?(n.exit("data"),s(f)):(n.consume(f),c)}function u(f){if(f===null)return!0;const d=i[f];let h=-1;if(d)for(;++h<d.length;){const p=d[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function TA(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function CY(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,l=0,c;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(u===-2)c=!0,l++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const kY={42:Dn,43:Dn,45:Dn,48:Dn,49:Dn,50:Dn,51:Dn,52:Dn,53:Dn,54:Dn,55:Dn,56:Dn,57:Dn,62:jA},PY={91:AG},RY={[-2]:vg,[-1]:vg,32:vg},NY={35:MG,42:Af,45:[o_,Af],60:BG,61:o_,95:Af,96:s_,126:s_},TY={38:EA,92:_A},AY={[-5]:yg,[-4]:yg,[-3]:yg,33:aY,38:EA,42:Ay,60:[lG,GG],91:lY,92:[FG,_A],93:Qb,95:Ay,96:wG},OY={null:[Ay,jY]},IY={null:[42,95]},DY={null:[]},FY=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:IY,contentInitial:PY,disable:DY,document:kY,flow:NY,flowInitial:RY,insideSpan:OY,string:TY,text:AY},Symbol.toStringTag,{value:"Module"}));function LY(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],l=[];const c={attempt:P(_),check:P(j),consume:x,enter:w,exit:S,interrupt:P(j,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:g,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:d};let f=t.tokenize.call(u,c);return t.resolveAll&&s.push(t),u;function d(F){return a=mr(a,F),b(),a[a.length-1]!==null?[]:(R(t,0),u.events=Ap(s,u.events,u),u.events)}function h(F,I){return $Y(p(F),I)}function p(F){return MY(a,F)}function g(){const{_bufferIndex:F,_index:I,line:U,column:T,offset:z}=r;return{_bufferIndex:F,_index:I,line:U,column:T,offset:z}}function m(F){i[F.line]=F.column,k()}function b(){let F;for(;r._index<a.length;){const I=a[r._index];if(typeof I=="string")for(F=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===F&&r._bufferIndex<I.length;)v(I.charCodeAt(r._bufferIndex));else v(I)}}function v(F){f=f(F)}function x(F){pe(F)?(r.line++,r.column=1,r.offset+=F===-3?2:1,k()):F!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=F}function w(F,I){const U=I||{};return U.type=F,U.start=g(),u.events.push(["enter",U,u]),l.push(U),U}function S(F){const I=l.pop();return I.end=g(),u.events.push(["exit",I,u]),I}function _(F,I){R(F,I.from)}function j(F,I){I.restore()}function P(F,I){return U;function U(T,z,A){let M,E,O,C;return Array.isArray(T)?B(T):"tokenize"in T?B([T]):D(T);function D(Y){return X;function X(re){const le=re!==null&&Y[re],ue=re!==null&&Y.null,we=[...Array.isArray(le)?le:le?[le]:[],...Array.isArray(ue)?ue:ue?[ue]:[]];return B(we)(re)}}function B(Y){return M=Y,E=0,Y.length===0?A:N(Y[E])}function N(Y){return X;function X(re){return C=$(),O=Y,Y.partial||(u.currentConstruct=Y),Y.name&&u.parser.constructs.disable.null.includes(Y.name)?ae():Y.tokenize.call(I?Object.assign(Object.create(u),I):u,c,ne,ae)(re)}}function ne(Y){return F(O,C),z}function ae(Y){return C.restore(),++E<M.length?N(M[E]):A}}}function R(F,I){F.resolveAll&&!s.includes(F)&&s.push(F),F.resolve&&ir(u.events,I,u.events.length-I,F.resolve(u.events.slice(I),u)),F.resolveTo&&(u.events=F.resolveTo(u.events,u))}function $(){const F=g(),I=u.previous,U=u.currentConstruct,T=u.events.length,z=Array.from(l);return{from:T,restore:A};function A(){r=F,u.previous=I,u.currentConstruct=U,u.events.length=T,l=z,k()}}function k(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function MY(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function $Y(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function UY(e){const r={constructs:wA([FY,...(e||{}).extensions||[]]),content:i(tG),defined:[],document:i(rG),flow:i(wY),lazy:{},string:i(_Y),text:i(EY)};return r;function i(s){return a;function a(l){return LY(r,s,l)}}}function zY(e){for(;!CA(e););return e}const l_=/[\0\t\n\r]/g;function BY(){let e=1,t="",n=!0,r;return i;function i(s,a,l){const c=[];let u,f,d,h,p;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),d=0,t="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(l_.lastIndex=d,u=l_.exec(s),h=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(h),!u){t=s.slice(d);break}if(p===10&&d===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),d<h&&(c.push(s.slice(d,h)),e+=h-d),p){case 0:{c.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,c.push(-2);e++<f;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}d=h+1}return l&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const HY=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function qY(e){return e.replace(HY,WY)}function WY(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return SA(n.slice(s?2:1),s?16:10)}return Vb(n)||e}const AA={}.hasOwnProperty;function VY(e,t,n){return typeof t!="string"&&(n=t,t=void 0),QY(n)(zY(UY(n).document().write(BY()(e,t,!0))))}function QY(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ut),autolinkProtocol:$,autolinkEmail:$,atxHeading:s(Rt),blockQuote:s(ue),characterEscape:$,characterReference:$,codeFenced:s(we),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(we,a),codeText:s(ke,a),codeTextData:$,data:$,codeFlowValue:$,definition:s(pt),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Pt),hardBreakEscape:s(ct),hardBreakTrailing:s(ct),htmlFlow:s(cr,a),htmlFlowData:$,htmlText:s(cr,a),htmlTextData:$,image:s(Gs),label:a,link:s(ut),listItem:s(Dl),listItemValue:h,listOrdered:s(ur,d),listUnordered:s(ur),paragraph:s(Pe),reference:N,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Rt),strong:s(oe),thematicBreak:s(Re)},exit:{atxHeading:c(),atxHeadingSequence:_,autolink:c(),autolinkEmail:le,autolinkProtocol:re,blockQuote:c(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:ae,characterReferenceMarkerNumeric:ae,characterReferenceValue:Y,characterReference:X,codeFenced:c(b),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:k,codeIndented:c(v),codeText:c(z),codeTextData:k,data:k,definition:c(),definitionDestinationString:S,definitionLabelString:x,definitionTitleString:w,emphasis:c(),hardBreakEscape:c(I),hardBreakTrailing:c(I),htmlFlow:c(U),htmlFlowData:k,htmlText:c(T),htmlTextData:k,image:c(M),label:O,labelText:E,lineEnding:F,link:c(A),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:ne,resourceDestinationString:C,resourceTitleString:D,resource:B,setextHeading:c(R),setextHeadingLineSequence:P,setextHeadingText:j,strong:c(),thematicBreak:c()}};OA(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(H){let V={type:"root",children:[]};const fe={stack:[V],tokenStack:[],config:t,enter:l,exit:u,buffer:a,resume:f,data:n},xe=[];let Me=-1;for(;++Me<H.length;)if(H[Me][1].type==="listOrdered"||H[Me][1].type==="listUnordered")if(H[Me][0]==="enter")xe.push(Me);else{const Nt=xe.pop();Me=i(H,Nt,Me)}for(Me=-1;++Me<H.length;){const Nt=t[H[Me][0]];AA.call(Nt,H[Me][1].type)&&Nt[H[Me][1].type].call(Object.assign({sliceSerialize:H[Me][2].sliceSerialize},fe),H[Me][1])}if(fe.tokenStack.length>0){const Nt=fe.tokenStack[fe.tokenStack.length-1];(Nt[1]||c_).call(fe,void 0,Nt[0])}for(V.position={start:es(H.length>0?H[0][1].start:{line:1,column:1,offset:0}),end:es(H.length>0?H[H.length-2][1].end:{line:1,column:1,offset:0})},Me=-1;++Me<t.transforms.length;)V=t.transforms[Me](V)||V;return V}function i(H,V,fe){let xe=V-1,Me=-1,Nt=!1,dr,Tn,pi,An;for(;++xe<=fe;){const We=H[xe];switch(We[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{We[0]==="enter"?Me++:Me--,An=void 0;break}case"lineEndingBlank":{We[0]==="enter"&&(dr&&!An&&!Me&&!pi&&(pi=xe),An=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:An=void 0}if(!Me&&We[0]==="enter"&&We[1].type==="listItemPrefix"||Me===-1&&We[0]==="exit"&&(We[1].type==="listUnordered"||We[1].type==="listOrdered")){if(dr){let Qr=xe;for(Tn=void 0;Qr--;){const he=H[Qr];if(he[1].type==="lineEnding"||he[1].type==="lineEndingBlank"){if(he[0]==="exit")continue;Tn&&(H[Tn][1].type="lineEndingBlank",Nt=!0),he[1].type="lineEnding",Tn=Qr}else if(!(he[1].type==="linePrefix"||he[1].type==="blockQuotePrefix"||he[1].type==="blockQuotePrefixWhitespace"||he[1].type==="blockQuoteMarker"||he[1].type==="listItemIndent"))break}pi&&(!Tn||pi<Tn)&&(dr._spread=!0),dr.end=Object.assign({},Tn?H[Tn][1].start:We[1].end),H.splice(Tn||xe,0,["exit",dr,We[2]]),xe++,fe++}if(We[1].type==="listItemPrefix"){const Qr={type:"listItem",_spread:!1,start:Object.assign({},We[1].start),end:void 0};dr=Qr,H.splice(xe,0,["enter",Qr,We[2]]),xe++,fe++,pi=void 0,An=!0}}}return H[V][1]._spread=Nt,fe}function s(H,V){return fe;function fe(xe){l.call(this,H(xe),xe),V&&V.call(this,xe)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(H,V,fe){this.stack[this.stack.length-1].children.push(H),this.stack.push(H),this.tokenStack.push([V,fe||void 0]),H.position={start:es(V.start),end:void 0}}function c(H){return V;function V(fe){H&&H.call(this,fe),u.call(this,fe)}}function u(H,V){const fe=this.stack.pop(),xe=this.tokenStack.pop();if(xe)xe[0].type!==H.type&&(V?V.call(this,H,xe[0]):(xe[1]||c_).call(this,H,xe[0]));else throw new Error("Cannot close `"+H.type+"` ("+Oc({start:H.start,end:H.end})+"): it’s not open");fe.position.end=es(H.end)}function f(){return Wb(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(H){if(this.data.expectingFirstListItemValue){const V=this.stack[this.stack.length-2];V.start=Number.parseInt(this.sliceSerialize(H),10),this.data.expectingFirstListItemValue=void 0}}function p(){const H=this.resume(),V=this.stack[this.stack.length-1];V.lang=H}function g(){const H=this.resume(),V=this.stack[this.stack.length-1];V.meta=H}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const H=this.resume(),V=this.stack[this.stack.length-1];V.value=H.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const H=this.resume(),V=this.stack[this.stack.length-1];V.value=H.replace(/(\r?\n|\r)$/g,"")}function x(H){const V=this.resume(),fe=this.stack[this.stack.length-1];fe.label=V,fe.identifier=zr(this.sliceSerialize(H)).toLowerCase()}function w(){const H=this.resume(),V=this.stack[this.stack.length-1];V.title=H}function S(){const H=this.resume(),V=this.stack[this.stack.length-1];V.url=H}function _(H){const V=this.stack[this.stack.length-1];if(!V.depth){const fe=this.sliceSerialize(H).length;V.depth=fe}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function P(H){const V=this.stack[this.stack.length-1];V.depth=this.sliceSerialize(H).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function $(H){const fe=this.stack[this.stack.length-1].children;let xe=fe[fe.length-1];(!xe||xe.type!=="text")&&(xe=De(),xe.position={start:es(H.start),end:void 0},fe.push(xe)),this.stack.push(xe)}function k(H){const V=this.stack.pop();V.value+=this.sliceSerialize(H),V.position.end=es(H.end)}function F(H){const V=this.stack[this.stack.length-1];if(this.data.atHardBreak){const fe=V.children[V.children.length-1];fe.position.end=es(H.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(V.type)&&($.call(this,H),k.call(this,H))}function I(){this.data.atHardBreak=!0}function U(){const H=this.resume(),V=this.stack[this.stack.length-1];V.value=H}function T(){const H=this.resume(),V=this.stack[this.stack.length-1];V.value=H}function z(){const H=this.resume(),V=this.stack[this.stack.length-1];V.value=H}function A(){const H=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";H.type+="Reference",H.referenceType=V,delete H.url,delete H.title}else delete H.identifier,delete H.label;this.data.referenceType=void 0}function M(){const H=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";H.type+="Reference",H.referenceType=V,delete H.url,delete H.title}else delete H.identifier,delete H.label;this.data.referenceType=void 0}function E(H){const V=this.sliceSerialize(H),fe=this.stack[this.stack.length-2];fe.label=qY(V),fe.identifier=zr(V).toLowerCase()}function O(){const H=this.stack[this.stack.length-1],V=this.resume(),fe=this.stack[this.stack.length-1];if(this.data.inReference=!0,fe.type==="link"){const xe=H.children;fe.children=xe}else fe.alt=V}function C(){const H=this.resume(),V=this.stack[this.stack.length-1];V.url=H}function D(){const H=this.resume(),V=this.stack[this.stack.length-1];V.title=H}function B(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function ne(H){const V=this.resume(),fe=this.stack[this.stack.length-1];fe.label=V,fe.identifier=zr(this.sliceSerialize(H)).toLowerCase(),this.data.referenceType="full"}function ae(H){this.data.characterReferenceType=H.type}function Y(H){const V=this.sliceSerialize(H),fe=this.data.characterReferenceType;let xe;fe?(xe=SA(V,fe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):xe=Vb(V);const Me=this.stack[this.stack.length-1];Me.value+=xe}function X(H){const V=this.stack.pop();V.position.end=es(H.end)}function re(H){k.call(this,H);const V=this.stack[this.stack.length-1];V.url=this.sliceSerialize(H)}function le(H){k.call(this,H);const V=this.stack[this.stack.length-1];V.url="mailto:"+this.sliceSerialize(H)}function ue(){return{type:"blockquote",children:[]}}function we(){return{type:"code",lang:null,meta:null,value:""}}function ke(){return{type:"inlineCode",value:""}}function pt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Pt(){return{type:"emphasis",children:[]}}function Rt(){return{type:"heading",depth:0,children:[]}}function ct(){return{type:"break"}}function cr(){return{type:"html",value:""}}function Gs(){return{type:"image",title:null,url:"",alt:null}}function ut(){return{type:"link",title:null,url:"",children:[]}}function ur(H){return{type:"list",ordered:H.type==="listOrdered",start:null,spread:H._spread,children:[]}}function Dl(H){return{type:"listItem",spread:H._spread,checked:null,children:[]}}function Pe(){return{type:"paragraph",children:[]}}function oe(){return{type:"strong",children:[]}}function De(){return{type:"text",value:""}}function Re(){return{type:"thematicBreak"}}}function es(e){return{line:e.line,column:e.column,offset:e.offset}}function OA(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?OA(e,r):KY(e,r)}}function KY(e,t){let n;for(n in t)if(AA.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function c_(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Oc({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Oc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Oc({start:t.start,end:t.end})+") is still open")}function GY(e){const t=this;t.parser=n;function n(r){return VY(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function YY(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function XY(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function JY(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function ZY(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function eX(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tX(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Il(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,l+=1,e.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function nX(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rX(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function IA(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function iX(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return IA(e,t);const i={src:Il(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function sX(e,t){const n={src:Il(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function aX(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function oX(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return IA(e,t);const i={href:Il(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function lX(e,t){const n={href:Il(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function cX(e,t,n){const r=e.all(t),i=n?uX(n):DA(t),s={},a=[];if(typeof t.checked=="boolean"){const f=r[0];let d;f&&f.type==="element"&&f.tagName==="p"?d=f:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const f=r[l];(i||l!==0||f.type!=="element"||f.tagName!=="p")&&a.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?a.push(...f.children):a.push(f)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,u),e.applyData(t,u)}function uX(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=DA(n[r])}return t}function DA(e){const t=e.spread;return t??e.children.length>1}function dX(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function fX(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function hX(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function pX(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function mX(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=zb(t.children[1]),c=pA(t.children[t.children.length-1]);l&&c&&(a.position={start:l,end:c}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function gX(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,l=a?a.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const d=t.children[c],h={},p=a?a[c]:void 0;p&&(h.align=p);let g={type:"element",tagName:s,properties:h,children:[]};d&&(g.children=e.all(d),e.patch(d,g),g=e.applyData(d,g)),u.push(g)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,f),e.applyData(t,f)}function vX(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const u_=9,d_=32;function yX(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(f_(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(f_(t.slice(i),i>0,!1)),s.join("")}function f_(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===u_||s===d_;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===u_||s===d_;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function xX(e,t){const n={type:"text",value:yX(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function bX(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const wX={blockquote:YY,break:XY,code:JY,delete:ZY,emphasis:eX,footnoteReference:tX,heading:nX,html:rX,imageReference:iX,image:sX,inlineCode:aX,linkReference:oX,link:lX,listItem:cX,list:dX,paragraph:fX,root:hX,strong:pX,table:mX,tableCell:vX,tableRow:gX,text:xX,thematicBreak:bX,toml:lf,yaml:lf,definition:lf,footnoteDefinition:lf};function lf(){}const FA=-1,Op=0,Dc=1,_h=2,Kb=3,Gb=4,Yb=5,Xb=6,LA=7,MA=8,h_=typeof self=="object"?self:globalThis,SX=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case Op:case FA:return n(a,i);case Dc:{const l=n([],i);for(const c of a)l.push(r(c));return l}case _h:{const l=n({},i);for(const[c,u]of a)l[r(c)]=r(u);return l}case Kb:return n(new Date(a),i);case Gb:{const{source:l,flags:c}=a;return n(new RegExp(l,c),i)}case Yb:{const l=n(new Map,i);for(const[c,u]of a)l.set(r(c),r(u));return l}case Xb:{const l=n(new Set,i);for(const c of a)l.add(r(c));return l}case LA:{const{name:l,message:c}=a;return n(new h_[l](c),i)}case MA:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return n(new DataView(l),a)}}return n(new h_[s](a),i)};return r},p_=e=>SX(new Map,e)(0),ho="",{toString:jX}={},{keys:_X}=Object,ac=e=>{const t=typeof e;if(t!=="object"||!e)return[Op,t];const n=jX.call(e).slice(8,-1);switch(n){case"Array":return[Dc,ho];case"Object":return[_h,ho];case"Date":return[Kb,ho];case"RegExp":return[Gb,ho];case"Map":return[Yb,ho];case"Set":return[Xb,ho];case"DataView":return[Dc,n]}return n.includes("Array")?[Dc,n]:n.includes("Error")?[LA,n]:[_h,n]},cf=([e,t])=>e===Op&&(t==="function"||t==="symbol"),EX=(e,t,n,r)=>{const i=(a,l)=>{const c=r.push(a)-1;return n.set(l,c),c},s=a=>{if(n.has(a))return n.get(a);let[l,c]=ac(a);switch(l){case Op:{let f=a;switch(c){case"bigint":l=MA,f=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);f=null;break;case"undefined":return i([FA],a)}return i([l,f],a)}case Dc:{if(c){let h=a;return c==="DataView"?h=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(a)),i([c,[...h]],a)}const f=[],d=i([l,f],a);for(const h of a)f.push(s(h));return d}case _h:{if(c)switch(c){case"BigInt":return i([c,a.toString()],a);case"Boolean":case"Number":case"String":return i([c,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const f=[],d=i([l,f],a);for(const h of _X(a))(e||!cf(ac(a[h])))&&f.push([s(h),s(a[h])]);return d}case Kb:return i([l,a.toISOString()],a);case Gb:{const{source:f,flags:d}=a;return i([l,{source:f,flags:d}],a)}case Yb:{const f=[],d=i([l,f],a);for(const[h,p]of a)(e||!(cf(ac(h))||cf(ac(p))))&&f.push([s(h),s(p)]);return d}case Xb:{const f=[],d=i([l,f],a);for(const h of a)(e||!cf(ac(h)))&&f.push(s(h));return d}}const{message:u}=a;return i([l,{name:c,message:u}],a)};return s},m_=(e,{json:t,lossy:n}={})=>{const r=[];return EX(!(t||n),!!t,new Map,r)(e),r},Eh=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?p_(m_(e,t)):structuredClone(e):(e,t)=>p_(m_(e,t));function CX(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function kX(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function PX(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||CX,r=e.options.footnoteBackLabel||kX,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const f=e.all(u),d=String(u.identifier).toUpperCase(),h=Il(d.toLowerCase());let p=0;const g=[],m=e.footnoteCounts.get(d);for(;m!==void 0&&++p<=m;){g.length>0&&g.push({type:"text",value:" "});let x=typeof n=="string"?n:n(c,p);typeof x=="string"&&(x={type:"text",value:x}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,p),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const b=f[f.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const x=b.children[b.children.length-1];x&&x.type==="text"?x.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...g)}else f.push(...g);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(f,!0)};e.patch(u,v),l.push(v)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Eh(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Ip=function(e){if(e==null)return AX;if(typeof e=="function")return Dp(e);if(typeof e=="object")return Array.isArray(e)?RX(e):NX(e);if(typeof e=="string")return TX(e);throw new Error("Expected function, string, or object as test")};function RX(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ip(e[n]);return Dp(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function NX(e){const t=e;return Dp(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function TX(e){return Dp(t);function t(n){return n&&n.type===e}}function Dp(e){return t;function t(n,r,i){return!!(OX(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function AX(){return!0}function OX(e){return e!==null&&typeof e=="object"&&"type"in e}const $A=[],IX=!0,Oy=!1,DX="skip";function UA(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Ip(i),a=r?-1:1;l(e,void 0,[])();function l(c,u,f){const d=c&&typeof c=="object"?c:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=$A,g,m,b;if((!t||s(c,u,f[f.length-1]||void 0))&&(p=FX(n(c,f)),p[0]===Oy))return p;if("children"in c&&c.children){const v=c;if(v.children&&p[0]!==DX)for(m=(r?v.children.length:-1)+a,b=f.concat(v);m>-1&&m<v.children.length;){const x=v.children[m];if(g=l(x,m,b)(),g[0]===Oy)return g;m=typeof g[1]=="number"?g[1]:m+a}}return p}}}function FX(e){return Array.isArray(e)?e:typeof e=="number"?[IX,e]:e==null?$A:[e]}function Jb(e,t,n,r){let i,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),UA(e,s,l,i);function l(c,u){const f=u[u.length-1],d=f?f.children.indexOf(c):void 0;return a(c,d,f)}}const Iy={}.hasOwnProperty,LX={};function MX(e,t){const n=t||LX,r=new Map,i=new Map,s=new Map,a={...wX,...n.handlers},l={all:u,applyData:UX,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:c,options:n,patch:$X,wrap:BX};return Jb(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const d=f.type==="definition"?r:i,h=String(f.identifier).toUpperCase();d.has(h)||d.set(h,f)}}),l;function c(f,d){const h=f.type,p=l.handlers[h];if(Iy.call(l.handlers,h)&&p)return p(l,f,d);if(l.options.passThrough&&l.options.passThrough.includes(h)){if("children"in f){const{children:m,...b}=f,v=Eh(b);return v.children=l.all(f),v}return Eh(f)}return(l.options.unknownHandler||zX)(l,f,d)}function u(f){const d=[];if("children"in f){const h=f.children;let p=-1;for(;++p<h.length;){const g=l.one(h[p],f);if(g){if(p&&h[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=g_(g.value)),!Array.isArray(g)&&g.type==="element")){const m=g.children[0];m&&m.type==="text"&&(m.value=g_(m.value))}Array.isArray(g)?d.push(...g):d.push(g)}}}return d}}function $X(e,t){e.position&&(t.position=kK(e))}function UX(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,Eh(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function zX(e,t){const n=t.data||{},r="value"in t&&!(Iy.call(n,"hProperties")||Iy.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function BX(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function g_(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function v_(e,t){const n=MX(e,t),r=n.one(e,void 0),i=PX(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function HX(e,t){return e&&"run"in e?async function(n,r){const i=v_(n,{file:r,...t});await e.run(i,r)}:function(n,r){return v_(n,{file:r,...e||t})}}function y_(e){if(e)throw e}var Of=Object.prototype.hasOwnProperty,zA=Object.prototype.toString,x_=Object.defineProperty,b_=Object.getOwnPropertyDescriptor,w_=function(t){return typeof Array.isArray=="function"?Array.isArray(t):zA.call(t)==="[object Array]"},S_=function(t){if(!t||zA.call(t)!=="[object Object]")return!1;var n=Of.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Of.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Of.call(t,i)},j_=function(t,n){x_&&n.name==="__proto__"?x_(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},__=function(t,n){if(n==="__proto__")if(Of.call(t,n)){if(b_)return b_(t,n).value}else return;return t[n]},qX=function e(){var t,n,r,i,s,a,l=arguments[0],c=1,u=arguments.length,f=!1;for(typeof l=="boolean"&&(f=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=__(l,n),i=__(t,n),l!==i&&(f&&i&&(S_(i)||(s=w_(i)))?(s?(s=!1,a=r&&w_(r)?r:[]):a=r&&S_(r)?r:{},j_(l,{name:n,newValue:e(f,a,i)})):typeof i<"u"&&j_(l,{name:n,newValue:i}));return l};const xg=Ia(qX);function Dy(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function WX(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...i);function l(c,...u){const f=e[++s];let d=-1;if(c){a(c);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,f?VX(f,l)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function VX(e,t){let n;return r;function r(...a){const l=e.length>a.length;let c;l&&a.push(i);try{c=e.apply(this,a)}catch(u){const f=u;if(l&&n)throw f;return i(f)}l||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(a,...l){n||(n=!0,t(a,...l))}function s(a){i(null,a)}}const ti={basename:QX,dirname:KX,extname:GX,join:YX,sep:"/"};function QX(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');dd(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(r=i):(l=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function KX(e){if(dd(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function GX(e){dd(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const l=e.codePointAt(t);if(l===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),l===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function YX(...e){let t=-1,n;for(;++t<e.length;)dd(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":XX(n)}function XX(e){dd(e);const t=e.codePointAt(0)===47;let n=JX(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function JX(e,t){let n="",r=0,i=-1,s=0,a=-1,l,c;for(;++a<=e.length;){if(a<e.length)l=e.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else l===46&&s>-1?s++:s=-1}return n}function dd(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const ZX={cwd:eJ};function eJ(){return"/"}function Fy(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function tJ(e){if(typeof e=="string")e=new URL(e);else if(!Fy(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return nJ(e)}function nJ(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const bg=["history","path","basename","stem","extname","dirname"];class BA{constructor(t){let n;t?Fy(t)?n={path:t}:typeof t=="string"||rJ(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":ZX.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<bg.length;){const s=bg[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)bg.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ti.basename(this.path):void 0}set basename(t){Sg(t,"basename"),wg(t,"basename"),this.path=ti.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ti.dirname(this.path):void 0}set dirname(t){E_(this.basename,"dirname"),this.path=ti.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ti.extname(this.path):void 0}set extname(t){if(wg(t,"extname"),E_(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ti.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Fy(t)&&(t=tJ(t)),Sg(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ti.basename(this.path,this.extname):void 0}set stem(t){Sg(t,"stem"),wg(t,"stem"),this.path=ti.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new vn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function wg(e,t){if(e&&e.includes(ti.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ti.sep+"`")}function Sg(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function E_(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function rJ(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const iJ=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},sJ={}.hasOwnProperty;class Zb extends iJ{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=WX()}copy(){const t=new Zb;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(xg(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Eg("data",this.frozen),this.namespace[t]=n,this):sJ.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Eg("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=uf(t),r=this.parser||this.Parser;return jg("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),jg("process",this.parser||this.Parser),_g("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const l=uf(t),c=r.parse(l);r.run(c,l,function(f,d,h){if(f||!d||!h)return u(f);const p=d,g=r.stringify(p,h);lJ(g)?h.value=g:h.result=g,u(f,h)});function u(f,d){f||!d?a(f):s?s(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),jg("processSync",this.parser||this.Parser),_g("processSync",this.compiler||this.Compiler),this.process(t,i),k_("processSync","process",n),r;function i(s,a){n=!0,y_(s),r=a}}run(t,n,r){C_(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,l){const c=uf(n);i.run(t,c,u);function u(f,d,h){const p=d||t;f?l(f):a?a(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),k_("runSync","run",r),i;function s(a,l){y_(a),i=l,r=!0}}stringify(t,n){this.freeze();const r=uf(n),i=this.compiler||this.Compiler;return _g("stringify",i),C_(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Eg("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...d]=u;c(f,d)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=xg(!0,i.settings,u.settings))}function l(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const d=u[f];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,f){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===u){h=d;break}if(h===-1)r.push([u,...f]);else if(f.length>0){let[p,...g]=f;const m=r[h][1];Dy(m)&&Dy(p)&&(p=xg(!0,m,p)),r[h]=[u,p,...g]}}}}const aJ=new Zb().freeze();function jg(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function _g(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Eg(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function C_(e){if(!Dy(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function k_(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function uf(e){return oJ(e)?e:new BA(e)}function oJ(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function lJ(e){return typeof e=="string"||cJ(e)}function cJ(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const uJ="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",P_=[],R_={allowDangerousHtml:!0},dJ=/^(https?|ircs?|mailto|xmpp)$/i,fJ=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Bo(e){const t=hJ(e),n=pJ(e);return mJ(t.runSync(t.parse(n),n),e)}function hJ(e){const t=e.rehypePlugins||P_,n=e.remarkPlugins||P_,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...R_}:R_;return aJ().use(GY).use(n).use(HX,r).use(t)}function pJ(e){const t=e.children||"",n=new BA;return typeof t=="string"&&(n.value=t),n}function mJ(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||gJ;for(const f of fJ)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+uJ+f.id,void 0);return Jb(e,u),AK(e,{Fragment:o.Fragment,components:i,ignoreInvalidStyle:!0,jsx:o.jsx,jsxs:o.jsxs,passKeys:!0,passNode:!0});function u(f,d,h){if(f.type==="raw"&&h&&typeof d=="number")return a?h.children.splice(d,1):h.children[d]={type:"text",value:f.value},d;if(f.type==="element"){let p;for(p in gg)if(Object.hasOwn(gg,p)&&Object.hasOwn(f.properties,p)){const g=f.properties[p],m=gg[p];(m===null||m.includes(f.tagName))&&(f.properties[p]=c(String(g||""),p,f))}}if(f.type==="element"){let p=n?!n.includes(f.tagName):s?s.includes(f.tagName):!1;if(!p&&r&&typeof d=="number"&&(p=!r(f,d,h)),p&&h&&typeof d=="number")return l&&f.children?h.children.splice(d,1,...f.children):h.children.splice(d,1),d}}}function gJ(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||dJ.test(e.slice(0,t))?e:""}function N_(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function vJ(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function yJ(e,t,n){const i=Ip((n||{}).ignore||[]),s=xJ(t);let a=-1;for(;++a<s.length;)UA(e,"text",l);function l(u,f){let d=-1,h;for(;++d<f.length;){const p=f[d],g=h?h.children:void 0;if(i(p,g?g.indexOf(p):void 0,h))return;h=p}if(h)return c(u,f)}function c(u,f){const d=f[f.length-1],h=s[a][0],p=s[a][1];let g=0;const b=d.children.indexOf(u);let v=!1,x=[];h.lastIndex=0;let w=h.exec(u.value);for(;w;){const S=w.index,_={index:w.index,input:w.input,stack:[...f,u]};let j=p(...w,_);if(typeof j=="string"&&(j=j.length>0?{type:"text",value:j}:void 0),j===!1?h.lastIndex=S+1:(g!==S&&x.push({type:"text",value:u.value.slice(g,S)}),Array.isArray(j)?x.push(...j):j&&x.push(j),g=S+w[0].length,v=!0),!h.global)break;w=h.exec(u.value)}return v?(g<u.value.length&&x.push({type:"text",value:u.value.slice(g)}),d.children.splice(b,1,...x)):x=[u],b+x.length}}function xJ(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([bJ(i[0]),wJ(i[1])])}return t}function bJ(e){return typeof e=="string"?new RegExp(vJ(e),"g"):e}function wJ(e){return typeof e=="function"?e:function(){return e}}const Cg="phrasing",kg=["autolink","link","image","label"];function SJ(){return{transforms:[RJ],enter:{literalAutolink:_J,literalAutolinkEmail:Pg,literalAutolinkHttp:Pg,literalAutolinkWww:Pg},exit:{literalAutolink:PJ,literalAutolinkEmail:kJ,literalAutolinkHttp:EJ,literalAutolinkWww:CJ}}}function jJ(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Cg,notInConstruct:kg},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Cg,notInConstruct:kg},{character:":",before:"[ps]",after:"\\/",inConstruct:Cg,notInConstruct:kg}]}}function _J(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Pg(e){this.config.enter.autolinkProtocol.call(this,e)}function EJ(e){this.config.exit.autolinkProtocol.call(this,e)}function CJ(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function kJ(e){this.config.exit.autolinkEmail.call(this,e)}function PJ(e){this.exit(e)}function RJ(e){yJ(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,NJ],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),TJ]],{ignore:["link","linkReference"]})}function NJ(e,t,n,r,i){let s="";if(!HA(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!AJ(n)))return!1;const a=OJ(n+r);if(!a[0])return!1;const l={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[l,{type:"text",value:a[1]}]:l}function TJ(e,t,n,r){return!HA(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function AJ(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function OJ(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=N_(e,"(");let s=N_(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function HA(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Aa(n)||Tp(n))&&(!t||n!==47)}qA.peek=BJ;function IJ(){this.buffer()}function DJ(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function FJ(){this.buffer()}function LJ(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function MJ(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=zr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function $J(e){this.exit(e)}function UJ(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=zr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function zJ(e){this.exit(e)}function BJ(){return"["}function qA(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),l=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),l(),a(),s+=i.move("]"),s}function HJ(){return{enter:{gfmFootnoteCallString:IJ,gfmFootnoteCall:DJ,gfmFootnoteDefinitionLabelString:FJ,gfmFootnoteDefinition:LJ},exit:{gfmFootnoteCallString:MJ,gfmFootnoteCall:$J,gfmFootnoteDefinitionLabelString:UJ,gfmFootnoteDefinition:zJ}}}function qJ(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:qA},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const l=s.createTracker(a);let c=l.move("[^");const u=s.enter("footnoteDefinition"),f=s.enter("label");return c+=l.move(s.safe(s.associationId(r),{before:c,after:"]"})),f(),c+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),c+=l.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,l.current()),t?WA:WJ))),u(),c}}function WJ(e,t,n){return t===0?e:WA(e,t,n)}function WA(e,t,n){return(n?"":"    ")+e}const VJ=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];VA.peek=XJ;function QJ(){return{canContainEols:["delete"],enter:{strikethrough:GJ},exit:{strikethrough:YJ}}}function KJ(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:VJ}],handlers:{delete:VA}}}function GJ(e){this.enter({type:"delete",children:[]},e)}function YJ(e){this.exit(e)}function VA(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function XJ(){return"~"}function JJ(e){return e.length}function ZJ(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||JJ,s=[],a=[],l=[],c=[];let u=0,f=-1;for(;++f<e.length;){const m=[],b=[];let v=-1;for(e[f].length>u&&(u=e[f].length);++v<e[f].length;){const x=eZ(e[f][v]);if(n.alignDelimiters!==!1){const w=i(x);b[v]=w,(c[v]===void 0||w>c[v])&&(c[v]=w)}m.push(x)}a[f]=m,l[f]=b}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)s[d]=T_(r[d]);else{const m=T_(r);for(;++d<u;)s[d]=m}d=-1;const h=[],p=[];for(;++d<u;){const m=s[d];let b="",v="";m===99?(b=":",v=":"):m===108?b=":":m===114&&(v=":");let x=n.alignDelimiters===!1?1:Math.max(1,c[d]-b.length-v.length);const w=b+"-".repeat(x)+v;n.alignDelimiters!==!1&&(x=b.length+x+v.length,x>c[d]&&(c[d]=x),p[d]=x),h[d]=w}a.splice(1,0,h),l.splice(1,0,p),f=-1;const g=[];for(;++f<a.length;){const m=a[f],b=l[f];d=-1;const v=[];for(;++d<u;){const x=m[d]||"";let w="",S="";if(n.alignDelimiters!==!1){const _=c[d]-(b[d]||0),j=s[d];j===114?w=" ".repeat(_):j===99?_%2?(w=" ".repeat(_/2+.5),S=" ".repeat(_/2-.5)):(w=" ".repeat(_/2),S=w):S=" ".repeat(_)}n.delimiterStart!==!1&&!d&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&x==="")&&(n.delimiterStart!==!1||d)&&v.push(" "),n.alignDelimiters!==!1&&v.push(w),v.push(x),n.alignDelimiters!==!1&&v.push(S),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&v.push("|")}g.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return g.join(`
`)}function eZ(e){return e==null?"":String(e)}function T_(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function tZ(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(e,s.current()),nZ);return i(),a}function nZ(e,t,n){return">"+(n?"":" ")+e}function rZ(e,t){return A_(e,t.inConstruct,!0)&&!A_(e,t.notInConstruct,!1)}function A_(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function O_(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&rZ(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function iZ(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+t.length,r=n.indexOf(t,i);return a}function sZ(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function aZ(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function oZ(e,t,n,r){const i=aZ(n),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(sZ(e,n)){const d=n.enter("codeIndented"),h=n.indentLines(s,lZ);return d(),h}const l=n.createTracker(r),c=i.repeat(Math.max(iZ(s,i)+1,3)),u=n.enter("codeFenced");let f=l.move(c);if(e.lang){const d=n.enter(`codeFencedLang${a}`);f+=l.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...l.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${a}`);f+=l.move(" "),f+=l.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...l.current()})),d()}return f+=l.move(`
`),s&&(f+=l.move(s+`
`)),f+=l.move(c),u(),f}function lZ(e,t,n){return(n?"":"    ")+e}function ew(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function cZ(e,t,n,r){const i=ew(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),l(),e.title&&(l=n.enter(`title${s}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),a(),u}function uZ(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Uu(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Ch(e,t,n){const r=yl(e),i=yl(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}QA.peek=dZ;function QA(e,t,n,r){const i=uZ(n),s=n.enter("emphasis"),a=n.createTracker(r),l=a.move(i);let c=a.move(n.containerPhrasing(e,{after:i,before:l,...a.current()}));const u=c.charCodeAt(0),f=Ch(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(c=Uu(u)+c.slice(1));const d=c.charCodeAt(c.length-1),h=Ch(r.after.charCodeAt(0),d,i);h.inside&&(c=c.slice(0,-1)+Uu(d));const p=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},l+c+p}function dZ(e,t,n){return n.options.emphasis||"*"}function fZ(e,t){let n=!1;return Jb(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Oy}),!!((!e.depth||e.depth<3)&&Wb(e)&&(t.options.setext||n))}function hZ(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(fZ(e,n)){const f=n.enter("headingSetext"),d=n.enter("phrasing"),h=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return d(),f(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const a="#".repeat(i),l=n.enter("headingAtx"),c=n.enter("phrasing");s.move(a+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=Uu(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),c(),l(),u}KA.peek=pZ;function KA(e){return e.value||""}function pZ(){return"<"}GA.peek=mZ;function GA(e,t,n,r){const i=ew(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),l(),e.title&&(l=n.enter(`title${s}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),u+=c.move(")"),a(),u}function mZ(){return"!"}YA.peek=gZ;function YA(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");const u=n.safe(e.alt,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),a();const f=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return a(),n.stack=f,s(),i==="full"||!u||u!==d?c+=l.move(d+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function gZ(){return"!"}XA.peek=vZ;function XA(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],l=n.compilePattern(a);let c;if(a.atBreak)for(;c=l.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return i+r+i}function vZ(){return"`"}function JA(e,t){const n=Wb(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}ZA.peek=yZ;function ZA(e,t,n,r){const i=ew(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let l,c;if(JA(e,n)){const f=n.stack;n.stack=[],l=n.enter("autolink");let d=a.move("<");return d+=a.move(n.containerPhrasing(e,{before:d,after:">",...a.current()})),d+=a.move(">"),l(),n.stack=f,d}l=n.enter("link"),c=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(c=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),c(),e.title&&(c=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),c()),u+=a.move(")"),l(),u}function yZ(e,t,n){return JA(e,n)?"<":"["}eO.peek=xZ;function eO(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),a();const f=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return a(),n.stack=f,s(),i==="full"||!u||u!==d?c+=l.move(d+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function xZ(){return"["}function tw(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function bZ(e){const t=tw(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function wZ(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function tO(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function SZ(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=e.ordered?wZ(n):tw(n);const l=e.ordered?a==="."?")":".":bZ(n);let c=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),tO(n)===a&&f){let d=-1;for(;++d<e.children.length;){const h=e.children[d];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=l),n.bulletCurrent=a;const u=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),u}function jZ(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function _Z(e,t,n,r){const i=jZ(n);let s=n.bulletCurrent||tw(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const l=n.createTracker(r);l.move(s+" ".repeat(a-s.length)),l.shift(a);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,l.current()),f);return c(),u;function f(d,h,p){return h?(p?"":" ".repeat(a))+d:(p?s:s+" ".repeat(a-s.length))+d}}function EZ(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,r);return s(),i(),a}const CZ=Ip(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function kZ(e,t,n,r){return(e.children.some(function(a){return CZ(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function PZ(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}nO.peek=RZ;function nO(e,t,n,r){const i=PZ(n),s=n.enter("strong"),a=n.createTracker(r),l=a.move(i+i);let c=a.move(n.containerPhrasing(e,{after:i,before:l,...a.current()}));const u=c.charCodeAt(0),f=Ch(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(c=Uu(u)+c.slice(1));const d=c.charCodeAt(c.length-1),h=Ch(r.after.charCodeAt(0),d,i);h.inside&&(c=c.slice(0,-1)+Uu(d));const p=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},l+c+p}function RZ(e,t,n){return n.options.strong||"*"}function NZ(e,t,n,r){return n.safe(e.value,r)}function TZ(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function AZ(e,t,n){const r=(tO(n)+(n.options.ruleSpaces?" ":"")).repeat(TZ(n));return n.options.ruleSpaces?r.slice(0,-1):r}const rO={blockquote:tZ,break:O_,code:oZ,definition:cZ,emphasis:QA,hardBreak:O_,heading:hZ,html:KA,image:GA,imageReference:YA,inlineCode:XA,link:ZA,linkReference:eO,list:SZ,listItem:_Z,paragraph:EZ,root:kZ,strong:nO,text:NZ,thematicBreak:AZ};function OZ(){return{enter:{table:IZ,tableData:I_,tableHeader:I_,tableRow:FZ},exit:{codeText:LZ,table:DZ,tableData:Rg,tableHeader:Rg,tableRow:Rg}}}function IZ(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function DZ(e){this.exit(e),this.data.inTable=void 0}function FZ(e){this.enter({type:"tableRow",children:[]},e)}function Rg(e){this.exit(e)}function I_(e){this.enter({type:"tableCell",children:[]},e)}function LZ(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,MZ));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function MZ(e,t){return t==="|"?t:e}function $Z(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:a,tableCell:c,tableRow:l}};function a(p,g,m,b){return u(f(p,m,b),p.align)}function l(p,g,m,b){const v=d(p,m,b),x=u([v]);return x.slice(0,x.indexOf(`
`))}function c(p,g,m,b){const v=m.enter("tableCell"),x=m.enter("phrasing"),w=m.containerPhrasing(p,{...b,before:s,after:s});return x(),v(),w}function u(p,g){return ZJ(p,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function f(p,g,m){const b=p.children;let v=-1;const x=[],w=g.enter("table");for(;++v<b.length;)x[v]=d(b[v],g,m);return w(),x}function d(p,g,m){const b=p.children;let v=-1;const x=[],w=g.enter("tableRow");for(;++v<b.length;)x[v]=c(b[v],p,g,m);return w(),x}function h(p,g,m){let b=rO.inlineCode(p,g,m);return m.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function UZ(){return{exit:{taskListCheckValueChecked:D_,taskListCheckValueUnchecked:D_,paragraph:BZ}}}function zZ(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:HZ}}}function D_(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function BZ(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const l=i[s];if(l.type==="paragraph"){a=l;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function HZ(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",l=n.createTracker(r);s&&l.move(a);let c=rO.listItem(e,t,n,{...r,...l.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(f){return f+a}}function qZ(){return[SJ(),HJ(),QJ(),OZ(),UZ()]}function WZ(e){return{extensions:[jJ(),qJ(e),KJ(),$Z(e),zZ()]}}const VZ={tokenize:JZ,partial:!0},iO={tokenize:ZZ,partial:!0},sO={tokenize:eee,partial:!0},aO={tokenize:tee,partial:!0},QZ={tokenize:nee,partial:!0},oO={name:"wwwAutolink",tokenize:YZ,previous:cO},lO={name:"protocolAutolink",tokenize:XZ,previous:uO},Vi={name:"emailAutolink",tokenize:GZ,previous:dO},hi={};function KZ(){return{text:hi}}let ea=48;for(;ea<123;)hi[ea]=Vi,ea++,ea===58?ea=65:ea===91&&(ea=97);hi[43]=Vi;hi[45]=Vi;hi[46]=Vi;hi[95]=Vi;hi[72]=[Vi,lO];hi[104]=[Vi,lO];hi[87]=[Vi,oO];hi[119]=[Vi,oO];function GZ(e,t,n){const r=this;let i,s;return a;function a(d){return!Ly(d)||!dO.call(r,r.previous)||nw(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(d))}function l(d){return Ly(d)?(e.consume(d),l):d===64?(e.consume(d),c):n(d)}function c(d){return d===46?e.check(QZ,f,u)(d):d===45||d===95||ln(d)?(s=!0,e.consume(d),c):f(d)}function u(d){return e.consume(d),i=!0,c}function f(d){return s&&i&&Cn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function YZ(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!cO.call(r,r.previous)||nw(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(VZ,e.attempt(iO,e.attempt(sO,s),n),n)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function XZ(e,t,n){const r=this;let i="",s=!1;return a;function a(d){return(d===72||d===104)&&uO.call(r,r.previous)&&!nw(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),l):n(d)}function l(d){if(Cn(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),l;if(d===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(d),c}return n(d)}function c(d){return d===47?(e.consume(d),s?u:(s=!0,c)):n(d)}function u(d){return d===null||jh(d)||Ge(d)||Aa(d)||Tp(d)?n(d):e.attempt(iO,e.attempt(sO,f),n)(d)}function f(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function JZ(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),s):n(a)}function s(a){return a===null?n(a):t(a)}}function ZZ(e,t,n){let r,i,s;return a;function a(u){return u===46||u===95?e.check(aO,c,l)(u):u===null||Ge(u)||Aa(u)||u!==45&&Tp(u)?c(u):(s=!0,e.consume(u),a)}function l(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),a}function c(u){return i||r||!s?n(u):t(u)}}function eee(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(aO,t,s)(a):a===null||Ge(a)||Aa(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&r++,e.consume(a),i}}function tee(e,t,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),r):l===38?(e.consume(l),s):l===93?(e.consume(l),i):l===60||l===null||Ge(l)||Aa(l)?t(l):n(l)}function i(l){return l===null||l===40||l===91||Ge(l)||Aa(l)?t(l):r(l)}function s(l){return Cn(l)?a(l):n(l)}function a(l){return l===59?(e.consume(l),r):Cn(l)?(e.consume(l),a):n(l)}}function nee(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return ln(s)?n(s):t(s)}}function cO(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ge(e)}function uO(e){return!Cn(e)}function dO(e){return!(e===47||Ly(e))}function Ly(e){return e===43||e===45||e===46||e===95||ln(e)}function nw(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const ree={tokenize:dee,partial:!0};function iee(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:lee,continuation:{tokenize:cee},exit:uee}},text:{91:{name:"gfmFootnoteCall",tokenize:oee},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:see,resolveTo:aee}}}}function see(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){a=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!a||!a._balanced)return n(c);const u=zr(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function aee(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},l=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...l),e}function oee(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return l;function l(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),c}function c(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(d){if(s>999||d===93&&!a||d===null||d===91||Ge(d))return n(d);if(d===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(zr(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return Ge(d)||(a=!0),s++,e.consume(d),d===92?f:u}function f(d){return d===91||d===92||d===93?(e.consume(d),s++,u):u(d)}}function lee(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,l;return c;function c(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(g)}function f(g){if(a>999||g===93&&!l||g===null||g===91||Ge(g))return n(g);if(g===93){e.exit("chunkString");const m=e.exit("gfmFootnoteDefinitionLabelString");return s=zr(r.sliceSerialize(m)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Ge(g)||(l=!0),a++,e.consume(g),g===92?d:f}function d(g){return g===91||g===92||g===93?(e.consume(g),a++,f):f(g)}function h(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),i.includes(s)||i.push(s),Fe(e,p,"gfmFootnoteDefinitionWhitespace")):n(g)}function p(g){return t(g)}}function cee(e,t,n){return e.check(ud,t,e.attempt(ree,t,n))}function uee(e){e.exit("gfmFootnoteDefinition")}function dee(e,t,n){const r=this;return Fe(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):n(s)}}function fee(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,l){let c=-1;for(;++c<a.length;)if(a[c][0]==="enter"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._close){let u=c;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[c][1].end.offset-a[c][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[c][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[c][1].end)},d={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[c][1].start)},h=[["enter",f,l],["enter",a[u][1],l],["exit",a[u][1],l],["enter",d,l]],p=l.parser.constructs.insideSpan.null;p&&ir(h,h.length,0,Ap(p,a.slice(u+1,c),l)),ir(h,h.length,0,[["exit",d,l],["enter",a[c][1],l],["exit",a[c][1],l],["exit",f,l]]),ir(a,u-1,c-u+3,h),c=u+h.length-2;break}}for(c=-1;++c<a.length;)a[c][1].type==="strikethroughSequenceTemporary"&&(a[c][1].type="data");return a}function s(a,l,c){const u=this.previous,f=this.events;let d=0;return h;function h(g){return u===126&&f[f.length-1][1].type!=="characterEscape"?c(g):(a.enter("strikethroughSequenceTemporary"),p(g))}function p(g){const m=yl(u);if(g===126)return d>1?c(g):(a.consume(g),d++,p);if(d<2&&!n)return c(g);const b=a.exit("strikethroughSequenceTemporary"),v=yl(g);return b._open=!v||v===2&&!!m,b._close=!m||m===2&&!!v,l(g)}}}class hee{constructor(){this.map=[]}add(t,n,r){pee(this,t,n,r)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function pee(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function mee(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function gee(){return{flow:{null:{name:"table",tokenize:vee,resolveAll:yee}}}}function vee(e,t,n){const r=this;let i=0,s=0,a;return l;function l(k){let F=r.events.length-1;for(;F>-1;){const T=r.events[F][1].type;if(T==="lineEnding"||T==="linePrefix")F--;else break}const I=F>-1?r.events[F][1].type:null,U=I==="tableHead"||I==="tableRow"?j:c;return U===j&&r.parser.lazy[r.now().line]?n(k):U(k)}function c(k){return e.enter("tableHead"),e.enter("tableRow"),u(k)}function u(k){return k===124||(a=!0,s+=1),f(k)}function f(k){return k===null?n(k):pe(k)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),p):n(k):Oe(k)?Fe(e,f,"whitespace")(k):(s+=1,a&&(a=!1,i+=1),k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),a=!0,f):(e.enter("data"),d(k)))}function d(k){return k===null||k===124||Ge(k)?(e.exit("data"),f(k)):(e.consume(k),k===92?h:d)}function h(k){return k===92||k===124?(e.consume(k),d):d(k)}function p(k){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(k):(e.enter("tableDelimiterRow"),a=!1,Oe(k)?Fe(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):g(k))}function g(k){return k===45||k===58?b(k):k===124?(a=!0,e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),m):_(k)}function m(k){return Oe(k)?Fe(e,b,"whitespace")(k):b(k)}function b(k){return k===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),v):k===45?(s+=1,v(k)):k===null||pe(k)?S(k):_(k)}function v(k){return k===45?(e.enter("tableDelimiterFiller"),x(k)):_(k)}function x(k){return k===45?(e.consume(k),x):k===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(k))}function w(k){return Oe(k)?Fe(e,S,"whitespace")(k):S(k)}function S(k){return k===124?g(k):k===null||pe(k)?!a||i!==s?_(k):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(k)):_(k)}function _(k){return n(k)}function j(k){return e.enter("tableRow"),P(k)}function P(k){return k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),P):k===null||pe(k)?(e.exit("tableRow"),t(k)):Oe(k)?Fe(e,P,"whitespace")(k):(e.enter("data"),R(k))}function R(k){return k===null||k===124||Ge(k)?(e.exit("data"),P(k)):(e.consume(k),k===92?$:R)}function $(k){return k===92||k===124?(e.consume(k),R):R(k)}}function yee(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],l=!1,c=0,u,f,d;const h=new hee;for(;++n<e.length;){const p=e[n],g=p[1];p[0]==="enter"?g.type==="tableHead"?(l=!1,c!==0&&(F_(h,t,c,u,f),f=void 0,c=0),u={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},h.add(n,0,[["enter",u,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],a=[0,n+1,0,0],l&&(l=!1,f={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},h.add(n,0,[["enter",f,t]])),i=g.type==="tableDelimiterRow"?2:f?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],d=df(h,t,s,i,void 0,d),s=[0,0,0,0]),a[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],d=df(h,t,s,i,void 0,d)),s=a,a=[s[1],n,0,0])):g.type==="tableHead"?(l=!0,c=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(c=n,s[1]!==0?(a[0]=a[1],d=df(h,t,s,i,n,d)):a[1]!==0&&(d=df(h,t,a,i,n,d)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(a[3]=n)}for(c!==0&&F_(h,t,c,u,f),h.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=mee(t.events,n))}return e}function df(e,t,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(s.end=Object.assign({},vo(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const c=vo(t.events,n[1]);if(s={type:a,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const u=vo(t.events,n[2]),f=vo(t.events,n[3]),d={type:l,start:Object.assign({},u),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,m=n[3]-n[2]-1;e.add(g,m,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(s.end=Object.assign({},vo(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function F_(e,t,n,r,i){const s=[],a=vo(t.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),r.end=Object.assign({},a),s.push(["exit",r,t]),e.add(n+1,0,s)}function vo(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const xee={name:"tasklistCheck",tokenize:wee};function bee(){return{text:{91:xee}}}function wee(e,t,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),s)}function s(c){return Ge(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),a):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),a):n(c)}function a(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):n(c)}function l(c){return pe(c)?t(c):Oe(c)?e.check({tokenize:See},t,n)(c):n(c)}}function See(e,t,n){return Fe(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function jee(e){return wA([KZ(),iee(),fee(e),gee(),bee()])}const _ee={};function Ho(e){const t=this,n=e||_ee,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(jee(n)),s.push(qZ()),a.push(WZ(n))}const Ng={PCAF:"/public/lovable-uploads/pcaf-logo.png",CBAM:"/public/lovable-uploads/cbam-logo.png",ADEME:"/public/lovable-uploads/ademe-logo.png","GHG Protocol":"/public/lovable-uploads/ghg-protocol-logo.png"},fO=()=>{const[e,t]=y.useState({}),[n,r]=y.useState(!0);return y.useEffect(()=>{(async()=>{try{const{data:a,error:l}=await Q.storage.from("source-logos").list();if(l){console.error("❌ Error fetching source logos:",l),t(Ng);return}const c={...Ng};for(const u of a||[])if(u.name&&u.name!==".emptyFolderPlaceholder"){const{data:f}=Q.storage.from("source-logos").getPublicUrl(u.name);if(f!=null&&f.publicUrl){const d=u.name.replace(/\.(jpg|jpeg|png|svg|webp)$/i,"");c[d]=f.publicUrl}}t(c)}catch(a){console.error("❌ Error in fetchLogos:",a),t(Ng)}finally{r(!1)}})()},[]),{getSourceLogo:s=>{if(!s)return null;if(e[s])return e[s];const a=s.toLowerCase(),l=Object.keys(e).find(c=>c.toLowerCase()===a);return l?e[l]:null},loading:n,logos:e}},Eee=()=>{var n;const{items:e,refine:t}=KW({items:[{label:"9 par page",value:9},{label:"18 par page",value:18},{label:"36 par page",value:36,default:!0},{label:"72 par page",value:72}]});return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-indigo-950 font-montserrat",children:"Résultats par page:"}),o.jsxs(wr,{value:String(((n=e.find(r=>r.isRefined))==null?void 0:n.value)||9),onValueChange:r=>t(Number(r)),children:[o.jsx(nr,{className:"w-auto",children:o.jsx(Sr,{})}),o.jsx(rr,{children:e.map(r=>o.jsx(it,{value:String(r.value),children:r.label},r.value))})]})]})},Cee=({onSortChange:e,currentSort:t})=>{const n=[{label:"Pertinence",value:"relevance"},{label:"FE croissant",value:"fe_asc"},{label:"FE décroissant",value:"fe_desc"},{label:"Plus récent",value:"date_desc"},{label:"Plus ancien",value:"date_asc"},{label:"Nom A-Z",value:"nom_asc"},{label:"Nom Z-A",value:"nom_desc"},{label:"Source A-Z",value:"source_asc"}];return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-indigo-950 font-montserrat",children:"Trier par:"}),o.jsxs(wr,{value:t,onValueChange:e,children:[o.jsx(nr,{className:"w-auto min-w-[140px]",children:o.jsx(Sr,{})}),o.jsx(rr,{children:n.map(r=>o.jsx(it,{value:r.value,children:r.label},r.value))})]})]})},kee=()=>{const{currentRefinement:e,nbPages:t,refine:n,isFirstPage:r,isLastPage:i}=JN();if(t<=1)return null;const s=[],a=5;let l=Math.max(0,e-Math.floor(a/2)),c=Math.min(t-1,l+a-1);c-l<a-1&&(l=Math.max(0,c-a+1));for(let u=l;u<=c;u++)s.push(u);return o.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[o.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>n(e-1),disabled:r,children:[o.jsx(Ik,{className:"h-4 w-4"}),"Précédent"]}),l>0&&o.jsxs(o.Fragment,{children:[o.jsx(Z,{variant:e===0?"default":"outline",size:"sm",onClick:()=>n(0),children:"1"},"first-page"),l>1&&o.jsx("span",{className:"px-2",children:"..."},"left-ellipsis")]}),s.map(u=>o.jsx(Z,{variant:u===e?"default":"outline",size:"sm",onClick:()=>n(u),children:u+1},`page-${u}`)),c<t-1&&o.jsxs(o.Fragment,{children:[c<t-2&&o.jsx("span",{className:"px-2",children:"..."},"right-ellipsis"),o.jsx(Z,{variant:t-1===e?"default":"outline",size:"sm",onClick:()=>n(t-1),children:t},"last-page")]}),o.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>n(e+1),disabled:i,children:["Suivant",o.jsx(zx,{className:"h-4 w-4"})]})]})},Pee=()=>{const{query:e}=Nb(),{hits:t}=wp();return t.length===0&&e?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(eu,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucun résultat trouvé"}),o.jsxs("p",{className:"text-muted-foreground mb-4",children:[`Nous n'avons trouvé aucun facteur d'émission pour "`,e,'"']}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx("p",{children:"Suggestions :"}),o.jsxs("ul",{className:"mt-2 space-y-1",children:[o.jsx("li",{children:"• Vérifiez l'orthographe de votre recherche"}),o.jsx("li",{children:"• Essayez des termes plus généraux"}),o.jsx("li",{children:"• Utilisez moins de filtres"})]})]})]}):t.length===0&&!e?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(eu,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Commencez votre recherche"}),o.jsx("p",{className:"text-muted-foreground",children:"Utilisez la barre de recherche ou les filtres pour explorer notre base de données"})]}):null},Ree=()=>{const{hits:e}=wp(),[t,n]=q.useState(new Set),[r,i]=q.useState(new Set),[s,a]=q.useState("relevance"),{addToFavorites:l,removeFromFavorites:c,isFavorite:u}=sd(),{hasAccess:f,shouldBlurPremiumContent:d,canUseFavorites:h}=Tl();za();const{toast:p}=Dt();xt(),eV();const{getSourceLogo:g}=fO(),{handleExport:m,handleCopyToClipboard:b}=aA(),v="fr",x=q.useCallback((A,M)=>M==="relevance"?A:[...A].sort((E,O)=>{switch(M){case"fe_asc":return(E.FE||0)-(O.FE||0);case"fe_desc":return(O.FE||0)-(E.FE||0);case"date_desc":return(O.Date||0)-(E.Date||0);case"date_asc":return(E.Date||0)-(O.Date||0);case"nom_asc":{const C=E.Nom_fr||"",D=O.Nom_fr||"";return C.localeCompare(D,v,{numeric:!0,sensitivity:"base"})}case"nom_desc":{const C=E.Nom_fr||"";return(O.Nom_fr||"").localeCompare(C,v,{numeric:!0,sensitivity:"base"})}case"source_asc":return(E.Source||"").localeCompare(O.Source||"","fr",{numeric:!0,sensitivity:"base"});default:return 0}}),[]),{start:w}=h7({attribute:"FE",precision:2}),S=q.useMemo(()=>{const A=O=>{if(typeof O=="object"&&(O==null?void 0:O._type)==="Number"){const C=String(O.value);if(C==="-Infinity"||C==="Infinity"||C==="NaN")return;const D=parseFloat(O.value);return Number.isFinite(D)?D:void 0}if(typeof O=="number")return Number.isFinite(O)?O:void 0};let M,E;if(w&&Array.isArray(w)){const O=A(w[0]),C=A(w[1]);typeof O=="number"&&(M=O),typeof C=="number"&&(E=C)}return M===void 0&&E===void 0?e:e.filter(O=>{const C=typeof O.FE=="number"?O.FE:Number(O.FE);return!(!Number.isFinite(C)||M!==void 0&&C<M||E!==void 0&&C>E)})},[e,w]),_=q.useMemo(()=>x(S,s),[S,s,x]),j=A=>{a(A)},P=A=>{const M=new Set(t);M.has(A)?M.delete(A):M.add(A),n(M)},R=(A,M)=>{const E=(()=>{switch(M){case"Nom":return["Nom_fr","Nom_en","Nom"];case"Description":return["Description_fr","Description_en","Description"];case"Commentaires":return["Commentaires_fr","Commentaires_en","Commentaires"];case"Secteur":return["Secteur_fr","Secteur_en","Secteur"];case"Sous-secteur":return["Sous-secteur_fr","Sous-secteur_en","Sous-secteur"];case"Périmètre":return["Périmètre_fr","Périmètre_en","Périmètre"];case"Localisation":return["Localisation_fr","Localisation_en","Localisation"];case"Unite":return["Unite_fr","Unite_en","Unité donnée d'activité"];case"Source":return["Source"];default:return[M]}})(),O=A._highlightResult||{};for(const C of E){const D=O[C];if(D!=null&&D.value)return{__html:D.value};const B=A[C];if(B)return{__html:B}}return{__html:""}},$=A=>{const M=new Set(r);M.has(A)?M.delete(A):M.add(A),i(M)},k=()=>{r.size===_.length?i(new Set):i(new Set(_.map(A=>A.objectID)))},F=async()=>{if(r.size===0){p({title:"Aucune sélection",description:"Veuillez sélectionner au moins un facteur d'émission.",variant:"destructive"});return}const A=_.filter(E=>r.has(E.objectID));await b(A)&&i(new Set)},I=async()=>{if(r.size===0){p({title:"Aucune sélection",description:"Veuillez sélectionner au moins un facteur d'émission.",variant:"destructive"});return}const A=_.filter(E=>r.has(E.objectID));await m(A,"facteurs_emissions_recherche")&&i(new Set)},U=A=>({id:A.objectID,nom:A.Nom_fr||"",description:A.Description_fr||"",fe:A.FE,uniteActivite:A.Unite_fr||"",source:A.Source,secteur:A.Secteur_fr||"",sousSecteur:A["Sous-secteur_fr"]||"",localisation:A.Localisation_fr||"",date:A.Date,incertitude:A.Incertitude,perimetre:A.Périmètre_fr||"",contributeur:A.Contributeur||"",commentaires:A.Commentaires_fr||""}),T=async A=>{const M=U(A);u(A.objectID)?await c(A.objectID):await l(M)},z=async()=>{if(!h()){p({title:"Fonctionnalité Premium",description:"L'ajout aux favoris est disponible avec le plan Premium."});return}const M=_.filter(E=>r.has(E.objectID)).filter(E=>!u(E.objectID));if(M.length===0){p({title:"Déjà en favoris",description:"Tous les éléments sélectionnés sont déjà dans vos favoris."});return}await Promise.all(M.map(E=>l(U(E)))),p({title:"Favoris mis à jour",description:`${M.length} élément${M.length>1?"s":""} ajouté${M.length>1?"s":""} aux favoris`})};return o.jsxs("div",{className:"space-y-6",children:[o.jsx(Pee,{}),_.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6 p-4 bg-white rounded-lg border border-border",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(zi,{checked:r.size===_.length&&_.length>0,onCheckedChange:k,className:"border-indigo-950 data-[state=checked]:bg-indigo-950 data-[state=checked]:border-indigo-950"}),o.jsx("span",{className:"text-sm font-medium font-montserrat text-indigo-950",children:r.size===_.length&&_.length>0?"Tout désélectionner":"Tout sélectionner"})]}),r.size>0&&o.jsxs(Be,{variant:"secondary",children:[r.size," sélectionné",r.size>1?"s":""]})]}),r.size>0&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Z,{onClick:F,variant:"outline",className:"flex items-center gap-2 font-montserrat",children:[o.jsx(Dk,{className:"h-4 w-4"}),"Copier (",r.size,")"]}),o.jsxs(Z,{onClick:z,className:"flex items-center gap-2 font-montserrat",disabled:!h(),title:h()?"":"Fonctionnalité disponible uniquement avec le plan Premium",children:[o.jsx(Rv,{className:"h-4 w-4"}),"Ajouter aux favoris (",r.size,")"]}),o.jsxs(Z,{onClick:I,className:"flex items-center gap-2 bg-slate-950 hover:bg-slate-800 text-white font-montserrat",children:[o.jsx(Hx,{className:"h-4 w-4"}),"Exporter (",r.size,")"]})]})]}),o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[o.jsxs("div",{className:"text-sm text-indigo-950 font-montserrat",children:[_.length," résultat",_.length>1?"s":""," affiché",_.length>1?"s":""]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx(Cee,{onSortChange:j,currentSort:s}),o.jsx(Eee,{})]})]}),o.jsx("div",{className:"space-y-4",children:_.map(A=>{const M=t.has(A.objectID),E=u(A.objectID);f(A.Source);const O=d(A.Source),C=!!A.workspace_id||A.import_type==="imported";return o.jsx(me,{className:"relative overflow-hidden bg-white border border-border hover:shadow-lg transition-shadow",children:o.jsx(ge,{className:"p-6",children:o.jsx("div",{className:"flex justify-between items-start gap-4",children:o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[o.jsx(zi,{checked:r.has(A.objectID),onCheckedChange:()=>$(A.objectID),onClick:D=>D.stopPropagation(),className:"mt-1 cursor-pointer border-indigo-950 data-[state=checked]:bg-indigo-950 data-[state=checked]:border-indigo-950"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex flex-col items-start gap-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-primary leading-tight font-montserrat",dangerouslySetInnerHTML:R(A,"Nom")}),C&&o.jsx(Be,{variant:"secondary",className:"mt-1 text-[10px] leading-none px-2 py-0.5",children:"FE importé"})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[o.jsx(Z,{variant:"ghost",size:"sm",onClick:D=>{D.stopPropagation(),h()&&T(A)},disabled:!h(),className:`${E?"text-red-500 hover:text-red-600":"text-muted-foreground hover:text-foreground"} ${h()?"":"opacity-50 cursor-not-allowed"}`,title:h()?"":"Fonctionnalité disponible uniquement avec le plan Premium",children:h()?o.jsx(Rv,{className:`h-4 w-4 ${E?"fill-current":""}`}):o.jsx(Lk,{className:"h-4 w-4"})}),o.jsx(Z,{variant:"ghost",size:"sm",onClick:D=>{D.stopPropagation(),P(A.objectID)},children:M?o.jsx(Bx,{className:"h-4 w-4"}):o.jsx(Zu,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Facteur d'émission"}),o.jsx(Sh,{isBlurred:O,showBadge:!0,children:o.jsxs("p",{className:"text-2xl font-bold text-primary font-montserrat",children:[A.FE?(typeof A.FE=="number"?parseFloat(A.FE.toFixed(4)):parseFloat(parseFloat(String(A.FE)).toFixed(4))).toLocaleString("fr-FR"):""," kgCO₂eq"]})}),o.jsxs("div",{className:"mt-2",children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Unité"}),o.jsx(Sh,{isBlurred:O,showBadge:!1,children:o.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:R(A,"Unite")})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[(A.Périmètre_fr||A.Périmètre_en)&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Périmètre"}),o.jsx("p",{className:"text-sm font-light",children:A.Périmètre_fr||A.Périmètre_en})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Source"}),o.jsxs("div",{className:"flex items-center gap-2",children:[g(A.Source)&&o.jsx("img",{src:g(A.Source),alt:`Logo ${A.Source}`,className:"w-6 h-6 object-contain flex-shrink-0"}),o.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:R(A,"Source")})]})]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[(A.Localisation_fr||A.Localisation_en)&&o.jsx(Be,{variant:"secondary",children:A.Localisation_fr||A.Localisation_en}),A.Date&&o.jsx(Be,{variant:"outline",children:A.Date}),(A.Secteur_fr||A.Secteur_en)&&o.jsx(Be,{variant:"outline",children:A.Secteur_fr||A.Secteur_en}),(A["Sous-secteur_fr"]||A["Sous-secteur_en"])&&o.jsx(Be,{variant:"outline",children:A["Sous-secteur_fr"]||A["Sous-secteur_en"]})]}),M&&o.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[(A.Description_fr||A.Description_en)&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Description"}),o.jsx("div",{className:"text-xs mt-1 text-break-words",children:o.jsx(Bo,{remarkPlugins:[Ho],components:{a:({href:D,children:B,...N})=>o.jsx("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:B}),p:({children:D,...B})=>o.jsx("p",{className:"text-xs font-light leading-relaxed",...B,children:D})},children:A.Description_fr||A.Description_en})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Secteur"}),o.jsx("p",{className:"text-xs font-light mt-1",dangerouslySetInnerHTML:R(A,"Secteur")})]}),A.Incertitude&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Incertitude"}),o.jsx("p",{className:"text-sm font-light mt-1",children:A.Incertitude})]}),A.Contributeur&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Contributeur"}),o.jsx("div",{className:"text-xs mt-1 text-break-words",children:o.jsx(Bo,{remarkPlugins:[Ho],components:{a:({href:D,children:B,...N})=>o.jsx("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:B}),p:({children:D,...B})=>o.jsx("p",{className:"text-xs font-light leading-relaxed",...B,children:D})},children:A.Contributeur})})]}),(A.Commentaires_fr||A.Commentaires_en)&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-indigo-950",children:"Commentaires"}),o.jsx("div",{className:"text-xs mt-1 text-break-words",children:o.jsx(Bo,{remarkPlugins:[Ho],components:{a:({href:D,children:B,...N})=>o.jsx("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:B}),p:({children:D,...B})=>o.jsx("p",{className:"text-xs font-light leading-relaxed",...B,children:D})},children:A.Commentaires_fr||A.Commentaires_en})})]})]})]})]})})})},A.objectID)})}),o.jsx(kee,{})]})]})},ts=({attribute:e,title:t,searchable:n=!1,limit:r=100})=>{const{items:i,refine:s,searchForItems:a}=w7({attribute:e,limit:r}),[l,c]=q.useState(""),u=q.useRef(null),f=d=>{const h=d.target.value;c(h),!(!n||!a)&&(u.current&&clearTimeout(u.current),!(h.trim().length<2)&&(u.current=setTimeout(()=>{a(h)},300)))};return q.useEffect(()=>()=>{u.current&&clearTimeout(u.current)},[]),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:t}),o.jsx("span",{className:"text-xs text-gray-500",children:i.filter(d=>d.isRefined).length>0&&`(${i.filter(d=>d.isRefined).length})`})]}),n&&o.jsx(Ot,{type:"text",placeholder:`Rechercher ${t.toLowerCase()}...`,value:l,onChange:f,className:"text-xs"}),o.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1",children:i.length===0?o.jsx("div",{className:"text-xs text-gray-400",children:"Aucune option disponible"}):i.map(d=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(zi,{id:`${e}-${d.value}`,checked:d.isRefined,onCheckedChange:()=>s(d.value)}),o.jsxs("label",{htmlFor:`${e}-${d.value}`,className:"text-sm cursor-pointer flex-1 truncate",title:d.label,children:[d.label," (",d.count,")"]})]},d.value))})]})},Nee=()=>{const{origin:e,setOrigin:t}=iT(),n=r=>{console.log(`[OriginFilter] ${r}`)};return o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(Z,{size:"sm",variant:e==="all"?"default":"outline",onClick:()=>{n("click all"),t("all")},children:"Tous"}),o.jsx(Z,{size:"sm",variant:e==="public"?"default":"outline",onClick:()=>{n("click public"),t("public")},children:"Base commune"}),o.jsx(Z,{size:"sm",variant:e==="private"?"default":"outline",onClick:()=>{n("click private"),t("private")},children:"Base personnelle"})]})},hO=()=>{const{refine:e}=IW();return o.jsxs(me,{className:"w-full",children:[o.jsx(Se,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(je,{className:"text-base font-semibold",children:"Filtres"}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>e(),className:"text-xs",children:[o.jsx(cM,{className:"h-3 w-3 mr-1"}),"Réinitialiser"]})]})}),o.jsxs(ge,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-semibold text-primary",children:"Origine"}),o.jsx(Nee,{})]}),o.jsx(ts,{attribute:"languages",title:"Langue",limit:10}),o.jsx(ts,{attribute:"Source",title:"Source",searchable:!0,limit:500}),o.jsx(ts,{attribute:"Date",title:"Date",limit:20}),o.jsx(ts,{attribute:"Secteur_fr",title:"Secteur",searchable:!0,limit:500}),o.jsx(ts,{attribute:"Sous-secteur_fr",title:"Sous-secteur",searchable:!0,limit:500}),o.jsx(ts,{attribute:"Localisation_fr",title:"Localisation",searchable:!0,limit:500}),o.jsx(ts,{attribute:"Périmètre_fr",title:"Périmètre",searchable:!0,limit:500}),o.jsx(ts,{attribute:"Unite_fr",title:"Unité",searchable:!0,limit:500})]})]})},Tee=()=>{const{nbHits:e,nbSortedHits:t,areHitsSorted:n,processingTimeMS:r}=Sp();return o.jsxs("div",{className:"flex items-center justify-between text-sm text-indigo-950 mb-4 font-montserrat",children:[o.jsx("div",{children:n&&t!==e?o.jsxs("span",{children:[t==null?void 0:t.toLocaleString()," résultats pertinents sur ",e==null?void 0:e.toLocaleString()]}):o.jsxs("span",{className:"font-semibold",children:[e==null?void 0:e.toLocaleString()," résultat",e>1?"s":""," trouvé",e>1?"s":""]})}),o.jsxs("div",{children:["en ",r," ms"]})]})},Aee=()=>{const{user:e}=xt(),{currentWorkspace:t}=qi(),[n,r]=y.useState(null),[i,s]=y.useState(!0);return y.useEffect(()=>{(async()=>{if(!e||!t){s(!1);return}if(t.plan_type!=="freemium"){r({started_at:"",expires_at:"",is_active:!0,days_remaining:-1,has_access:!0}),s(!1);return}try{const{data:l,error:c}=await Q.from("workspace_trials").select("*").eq("workspace_id",t.id).single();if(c&&c.code!=="PGRST116"){console.error("Erreur lors du chargement de la période d'essai:",c),s(!1);return}let u=l;if(!l){const{data:g,error:m}=await Q.from("workspace_trials").insert({workspace_id:t.id,started_at:new Date().toISOString(),expires_at:new Date(Date.now()+6048e5).toISOString(),is_active:!0}).select().single();if(m){console.error("Erreur lors de la création de la période d'essai:",m),s(!1);return}u=g}const f=new Date(u.expires_at),d=new Date,h=Math.max(0,Math.ceil((f.getTime()-d.getTime())/(1e3*60*60*24))),p=f>d;r({started_at:u.started_at,expires_at:u.expires_at,is_active:u.is_active,days_remaining:h,has_access:p})}catch(l){console.error("Erreur lors du chargement de la période d'essai:",l)}s(!1)})()},[e,t]),{trialData:n,isLoading:i,isFreemium:(t==null?void 0:t.plan_type)==="freemium",hasAccess:(n==null?void 0:n.has_access)??!1,daysRemaining:(n==null?void 0:n.days_remaining)??0}};function Oee(e,t=[]){let n=[];function r(s,a){const l=y.createContext(a),c=n.length;n=[...n,a];function u(d){const{scope:h,children:p,...g}=d,m=(h==null?void 0:h[e][c])||l,b=y.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:b,children:p})}function f(d,h){const p=(h==null?void 0:h[e][c])||l,g=y.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,f]}const i=()=>{const s=n.map(a=>y.createContext(a));return function(l){const c=(l==null?void 0:l[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,Iee(i,...t)]}function Iee(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...l,...d}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var rw="Progress",iw=100,[Dee,Ire]=Oee(rw),[Fee,Lee]=Dee(rw),pO=y.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=Mee,...a}=e;(i||i===0)&&!L_(i)&&console.error($ee(`${i}`,"Progress"));const l=L_(i)?i:iw;r!==null&&!M_(r,l)&&console.error(Uee(`${r}`,"Progress"));const c=M_(r,l)?r:null,u=kh(c)?s(c,l):void 0;return o.jsx(Fee,{scope:n,value:c,max:l,children:o.jsx(ve.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":kh(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":vO(c,l),"data-value":c??void 0,"data-max":l,...a,ref:t})})});pO.displayName=rw;var mO="ProgressIndicator",gO=y.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=Lee(mO,n);return o.jsx(ve.div,{"data-state":vO(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});gO.displayName=mO;function Mee(e,t){return`${Math.round(e/t*100)}%`}function vO(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function kh(e){return typeof e=="number"}function L_(e){return kh(e)&&!isNaN(e)&&e>0}function M_(e,t){return kh(e)&&!isNaN(e)&&e<=t&&e>=0}function $ee(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${iw}\`.`}function Uee(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${iw} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var yO=pO,zee=gO;const qo=y.forwardRef(({className:e,value:t,...n},r)=>o.jsx(yO,{ref:r,className:se("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:o.jsx(zee,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));qo.displayName=yO.displayName;const Bee=()=>{const{trialData:e,isLoading:t,isFreemium:n,hasAccess:r,daysRemaining:i}=Aee();if(t||!n)return null;if(!e||!r)return o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-destructive/10 border border-destructive/20",children:[o.jsx(xr,{className:"h-4 w-4 text-destructive"}),o.jsx("span",{className:"text-sm font-medium text-destructive",children:"Période d'essai expirée"})]});const s=Math.max(0,i/7*100),a=i<=2;return o.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-secondary/50 border",children:[o.jsx(sh,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-sm font-medium",children:"Période d'essai"}),o.jsxs(Be,{variant:a?"destructive":"secondary",className:"text-xs",children:[i," jour",i>1?"s":""]})]}),o.jsx(qo,{value:s,className:"h-2"})]})]})},Hee=({quotaData:e,isLoading:t,isAtLimit:n=!1})=>{const[r,i]=y.useState(!1);if(t)return o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("div",{className:"h-6 w-20 bg-primary/20 rounded animate-pulse"})});if(!e)return o.jsxs("div",{className:"flex items-center space-x-2 text-destructive",children:[o.jsx(xr,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm",children:"Erreur"})]});const s=e.plan_type,a=e.exports_used,l=e.exports_limit,c=e.clipboard_copies_used,u=e.clipboard_copies_limit,f=e.favorites_used,d=e.favorites_limit,h=l===null?0:a/l*100,p=u===null?0:c/u*100,g=d===null?0:f/d*100,m=()=>s==="premium"?o.jsx(Ca,{className:"h-4 w-4"}):s==="standard"?o.jsx(tu,{className:"h-4 w-4"}):null,b=()=>s==="premium"?"Premium":s==="standard"?"Standard":"Freemium",v=()=>l===null?"Illimitées ∞":l===0?"Non disponible":`${a} / ${l}`,x=()=>u===null?"Illimitées ∞":`${c} / ${u}`,w=()=>d===null?"Illimitées ∞":`${f} / ${d}`,S=s==="premium"||s==="standard";return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>i(!r),className:`flex items-center space-x-1.5 px-2.5 py-1.5 rounded-md text-sm font-medium transition-colors bg-primary text-primary-foreground hover:bg-primary/90 ${n?"bg-destructive hover:bg-destructive/90":""}`,"aria-expanded":r,"aria-haspopup":"true",children:[m(),o.jsx("span",{className:"whitespace-nowrap",children:b()}),n&&o.jsx(Ra,{className:"h-3 w-3 text-destructive"}),o.jsx(Zu,{className:`h-3 w-3 transition-transform ${r?"rotate-180":""}`})]}),r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),o.jsx("div",{className:"absolute right-0 mt-2 w-72 bg-popover rounded-lg shadow-lg border border-border z-20",children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx(Bee,{})}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("h3",{className:"font-semibold text-foreground",children:["Plan ",b()]}),m()]}),n&&o.jsxs(Be,{variant:"destructive",className:"text-xs",children:[o.jsx(Ra,{className:"w-3 h-3 mr-1"}),"Limite atteinte"]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Recherches"}),o.jsx("span",{className:"text-sm font-medium text-success",children:"Illimitées ∞"})]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Exports Excel"}),o.jsx("span",{className:`text-sm font-medium ${h>=100?"text-destructive":"text-muted-foreground"}`,children:v()})]}),!S&&l!==null&&l>0&&o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all ${h>=100?"bg-destructive":h>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(h,100)}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Copie presse-papiers"}),o.jsx("span",{className:`text-sm font-medium ${p>=100?"text-destructive":"text-muted-foreground"}`,children:x()})]}),!S&&u!==null&&o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all ${p>=100?"bg-destructive":p>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(p,100)}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Favoris"}),o.jsx("span",{className:`text-sm font-medium ${g>=100?"text-destructive":"text-muted-foreground"}`,children:w()})]}),!S&&d!==null&&o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all ${g>=100?"bg-destructive":g>80?"bg-amber-500":"bg-success"}`,style:{width:`${Math.min(g,100)}%`}})})]}),n&&s==="freemium"&&o.jsx("div",{className:"mt-4 p-3 bg-destructive/10 rounded-md border border-destructive/20",children:o.jsx("p",{className:"text-xs text-destructive leading-relaxed",children:"Vous avez atteint vos limites mensuelles. Contactez l'administrateur pour augmenter votre plan."})}),!n&&s==="freemium"&&o.jsx("div",{className:"mt-4 p-3 bg-muted rounded-md",children:o.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"Contactez votre administrateur pour augmenter vos limites."})})]})]})})]})]})},ba=()=>{const{user:e,signOut:t}=xt(),{isSupraAdmin:n}=jp(),{canUseFavorites:r}=Tl(),{quotaData:i,isLoading:s,isAtLimit:a}=Tb(),l=Ma(),c=async()=>{await t(),l("/")};return o.jsx("nav",{className:"border-b border-border bg-background",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx("div",{className:"flex items-center",children:o.jsx(wt,{to:e?"/search":"/",className:"flex items-center",children:o.jsx("img",{src:"/lovable-uploads/6c4e21a7-850d-42ab-8370-017b8e71d180.png",alt:"DataCarb",className:"h-10"})})}),o.jsx("div",{className:"flex items-center space-x-4",children:e?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"hidden md:block",children:o.jsx(Hee,{quotaData:i,isLoading:s,isAtLimit:a})}),o.jsx(wt,{to:"/search",children:o.jsx(Z,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Recherche"})}),r()?o.jsx(wt,{to:"/favoris",children:o.jsx(Z,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Favoris"})}):o.jsxs(Z,{variant:"ghost",className:"text-foreground opacity-50 cursor-not-allowed",disabled:!0,title:"Fonctionnalité disponible uniquement avec le plan Premium",children:[o.jsx(Lk,{className:"h-4 w-4 mr-2"}),"Favoris"]}),n&&o.jsx(wt,{to:"/import",children:o.jsx(Z,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Import"})}),o.jsx(wt,{to:"/settings",children:o.jsx(Z,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"Paramètres"})}),o.jsx(Z,{onClick:c,variant:"outline",className:"border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:"Se déconnecter"})]}):o.jsxs(o.Fragment,{children:[o.jsx(wt,{to:"/signup",children:o.jsx(Z,{variant:"ghost",className:"text-foreground hover:bg-primary/10 hover:text-primary",children:"S'inscrire"})}),o.jsx(wt,{to:"/login",children:o.jsx(Z,{children:"Se connecter"})})]})})]})})})},qee=()=>o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ba,{}),o.jsx("section",{className:"py-20 px-4 bg-primary",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-full max-w-6xl",children:o.jsx(dV,{})})})})}),o.jsx("main",{className:"container mx-auto px-4 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[o.jsx("aside",{className:"lg:col-span-1",children:o.jsx(hO,{})}),o.jsxs("section",{className:"lg:col-span-3",children:[o.jsx(TN,{hitsPerPage:36}),o.jsx(Tee,{}),o.jsx(Ree,{})]})]})})]}),Wee=()=>o.jsx(sT,{children:o.jsx(qee,{})}),Vee=({favoriteIds:e=[]})=>{const{query:t,refine:n}=Nb();Sp();const r=()=>{n("")},i=()=>{};return o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(eu,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),o.jsx(Ot,{type:"text",value:t,onChange:s=>{n(s.target.value)},onKeyDown:s=>{s.key},placeholder:`Rechercher dans vos ${(e==null?void 0:e.length)||0} favoris...`,className:"flex-1 bg-background border-border text-foreground placeholder:text-muted-foreground h-12 text-base pl-12 pr-12 rounded-lg"}),t&&o.jsx("button",{onClick:r,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:o.jsx(Jh,{className:"h-5 w-5"})})]}),o.jsx(Z,{variant:"default",onClick:i,className:"h-12 px-6 rounded-lg",children:"Rechercher"})]})})})},xO=({children:e,allowedRoles:t,requirePermission:n,fallback:r=null})=>{const i=za(),{role:s}=i;return t&&(!s||!t.includes(s))?o.jsx(o.Fragment,{children:r}):n&&!i[n]?o.jsx(o.Fragment,{children:r}):o.jsx(o.Fragment,{children:e})},Qee=({selectedItems:e,onItemSelect:t,onSelectAll:n,onExport:r,onCopyToClipboard:i,onRemoveSelectedFromFavorites:s,onToggleFavorite:a,favoriteIds:l})=>{const{hits:c}=wp(),[u,f]=y.useState("relevance"),[d,h]=y.useState(new Set),p=q.useCallback((E,O)=>O==="relevance"?E:[...E].sort((C,D)=>{switch(O){case"fe_asc":return(C.FE||0)-(D.FE||0);case"fe_desc":return(D.FE||0)-(C.FE||0);case"date_desc":return(D.Date||0)-(C.Date||0);case"date_asc":return(C.Date||0)-(D.Date||0);case"nom_asc":{const B=C.Nom_fr||C.Nom_en||C.Nom||"",N=D.Nom_fr||D.Nom_en||D.Nom||"";return B.localeCompare(N,"fr",{numeric:!0,sensitivity:"base"})}case"nom_desc":{const B=C.Nom_fr||C.Nom_en||C.Nom||"";return(D.Nom_fr||D.Nom_en||D.Nom||"").localeCompare(B,"fr",{numeric:!0,sensitivity:"base"})}case"source_asc":return(C.Source||"").localeCompare(D.Source||"","fr",{numeric:!0,sensitivity:"base"});default:return 0}}),[]),g=q.useMemo(()=>p(c,u),[c,u,p]),m=E=>{f(E)},b=[{label:"Pertinence",value:"relevance"},{label:"FE croissant",value:"fe_asc"},{label:"FE décroissant",value:"fe_desc"},{label:"Plus récent",value:"date_desc"},{label:"Plus ancien",value:"date_asc"},{label:"Nom A-Z",value:"nom_asc"},{label:"Nom Z-A",value:"nom_desc"},{label:"Source A-Z",value:"source_asc"}],{currentRefinement:v,nbPages:x,refine:w}=JN(),{removeFromFavorites:S,isFavorite:_}=sd();za();const{getSourceLogo:j}=fO(),{shouldBlurPremiumContent:P}=Tl(),R=g.length>0&&g.every(E=>e.has(E.objectID)),$=E=>{n(E)},k=E=>{const O=new Set(d);O.has(E)?O.delete(E):O.add(E),h(O)},F=(E,O)=>{const C=(()=>{switch(O){case"Nom":return["Nom_fr","Nom_en","Nom"];case"Description":return["Description_fr","Description_en","Description"];case"Commentaires":return["Commentaires_fr","Commentaires_en","Commentaires"];case"Secteur":return["Secteur_fr","Secteur_en","Secteur"];case"Sous-secteur":return["Sous-secteur_fr","Sous-secteur_en","Sous-secteur"];case"Périmètre":return["Périmètre_fr","Périmètre_en","Périmètre"];case"Localisation":return["Localisation_fr","Localisation_en","Localisation"];case"Unite":return["Unite_fr","Unite_en","Unité donnée d'activité"];case"Source":return["Source"];default:return[O]}})(),D=E._highlightResult||{};for(const B of C){const N=D[B];if(N!=null&&N.value)return{__html:N.value};const ne=E[B];if(ne)return{__html:ne}}return{__html:""}},I=async E=>{try{await S(E.objectID),jn.success("Retiré des favoris")}catch{jn.error("Erreur lors de la suppression du favori")}},U=E=>({id:E.objectID,nom:E.Nom_fr||E.Nom_en||E.Nom||"",description:E.Description_fr||E.Description_en||E.Description||"",fe:E.FE,uniteActivite:E.Unite_fr||E.Unite_en||E["Unité donnée d'activité"]||"",source:E.Source,secteur:E.Secteur_fr||E.Secteur_en||E.Secteur||"",sousSecteur:E["Sous-secteur_fr"]||E["Sous-secteur_en"]||E["Sous-secteur"]||"",localisation:E.Localisation_fr||E.Localisation_en||E.Localisation||"",date:E.Date,incertitude:E.Incertitude,perimetre:E.Périmètre_fr||E.Périmètre_en||E.Périmètre||"",contributeur:E.Contributeur||"",commentaires:E.Commentaires_fr||E.Commentaires_en||E.Commentaires||""}),T=()=>{if(r){const O=g.filter(C=>e.has(C.objectID)).map(U);r(O)}},z=()=>{if(i){const O=g.filter(C=>e.has(C.objectID)).map(U);i(O)}},A=()=>{if(s){const E=Array.from(e);s(E)}},M=E=>!!E.workspace_id||E.import_type==="imported";return g.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"text-muted-foreground",children:"Aucun favori ne correspond à votre recherche."})}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[o.jsxs("div",{className:"text-sm text-foreground",children:[g.length," favori",g.length>1?"s":""," affiché",g.length>1?"s":""]}),o.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-foreground",children:"Trier par:"}),o.jsxs(wr,{value:u,onValueChange:m,children:[o.jsx(nr,{className:"w-auto min-w-[140px]",children:o.jsx(Sr,{})}),o.jsx(rr,{children:b.map(E=>o.jsx(it,{value:E.value,children:E.label},E.value))})]})]})})]}),o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 p-4 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(zi,{id:"select-all",checked:R,onCheckedChange:$}),o.jsxs("label",{htmlFor:"select-all",className:"text-sm cursor-pointer",children:["Tout sélectionner (",g.length,")"]})]}),e.size>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Z,{variant:"outline",size:"sm",onClick:z,children:[o.jsx(Dk,{className:"w-4 h-4 mr-2"}),"Copier (",e.size,")"]}),o.jsx(xO,{requirePermission:"canExport",children:o.jsxs(Z,{variant:"outline",size:"sm",onClick:T,children:[o.jsx(Hx,{className:"w-4 h-4 mr-2"}),"Exporter (",e.size,")"]})}),o.jsxs(Z,{variant:"destructive",size:"sm",onClick:A,children:[o.jsx(ed,{className:"w-4 h-4 mr-2"}),"Retirer (",e.size,")"]})]})]}),o.jsx("div",{className:"space-y-4",children:g.map(E=>{const O=d.has(E.objectID);_(E.objectID);const C=P(E.Source);return o.jsx(me,{className:"relative overflow-hidden bg-background border border-border hover:shadow-lg transition-shadow",children:o.jsx(ge,{className:"p-6",children:o.jsx("div",{className:"flex justify-between items-start gap-4",children:o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[o.jsx(zi,{checked:e.has(E.objectID),onCheckedChange:()=>t(E.objectID),onClick:D=>D.stopPropagation(),className:"mt-1 cursor-pointer"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex flex-col items-start gap-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-primary leading-tight",dangerouslySetInnerHTML:F(E,"Nom")}),M(E)&&o.jsx(Be,{variant:"secondary",className:"mt-1 text-[10px] leading-none px-2 py-0.5",children:"FE importé"})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[o.jsx(Z,{variant:"ghost",size:"sm",onClick:D=>{D.stopPropagation(),I(E)},className:"text-red-500 hover:text-red-600",children:o.jsx(Rv,{className:"h-4 w-4 fill-current"})}),o.jsx(Z,{variant:"ghost",size:"sm",onClick:D=>{D.stopPropagation(),k(E.objectID)},children:O?o.jsx(Bx,{className:"h-4 w-4"}):o.jsx(Zu,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Facteur d'émission"}),o.jsx(Sh,{isBlurred:C,children:o.jsxs("p",{className:"text-2xl font-bold text-primary",children:[E.FE?(typeof E.FE=="number"?parseFloat(E.FE.toFixed(4)):parseFloat(parseFloat(String(E.FE)).toFixed(4))).toLocaleString("fr-FR"):""," kgCO₂eq"]})}),o.jsxs("div",{className:"mt-2",children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Unité"}),o.jsx(Sh,{isBlurred:C,showBadge:!1,children:o.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:F(E,"Unite")})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[(E.Périmètre_fr||E.Périmètre_en||E.Périmètre)&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Périmètre"}),o.jsx("p",{className:"text-sm font-light",children:E.Périmètre_fr||E.Périmètre_en||E.Périmètre})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Source"}),o.jsxs("div",{className:"flex items-center gap-2",children:[j(E.Source)&&o.jsx("img",{src:j(E.Source),alt:`Logo ${E.Source}`,className:"w-6 h-6 object-contain flex-shrink-0"}),o.jsx("p",{className:"text-sm font-light",dangerouslySetInnerHTML:F(E,"Source")})]})]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[(E.Localisation_fr||E.Localisation_en||E.Localisation)&&o.jsx(Be,{variant:"secondary",children:E.Localisation_fr||E.Localisation_en||E.Localisation}),E.Date&&o.jsx(Be,{variant:"outline",children:E.Date}),(E.Secteur_fr||E.Secteur_en||E.Secteur)&&o.jsx(Be,{variant:"outline",children:E.Secteur_fr||E.Secteur_en||E.Secteur}),(E["Sous-secteur_fr"]||E["Sous-secteur_en"]||E["Sous-secteur"])&&o.jsx(Be,{variant:"outline",children:E["Sous-secteur_fr"]||E["Sous-secteur_en"]||E["Sous-secteur"]})]}),O&&o.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[E.Description_fr||E.Description_en?o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Description"}),o.jsx("div",{className:"text-xs mt-1 text-break-words",children:o.jsx(Bo,{remarkPlugins:[Ho],components:{a:({href:D,children:B,...N})=>o.jsx("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:B}),p:({children:D,...B})=>o.jsx("p",{className:"text-xs font-light leading-relaxed",...B,children:D})},children:E.Description_fr||E.Description_en})})]}):null,o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Secteur"}),o.jsx("p",{className:"text-xs font-light mt-1",dangerouslySetInnerHTML:F(E,"Secteur")})]}),E.Incertitude&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Incertitude"}),o.jsx("p",{className:"text-sm font-light mt-1",children:E.Incertitude})]}),E.Contributeur&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Contributeur"}),o.jsx("div",{className:"text-xs mt-1 text-break-words",children:o.jsx(Bo,{remarkPlugins:[Ho],components:{a:({href:D,children:B,...N})=>o.jsx("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:B}),p:({children:D,...B})=>o.jsx("p",{className:"text-xs font-light leading-relaxed",...B,children:D})},children:E.Contributeur})})]}),E.Commentaires_fr||E.Commentaires_en?o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Commentaires"}),o.jsx("div",{className:"text-xs mt-1 text-break-words",children:o.jsx(Bo,{remarkPlugins:[Ho],components:{a:({href:D,children:B,...N})=>o.jsx("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",...N,children:B}),p:({children:D,...B})=>o.jsx("p",{className:"text-xs font-light leading-relaxed",...B,children:D})},children:E.Commentaires_fr||E.Commentaires_en})})]}):null]})]})]})})})},E.objectID)})}),x>1&&(()=>{let O=Math.max(0,v-Math.floor(2.5)),C=Math.min(x-1,O+5-1);C-O<4&&(O=Math.max(0,C-5+1));const D=[];for(let B=O;B<=C;B++)D.push(B);return o.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[o.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>w(v-1),disabled:v===0,children:[o.jsx(Ik,{className:"w-4 h-4"}),"Précédent"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[O>0&&o.jsx(Z,{variant:v===0?"default":"outline",size:"sm",onClick:()=>w(0),className:"w-10",children:"1"},"first-page"),O>1&&o.jsx("span",{className:"px-2",children:"..."},"left-ellipsis"),D.map(B=>o.jsx(Z,{variant:B===v?"default":"outline",size:"sm",onClick:()=>w(B),className:"w-10",children:B+1},`page-${B}`)),C<x-2&&o.jsx("span",{className:"px-2",children:"..."},"right-ellipsis"),C<x-1&&o.jsx(Z,{variant:x-1===v?"default":"outline",size:"sm",onClick:()=>w(x-1),className:"w-10",children:x},"last-page")]}),o.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>w(v+1),disabled:v>=x-1,children:["Suivant",o.jsx(zx,{className:"w-4 h-4"})]})]})})()]})},Kee=()=>{const{nbHits:e,nbSortedHits:t,areHitsSorted:n,processingTimeMS:r}=Sp();return o.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[o.jsx("div",{children:n&&t!==e?o.jsxs("span",{children:[t==null?void 0:t.toLocaleString()," résultats pertinents sur ",e==null?void 0:e.toLocaleString()," favoris"]}):o.jsxs("span",{className:"font-semibold text-foreground",children:[e==null?void 0:e.toLocaleString()," favori",e>1?"s":""," trouvé",e>1?"s":""]})}),o.jsxs("div",{children:["en ",r," ms"]})]})},Gee=({favoriteIds:e})=>{const[t,n]=y.useState(new Set),{favorites:r,removeFromFavorites:i}=sd(),{handleExport:s,handleCopyToClipboard:a}=aA(),l=m=>{n(b=>{const v=new Set(b);return v.has(m)?v.delete(m):v.add(m),v})},c=m=>{if(m){const b=r.map(v=>v.id);n(new Set(b))}else n(new Set)},u=async m=>{await a(m)},f=async m=>{await s(m,"facteurs_emissions_favoris")},d=async m=>{try{for(const b of m)await i(b);n(new Set),jn.success(`${m.length} élément${m.length>1?"s":""} retiré${m.length>1?"s":""} des favoris`)}catch{jn.error("Erreur lors de la suppression des favoris")}},h=[...new Set(r.map(m=>m.source))].filter(Boolean),p=[...new Set(r.map(m=>m.localisation))].filter(Boolean);[...new Set(r.map(m=>m.date.toString()))].filter(Boolean).sort((m,b)=>parseInt(b)-parseInt(m));const g=B7(e);return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ba,{}),o.jsx("section",{className:"py-12 px-4 bg-background border-b",children:o.jsx("div",{className:"container mx-auto",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:"Mes Favoris"}),o.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Recherchez et gérez vos facteurs d'émission favoris"}),o.jsx("div",{className:"max-w-3xl mx-auto",children:o.jsx(Vee,{favoriteIds:e})}),o.jsxs("div",{className:"flex justify-center items-center gap-8 mt-8 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-semibold text-foreground",children:r.length}),o.jsx("span",{children:"favoris au total"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-semibold text-foreground",children:h.length}),o.jsx("span",{children:"sources"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-semibold text-foreground",children:p.length}),o.jsx("span",{children:"localisations"})]})]})]})})}),o.jsx("main",{className:"container mx-auto px-4 py-8",children:r.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx("div",{className:"text-muted-foreground text-lg mb-4",children:"Vous n'avez pas encore de favoris."}),o.jsx("div",{className:"text-muted-foreground",children:"Recherchez des facteurs d'émission et ajoutez-les à vos favoris en cliquant sur ❤️"})]}):o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[o.jsx("aside",{className:"lg:col-span-1",children:o.jsx(hO,{})}),o.jsxs("section",{className:"lg:col-span-3",children:[o.jsx(TN,{filters:g}),o.jsx(Kee,{}),o.jsx(Qee,{selectedItems:t,onItemSelect:l,onSelectAll:c,onExport:f,onCopyToClipboard:u,onRemoveSelectedFromFavorites:d,favoriteIds:e})]})]})})]})},Yee=()=>{const{favorites:e}=sd(),t=y.useMemo(()=>e.map(n=>n.id),[e]);return o.jsx(tV,{children:o.jsx(sT,{children:o.jsx(Gee,{favoriteIds:t})})})},Xee=()=>{const[e,t]=y.useState(null),[n,r]=y.useState(""),[i,s]=y.useState(!1),[a,l]=y.useState(!1),[c,u]=y.useState(0),[f,d]=y.useState("idle"),[h,p]=y.useState(null),[g,m]=y.useState("idle"),{toast:b}=Dt(),{user:v}=xt(),{currentWorkspace:x}=qi(),{canImportData:w}=za(),{addToFavorites:S}=sd(),_=()=>{const k=["id","nom","nom_en","description","description_en","fe","unite","unite_en","source","secteur","secteur_en","categorie","categorie_en","localisation","localisation_en","date","incertitude","perimetre","perimetre_en","contributeur","commentaires","commentaires_en"],F=["","Transport routier de marchandises","Freight transportation","","","0.123","kgCO2e/t.km","kgCO2e/t.km","Ma Base Perso","Transport","Transportation","Fret","Freight","France","France","2025","","Well-to-Wheel","Well-to-Wheel","",""],I=[k.join(","),F.join(",")].join(`
`),U=new Blob([I],{type:"text/csv"}),T=URL.createObjectURL(U),z=document.createElement("a");z.href=T,z.download="template_facteurs_emissions_bilingue.csv",z.click(),URL.revokeObjectURL(T)},j=k=>{var I;const F=(I=k.target.files)==null?void 0:I[0];F&&F.type==="text/csv"?(t(F),d("idle"),p(null)):b({title:"Format invalide",description:"Veuillez sélectionner un fichier CSV valide",variant:"destructive"})},P=k=>{const F=k.split(`
`).filter(T=>T.trim());if(F.length===0)return[];const I=F[0].split(",").map(T=>T.trim().replace(/"/g,"")),U=[];for(let T=1;T<F.length;T++){const z=F[T].split(",").map(A=>A.trim().replace(/"/g,""));if(z.length===I.length){const A={};I.forEach((M,E)=>{A[M]=z[E]}),U.push(A)}}return U},R=async()=>{if(!e||!n.trim()){b({title:"Informations manquantes",description:"Veuillez sélectionner un fichier et donner un nom à votre dataset",variant:"destructive"});return}if(!x||!v){b({variant:"destructive",title:"Erreur",description:"Veuillez vous assurer d'être dans un workspace."});return}if(!w){b({variant:"destructive",title:"Permission refusée",description:"Vous n'avez pas les permissions pour importer des données."});return}l(!0),d("uploading"),u(0);try{const k=await e.text();u(25);const F=P(k);if(u(50),d("processing"),F.length===0)throw new Error("Le fichier CSV est vide ou mal formaté");const{data:I,error:U}=await Q.from("datasets").insert({name:n,file_name:e.name,file_size:e.size,user_id:v.id,workspace_id:x.id,uploaded_by:v.id}).select().single();if(U)throw new Error(`Erreur lors de la création du dataset: ${U.message}`);u(75);try{await Q.from("fe_sources").upsert({source_name:I.name,access_level:"standard",is_global:!1},{onConflict:"source_name"}),await Q.from("fe_source_workspace_assignments").upsert({source_name:I.name,workspace_id:x.id,assigned_by:v.id},{onConflict:"source_name,workspace_id"})}catch(M){console.warn("Erreur assignation source au workspace:",M)}const T=F.map(M=>({workspace_id:x.id,dataset_id:I.id,Nom:M.nom||M.name||"Sans nom",Nom_en:M.nom_en||M.name_en||null,Description:M.description||"",Description_en:M.description_en||null,FE:parseFloat((M.fe||M.factor||"0").toString().replace(",",".")),"Unité donnée d'activité":M.unite||M.unit||"",Unite_en:M.unite_en||M.unit_en||null,Source:I.name,Secteur:M.secteur||M.sector||"Non spécifié",Secteur_en:M.secteur_en||M.sector_en||null,"Sous-secteur":M.categorie||M.category||"Non spécifié","Sous-secteur_en":M.categorie_en||M.category_en||null,Localisation:M.localisation||M.location||"Non spécifié",Localisation_en:M.localisation_en||M.location_en||null,Date:parseInt((M.date||new Date().getFullYear().toString()).toString()),Incertitude:M.incertitude||M.uncertainty||"",Périmètre:M.perimetre||M.perimeter||null,Périmètre_en:M.perimetre_en||M.perimeter_en||null,Contributeur:M.contributeur||M.contributor||null,Commentaires:M.commentaires||M.comments||null,Commentaires_en:M.commentaires_en||M.comments_en||null})),{data:z,error:A}=await Q.from("emission_factors").insert(T).select();if(A)throw new Error(`Erreur lors de l'insertion: ${A.message}`);try{m("indexing"),await Q.functions.invoke("db-webhooks-optimized",{body:[{type:"INSERT",table:"public:fe_sources",record:{source_name:I.name}}]}),m("success")}catch{m("error")}if(i&&z&&z.length>0)try{let M=0;for(const E of z)try{const O={id:E.id,nom:E.Nom||"",description:E.Description||"",fe:E.FE||0,uniteActivite:E["Unité donnée d'activité"]||"",source:E.Source||"",secteur:E.Secteur||"",sousSecteur:E["Sous-secteur"]||"",localisation:E.Localisation||"",date:E.Date||new Date().getFullYear(),incertitude:E.Incertitude||"",perimetre:E.Périmètre||"",contributeur:E.Contributeur||"",commentaires:E.Commentaires||""};await S(O),M++}catch(O){console.warn("Erreur ajout favori:",O)}M>0&&b({title:"Favoris ajoutés",description:`${M} éléments ajoutés aux favoris.`})}catch(M){console.warn("Erreur ajout favoris global:",M)}u(100),d("success"),p({success:(z==null?void 0:z.length)||0,errors:[]}),b({title:"Import réussi",description:`${(z==null?void 0:z.length)||0} facteurs d'émissions importés avec succès.`}),setTimeout(()=>{t(null),r(""),s(!1),d("idle"),u(0);const M=document.getElementById("file-upload");M&&(M.value="")},3e3)}catch(k){console.error("Import error:",k),d("error"),p({success:0,errors:[k instanceof Error?k.message:"Erreur inconnue"]}),b({variant:"destructive",title:"Erreur d'import",description:k instanceof Error?k.message:"Une erreur est survenue lors de l'import."})}finally{l(!1)}},$=()=>{switch(f){case"success":return o.jsx(zt,{className:"w-5 h-5 text-green-500"});case"error":return o.jsx(xr,{className:"w-5 h-5 text-red-500"});default:return null}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ba,{}),o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center",children:[o.jsx(gS,{className:"w-8 h-8 mr-3 text-primary"}),"Import de données"]}),o.jsx("p",{className:"text-muted-foreground",children:"Importez votre propre base de données de facteurs d'émissions carbone"})]}),o.jsxs(xO,{requirePermission:"canImportData",fallback:o.jsx(me,{className:"mb-6",children:o.jsx(ge,{className:"pt-6",children:o.jsxs("div",{className:"text-center text-muted-foreground",children:[o.jsx(xr,{className:"w-12 h-12 mx-auto mb-4"}),o.jsx("p",{children:"Vous n'avez pas les permissions nécessaires pour importer des données."})]})})}),children:[o.jsxs(me,{className:"mb-6",children:[o.jsxs(Se,{children:[o.jsxs(je,{className:"flex items-center",children:[o.jsx(Hx,{className:"w-5 h-5 mr-2"}),"Télécharger le template"]}),o.jsx(yt,{children:"Utilisez notre template CSV pour formater correctement vos données"})]}),o.jsxs(ge,{children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(sM,{className:"w-8 h-8 text-muted-foreground mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"template_facteurs_emissions.csv"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Template avec colonnes requises"})]})]}),o.jsx(Z,{onClick:_,variant:"outline",children:"Télécharger"})]}),o.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[o.jsx("strong",{children:"Colonnes requises :"})," nom, description, fe, unite, source, secteur, categorie, localisation, date, incertitude"]})]})]}),o.jsxs(me,{children:[o.jsxs(Se,{children:[o.jsxs(je,{className:"flex items-center",children:["Importer votre dataset",$()]}),o.jsx(yt,{children:"Sélectionnez un fichier CSV formaté selon notre template"})]}),o.jsxs(ge,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(jt,{htmlFor:"dataset-name",children:"Nom du dataset"}),o.jsx(Ot,{id:"dataset-name",placeholder:"Mon dataset personnalisé",value:n,onChange:k=>r(k.target.value),disabled:a})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(jt,{htmlFor:"file-upload",children:"Fichier CSV"}),o.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[o.jsx("input",{id:"file-upload",type:"file",accept:".csv",onChange:j,className:"hidden",disabled:a}),e?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx(Xh,{className:"w-8 h-8 text-green-500 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:e.name}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[(e.size/1024/1024).toFixed(2)," MB"]})]})]}):o.jsxs("div",{children:[o.jsx(gS,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),o.jsx("div",{className:"text-lg font-medium mb-2",children:"Cliquez pour sélectionner un fichier"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Formats acceptés : CSV uniquement"})]}),o.jsx("label",{htmlFor:"file-upload",className:`mt-4 inline-flex cursor-pointer items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow transition-colors hover:bg-primary/90 ${a?"opacity-50 cursor-not-allowed":""}`,children:e?"Changer de fichier":"Sélectionner un fichier"})]})]}),a&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:[f==="uploading"&&"Lecture du fichier...",f==="processing"&&"Traitement des données..."]}),o.jsxs("span",{children:[c,"%"]})]}),o.jsx(qo,{value:c,className:"w-full"})]}),h&&o.jsx("div",{className:`p-4 rounded-lg ${f==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:f==="success"?o.jsxs("div",{className:"flex items-center",children:[o.jsx(zt,{className:"w-5 h-5 text-green-500 mr-2"}),o.jsxs("span",{className:"text-green-700",children:[h.success," facteurs d'émissions importés avec succès"]})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(xr,{className:"w-5 h-5 text-red-500 mr-2"}),o.jsx("span",{className:"text-red-700 font-medium",children:"Erreurs d'import"})]}),o.jsx("ul",{className:"text-sm text-red-600 space-y-1",children:h.errors.map((k,F)=>o.jsxs("li",{children:["• ",k]},F))})]})}),g!=="idle"&&o.jsxs("div",{className:"mt-3 p-3 rounded-lg border bg-muted/30",children:[g==="indexing"&&o.jsx("div",{className:"text-sm text-muted-foreground",children:"Indexation Algolia en cours…"}),g==="success"&&o.jsxs("div",{className:"flex items-center text-sm text-green-700",children:[o.jsx(zt,{className:"w-4 h-4 mr-2"})," Indexation Algolia terminée"]}),g==="error"&&o.jsxs("div",{className:"flex items-center text-sm text-red-700",children:[o.jsx(xr,{className:"w-4 h-4 mr-2"})," Échec de l'indexation Algolia (non bloquant)"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(zi,{id:"add-favorites",checked:i,onCheckedChange:k=>s(k),disabled:a}),o.jsx(jt,{htmlFor:"add-favorites",className:"text-sm",children:"Ajouter automatiquement tous les éléments de ce dataset à mes favoris"})]}),o.jsx(Z,{onClick:R,className:"w-full",disabled:!e||!n.trim()||a,children:a?"Import en cours...":"Importer le dataset"})]})]})]}),o.jsx(me,{className:"mt-6",children:o.jsx(ge,{className:"pt-6",children:o.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Limite de taille :"})," 10 MB maximum par fichier"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Format :"})," CSV avec séparateur virgule (,)"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Encodage :"})," UTF-8 recommandé"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Validation :"})," Les données seront vérifiées avant import"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Workspace :"})," Les données seront importées dans votre workspace actuel"]})]})})})]})})]})};var sw="Dialog",[bO,wO]=Hi(sw),[Jee,Vr]=bO(sw),SO=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,l=y.useRef(null),c=y.useRef(null),[u=!1,f]=Fi({prop:r,defaultProp:i,onChange:s});return o.jsx(Jee,{scope:t,triggerRef:l,contentRef:c,contentId:$r(),titleId:$r(),descriptionId:$r(),open:u,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(d=>!d),[f]),modal:a,children:n})};SO.displayName=sw;var jO="DialogTrigger",_O=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Vr(jO,n),s=Le(t,i.triggerRef);return o.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":lw(i.open),...r,ref:s,onClick:te(e.onClick,i.onOpenToggle)})});_O.displayName=jO;var aw="DialogPortal",[Zee,EO]=bO(aw,{forceMount:void 0}),CO=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=Vr(aw,t);return o.jsx(Zee,{scope:t,forceMount:n,children:y.Children.map(r,a=>o.jsx(Cr,{present:n||s.open,children:o.jsx(Yu,{asChild:!0,container:i,children:a})}))})};CO.displayName=aw;var Ph="DialogOverlay",kO=y.forwardRef((e,t)=>{const n=EO(Ph,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Vr(Ph,e.__scopeDialog);return s.modal?o.jsx(Cr,{present:r||s.open,children:o.jsx(ete,{...i,ref:t})}):null});kO.displayName=Ph;var ete=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Vr(Ph,n);return o.jsx(Cp,{as:As,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(ve.div,{"data-state":lw(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Oa="DialogContent",PO=y.forwardRef((e,t)=>{const n=EO(Oa,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Vr(Oa,e.__scopeDialog);return o.jsx(Cr,{present:r||s.open,children:s.modal?o.jsx(tte,{...i,ref:t}):o.jsx(nte,{...i,ref:t})})});PO.displayName=Oa;var tte=y.forwardRef((e,t)=>{const n=Vr(Oa,e.__scopeDialog),r=y.useRef(null),i=Le(t,n.contentRef,r);return y.useEffect(()=>{const s=r.current;if(s)return Db(s)},[]),o.jsx(RO,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:te(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:te(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:te(e.onFocusOutside,s=>s.preventDefault())})}),nte=y.forwardRef((e,t)=>{const n=Vr(Oa,e.__scopeDialog),r=y.useRef(!1),i=y.useRef(!1);return o.jsx(RO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),RO=y.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,l=Vr(Oa,n),c=y.useRef(null),u=Le(t,c);return Ib(),o.jsxs(o.Fragment,{children:[o.jsx(_p,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(Sl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":lw(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(ite,{titleId:l.titleId}),o.jsx(ate,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ow="DialogTitle",NO=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Vr(ow,n);return o.jsx(ve.h2,{id:i.titleId,...r,ref:t})});NO.displayName=ow;var TO="DialogDescription",AO=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Vr(TO,n);return o.jsx(ve.p,{id:i.descriptionId,...r,ref:t})});AO.displayName=TO;var OO="DialogClose",IO=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Vr(OO,n);return o.jsx(ve.button,{type:"button",...r,ref:t,onClick:te(e.onClick,()=>i.onOpenChange(!1))})});IO.displayName=OO;function lw(e){return e?"open":"closed"}var DO="DialogTitleWarning",[rte,FO]=fL(DO,{contentName:Oa,titleName:ow,docsSlug:"dialog"}),ite=({titleId:e})=>{const t=FO(DO),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},ste="DialogDescriptionWarning",ate=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${FO(ste).contentName}}.`;return y.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},LO=SO,MO=_O,$O=CO,cw=kO,uw=PO,dw=NO,fw=AO,hw=IO,UO="AlertDialog",[ote,Dre]=Hi(UO,[wO]),Qi=wO(),zO=e=>{const{__scopeAlertDialog:t,...n}=e,r=Qi(t);return o.jsx(LO,{...r,...n,modal:!0})};zO.displayName=UO;var lte="AlertDialogTrigger",BO=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Qi(n);return o.jsx(MO,{...i,...r,ref:t})});BO.displayName=lte;var cte="AlertDialogPortal",HO=e=>{const{__scopeAlertDialog:t,...n}=e,r=Qi(t);return o.jsx($O,{...r,...n})};HO.displayName=cte;var ute="AlertDialogOverlay",qO=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Qi(n);return o.jsx(cw,{...i,...r,ref:t})});qO.displayName=ute;var Wo="AlertDialogContent",[dte,fte]=ote(Wo),WO=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,s=Qi(n),a=y.useRef(null),l=Le(t,a),c=y.useRef(null);return o.jsx(rte,{contentName:Wo,titleName:VO,docsSlug:"alert-dialog",children:o.jsx(dte,{scope:n,cancelRef:c,children:o.jsxs(uw,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:te(i.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(Dx,{children:r}),o.jsx(pte,{contentRef:a})]})})})});WO.displayName=Wo;var VO="AlertDialogTitle",QO=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Qi(n);return o.jsx(dw,{...i,...r,ref:t})});QO.displayName=VO;var KO="AlertDialogDescription",GO=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Qi(n);return o.jsx(fw,{...i,...r,ref:t})});GO.displayName=KO;var hte="AlertDialogAction",YO=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Qi(n);return o.jsx(hw,{...i,...r,ref:t})});YO.displayName=hte;var XO="AlertDialogCancel",JO=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=fte(XO,n),s=Qi(n),a=Le(t,i);return o.jsx(hw,{...s,...r,ref:a})});JO.displayName=XO;var pte=({contentRef:e})=>{const t=`\`${Wo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Wo}\` by passing a \`${KO}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Wo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},mte=zO,gte=BO,vte=HO,ZO=qO,e2=WO,t2=YO,n2=JO,r2=QO,i2=GO;const s2=mte,a2=gte,yte=vte,o2=y.forwardRef(({className:e,...t},n)=>o.jsx(ZO,{className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));o2.displayName=ZO.displayName;const pw=y.forwardRef(({className:e,...t},n)=>o.jsxs(yte,{children:[o.jsx(o2,{}),o.jsx(e2,{ref:n,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));pw.displayName=e2.displayName;const mw=({className:e,...t})=>o.jsx("div",{className:se("flex flex-col space-y-2 text-center sm:text-left",e),...t});mw.displayName="AlertDialogHeader";const gw=({className:e,...t})=>o.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});gw.displayName="AlertDialogFooter";const vw=y.forwardRef(({className:e,...t},n)=>o.jsx(r2,{ref:n,className:se("text-lg font-semibold",e),...t}));vw.displayName=r2.displayName;const yw=y.forwardRef(({className:e,...t},n)=>o.jsx(i2,{ref:n,className:se("text-sm text-muted-foreground",e),...t}));yw.displayName=i2.displayName;const xw=y.forwardRef(({className:e,...t},n)=>o.jsx(t2,{ref:n,className:se(vb(),e),...t}));xw.displayName=t2.displayName;const bw=y.forwardRef(({className:e,...t},n)=>o.jsx(n2,{ref:n,className:se(vb({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));bw.displayName=n2.displayName;const xte=LO,bte=MO,wte=$O,l2=y.forwardRef(({className:e,...t},n)=>o.jsx(cw,{ref:n,className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));l2.displayName=cw.displayName;const c2=y.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(wte,{children:[o.jsx(l2,{}),o.jsxs(uw,{ref:r,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,o.jsxs(hw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Jh,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));c2.displayName=uw.displayName;const u2=({className:e,...t})=>o.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});u2.displayName="DialogHeader";const d2=y.forwardRef(({className:e,...t},n)=>o.jsx(dw,{ref:n,className:se("text-lg font-semibold leading-none tracking-tight",e),...t}));d2.displayName=dw.displayName;const f2=y.forwardRef(({className:e,...t},n)=>o.jsx(fw,{ref:n,className:se("text-sm text-muted-foreground",e),...t}));f2.displayName=fw.displayName;var My=["Enter"," "],Ste=["ArrowDown","PageUp","Home"],h2=["ArrowUp","PageDown","End"],jte=[...Ste,...h2],_te={ltr:[...My,"ArrowRight"],rtl:[...My,"ArrowLeft"]},Ete={ltr:["ArrowLeft"],rtl:["ArrowRight"]},fd="Menu",[zu,Cte,kte]=Kh(fd),[Ha,p2]=Hi(fd,[kte,Cl,yp]),Fp=Cl(),m2=yp(),[Pte,qa]=Ha(fd),[Rte,hd]=Ha(fd),g2=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=e,l=Fp(t),[c,u]=y.useState(null),f=y.useRef(!1),d=dn(s),h=gp(i);return y.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),o.jsx(eb,{...l,children:o.jsx(Pte,{scope:t,open:n,onOpenChange:d,content:c,onContentChange:u,children:o.jsx(Rte,{scope:t,onClose:y.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:a,children:r})})})};g2.displayName=fd;var Nte="MenuAnchor",ww=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Fp(n);return o.jsx(tb,{...i,...r,ref:t})});ww.displayName=Nte;var Sw="MenuPortal",[Tte,v2]=Ha(Sw,{forceMount:void 0}),y2=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=qa(Sw,t);return o.jsx(Tte,{scope:t,forceMount:n,children:o.jsx(Cr,{present:n||s.open,children:o.jsx(Yu,{asChild:!0,container:i,children:r})})})};y2.displayName=Sw;var jr="MenuContent",[Ate,jw]=Ha(jr),x2=y.forwardRef((e,t)=>{const n=v2(jr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=qa(jr,e.__scopeMenu),a=hd(jr,e.__scopeMenu);return o.jsx(zu.Provider,{scope:e.__scopeMenu,children:o.jsx(Cr,{present:r||s.open,children:o.jsx(zu.Slot,{scope:e.__scopeMenu,children:a.modal?o.jsx(Ote,{...i,ref:t}):o.jsx(Ite,{...i,ref:t})})})})}),Ote=y.forwardRef((e,t)=>{const n=qa(jr,e.__scopeMenu),r=y.useRef(null),i=Le(t,r);return y.useEffect(()=>{const s=r.current;if(s)return Db(s)},[]),o.jsx(_w,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:te(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Ite=y.forwardRef((e,t)=>{const n=qa(jr,e.__scopeMenu);return o.jsx(_w,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),_w=y.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...m}=e,b=qa(jr,n),v=hd(jr,n),x=Fp(n),w=m2(n),S=Cte(n),[_,j]=y.useState(null),P=y.useRef(null),R=Le(t,P,b.onContentChange),$=y.useRef(0),k=y.useRef(""),F=y.useRef(0),I=y.useRef(null),U=y.useRef("right"),T=y.useRef(0),z=g?Cp:y.Fragment,A=g?{as:As,allowPinchZoom:!0}:void 0,M=O=>{var X,re;const C=k.current+O,D=S().filter(le=>!le.disabled),B=document.activeElement,N=(X=D.find(le=>le.ref.current===B))==null?void 0:X.textValue,ne=D.map(le=>le.textValue),ae=Vte(ne,C,N),Y=(re=D.find(le=>le.textValue===ae))==null?void 0:re.ref.current;(function le(ue){k.current=ue,window.clearTimeout($.current),ue!==""&&($.current=window.setTimeout(()=>le(""),1e3))})(C),Y&&setTimeout(()=>Y.focus())};y.useEffect(()=>()=>window.clearTimeout($.current),[]),Ib();const E=y.useCallback(O=>{var D,B;return U.current===((D=I.current)==null?void 0:D.side)&&Kte(O,(B=I.current)==null?void 0:B.area)},[]);return o.jsx(Ate,{scope:n,searchRef:k,onItemEnter:y.useCallback(O=>{E(O)&&O.preventDefault()},[E]),onItemLeave:y.useCallback(O=>{var C;E(O)||((C=P.current)==null||C.focus(),j(null))},[E]),onTriggerLeave:y.useCallback(O=>{E(O)&&O.preventDefault()},[E]),pointerGraceTimerRef:F,onPointerGraceIntentChange:y.useCallback(O=>{I.current=O},[]),children:o.jsx(z,{...A,children:o.jsx(_p,{asChild:!0,trapped:i,onMountAutoFocus:te(s,O=>{var C;O.preventDefault(),(C=P.current)==null||C.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(Sl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:p,children:o.jsx(bR,{asChild:!0,...w,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:j,onEntryFocus:te(c,O=>{v.isUsingKeyboardRef.current||O.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(nb,{role:"menu","aria-orientation":"vertical","data-state":D2(b.open),"data-radix-menu-content":"",dir:v.dir,...x,...m,ref:R,style:{outline:"none",...m.style},onKeyDown:te(m.onKeyDown,O=>{const D=O.target.closest("[data-radix-menu-content]")===O.currentTarget,B=O.ctrlKey||O.altKey||O.metaKey,N=O.key.length===1;D&&(O.key==="Tab"&&O.preventDefault(),!B&&N&&M(O.key));const ne=P.current;if(O.target!==ne||!jte.includes(O.key))return;O.preventDefault();const Y=S().filter(X=>!X.disabled).map(X=>X.ref.current);h2.includes(O.key)&&Y.reverse(),qte(Y)}),onBlur:te(e.onBlur,O=>{O.currentTarget.contains(O.target)||(window.clearTimeout($.current),k.current="")}),onPointerMove:te(e.onPointerMove,Bu(O=>{const C=O.target,D=T.current!==O.clientX;if(O.currentTarget.contains(C)&&D){const B=O.clientX>T.current?"right":"left";U.current=B,T.current=O.clientX}}))})})})})})})});x2.displayName=jr;var Dte="MenuGroup",Ew=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ve.div,{role:"group",...r,ref:t})});Ew.displayName=Dte;var Fte="MenuLabel",b2=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ve.div,{...r,ref:t})});b2.displayName=Fte;var Rh="MenuItem",$_="menu.itemSelect",Lp=y.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=y.useRef(null),a=hd(Rh,e.__scopeMenu),l=jw(Rh,e.__scopeMenu),c=Le(t,s),u=y.useRef(!1),f=()=>{const d=s.current;if(!n&&d){const h=new CustomEvent($_,{bubbles:!0,cancelable:!0});d.addEventListener($_,p=>r==null?void 0:r(p),{once:!0}),Fx(d,h),h.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(w2,{...i,ref:c,disabled:n,onClick:te(e.onClick,f),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),u.current=!0},onPointerUp:te(e.onPointerUp,d=>{var h;u.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:te(e.onKeyDown,d=>{const h=l.searchRef.current!=="";n||h&&d.key===" "||My.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Lp.displayName=Rh;var w2=y.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,a=jw(Rh,n),l=m2(n),c=y.useRef(null),u=Le(t,c),[f,d]=y.useState(!1),[h,p]=y.useState("");return y.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[s.children]),o.jsx(zu.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:o.jsx(wR,{asChild:!0,...l,focusable:!r,children:o.jsx(ve.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:te(e.onPointerMove,Bu(g=>{r?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:te(e.onPointerLeave,Bu(g=>a.onItemLeave(g))),onFocus:te(e.onFocus,()=>d(!0)),onBlur:te(e.onBlur,()=>d(!1))})})})}),Lte="MenuCheckboxItem",S2=y.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return o.jsx(k2,{scope:e.__scopeMenu,checked:n,children:o.jsx(Lp,{role:"menuitemcheckbox","aria-checked":Nh(n)?"mixed":n,...i,ref:t,"data-state":kw(n),onSelect:te(i.onSelect,()=>r==null?void 0:r(Nh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});S2.displayName=Lte;var j2="MenuRadioGroup",[Mte,$te]=Ha(j2,{value:void 0,onValueChange:()=>{}}),_2=y.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=dn(r);return o.jsx(Mte,{scope:e.__scopeMenu,value:n,onValueChange:s,children:o.jsx(Ew,{...i,ref:t})})});_2.displayName=j2;var E2="MenuRadioItem",C2=y.forwardRef((e,t)=>{const{value:n,...r}=e,i=$te(E2,e.__scopeMenu),s=n===i.value;return o.jsx(k2,{scope:e.__scopeMenu,checked:s,children:o.jsx(Lp,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":kw(s),onSelect:te(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});C2.displayName=E2;var Cw="MenuItemIndicator",[k2,Ute]=Ha(Cw,{checked:!1}),P2=y.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=Ute(Cw,n);return o.jsx(Cr,{present:r||Nh(s.checked)||s.checked===!0,children:o.jsx(ve.span,{...i,ref:t,"data-state":kw(s.checked)})})});P2.displayName=Cw;var zte="MenuSeparator",R2=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});R2.displayName=zte;var Bte="MenuArrow",N2=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Fp(n);return o.jsx(rb,{...i,...r,ref:t})});N2.displayName=Bte;var Hte="MenuSub",[Fre,T2]=Ha(Hte),gc="MenuSubTrigger",A2=y.forwardRef((e,t)=>{const n=qa(gc,e.__scopeMenu),r=hd(gc,e.__scopeMenu),i=T2(gc,e.__scopeMenu),s=jw(gc,e.__scopeMenu),a=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},f=y.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return y.useEffect(()=>f,[f]),y.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),o.jsx(ww,{asChild:!0,...u,children:o.jsx(w2,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":D2(n.open),...e,ref:Qh(t,i.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:te(e.onPointerMove,Bu(d=>{s.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:te(e.onPointerLeave,Bu(d=>{var p,g;f();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(g=n.content)==null?void 0:g.dataset.side,b=m==="right",v=b?-5:5,x=h[b?"left":"right"],w=h[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:te(e.onKeyDown,d=>{var p;const h=s.searchRef.current!=="";e.disabled||h&&d.key===" "||_te[r.dir].includes(d.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),d.preventDefault())})})})});A2.displayName=gc;var O2="MenuSubContent",I2=y.forwardRef((e,t)=>{const n=v2(jr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=qa(jr,e.__scopeMenu),a=hd(jr,e.__scopeMenu),l=T2(O2,e.__scopeMenu),c=y.useRef(null),u=Le(t,c);return o.jsx(zu.Provider,{scope:e.__scopeMenu,children:o.jsx(Cr,{present:r||s.open,children:o.jsx(zu.Slot,{scope:e.__scopeMenu,children:o.jsx(_w,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;a.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:te(e.onFocusOutside,f=>{f.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:te(e.onEscapeKeyDown,f=>{a.onClose(),f.preventDefault()}),onKeyDown:te(e.onKeyDown,f=>{var p;const d=f.currentTarget.contains(f.target),h=Ete[a.dir].includes(f.key);d&&h&&(s.onOpenChange(!1),(p=l.trigger)==null||p.focus(),f.preventDefault())})})})})})});I2.displayName=O2;function D2(e){return e?"open":"closed"}function Nh(e){return e==="indeterminate"}function kw(e){return Nh(e)?"indeterminate":e?"checked":"unchecked"}function qte(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Wte(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Vte(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=Wte(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Qte(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const l=t[s].x,c=t[s].y,u=t[a].x,f=t[a].y;c>r!=f>r&&n<(u-l)*(r-c)/(f-c)+l&&(i=!i)}return i}function Kte(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Qte(n,t)}function Bu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Gte=g2,Yte=ww,Xte=y2,Jte=x2,Zte=Ew,ene=b2,tne=Lp,nne=S2,rne=_2,ine=C2,sne=P2,ane=R2,one=N2,lne=A2,cne=I2,Pw="DropdownMenu",[une,Lre]=Hi(Pw,[p2]),Nn=p2(),[dne,F2]=une(Pw),L2=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:l=!0}=e,c=Nn(t),u=y.useRef(null),[f=!1,d]=Fi({prop:i,defaultProp:s,onChange:a});return o.jsx(dne,{scope:t,triggerId:$r(),triggerRef:u,contentId:$r(),open:f,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(h=>!h),[d]),modal:l,children:o.jsx(Gte,{...c,open:f,onOpenChange:d,dir:r,modal:l,children:n})})};L2.displayName=Pw;var M2="DropdownMenuTrigger",$2=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=F2(M2,n),a=Nn(n);return o.jsx(Yte,{asChild:!0,...a,children:o.jsx(ve.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Qh(t,s.triggerRef),onPointerDown:te(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:te(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});$2.displayName=M2;var fne="DropdownMenuPortal",U2=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Nn(t);return o.jsx(Xte,{...r,...n})};U2.displayName=fne;var z2="DropdownMenuContent",B2=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=F2(z2,n),s=Nn(n),a=y.useRef(!1);return o.jsx(Jte,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:te(e.onCloseAutoFocus,l=>{var c;a.current||(c=i.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:te(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!i.modal||f)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});B2.displayName=z2;var hne="DropdownMenuGroup",pne=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(Zte,{...i,...r,ref:t})});pne.displayName=hne;var mne="DropdownMenuLabel",H2=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(ene,{...i,...r,ref:t})});H2.displayName=mne;var gne="DropdownMenuItem",q2=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(tne,{...i,...r,ref:t})});q2.displayName=gne;var vne="DropdownMenuCheckboxItem",W2=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(nne,{...i,...r,ref:t})});W2.displayName=vne;var yne="DropdownMenuRadioGroup",xne=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(rne,{...i,...r,ref:t})});xne.displayName=yne;var bne="DropdownMenuRadioItem",V2=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(ine,{...i,...r,ref:t})});V2.displayName=bne;var wne="DropdownMenuItemIndicator",Q2=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(sne,{...i,...r,ref:t})});Q2.displayName=wne;var Sne="DropdownMenuSeparator",K2=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(ane,{...i,...r,ref:t})});K2.displayName=Sne;var jne="DropdownMenuArrow",_ne=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(one,{...i,...r,ref:t})});_ne.displayName=jne;var Ene="DropdownMenuSubTrigger",G2=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(lne,{...i,...r,ref:t})});G2.displayName=Ene;var Cne="DropdownMenuSubContent",Y2=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Nn(n);return o.jsx(cne,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Y2.displayName=Cne;var kne=L2,Pne=$2,Rne=U2,X2=B2,J2=H2,Z2=q2,eI=W2,tI=V2,nI=Q2,rI=K2,iI=G2,sI=Y2;const Nne=kne,Tne=Pne,Ane=y.forwardRef(({className:e,inset:t,children:n,...r},i)=>o.jsxs(iI,{ref:i,className:se("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,o.jsx(zx,{className:"ml-auto h-4 w-4"})]}));Ane.displayName=iI.displayName;const One=y.forwardRef(({className:e,...t},n)=>o.jsx(sI,{ref:n,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));One.displayName=sI.displayName;const aI=y.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(Rne,{children:o.jsx(X2,{ref:r,sideOffset:t,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));aI.displayName=X2.displayName;const $y=y.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(Z2,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));$y.displayName=Z2.displayName;const Ine=y.forwardRef(({className:e,children:t,checked:n,...r},i)=>o.jsxs(eI,{ref:i,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(nI,{children:o.jsx(Xh,{className:"h-4 w-4"})})}),t]}));Ine.displayName=eI.displayName;const Dne=y.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(tI,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(nI,{children:o.jsx(tM,{className:"h-2 w-2 fill-current"})})}),t]}));Dne.displayName=tI.displayName;const Fne=y.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(J2,{ref:r,className:se("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Fne.displayName=J2.displayName;const Lne=y.forwardRef(({className:e,...t},n)=>o.jsx(rI,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));Lne.displayName=rI.displayName;const Mne=()=>{const[e,t]=y.useState([]),[n,r]=y.useState(!0),[i,s]=y.useState(!1),[a,l]=y.useState(""),[c,u]=y.useState("gestionnaire"),[f,d]=y.useState(!1),{currentWorkspace:h}=qi(),{toast:p}=Dt();y.useEffect(()=>{h!=null&&h.id&&g()},[h==null?void 0:h.id]);const g=async()=>{if(h!=null&&h.id)try{r(!0);const{data:S,error:_}=await Q.rpc("get_workspace_users_with_roles",{target_workspace_id:h.id});if(_)throw _;t(S||[])}catch(S){console.error("Error fetching workspace users:",S),p({variant:"destructive",title:"Erreur",description:"Impossible de charger les utilisateurs du workspace"}),t([])}finally{r(!1)}},m=async()=>{var S;if(!(!(h!=null&&h.id)||!a.trim()))try{d(!0);const{data:_}=await Q.auth.getSession();if(!((S=_.session)!=null&&S.access_token))throw new Error("Session non trouvée");const P=await(await fetch(`${Q.supabaseUrl}/functions/v1/invite-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_.session.access_token}`,apikey:Q.supabaseKey},body:JSON.stringify({email:a.toLowerCase().trim(),workspaceId:h.id,role:c,redirectTo:`${window.location.origin}/auth/callback?type=invite&workspaceId=${h.id}&role=${c}`})})).json();if(!P.success)throw new Error(P.error||"Erreur lors de l'invitation");p({title:"Invitation envoyée !",description:`Une invitation a été envoyée à ${a}`}),l(""),s(!1),setTimeout(()=>g(),1e3)}catch(_){console.error("Error inviting user:",_),p({variant:"destructive",title:"Erreur",description:_.message||"Impossible d'envoyer l'invitation"})}finally{d(!1)}},b=async(S,_)=>{if(h!=null&&h.id)try{const{error:j}=await Q.from("user_roles").update({role:_}).eq("user_id",S).eq("workspace_id",h.id);if(j)throw j;p({title:"Rôle mis à jour",description:"Le rôle de l'utilisateur a été modifié"}),g()}catch(j){console.error("Error updating user role:",j),p({variant:"destructive",title:"Erreur",description:"Impossible de modifier le rôle"})}},v=async S=>{if(h!=null&&h.id)try{const{error:_}=await Q.from("user_roles").delete().eq("user_id",S).eq("workspace_id",h.id);if(_)throw _;const{error:j}=await Q.from("users").delete().eq("user_id",S).eq("workspace_id",h.id);if(j)throw j;p({title:"Utilisateur retiré",description:"L'utilisateur a été retiré du workspace"}),g()}catch(_){console.error("Error removing user:",_),p({variant:"destructive",title:"Erreur",description:"Impossible de retirer l'utilisateur"})}},x=S=>S==="admin"?Ca:Fk,w=S=>S==="admin"?"destructive":"secondary";return n?o.jsxs(me,{children:[o.jsx(Se,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(je,{className:"flex items-center gap-2",children:[o.jsx(Li,{className:"h-5 w-5"}),"Équipe du workspace"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Gérez les utilisateurs et leurs rôles dans votre workspace"})]}),o.jsx(gr,{className:"h-10 w-48"})]})}),o.jsx(ge,{className:"space-y-4",children:[1,2,3].map(S=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(gr,{className:"h-10 w-10 rounded-full"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(gr,{className:"h-4 w-32"}),o.jsx(gr,{className:"h-3 w-48"})]})]}),o.jsx(gr,{className:"h-6 w-20"})]},S))})]}):o.jsxs(me,{children:[o.jsx(Se,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(je,{className:"flex items-center gap-2",children:[o.jsx(Li,{className:"h-5 w-5"}),"Équipe du workspace"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Gérez les utilisateurs et leurs rôles dans votre workspace"})]}),o.jsxs(xte,{open:i,onOpenChange:s,children:[o.jsx(bte,{asChild:!0,children:o.jsxs(Z,{className:"flex items-center gap-2",children:[o.jsx($k,{className:"h-4 w-4"}),"INVITER UN UTILISATEUR"]})}),o.jsxs(c2,{children:[o.jsxs(u2,{children:[o.jsx(d2,{children:"Inviter un utilisateur"}),o.jsx(f2,{children:"Invitez un nouvel utilisateur à rejoindre ce workspace"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(jt,{htmlFor:"email",children:"Email"}),o.jsx(Ot,{id:"email",type:"email",placeholder:"utilisateur@email.com",value:a,onChange:S=>l(S.target.value)})]}),o.jsxs("div",{children:[o.jsx(jt,{htmlFor:"role",children:"Rôle"}),o.jsxs(wr,{value:c,onValueChange:S=>u(S),children:[o.jsx(nr,{children:o.jsx(Sr,{})}),o.jsxs(rr,{children:[o.jsx(it,{value:"gestionnaire",children:"Gestionnaire"}),o.jsx(it,{value:"admin",children:"Administrateur"})]})]})]}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(Z,{variant:"outline",onClick:()=>s(!1),children:"Annuler"}),o.jsxs(Z,{onClick:m,disabled:!a.trim()||f,children:[o.jsx(qx,{className:"h-4 w-4 mr-2"}),f?"Envoi...":"Envoyer l'invitation"]})]})]})]})]})]})}),o.jsx(ge,{children:e.length===0?o.jsx(hn,{children:o.jsx(pn,{children:"Aucun utilisateur dans ce workspace pour le moment."})}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm font-medium text-muted-foreground border-b pb-2",children:[o.jsx("div",{children:"Utilisateur"}),o.jsx("div",{children:"Rôle"}),o.jsx("div",{children:"Ajouté le"}),o.jsx("div",{})]}),e.map(S=>{var _,j,P,R,$;return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-center p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx("span",{className:"text-sm font-medium",children:((_=S.first_name)==null?void 0:_[0])||S.email[0].toUpperCase()})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:S.first_name&&S.last_name?`${S.first_name} ${S.last_name}`:"Utilisateur"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:S.email})]})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(Be,{variant:w((j=S.user_roles[0])==null?void 0:j.role),className:"flex items-center gap-1",children:[q.createElement(x((P=S.user_roles[0])==null?void 0:P.role),{className:"h-3 w-3"}),((R=S.user_roles[0])==null?void 0:R.role)==="admin"?"Administrateur":"Gestionnaire"]})}),o.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(S.created_at).toLocaleDateString("fr-FR")}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(Nne,{children:[o.jsx(Tne,{asChild:!0,children:o.jsx(Z,{variant:"ghost",size:"sm",children:o.jsx(nM,{className:"h-4 w-4"})})}),o.jsxs(aI,{align:"end",children:[o.jsxs($y,{onClick:()=>{var k;return b(S.user_id,((k=S.user_roles[0])==null?void 0:k.role)==="admin"?"gestionnaire":"admin")},children:[o.jsx(Ca,{className:"h-4 w-4 mr-2"}),(($=S.user_roles[0])==null?void 0:$.role)==="admin"?"Rétrograder":"Promouvoir admin"]}),o.jsxs($y,{onClick:()=>v(S.user_id),className:"text-destructive",children:[o.jsx(ed,{className:"h-4 w-4 mr-2"}),"Retirer du workspace"]})]})]})})]},S.user_id)})]})})]})},$ne=()=>{const{user:e,signOut:t}=xt(),{userProfile:n}=gb(),{currentWorkspace:r}=qi(),i=za(),{toast:s}=Dt(),[a,l]=y.useState(!1),c=async()=>{try{await t(),s({title:"Déconnecté avec succès",description:"Vous avez été déconnecté de votre compte."})}catch{s({title:"Erreur de déconnexion",description:"Une erreur est survenue lors de la déconnexion.",variant:"destructive"})}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ba,{}),o.jsxs("div",{className:"container max-w-4xl mx-auto py-8 px-4 space-y-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Paramètres"}),o.jsx("p",{className:"text-muted-foreground",children:"Gérez votre compte et vos préférences"})]}),o.jsxs(me,{children:[o.jsxs(Se,{children:[o.jsxs(je,{className:"flex items-center",children:[o.jsx(kf,{className:"mr-2 h-5 w-5"}),"Informations du compte"]}),o.jsx(yt,{children:"Informations générales sur votre compte"})]}),o.jsx(ge,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),o.jsx("p",{className:"text-sm",children:(e==null?void 0:e.email)||"Non renseigné"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nom complet"}),o.jsx("p",{className:"text-sm",children:n!=null&&n.first_name&&(n!=null&&n.last_name)?`${n.first_name} ${n.last_name}`:"Non renseigné"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Rôle"}),o.jsx("div",{className:"mt-1",children:o.jsx(Be,{variant:i.role==="supra_admin"?"default":"secondary",children:i.role})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Plan du workspace"}),o.jsx("div",{className:"mt-1",children:o.jsx(Be,{variant:i.planType==="premium"?"default":"secondary",children:i.planType})})]})]})})]}),o.jsxs(me,{children:[o.jsxs(Se,{children:[o.jsxs(je,{className:"flex items-center",children:[o.jsx(JL,{className:"mr-2 h-5 w-5"}),"Workspace"]}),o.jsx(yt,{children:"Informations sur votre espace de travail"})]}),o.jsx(ge,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nom du workspace"}),o.jsx("p",{className:"text-sm",children:(r==null?void 0:r.name)||"Aucun workspace"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Plan"}),o.jsx("p",{className:"text-sm capitalize",children:(r==null?void 0:r.plan_type)||"freemium"})]})]})})]}),(i.role==="admin"||i.isSupraAdmin)&&o.jsxs(me,{children:[o.jsxs(Se,{children:[o.jsxs(je,{className:"flex items-center",children:[o.jsx(ah,{className:"mr-2 h-5 w-5"}),"Équipe du workspace"]}),o.jsx(yt,{children:"Gérez les utilisateurs de votre workspace"})]}),o.jsx(ge,{children:o.jsx(Mne,{})})]}),i.isSupraAdmin&&o.jsxs(me,{className:"border-primary/20",children:[o.jsxs(Se,{children:[o.jsxs(je,{className:"flex items-center text-primary",children:[o.jsx(Li,{className:"mr-2 h-5 w-5"}),"Administration"]}),o.jsx(yt,{children:"Outils d'administration (Supra Admin uniquement)"})]}),o.jsx(ge,{className:"space-y-4",children:o.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:o.jsxs(Z,{variant:"outline",className:"flex items-center justify-center",onClick:()=>window.open("/admin","_blank"),children:[o.jsx(rM,{className:"mr-2 h-4 w-4"}),"Panneau d'administration"]})})})]}),o.jsxs(me,{children:[o.jsxs(Se,{children:[o.jsxs(je,{className:"flex items-center",children:[o.jsx(uM,{className:"mr-2 h-5 w-5"}),"Actions du compte"]}),o.jsx(yt,{children:"Gérez votre session et vos données"})]}),o.jsx(ge,{className:"space-y-4",children:o.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:o.jsxs(s2,{open:a,onOpenChange:l,children:[o.jsx(a2,{asChild:!0,children:o.jsxs(Z,{variant:"outline",className:"flex items-center justify-center",children:[o.jsx(Mk,{className:"mr-2 h-4 w-4"}),"Se déconnecter"]})}),o.jsxs(pw,{children:[o.jsxs(mw,{children:[o.jsx(vw,{children:"Confirmer la déconnexion"}),o.jsx(yw,{children:"Êtes-vous sûr de vouloir vous déconnecter ? Vous devrez vous reconnecter pour accéder à votre compte."})]}),o.jsxs(gw,{children:[o.jsx(bw,{children:"Annuler"}),o.jsx(xw,{onClick:c,children:"Se déconnecter"})]})]})]})})})]}),i.isSupraAdmin&&o.jsx(me,{className:"border-orange-200 bg-orange-50",children:o.jsx(ge,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Ca,{className:"h-5 w-5 text-orange-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium text-orange-800",children:"Statut Supra Administrateur"}),o.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Vous avez accès à toutes les fonctionnalités d'administration. Utilisez ces privilèges de manière responsable."})]})]})})})]})]})};function Une(){const{user:e}=xt(),[t,n]=y.useState({}),[r,i]=y.useState(!1),s=async()=>{i(!0);try{const{data:{session:a},error:l}=await Q.auth.getSession();n(c=>{var u,f;return{...c,session:{exists:!!a,userId:(u=a==null?void 0:a.user)==null?void 0:u.id,email:(f=a==null?void 0:a.user)==null?void 0:f.email,accessToken:a!=null&&a.access_token?"Present":"Missing",error:l==null?void 0:l.message}}})}catch(a){n(l=>({...l,session:{error:a instanceof Error?a.message:String(a)}}))}i(!1)};return o.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Debug Stripe Integration"}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(me,{children:[o.jsx(Se,{children:o.jsx(je,{children:"Auth Context Info"})}),o.jsxs(ge,{className:"space-y-2",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"User ID:"})," ",(e==null?void 0:e.id)||"Not found"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Email:"})," ",(e==null?void 0:e.email)||"Not found"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Subscription Status:"})," Plan type déplacé vers GlobalState"]})]})]}),o.jsxs(me,{children:[o.jsx(Se,{children:o.jsx(je,{children:"Session Test"})}),o.jsxs(ge,{className:"space-y-4",children:[o.jsx(Z,{onClick:s,disabled:r,children:"Test Session"}),t.session&&o.jsx("pre",{className:"text-sm bg-muted p-2 rounded overflow-auto",children:JSON.stringify(t.session,null,2)})]})]}),o.jsxs(me,{children:[o.jsx(Se,{children:o.jsx(je,{children:"All Debug Info"})}),o.jsx(ge,{children:o.jsx("pre",{className:"text-sm bg-muted p-2 rounded overflow-auto max-h-96",children:JSON.stringify(t,null,2)})})]})]})]})}const pd=y.forwardRef(({className:e,...t},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:se("w-full caption-bottom text-sm",e),...t})}));pd.displayName="Table";const md=y.forwardRef(({className:e,...t},n)=>o.jsx("thead",{ref:n,className:se("[&_tr]:border-b",e),...t}));md.displayName="TableHeader";const gd=y.forwardRef(({className:e,...t},n)=>o.jsx("tbody",{ref:n,className:se("[&_tr:last-child]:border-0",e),...t}));gd.displayName="TableBody";const zne=y.forwardRef(({className:e,...t},n)=>o.jsx("tfoot",{ref:n,className:se("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));zne.displayName="TableFooter";const sr=y.forwardRef(({className:e,...t},n)=>o.jsx("tr",{ref:n,className:se("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));sr.displayName="TableRow";const ot=y.forwardRef(({className:e,...t},n)=>o.jsx("th",{ref:n,className:se("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ot.displayName="TableHead";const Qe=y.forwardRef(({className:e,...t},n)=>o.jsx("td",{ref:n,className:se("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Qe.displayName="TableCell";const Bne=y.forwardRef(({className:e,...t},n)=>o.jsx("caption",{ref:n,className:se("mt-4 text-sm text-muted-foreground",e),...t}));Bne.displayName="TableCaption";async function If(e){const{data:t,error:n}=await Q.functions.invoke("get-admin-workspaces",{body:{planFilter:e}});if(n)throw n;return(t==null?void 0:t.data)??[]}async function Hne(e,t=1,n=25){const{data:r,error:i}=await Q.functions.invoke("get-admin-contacts",{body:{workspaceId:e,page:t,pageSize:n}});if(i)throw i;return{items:(r==null?void 0:r.data)??[],total:(r==null?void 0:r.total)??0}}async function oI(e,t){const{data:n,error:r}=await Q.functions.invoke("update-user-plan-role",{body:{action:"update_workspace_plan",workspaceId:e,newPlan:t}});if(r)throw r;return n}async function qne(e,t,n){const{data:r,error:i}=await Q.functions.invoke("update-user-plan-role",{body:{action:"update_user_role",userId:e,workspaceId:t,newRole:n}});if(i)throw i;return r}async function Wne(e){const{error:t}=await Q.functions.invoke("delete-admin-entities",{body:{type:"workspace",id:e}});if(t)throw t}async function Vne(e){const{error:t}=await Q.functions.invoke("delete-admin-entities",{body:{type:"user",id:e}});if(t)throw t}async function Qne(e,t){const{data:n,error:r}=await Q.functions.invoke("manage-fe-source-assignments",{body:{action:"assign",source_name:e,workspace_id:t}});if(r)throw r;return n}async function Kne(e,t){const{data:n,error:r}=await Q.functions.invoke("manage-fe-source-assignments",{body:{action:"unassign",source_name:e,workspace_id:t}});if(r)throw r;return n}async function Gne(e,t,n){const{data:r,error:i}=await Q.functions.invoke("manage-fe-source-assignments-bulk",{body:{workspace_id:e,assigned:t,unassigned:n}});if(i)throw i;return r}const Yne=()=>{const[e,t]=y.useState("paid"),[n,r]=y.useState([]),[i,s]=y.useState(!0),[a,l]=y.useState(null),[c,u]=y.useState(null),{toast:f}=Dt();y.useEffect(()=>{(async()=>{try{s(!0);const g=await If(e);r(g)}catch(g){console.error(g)}finally{s(!1)}})()},[e]);const d=g=>g==="premium"?"default":g==="standard"?"secondary":"outline",h=async(g,m)=>{try{await oI(g,m),f({title:"Plan mis à jour",description:`Nouveau plan: ${m}`});const b=await If(e);r(b),l(null)}catch(b){console.error(b),f({variant:"destructive",title:"Erreur",description:"Mise à jour du plan impossible"})}},p=async(g,m)=>{if(confirm(`Supprimer l'entreprise "${m}" ?`)){u(g);try{await Wne(g),f({title:"Entreprise supprimée",description:m});const b=await If(e);r(b)}catch(b){console.error(b),f({variant:"destructive",title:"Erreur",description:"Suppression impossible"})}finally{u(null)}}};return o.jsxs(me,{children:[o.jsx(Se,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(je,{className:"flex items-center gap-2",children:[o.jsx(Zc,{className:"h-5 w-5"}),"Entreprises (",n.length,")"]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(wr,{value:e,onValueChange:g=>t(g),children:[o.jsx(nr,{className:"w-40",children:o.jsx(Sr,{placeholder:"Filtre"})}),o.jsxs(rr,{children:[o.jsx(it,{value:"paid",children:"Payantes"}),o.jsx(it,{value:"freemium",children:"Freemium"}),o.jsx(it,{value:"all",children:"Toutes"})]})]})})]})}),o.jsx(ge,{children:i?o.jsx("div",{className:"space-y-3",children:[...Array(5)].map((g,m)=>o.jsx(gr,{className:"h-12 w-full"},m))}):o.jsxs(pd,{children:[o.jsx(md,{children:o.jsxs(sr,{children:[o.jsx(ot,{children:"Entreprise"}),o.jsx(ot,{children:"Propriétaire"}),o.jsx(ot,{children:"Plan"}),o.jsx(ot,{children:"Utilisateurs"}),o.jsx(ot,{children:"Créée le"}),o.jsx(ot,{children:"Actions"})]})}),o.jsxs(gd,{children:[n.map(g=>o.jsxs(sr,{children:[o.jsx(Qe,{className:"font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Zc,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("div",{children:g.name}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",g.id.slice(0,8),"..."]})]})]})}),o.jsx(Qe,{children:g.owner_email}),o.jsx(Qe,{children:o.jsx(Be,{variant:d(g.plan_type),children:g.plan_type})}),o.jsx(Qe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ah,{className:"h-4 w-4 text-muted-foreground"}),g.user_count]})}),o.jsx(Qe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ZL,{className:"h-4 w-4 text-muted-foreground"}),new Date(g.created_at).toLocaleDateString("fr-FR")]})}),o.jsx(Qe,{children:o.jsx("div",{className:"flex items-center gap-2",children:a===g.id?o.jsxs(o.Fragment,{children:[o.jsxs(wr,{value:g.plan_type,onValueChange:m=>h(g.id,m),children:[o.jsx(nr,{className:"w-32",children:o.jsx(Sr,{})}),o.jsxs(rr,{children:[o.jsx(it,{value:"freemium",children:"Freemium"}),o.jsx(it,{value:"standard",children:"Standard"}),o.jsx(it,{value:"premium",children:"Premium"})]})]}),o.jsx(Z,{variant:"outline",size:"sm",onClick:()=>l(null),children:"Annuler"})]}):o.jsxs(o.Fragment,{children:[o.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>l(g.id),children:[o.jsx(dM,{className:"h-4 w-4 mr-2"}),"Modifier"]}),o.jsx(Z,{variant:"destructive",size:"sm",onClick:()=>p(g.id,g.name),disabled:c===g.id,children:c===g.id?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):o.jsx(ed,{className:"h-4 w-4"})})]})})})]},g.id)),n.length===0&&o.jsx(sr,{children:o.jsx(Qe,{colSpan:6,className:"text-center text-muted-foreground",children:"Aucune entreprise trouvée"})})]})]})})]})},Xne=()=>{const[e,t]=y.useState([]),[n,r]=y.useState([]),[i,s]=y.useState(1),[a]=y.useState(25),[l,c]=y.useState(0),[u,f]=y.useState("all"),[d,h]=y.useState(!0),[p,g]=y.useState(null),[m,b]=y.useState(null),[v,x]=y.useState(null),{toast:w}=Dt(),{startImpersonation:S}=pR();y.useEffect(()=>{_(),j()},[]),y.useEffect(()=>{j()},[u,i]);const _=async()=>{try{const T=await If("all");r((T||[]).map(z=>({id:z.id,name:z.name})))}catch(T){console.error("Error fetching workspaces:",T)}},j=async()=>{try{h(!0);const{items:T,total:z}=await Hne(u,i,a);t(T),c(z)}catch(T){console.error("Error fetching contacts:",T)}finally{h(!1)}},P=T=>{switch(T){case"premium":return"default";case"standard":return"secondary";case"freemium":return"outline";default:return"outline"}},R=T=>{switch(T){case"admin":return"destructive";case"gestionnaire":return"default";case"lecteur":return"secondary";default:return"outline"}},$=T=>{switch(T){case"admin":return"Administrateur";case"gestionnaire":return"Gestionnaire";case"lecteur":return"Lecteur";default:return T}},k=async(T,z)=>{g(`plan-${T.workspace_id}`);try{const A=await oI(T.workspace_id,z);w({title:"Plan du workspace mis à jour",description:`Plan changé vers ${z}. ${(A==null?void 0:A.updatedUsers)??0} utilisateur(s) mis à jour.`}),await j()}catch(A){console.error("Error updating workspace plan:",A),w({variant:"destructive",title:"Erreur",description:"Erreur lors de la mise à jour du plan"})}finally{g(null)}},F=async(T,z)=>{g(`role-${T.user_id}`);try{await qne(T.user_id,T.workspace_id,z),w({title:"Rôle mis à jour",description:`Rôle changé vers ${z}`}),await j()}catch(A){console.error("Error updating user role:",A),w({variant:"destructive",title:"Erreur",description:"Erreur lors de la mise à jour du rôle"})}finally{g(null)}},I=async T=>{x(T.user_id);try{if(await S(T.user_id,T.email||"",T.workspace_id,T.company_name||""))w({title:"Impersonation démarrée",description:`Vous êtes maintenant connecté en tant que ${T.email}`}),window.location.href="/";else throw new Error("Failed to start impersonation")}catch(z){console.error("Error starting impersonation:",z),w({variant:"destructive",title:"Erreur",description:"Impossible de démarrer l'impersonation"})}finally{x(null)}},U=async(T,z)=>{if(confirm(`Êtes-vous sûr de vouloir supprimer le contact "${z}" ? Cette action est irréversible et supprimera toutes les données associées.`)){b(T);try{await Vne(T),w({title:"Contact supprimé",description:`Le contact "${z}" a été supprimé avec succès.`}),j()}catch(A){console.error("Error deleting contact:",A),w({variant:"destructive",title:"Erreur",description:"Erreur lors de la suppression du contact"})}finally{b(null)}}};return d?o.jsxs(me,{children:[o.jsx(Se,{children:o.jsxs(je,{className:"flex items-center gap-2",children:[o.jsx(kf,{className:"h-5 w-5"}),"Contacts par Entreprise"]})}),o.jsx(ge,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx(gr,{className:"h-10 w-full"}),[...Array(5)].map((T,z)=>o.jsx(gr,{className:"h-12 w-full"},z))]})})]}):o.jsxs(me,{children:[o.jsx(Se,{children:o.jsxs(je,{className:"flex items-center gap-2",children:[o.jsx(kf,{className:"h-5 w-5"}),"Contacts par Entreprise (",e.length,")",o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>{_(),j()},className:"ml-auto",children:[o.jsx(Pa,{className:"h-3 w-3 mr-1"}),"Actualiser"]})]})}),o.jsxs(ge,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",i," • ",l," résultats"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Z,{variant:"outline",size:"sm",onClick:()=>s(T=>Math.max(1,T-1)),disabled:i===1,children:"Précédent"}),o.jsx(Z,{variant:"outline",size:"sm",onClick:()=>s(T=>T+1),disabled:i*a>=l,children:"Suivant"})]})]}),o.jsx("div",{className:"mb-4",children:o.jsxs(wr,{value:u,onValueChange:f,children:[o.jsx(nr,{className:"w-64",children:o.jsx(Sr,{placeholder:"Filtrer par entreprise"})}),o.jsxs(rr,{children:[o.jsx(it,{value:"all",children:"Toutes les entreprises"}),n.map(T=>o.jsx(it,{value:T.id,children:T.name},T.id))]})]})}),o.jsxs(pd,{children:[o.jsx(md,{children:o.jsxs(sr,{children:[o.jsx(ot,{children:"Contact"}),o.jsx(ot,{children:"Email"}),o.jsx(ot,{children:"Entreprise"}),o.jsx(ot,{children:"Plan"}),o.jsx(ot,{children:"Rôle"}),o.jsx(ot,{children:"Ajouté le"}),o.jsx(ot,{children:"Actions"})]})}),o.jsxs(gd,{children:[e.map(T=>o.jsxs(sr,{children:[o.jsx(Qe,{className:"font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(kf,{className:"h-4 w-4 text-muted-foreground"}),T.first_name||T.last_name?`${T.first_name} ${T.last_name}`.trim():"Nom non renseigné"]})}),o.jsx(Qe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qx,{className:"h-4 w-4 text-muted-foreground"}),T.email]})}),o.jsx(Qe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Zc,{className:"h-4 w-4 text-muted-foreground"}),T.company_name]})}),o.jsx(Qe,{children:o.jsx(Be,{variant:P(T.company_plan||"freemium"),children:T.company_plan})}),o.jsx(Qe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Li,{className:"h-4 w-4"}),o.jsx(Be,{variant:R(T.role),children:$(T.role)})]})}),o.jsx(Qe,{children:new Date(T.created_at).toLocaleDateString("fr-FR")}),o.jsx(Qe,{children:o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx(Z,{variant:"secondary",size:"sm",onClick:()=>I(T),disabled:v===T.user_id||(p==null?void 0:p.includes(T.user_id)),className:"bg-blue-100 hover:bg-blue-200 text-blue-700",children:v===T.user_id?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-700"}):o.jsx(pM,{className:"h-4 w-4"})}),o.jsxs(wr,{value:T.company_plan||"freemium",onValueChange:z=>k(T,z),disabled:p===`plan-${T.workspace_id}`,children:[o.jsx(nr,{className:"w-24",children:o.jsx(Sr,{})}),o.jsxs(rr,{children:[o.jsx(it,{value:"freemium",children:"Freemium"}),o.jsx(it,{value:"standard",children:"Standard"}),o.jsx(it,{value:"premium",children:"Premium"})]})]}),o.jsxs(wr,{value:T.role,onValueChange:z=>F(T,z),disabled:p===`role-${T.user_id}`,children:[o.jsx(nr,{className:"w-32",children:o.jsx(Sr,{})}),o.jsxs(rr,{children:[o.jsx(it,{value:"admin",children:"Administrateur"}),o.jsx(it,{value:"gestionnaire",children:"Gestionnaire"}),o.jsx(it,{value:"lecteur",children:"Lecteur"})]})]}),o.jsx(Z,{variant:"destructive",size:"sm",onClick:()=>U(T.user_id,T.email||""),disabled:m===T.user_id||(p==null?void 0:p.includes(T.user_id)),children:m===T.user_id?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):o.jsx(ed,{className:"h-4 w-4"})}),(p===`plan-${T.workspace_id}`||p===`role-${T.user_id}`)&&o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"})]})})]},T.id)),e.length===0&&o.jsx(sr,{children:o.jsx(Qe,{colSpan:7,className:"text-center text-muted-foreground",children:"Aucun contact trouvé"})})]})]})]})]})},lI=q.createContext(void 0),Jne=({children:e})=>{const[t,n]=q.useState([]),[r,i]=q.useState(!0),s=q.useRef(0),a=q.useCallback(async(c=!1)=>{const u=Date.now();if(!c&&u-s.current<5e3)return;s.current=u,i(!0);const{data:f,error:d}=await Q.from("fe_sources").select("source_name, access_level").eq("is_global",!0).order("source_name");d||n(f||[]),i(!1)},[]);q.useEffect(()=>{a(!0)},[a]),q.useEffect(()=>{const c=Q.channel("fe-sources-realtime").on("postgres_changes",{event:"*",schema:"public",table:"fe_sources",filter:"is_global=eq.true"},()=>{a(!0)}).subscribe();return()=>{Q.removeChannel(c)}},[a]);const l=q.useMemo(()=>({sources:t,refresh:()=>a(!0),loading:r}),[t,a,r]);return o.jsx(lI.Provider,{value:l,children:e})};function cI(){const e=q.useContext(lI);if(!e)throw new Error("useFeSources must be used within FeSourcesProvider");return e}const Zne=()=>{const[e,t]=y.useState([]),[n,r]=y.useState({}),{toast:i}=Dt(),{sources:s,refresh:a,loading:l}=cI();y.useEffect(()=>{const p=(s||[]).map(g=>({source:g.source_name,current_tier:g.access_level,standard_count:g.access_level==="standard"?1:0,premium_count:g.access_level==="premium"?1:0,total_count:1}))||[];t(p)},[s]);const c=y.useCallback(async(p,g)=>{r(m=>({...m,[p]:{loading:!0,success:!1}}));try{console.log(`🚀 Starting update for source: ${p} to tier: ${g}`);const{error:m}=await Q.from("fe_sources").update({access_level:g}).eq("source_name",p);if(m)throw m;console.log(`✅ Successfully updated source ${p} to ${g}`);try{const{error:b}=await Q.functions.invoke("db-webhooks-optimized",{body:[{type:"UPDATE",table:"public:fe_sources",record:{source_name:p}}]});b&&console.warn("db-webhooks-optimized sync failed:",b)}catch(b){console.warn("db-webhooks-optimized sync failed (tier updated in DB):",b)}r(b=>({...b,[p]:{loading:!1,success:!0}})),await a(),i({title:"Succès",description:`Source "${p}" mise à jour vers ${g}`}),setTimeout(()=>{r(b=>({...b,[p]:{loading:!1,success:!1}}))},3e3)}catch(m){console.error("💥 Error updating source tier:",m),r(b=>({...b,[p]:{loading:!1,success:!1}})),i({title:"Erreur de mise à jour",description:m instanceof Error?m.message:"Impossible de mettre à jour le niveau d'accès",variant:"destructive"})}},[i,a]),u=l,f=p=>p==="premium"?"default":"secondary",d=p=>p==="premium"?Ca:Li,h=p=>{const g=n[p.source];return g!=null&&g.loading?o.jsxs(o.Fragment,{children:[o.jsx(ka,{className:"h-3 w-3 mr-1 animate-spin"}),"Mise à jour..."]}):g!=null&&g.success?o.jsxs(o.Fragment,{children:[o.jsx(zt,{className:"h-3 w-3 mr-1"}),"Terminé"]}):p.current_tier==="standard"?o.jsxs(o.Fragment,{children:[o.jsx(Ca,{className:"h-3 w-3 mr-1"}),"Passer en Premium"]}):o.jsxs(o.Fragment,{children:[o.jsx(Li,{className:"h-3 w-3 mr-1"}),"Passer en Standard"]})};return u?o.jsxs(me,{children:[o.jsx(Se,{children:o.jsxs(je,{className:"flex items-center gap-2",children:[o.jsx(Cf,{className:"h-5 w-5"}),"Gestion des Accès aux Sources de Données"]})}),o.jsx(ge,{children:o.jsx("div",{className:"space-y-3",children:[...Array(6)].map((p,g)=>o.jsx(gr,{className:"h-12 w-full"},g))})})]}):o.jsxs(me,{children:[o.jsxs(Se,{children:[o.jsxs(je,{className:"flex items-center gap-2",children:[o.jsx(Cf,{className:"h-5 w-5"}),"Gestion des Accès aux Sources de Données",o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>a(),className:"ml-auto",children:[o.jsx(Pa,{className:"h-3 w-3 mr-1"}),"Actualiser"]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Gérez les niveaux d'accès des sources de facteurs d'émission.",o.jsx("br",{}),o.jsx("span",{className:"font-medium",children:"Standard"})," : accessible à tous les utilisateurs",o.jsx("br",{}),o.jsx("span",{className:"font-medium",children:"Premium"})," : accessible uniquement aux utilisateurs premium"]})]}),o.jsx(ge,{children:o.jsxs(pd,{children:[o.jsx(md,{children:o.jsxs(sr,{children:[o.jsx(ot,{children:"Source"}),o.jsx(ot,{children:"Niveau actuel"}),o.jsx(ot,{children:"Facteurs Standard"}),o.jsx(ot,{children:"Facteurs Premium"}),o.jsx(ot,{children:"Total"}),o.jsx(ot,{children:"Actions"})]})}),o.jsxs(gd,{children:[e.map(p=>{const g=d(p.current_tier),m=n[p.source];return o.jsxs(sr,{children:[o.jsx(Qe,{className:"font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Cf,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"truncate max-w-[200px]",title:p.source,children:p.source})]})}),o.jsx(Qe,{children:o.jsxs(Be,{variant:f(p.current_tier),children:[o.jsx(g,{className:"h-3 w-3 mr-1"}),p.current_tier==="premium"?"Premium":"Standard"]})}),o.jsx(Qe,{children:o.jsx("span",{className:"text-muted-foreground",children:p.standard_count})}),o.jsx(Qe,{children:o.jsx("span",{className:"text-muted-foreground",children:p.premium_count})}),o.jsx(Qe,{children:o.jsx("span",{className:"font-medium",children:p.total_count})}),o.jsx(Qe,{children:o.jsx(Z,{size:"sm",variant:m!=null&&m.success?"default":"outline",onClick:()=>c(p.source,p.current_tier==="standard"?"premium":"standard"),disabled:m==null?void 0:m.loading,children:h(p)})})]},p.source)}),e.length===0&&o.jsx(sr,{children:o.jsx(Qe,{colSpan:6,className:"text-center text-muted-foreground",children:"Aucune source de données trouvée"})})]})]})})]})},ere=()=>{const[e,t]=y.useState([]),{sources:n,refresh:r}=cI(),[i,s]=y.useState([]),[a,l]=y.useState(!0),[c,u]=y.useState(""),[f,d]=y.useState(new Set),[h,p]=y.useState({}),{toast:g}=Dt(),m=S=>S==="premium"?"default":"secondary",b=y.useCallback(async()=>{const{data:S,error:_}=await Q.functions.invoke("get-admin-workspaces",{body:{planFilter:"all"}});if(_)throw _;const j=((S==null?void 0:S.data)||[]).map(P=>({id:P.id,name:P.name,plan_type:P.plan_type}));t(j),!c&&j.length&&u(j[0].id)},[c]),v=y.useCallback(async S=>{if(!S){d(new Set);return}const{data:_,error:j}=await Q.from("fe_source_workspace_assignments").select("source_name").eq("workspace_id",S);if(j)throw j;d(new Set((_||[]).map(P=>P.source_name)))},[]),x=y.useCallback(()=>{c&&v(c).catch(()=>{})},[c,v]);F7(c,x),y.useEffect(()=>{s(n||[])},[n]),y.useEffect(()=>{(async()=>{try{l(!0),await b()}catch(S){console.error(S),g({title:"Erreur",description:"Chargement workspaces impossible",variant:"destructive"})}finally{l(!1)}})()},[b,g]),y.useEffect(()=>{(async()=>{try{c&&(l(!0),await v(c))}catch(S){console.error(S)}finally{l(!1)}})()},[c,v]);const w=y.useCallback(async(S,_)=>{if(c){p(j=>({...j,[S]:!0}));try{_?(await Qne(S,c),d(j=>new Set(j).add(S))):(await Kne(S,c),d(j=>{const P=new Set(j);return P.delete(S),P}))}catch(j){console.error(j),g({title:"Erreur",description:"Mise à jour impossible",variant:"destructive"})}finally{p(j=>({...j,[S]:!1}))}}},[c,g]);return a?o.jsxs(me,{children:[o.jsx(Se,{children:o.jsxs(je,{className:"flex items-center gap-2",children:[o.jsx(Zc,{className:"h-5 w-5"}),"Assignations Sources ↔ Workspaces"]})}),o.jsx(ge,{children:o.jsx("div",{className:"space-y-3",children:[...Array(5)].map((S,_)=>o.jsx(gr,{className:"h-12 w-full"},_))})})]}):o.jsxs(me,{children:[o.jsx(Se,{children:o.jsxs(je,{className:"flex items-center gap-2",children:[o.jsx(Zc,{className:"h-5 w-5"}),"Assignations Sources ↔ Workspaces",o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>{Promise.all([r()]).finally(()=>c&&v(c))},className:"ml-auto",children:[o.jsx(Pa,{className:"h-3 w-3 mr-1"}),"Actualiser"]}),o.jsx(Z,{size:"sm",variant:"default",className:"ml-2",onClick:async()=>{if(c)try{const S=i.filter(k=>k.access_level==="premium").map(k=>k.source_name),_=i.filter(k=>k.access_level==="standard").map(k=>k.source_name),j=S.filter(k=>f.has(k)),P=S.filter(k=>!f.has(k)),R=[..._,...j],$=P;await Gne(c,R,$),g({title:"Synchronisation réussie",description:`Assignés: ${R.length} • Désassignés: ${$.length}`}),await v(c)}catch(S){console.error(S),g({title:"Erreur",description:(S==null?void 0:S.message)||"Synchronisation impossible",variant:"destructive"})}},children:"Resynchroniser"})]})}),o.jsxs(ge,{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-muted/50 rounded-lg",children:o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs(wr,{value:c,onValueChange:u,children:[o.jsx(nr,{className:"w-96",children:o.jsx(Sr,{placeholder:"Sélectionner un workspace"})}),o.jsx(rr,{children:e.map(S=>o.jsx(it,{value:S.id,children:S.name},S.id))})]})})}),o.jsxs(pd,{children:[o.jsx(md,{children:o.jsxs(sr,{children:[o.jsx(ot,{children:"Source"}),o.jsx(ot,{children:"Access level"}),o.jsx(ot,{children:"Activer"}),o.jsx(ot,{children:"Désactiver"})]})}),o.jsxs(gd,{children:[i.map(S=>{const _=S.access_level==="standard"||f.has(S.source_name),j=!!h[S.source_name],P=S.access_level==="premium";return o.jsxs(sr,{children:[o.jsx(Qe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Cf,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"font-medium",children:S.source_name})]})}),o.jsx(Qe,{children:o.jsx(Be,{variant:m(S.access_level),children:S.access_level})}),o.jsx(Qe,{children:j?o.jsx(ka,{className:"h-4 w-4 animate-spin"}):o.jsx(zi,{checked:_,onCheckedChange:()=>P&&w(S.source_name,!0),disabled:!c||!P})}),o.jsx(Qe,{children:j?o.jsx(ka,{className:"h-4 w-4 animate-spin"}):o.jsx(zi,{checked:!_,onCheckedChange:()=>P&&w(S.source_name,!1),disabled:!c||!P})})]},S.source_name)}),i.length===0&&o.jsx(sr,{children:o.jsx(Qe,{colSpan:4,className:"text-center text-muted-foreground",children:"Aucune source trouvée"})})]})]})]})]})},tre=()=>{const[e,t]=q.useState("access");return o.jsxs(vh,{value:e,onValueChange:n=>t(n),className:"w-full",children:[o.jsxs(cu,{children:[o.jsx(Xn,{value:"access",children:"Accès aux sources"}),o.jsx(Xn,{value:"assignments",children:"Assignations"})]}),o.jsx("div",{className:"mt-4"}),e==="access"&&o.jsx(Jn,{value:"access",asChild:!0,children:o.jsx("div",{children:o.jsx(Zne,{})})}),e==="assignments"&&o.jsx(Jn,{value:"assignments",asChild:!0,children:o.jsx("div",{children:o.jsx(ere,{})})})]})},nre=()=>{const[e,t]=y.useState(""),[n,r]=y.useState(""),[i,s]=y.useState(!1),[a,l]=y.useState(!1),{toast:c}=Dt(),u=()=>{const p="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let g="";for(let m=0;m<16;m++)g+=p.charAt(Math.floor(Math.random()*p.length));r(g)},f=async h=>{h.preventDefault(),l(!0);try{const{data:{session:p}}=await Q.auth.getSession();if(!p){c({title:"Erreur d'authentification",description:"Vous devez être connecté pour effectuer cette action.",variant:"destructive"});return}const g=await fetch("https://wrodvaatdujbpfpvrzge.supabase.co/functions/v1/create-supra-admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.access_token}`},body:JSON.stringify({email:e,password:n})}),m=await g.json();g.ok&&m.success?(c({title:"Succès",description:m.message}),t(""),r("")):c({title:"Erreur",description:m.error||"Une erreur est survenue lors de la création du compte.",variant:"destructive"})}catch(p){console.error("Error creating supra admin:",p),c({title:"Erreur",description:"Une erreur inattendue est survenue.",variant:"destructive"})}finally{l(!1)}},d=h=>h.length>=12&&/[A-Z]/.test(h)&&/[a-z]/.test(h)&&/[0-9]/.test(h)&&/[!@#$%^&*]/.test(h);return o.jsxs(me,{className:"w-full max-w-md",children:[o.jsxs(Se,{children:[o.jsxs(je,{className:"flex items-center gap-2",children:[o.jsx($k,{className:"h-5 w-5"}),"Créer un Supra Admin"]}),o.jsx(yt,{children:"Créer un nouveau compte super administrateur avec des privilèges élevés."})]}),o.jsx(ge,{children:o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(jt,{htmlFor:"email",children:"Email"}),o.jsx(Ot,{id:"email",type:"email",value:e,onChange:h=>t(h.target.value),placeholder:"admin@example.com",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(jt,{htmlFor:"password",children:"Mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ot,{id:"password",type:i?"text":"password",value:n,onChange:h=>r(h.target.value),placeholder:"Mot de passe sécurisé",required:!0,className:"pr-10"}),o.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!i),children:i?o.jsx(iM,{className:"h-4 w-4"}):o.jsx(Fk,{className:"h-4 w-4"})})]}),o.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:u,className:"w-full",children:"Générer un mot de passe sécurisé"})]}),n&&o.jsx(hn,{children:o.jsxs(pn,{children:["Force du mot de passe: ",d(n)?"✅ Fort":"❌ Faible",!d(n)&&o.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Le mot de passe doit contenir au moins 12 caractères, incluant majuscules, minuscules, chiffres et symboles."})]})}),o.jsx(Z,{type:"submit",className:"w-full",disabled:a||!d(n),children:a?"Création en cours...":"Créer le compte"})]})})]})},rre=()=>{const[e,t]=y.useState(!1),{toast:n}=Dt(),r=async()=>{t(!0);try{const{data:{session:i}}=await Q.auth.getSession();if(!i){n({title:"Erreur d'authentification",description:"Vous devez être connecté pour effectuer cette action.",variant:"destructive"});return}const s=await fetch("https://wrodvaatdujbpfpvrzge.supabase.co/functions/v1/cleanup-orphan-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i.access_token}`}}),a=await s.json();s.ok&&a.success?n({title:"Nettoyage terminé",description:a.message}):n({title:"Erreur",description:a.error||"Une erreur est survenue lors du nettoyage.",variant:"destructive"})}catch(i){console.error("Error during cleanup:",i),n({title:"Erreur",description:"Une erreur inattendue est survenue.",variant:"destructive"})}finally{t(!1)}};return o.jsxs(me,{className:"w-full max-w-md",children:[o.jsxs(Se,{children:[o.jsxs(je,{className:"flex items-center gap-2",children:[o.jsx(ed,{className:"h-5 w-5"}),"Nettoyage des Comptes Orphelins"]}),o.jsx(yt,{children:"Supprimer les comptes auth.users qui n'ont pas d'entrée correspondante dans la table users."})]}),o.jsxs(ge,{children:[o.jsxs(hn,{className:"mb-4",children:[o.jsx(Ra,{className:"h-4 w-4"}),o.jsx(pn,{children:"Cette action supprimera définitivement les comptes orphelins. Cette action ne peut pas être annulée."})]}),o.jsxs(s2,{children:[o.jsx(a2,{asChild:!0,children:o.jsx(Z,{variant:"destructive",className:"w-full",disabled:e,children:e?"Nettoyage en cours...":"Nettoyer les comptes orphelins"})}),o.jsxs(pw,{children:[o.jsxs(mw,{children:[o.jsx(vw,{children:"Confirmer le nettoyage"}),o.jsx(yw,{children:"Êtes-vous sûr de vouloir supprimer tous les comptes orphelins ? Cette action supprimera définitivement les comptes auth.users qui n'ont pas d'entrée correspondante dans la table users. Cette action ne peut pas être annulée."})]}),o.jsxs(gw,{children:[o.jsx(bw,{children:"Annuler"}),o.jsx(xw,{onClick:r,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Confirmer la suppression"})]})]})]})]})]})},ire=()=>{const[e,t]=y.useState(!1),[n,r]=y.useState(null),{toast:i}=Dt(),s=async()=>{t(!0),r(null);try{const{data:{session:a}}=await Q.auth.getSession();if(!a){i({title:"Erreur d'authentification",description:"Vous devez être connecté pour effectuer cette action.",variant:"destructive"});return}const l=await fetch("https://wrodvaatdujbpfpvrzge.supabase.co/functions/v1/fix-orphan-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.access_token}`}}),c=await l.json();l.ok&&c.success?(r(c),i({title:"Réparation terminée",description:c.message})):i({title:"Erreur",description:c.error||"Une erreur est survenue lors de la réparation.",variant:"destructive"})}catch(a){console.error("Error during repair:",a),i({title:"Erreur",description:"Une erreur inattendue est survenue.",variant:"destructive"})}finally{t(!1)}};return o.jsx("div",{className:"space-y-4",children:o.jsxs(me,{className:"w-full max-w-2xl",children:[o.jsxs(Se,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ah,{className:"h-5 w-5"}),o.jsx(je,{children:"Réparation des utilisateurs orphelins"})]}),o.jsx(yt,{children:"Répare les utilisateurs qui existent dans auth.users mais pas dans public.users. Cette situation peut survenir si la fonction handle_new_user a échoué lors de l'inscription."})]}),o.jsxs(ge,{className:"space-y-4",children:[o.jsxs(hn,{children:[o.jsx(Ra,{className:"h-4 w-4"}),o.jsxs(pn,{children:[o.jsx("strong",{children:"Attention :"})," Cette opération va créer des workspaces et des profils utilisateur pour tous les utilisateurs orphelins trouvés. Utilisez cette fonction uniquement si vous identifiez des incohérences dans les données."]})]}),o.jsx(Z,{onClick:s,disabled:e,className:"w-full",variant:"destructive",children:e?o.jsxs(o.Fragment,{children:[o.jsx(ka,{className:"w-4 h-4 mr-2 animate-spin"}),"Réparation en cours..."]}):o.jsxs(o.Fragment,{children:[o.jsx(ah,{className:"w-4 h-4 mr-2"}),"Réparer les utilisateurs orphelins"]})}),n&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs(hn,{className:n.success?"border-green-200 bg-green-50":"border-destructive",children:[o.jsx(zt,{className:"h-4 w-4"}),o.jsxs(pn,{children:[o.jsx("strong",{children:"Résultat :"})," ",n.message]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-muted-foreground",children:n.orphanUsersFound}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Utilisateurs orphelins trouvés"})]}),o.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-700",children:n.usersRepaired}),o.jsx("div",{className:"text-sm text-green-700",children:"Utilisateurs réparés"})]})]}),n.repairedUsers.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-semibold text-sm",children:"Utilisateurs réparés :"}),o.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:n.repairedUsers.map(a=>o.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:a.email}),o.jsx("div",{className:"text-muted-foreground",children:a.workspace_name})]}),o.jsxs(Be,{variant:"outline",className:"text-xs",children:[a.workspace_id.slice(0,8),"..."]})]},a.user_id))})]})]})]})]})})},sre=()=>{const{toast:e}=Dt(),{isSupraAdmin:t}=jp(),[n,r]=q.useState(null),[i,s]=q.useState(!1),[a,l]=q.useState(0),[c,u]=q.useState(null),[f,d]=q.useState([]),[h,p]=q.useState(!1),[g,m]=q.useState([]),[b,v]=q.useState(!1),[x,w]=q.useState("idle"),[S,_]=q.useState(null),j=()=>{const U=["ID","Nom","Nom_en","Description","Description_en","FE","Unité donnée d'activité","Unite_en","Source","Secteur","Secteur_en","Sous-secteur","Sous-secteur_en","Localisation","Localisation_en","Date","Incertitude","Périmètre","Périmètre_en","Contributeur","Commentaires","Commentaires_en"],T=["","Transport routier de marchandises","Freight transportation","","","0.123","kgCO2e/t.km","kgCO2e/t.km","Base Carbone v23.6","Transport","Transportation","Fret","Freight","France","France","2025","","Well-to-Wheel","Well-to-Wheel","",""],z=[U.join(","),T.join(",")].join(`
`),A=new Blob([z],{type:"text/csv;charset=utf-8;"}),M=URL.createObjectURL(A),E=document.createElement("a");E.href=M,E.download="template_import_emission_factors_bilingue.csv",E.click(),URL.revokeObjectURL(M)},P=async()=>{if(!n){e({variant:"destructive",title:"Aucun fichier",description:"Sélectionnez un fichier CSV."});return}try{s(!0),l(0),console.log("🔍 Analyse filename original:",{name:n.name,length:n.name.length,charCodes:n.name.split("").map(M=>`${M}(${M.charCodeAt(0)})`),hasNonAscii:/[^\x00-\x7F]/.test(n.name),hasSpaces:n.name.includes(" "),hasDashes:n.name.includes("-"),hasSpecialChars:/[^a-zA-Z0-9.-]/.test(n.name)});let U=n.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9.]/g,"_").replace(/_{2,}/g,"_").replace(/^_+|_+$/g,"").substring(0,50);const T=n.name.toLowerCase().endsWith(".xlsx")?".xlsx":".csv";U.endsWith(T)||(U=U.replace(/\.[^.]*$/,"")+T);const z=`${Date.now()}_${U}`;console.log("🔍 Debug transformation complète:",{"1_original":n.name,"2_clean":U,"3_finalPath":z,"4_pathLength":z.length,"5_onlyAllowedChars":/^[a-z0-9_.]+$/.test(z)});const{error:A}=await Q.storage.from("imports").upload(z,n,{upsert:!0});if(A)throw A;u(z),l(100),p(!1),d([]),e({title:"Upload terminé",description:z})}catch(U){e({variant:"destructive",title:"Erreur upload",description:U.message||String(U)})}finally{s(!1)}},R=async()=>{if(!c){e({variant:"destructive",title:"Fichier manquant",description:"Veuillez uploader un fichier."});return}try{const{data:U,error:T}=await Q.functions.invoke("import-csv",{body:{file_path:c,language:"fr",dry_run:!0}});if(T)throw T;const z=((U==null?void 0:U.sources)||[]).map(D=>({name:D.name,count:D.count,access_level:D.access_level||"standard",is_global:typeof D.is_global=="boolean"?D.is_global:!0}));d(z),p(!0),e({title:"Analyse terminée",description:`${(U==null?void 0:U.processed)||0} lignes valides; ${z.length} sources détectées`});const A=Number(U==null?void 0:U.processed)||z.reduce((D,B)=>D+(Number(B.count)||0),0);if(!window.confirm(`Lancer l'import maintenant ?
Sources: ${z.length} — Lignes valides: ${A}`))return;const E={};z.forEach(D=>{E[D.name]={access_level:D.access_level,is_global:D.is_global}}),w("importing"),_("Import en cours… (la synchronisation Algolia par source s’effectue automatiquement)");const{data:O,error:C}=await Q.functions.invoke("import-csv",{body:{file_path:c,language:"fr",dry_run:!1,mapping:E}});if(C)throw C;e({title:"Import lancé",description:`Job: ${(O==null?void 0:O.import_id)||"en file"}`}),w("success"),_("Import terminé. Indexation Algolia effectuée par source."),await k()}catch(U){e({variant:"destructive",title:"Erreur import",description:U.message||String(U)}),w("error"),_(U!=null&&U.message?String(U.message):"Erreur lors de l'import.")}},$=async()=>{if(!c){e({variant:"destructive",title:"Fichier manquant",description:"Veuillez uploader un fichier avant de lancer l'import."});return}if(!h||f.length===0){e({variant:"destructive",title:"Analyse requise",description:"Cliquez d'abord sur Analyser puis Importer."});return}try{const U={};f.forEach(A=>{U[A.name]={access_level:A.access_level,is_global:A.is_global}}),w("importing"),_("Import en cours… (la synchronisation Algolia par source s’effectue automatiquement)");const{data:T,error:z}=await Q.functions.invoke("import-csv",{body:{file_path:c,language:"fr",dry_run:!1,mapping:U}});if(z)throw z;e({title:"Import lancé",description:`Job: ${(T==null?void 0:T.import_id)||"en file"}`}),w("success"),_("Import terminé. Indexation Algolia effectuée par source."),await k()}catch(U){e({variant:"destructive",title:"Erreur import",description:U.message||String(U)}),w("error"),_(U!=null&&U.message?String(U.message):"Erreur lors de l'import.")}},k=q.useCallback(async()=>{try{v(!0);const{data:U,error:T}=await Q.from("data_imports").select("id,status,records_processed,records_failed,created_at,completed_at").order("created_at",{ascending:!1}).limit(50);if(T)throw T;const z=(U||[]).map(A=>({id:A.id,status:A.status,processed:A.records_processed??null,failed:A.records_failed??null,created_at:A.created_at}));m(z)}catch{}finally{v(!1)}},[]);if(q.useEffect(()=>{k();const U=setInterval(k,5e3);return()=>clearInterval(U)},[k]),!t)return null;const F=U=>d(T=>T.map(z=>({...z,access_level:U}))),I=U=>d(T=>T.map(z=>({...z,is_global:U})));return o.jsxs(me,{children:[o.jsxs(Se,{children:[o.jsx(je,{children:"Import de la base de facteurs (FR/EN)"}),o.jsx(yt,{children:"L\\'indexation Algolia est automatique via Webhook après import. • Étape 1: Uploader le fichier vers le Storage. • Étape 2: Analyser pour détecter les sources et préparer le mapping (Standard/Premium, Global oui/non). • Étape 3: Importer. La synchronisation Algolia par source s\\'exécute automatiquement."})]}),o.jsxs(ge,{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-wrap gap-2",children:o.jsx(Z,{variant:"secondary",onClick:j,children:"Télécharger le template CSV"})}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(jt,{children:"Fichier CSV"}),o.jsx(ra,{children:o.jsxs(Za,{children:[o.jsx(eo,{asChild:!0,children:o.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),o.jsx(ia,{children:"Sélectionnez le fichier CSV ou XLSX exporté depuis la Base Carbone (ou template compatible). Les colonnes FR/EN sont supportées. XLSX recommandé pour gros fichiers."})]})})]}),o.jsx(Ot,{type:"file",accept:".csv,.xlsx,text/csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",onChange:U=>{var T;return r(((T=U.target.files)==null?void 0:T[0])||null)}}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ra,{children:o.jsxs(Za,{children:[o.jsx(eo,{asChild:!0,children:o.jsx(Z,{onClick:P,disabled:!n||i,children:i?`Upload... ${a}%`:"Uploader vers Storage"})}),o.jsx(ia,{children:"Envoie le fichier sur Supabase Storage (bucket imports). Obligatoire avant analyse."})]})}),c&&o.jsx("span",{className:"text-xs text-muted-foreground break-all",children:c})]})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ra,{children:o.jsxs(Za,{children:[o.jsx(eo,{asChild:!0,children:o.jsx(Z,{onClick:R,disabled:!c,children:"Analyser puis Importer"})}),o.jsx(ia,{children:"Analyse le CSV et propose immédiatement de lancer l'import. Vous pouvez annuler pour ajuster le mapping."})]})}),h&&f.length>0&&o.jsx(ra,{children:o.jsxs(Za,{children:[o.jsx(eo,{asChild:!0,children:o.jsx(Z,{variant:"secondary",onClick:$,children:"Importer avec ce mapping"})}),o.jsx(ia,{children:"Utilise le mapping affiché ci-dessous sans relancer l'analyse."})]})})]})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(jt,{children:"Sources détectées (après analyse)"}),o.jsx(ra,{children:o.jsxs(Za,{children:[o.jsx(eo,{asChild:!0,children:o.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),o.jsx(ia,{children:"Choisissez l\\'accès par source: Standard ou Premium. Global = visible par toutes les workspaces; sinon, assignable."})]})})]}),f.length===0?o.jsx("div",{className:"text-sm text-muted-foreground",children:"Aucune source détectée. Lancez l\\'analyse après upload."}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Appliquer à toutes:"}),o.jsxs(wr,{onValueChange:U=>F(U),children:[o.jsx(nr,{className:"w-40",children:o.jsx(Sr,{placeholder:"Accès"})}),o.jsxs(rr,{children:[o.jsx(it,{value:"standard",children:"Standard"}),o.jsx(it,{value:"premium",children:"Premium"})]})]}),o.jsx(Z,{variant:"outline",size:"sm",onClick:()=>I(!0),children:"Global: Oui"}),o.jsx(Z,{variant:"outline",size:"sm",onClick:()=>I(!1),children:"Global: Non"})]}),o.jsx("div",{className:"overflow-auto border rounded-md",children:o.jsxs("table",{className:"min-w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-muted",children:[o.jsx("th",{className:"p-2 text-left",children:"Source"}),o.jsx("th",{className:"p-2 text-right",children:"Lignes"}),o.jsx("th",{className:"p-2 text-left",children:"Accès"}),o.jsx("th",{className:"p-2 text-left",children:"Global"})]})}),o.jsx("tbody",{children:f.map((U,T)=>o.jsxs("tr",{className:"border-t",children:[o.jsx("td",{className:"p-2",children:U.name}),o.jsx("td",{className:"p-2 text-right",children:U.count}),o.jsx("td",{className:"p-2",children:o.jsxs(wr,{value:U.access_level,onValueChange:z=>d(A=>A.map((M,E)=>E===T?{...M,access_level:z}:M)),children:[o.jsx(nr,{className:"w-36",children:o.jsx(Sr,{})}),o.jsxs(rr,{children:[o.jsx(it,{value:"standard",children:"Standard"}),o.jsx(it,{value:"premium",children:"Premium"})]})]})}),o.jsx("td",{className:"p-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:U.is_global,onChange:z=>d(A=>A.map((M,E)=>E===T?{...M,is_global:z.target.checked}:M))}),o.jsx("span",{children:"Global"})]})})]},U.name))})]})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(jt,{children:"Historique des imports"}),o.jsx(ra,{children:o.jsxs(Za,{children:[o.jsx(eo,{asChild:!0,children:o.jsx("span",{className:"text-xs text-muted-foreground cursor-help",children:"(Aide)"})}),o.jsx(ia,{children:"Liste des imports récents et leur statut."})]})})]}),o.jsx("div",{className:"overflow-auto border rounded-md",children:o.jsxs("table",{className:"min-w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-muted",children:[o.jsx("th",{className:"p-2 text-left",children:"Date"}),o.jsx("th",{className:"p-2 text-left",children:"Statut"}),o.jsx("th",{className:"p-2 text-right",children:"Traitées"}),o.jsx("th",{className:"p-2 text-right",children:"Échecs"})]})}),o.jsx("tbody",{children:b?o.jsx("tr",{children:o.jsx("td",{className:"p-2",colSpan:4,children:"Chargement..."})}):g.length===0?o.jsx("tr",{children:o.jsx("td",{className:"p-2",colSpan:4,children:"Aucun import pour le moment."})}):g.map(U=>o.jsxs("tr",{className:"border-t",children:[o.jsx("td",{className:"p-2 whitespace-nowrap",children:new Date(U.created_at).toLocaleString()}),o.jsx("td",{className:"p-2",children:U.status??"-"}),o.jsx("td",{className:"p-2 text-right",children:U.processed??"-"}),o.jsx("td",{className:"p-2 text-right",children:U.failed??"-"})]},U.id))})]})})]}),x!=="idle"&&o.jsxs("div",{className:"space-y-2 p-4 border rounded-md",children:[x==="importing"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:S}),o.jsx("div",{className:"w-full h-2 bg-muted rounded-md overflow-hidden",children:o.jsx("div",{className:"h-2 w-2/3 bg-primary animate-pulse"})})]}),x==="success"&&o.jsx("div",{className:"text-sm text-green-700",children:S}),x==="error"&&o.jsx("div",{className:"text-sm text-red-700",children:S})]})]})]})},are=()=>{const[e,t]=y.useState(null),[n,r]=y.useState([]),[i,s]=y.useState([]);y.useState(!1);const[a,l]=y.useState(!0),c=y.useCallback(async()=>{try{l(!0);const m=Fn.getMetrics();t(m);const b=Fn.generateRecommendations();r(b)}catch(m){console.error("Error loading performance data:",m)}finally{l(!1)}},[]);y.useEffect(()=>{c();const m=setInterval(c,3e4),b=v=>{s(x=>[v,...x.slice(0,9)])};return Fn.onAlert(b),()=>{clearInterval(m),Fn.offAlert(b)}},[c]);const u=y.useCallback(async()=>{const m=Fn.autoTune();m.cacheAdjustments.increaseTTL&&console.log("Applying cache adjustments:",m.cacheAdjustments),m.throttlingAdjustments.reduceMaxRequestsPerSecond&&console.log("Applying throttling adjustments:",m.throttlingAdjustments),m.debounceAdjustments.increaseDelay&&console.log("Applying debounce adjustments:",m.debounceAdjustments),await c()},[c]),f=y.useCallback(()=>{Fn.reset(),Bt.clear(),Pi.clear(),s([]),c()},[c]);if(a||!e)return o.jsxs("div",{className:"flex items-center justify-center h-64",children:[o.jsx(Pa,{className:"h-8 w-8 animate-spin"}),o.jsx("span",{className:"ml-2",children:"Chargement des métriques..."})]});const d=m=>m>=1e6?`${(m/1e6).toFixed(1)}M`:m>=1e3?`${(m/1e3).toFixed(1)}K`:m.toString(),h=m=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(m),p=m=>{switch(m){case"critical":return"destructive";case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"default"}},g=()=>e.totalRequests===0?100:e.successfulRequests/e.totalRequests*100;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold",children:"Performance Algolia"}),o.jsx("p",{className:"text-gray-600",children:"Monitoring et optimisation en temps réel"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Z,{onClick:c,variant:"outline",children:[o.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Actualiser"]}),o.jsxs(Z,{onClick:u,variant:"outline",children:[o.jsx(tu,{className:"h-4 w-4 mr-2"}),"Auto-tuning"]}),o.jsx(Z,{onClick:f,variant:"destructive",children:"Reset"})]})]}),i.length>0&&o.jsxs(hn,{className:"border-orange-200 bg-orange-50",children:[o.jsx(Ra,{className:"h-4 w-4"}),o.jsxs(pn,{children:[o.jsxs("strong",{children:[i.length," alerte(s) active(s)"]}),o.jsx("div",{className:"mt-2 space-y-1",children:i.slice(0,3).map((m,b)=>o.jsxs("div",{className:"text-sm",children:["• ",m.message]},b))})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs(me,{children:[o.jsxs(Se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(je,{className:"text-sm font-medium",children:"Requêtes totales"}),o.jsx(fM,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ge,{children:[o.jsx("div",{className:"text-2xl font-bold",children:d(e.totalRequests)}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[d(e.searchesPerMinute)," par minute"]})]})]}),o.jsxs(me,{children:[o.jsxs(Se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(je,{className:"text-sm font-medium",children:"Taux de succès"}),o.jsx(zt,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ge,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[g().toFixed(1),"%"]}),o.jsx(qo,{value:g(),className:"mt-2"})]})]}),o.jsxs(me,{children:[o.jsxs(Se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(je,{className:"text-sm font-medium",children:"Temps de réponse"}),o.jsx(sh,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ge,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[e.averageResponseTime.toFixed(0),"ms"]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["P95: ",e.p95ResponseTime.toFixed(0),"ms"]})]})]}),o.jsxs(me,{children:[o.jsxs(Se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(je,{className:"text-sm font-medium",children:"Économies"}),o.jsx(hM,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ge,{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:h(e.estimatedCostSavings)}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[d(e.totalRequestsSaved)," requêtes économisées"]})]})]})]}),o.jsxs(vh,{defaultValue:"overview",className:"space-y-4",children:[o.jsxs(cu,{children:[o.jsx(Xn,{value:"overview",children:"Vue d'ensemble"}),o.jsx(Xn,{value:"cache",children:"Cache"}),o.jsx(Xn,{value:"recommendations",children:"Recommandations"}),o.jsx(Xn,{value:"details",children:"Détails"})]}),o.jsx(Jn,{value:"overview",className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(me,{children:[o.jsxs(Se,{children:[o.jsx(je,{children:"Performance du Cache"}),o.jsx(yt,{children:"Efficacité du système de cache"})]}),o.jsx(ge,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{children:"Taux de hit"}),o.jsxs("span",{className:"font-bold",children:[e.cacheHitRate.toFixed(1),"%"]})]}),o.jsx(qo,{value:e.cacheHitRate}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{children:"Déduplication"}),o.jsxs("span",{className:"font-bold",children:[e.deduplicationRate.toFixed(1),"%"]})]}),o.jsx(qo,{value:e.deduplicationRate})]})})]}),o.jsxs(me,{children:[o.jsxs(Se,{children:[o.jsx(je,{children:"Termes de recherche populaires"}),o.jsx(yt,{children:"Les recherches les plus fréquentes"})]}),o.jsx(ge,{children:o.jsx("div",{className:"space-y-2",children:e.topSearchTerms.slice(0,5).map((m,b)=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:m}),o.jsxs(Be,{variant:"secondary",children:["#",b+1]})]},b))})})]})]})}),o.jsx(Jn,{value:"cache",className:"space-y-4",children:o.jsxs(me,{children:[o.jsxs(Se,{children:[o.jsx(je,{children:"Statistiques du cache"}),o.jsx(yt,{children:"Détails de performance du système de cache"})]}),o.jsx(ge,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[e.cacheHitRate.toFixed(1),"%"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Taux de hit"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold",children:d(e.cacheSize)}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Entrées en cache"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold",children:d(e.duplicateRequestsAvoided)}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Doublons évités"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold",children:d(e.throttledRequests)}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Requêtes throttlées"})]})]})})]})}),o.jsx(Jn,{value:"recommendations",className:"space-y-4",children:o.jsxs("div",{className:"space-y-4",children:[n.map((m,b)=>o.jsxs(me,{children:[o.jsxs(Se,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(je,{className:"text-lg",children:m.title}),o.jsx(Be,{variant:p(m.priority),children:m.priority})]}),o.jsx(yt,{children:m.description})]}),o.jsx(ge,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Impact:"})," ",m.impact]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Action recommandée:"})," ",m.action]}),m.estimatedSavings&&m.estimatedSavings>0&&o.jsxs("div",{children:[o.jsx("strong",{children:"Économies estimées:"})," ",h(m.estimatedSavings)]})]})})]},b)),n.length===0&&o.jsx(me,{children:o.jsx(ge,{className:"flex items-center justify-center py-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx(zt,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Système optimisé"}),o.jsx("p",{className:"text-muted-foreground",children:"Aucune recommandation d'optimisation pour le moment."})]})})})]})}),o.jsx(Jn,{value:"details",className:"space-y-4",children:o.jsxs(me,{children:[o.jsxs(Se,{children:[o.jsx(je,{children:"Métriques détaillées"}),o.jsx(yt,{children:"Données complètes de performance"})]}),o.jsx(ge,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Requêtes réussies:"})," ",d(e.successfulRequests)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Requêtes échouées:"})," ",d(e.failedRequests)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"P99 temps de réponse:"})," ",e.p99ResponseTime.toFixed(0),"ms"]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Utilisateurs uniques:"})," ",d(e.uniqueUsers)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Requêtes debouncées:"})," ",d(e.debouncedRequests)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Dernière MAJ:"})," ",new Date(e.lastUpdated).toLocaleTimeString()]})]})})]})})]})]})},ore=()=>{const{user:e}=xt(),{isSupraAdmin:t,loading:n}=jp();Dt();const[r,i]=y.useState(!1);return y.useEffect(()=>{i(!1)},[e,t]),n?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ba,{}),o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Vérification des permissions..."})]})})]}):!e||!t?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ba,{}),o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs(hn,{className:"max-w-2xl mx-auto",children:[o.jsx(Ra,{className:"h-4 w-4"}),o.jsx(pn,{children:"Accès refusé. Cette page est réservée aux supra administrateurs globaux."})]})})]}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(ba,{}),o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center homepage-text",children:[o.jsx(Li,{className:"w-8 h-8 mr-3 text-primary"}),"Console d'administration"]}),o.jsx("p",{className:"text-muted-foreground",children:"Gestion avancée de la plateforme DataCarb"}),o.jsxs("div",{className:"mt-4",children:[o.jsx(Be,{variant:"default",className:"mr-2 bg-gradient-to-r from-purple-600 to-blue-600",children:"Supra Admin"}),o.jsx(Be,{variant:"outline",children:e.email})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestion des Entreprises"}),o.jsx(Yne,{})]}),o.jsx(Xne,{}),o.jsx(Jne,{children:o.jsx(tre,{})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Performance Algolia"}),o.jsx(are,{})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Import de la base (FR)"}),o.jsx(sre,{})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestion des Comptes Admin"}),o.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[o.jsx(nre,{}),o.jsx(rre,{}),o.jsx(ire,{})]})]})]}),o.jsxs(me,{className:"mt-6",children:[o.jsx(Se,{children:o.jsx(je,{children:"Informations de debug"})}),o.jsx(ge,{children:o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"User ID:"})," ",e.id]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Email:"})," ",e.email]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Supra Admin:"})," ",t?"Oui":"Non"]})]})})]})]})]})},lre=()=>{const e=Hs();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},cre=()=>{const[e,t]=y.useState(""),[n,r]=y.useState(""),[i,s]=y.useState(!1),[a,l]=y.useState(null),{toast:c}=Dt(),u=Ma(),f=async d=>{d.preventDefault(),s(!0),l(null);try{const{error:h}=await Q.auth.signInWithPassword({email:e,password:n});h?(l(h.message),c({variant:"destructive",title:"Erreur de connexion",description:h.message})):(c({title:"Connexion réussie",description:"Connexion administrateur activée"}),u("/search"))}catch{l("Une erreur inattendue s'est produite"),c({variant:"destructive",title:"Erreur",description:"Une erreur inattendue s'est produite"})}finally{s(!1)}};return o.jsx("div",{className:"min-h-screen homepage-violet-bg flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"mb-6",children:o.jsxs(wt,{to:"/",className:"inline-flex items-center homepage-text hover:opacity-80 transition-colors",children:[o.jsx(Ux,{className:"w-4 h-4 mr-2"}),"Retour à l'accueil"]})}),o.jsxs(me,{children:[o.jsxs(Se,{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Li,{className:"text-white w-6 h-6"})}),o.jsx(je,{className:"text-2xl",children:"Connexion Développeur"}),o.jsx(yt,{children:"Accès administrateur pour le développement et la maintenance"})]}),o.jsxs(ge,{children:[o.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(xr,{className:"w-5 h-5 text-orange-500 mt-0.5 mr-3 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-orange-900 mb-1",children:"Accès Restreint"}),o.jsx("p",{className:"text-sm text-orange-700",children:"Cette page est réservée aux super administrateurs et développeurs. L'accès non autorisé est strictement interdit."})]})]})}),o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(jt,{htmlFor:"email",children:"Email administrateur"}),o.jsx(Ot,{id:"email",type:"email",value:e,onChange:d=>t(d.target.value),placeholder:"admin@exemple.com",required:!0,disabled:i})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(jt,{htmlFor:"password",children:"Mot de passe"}),o.jsx(Ot,{id:"password",type:"password",value:n,onChange:d=>r(d.target.value),placeholder:"••••••••",required:!0,disabled:i})]}),o.jsx(Z,{type:"submit",className:"w-full",disabled:i,children:i?"Connexion...":"Se connecter"})]}),a&&o.jsxs(hn,{variant:"destructive",className:"mt-4",children:[o.jsx(xr,{className:"h-4 w-4"}),o.jsx(pn,{children:a})]}),o.jsx("div",{className:"text-center mt-6 pt-4 border-t border-gray-200",children:o.jsxs("p",{className:"text-xs text-gray-500",children:["Mode développement • Version ","production"]})})]})]})]})})},ure=new b3,po=({children:e})=>{const{user:t,loading:n}=xt();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{children:"Chargement..."})]})}):t?o.jsx(o.Fragment,{children:e}):o.jsx($P,{to:"/login",replace:!0})},Tg=({children:e})=>{const{user:t,loading:n}=xt();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{children:"Chargement..."})]})}):t?o.jsx($P,{to:"/search",replace:!0}):o.jsx(o.Fragment,{children:e})},dre=()=>o.jsx(S3,{client:ure,children:o.jsx(Uz,{children:o.jsx(zz,{children:o.jsx(Bz,{children:o.jsx(Hz,{children:o.jsxs(ra,{children:[o.jsx(YM,{}),o.jsx(E$,{}),o.jsx(y5,{children:o.jsxs("div",{className:"min-h-screen",children:[o.jsx(Wz,{}),o.jsxs(u5,{children:[o.jsx(Wn,{path:"/",element:o.jsx(c6,{})}),o.jsx(Wn,{path:"/login",element:o.jsx(Tg,{children:o.jsx(h6,{})})}),o.jsx(Wn,{path:"/signup",element:o.jsx(Tg,{children:o.jsx(m6,{})})}),o.jsx(Wn,{path:"/auth/callback",element:o.jsx(g6,{})}),o.jsx(Wn,{path:"/dev",element:o.jsx(Tg,{children:o.jsx(cre,{})})}),o.jsx(Wn,{path:"/search",element:o.jsx(po,{children:o.jsx(Wee,{})})}),o.jsx(Wn,{path:"/favoris",element:o.jsx(po,{children:o.jsx(Yee,{})})}),o.jsx(Wn,{path:"/import",element:o.jsx(po,{children:o.jsx(Xee,{})})}),o.jsx(Wn,{path:"/settings",element:o.jsx(po,{children:o.jsx($ne,{})})}),o.jsx(Wn,{path:"/debug",element:o.jsx(po,{children:o.jsx(Une,{})})}),o.jsx(Wn,{path:"/admin",element:o.jsx(po,{children:o.jsx(ore,{})})}),o.jsx(Wn,{path:"*",element:o.jsx(lre,{})})]})]})})]})})})})})}),vc={cache:{enabled:wn.ENABLE_CACHE,ttlMs:wn.CACHE_TTL_MS,maxSize:wn.MAX_CACHE_SIZE,autoTuning:wn.ENABLE_AUTO_TUNING},throttling:{enabled:wn.ENABLE_SMART_THROTTLING,requestsPerSecond:wn.THROTTLE_REQUESTS_PER_SECOND,burstAllowance:10,adaptiveThrottling:!0},debouncing:{enabled:!0,baseDelayMs:wn.DEBOUNCE_DELAY_MS,maxDelayMs:1e3,adaptiveDelay:!0},batching:{enabled:wn.ENABLE_BATCHING,delayMs:wn.BATCH_DELAY_MS,maxBatchSize:wn.MAX_BATCH_SIZE},monitoring:{enabled:wn.ENABLE_PERFORMANCE_MONITORING,alertThresholds:{errorRatePercent:5,responseTimeMs:2e3,cacheHitRatePercent:70,requestRatePerMinute:100},metricsRetentionHours:24},suggestions:{enabled:wn.ENABLE_SMART_SUGGESTIONS,maxSuggestions:8,prefixCacheEnabled:!0,preloadingEnabled:!0}};({...vc,cache:{...vc.cache,ttlMs:2*60*1e3},throttling:{...vc.throttling},monitoring:{...vc.monitoring}});const fre=()=>vc,hre=e=>{const t=[];return e.cache.ttlMs<=0&&t.push("Cache TTL doit être positif"),e.cache.maxSize<=0&&t.push("Taille maximale du cache doit être positive"),e.throttling.requestsPerSecond<=0&&t.push("Taux de throttling doit être positif"),e.debouncing.baseDelayMs<0&&t.push("Délai de debouncing doit être non-négatif"),e.batching.maxBatchSize<=0&&t.push("Taille maximale de batch doit être positive"),e.suggestions.maxSuggestions<=0&&t.push("Nombre maximum de suggestions doit être positif"),(e.monitoring.alertThresholds.errorRatePercent<0||e.monitoring.alertThresholds.errorRatePercent>100)&&t.push("Seuil d'erreur doit être entre 0 et 100%"),t},pre=()=>{var i;const e=fre(),t=typeof navigator<"u"?navigator.userAgent:"",n=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t),r=typeof navigator<"u"&&"connection"in navigator&&((i=navigator.connection)==null?void 0:i.effectiveType)==="slow-2g";return n||r?{...e,cache:{...e.cache,ttlMs:e.cache.ttlMs*1.5,maxSize:Math.floor(e.cache.maxSize*.7)},debouncing:{...e.debouncing,baseDelayMs:Math.floor(e.debouncing.baseDelayMs*1.5)},batching:{...e.batching,delayMs:e.batching.delayMs*2,maxBatchSize:Math.floor(e.batching.maxBatchSize*1.5)}}:e},ji=pre(),mre=hre(ji);mre.length>0;class gre{constructor(){be(this,"initialized",!1);be(this,"initPromise",null)}async initialize(){if(!this.initialized)return this.initPromise?this.initPromise:(this.initPromise=this.performInitialization(),this.initPromise)}async performInitialization(){console.log("🚀 Initialisation du système Algolia optimisé...");try{ji.monitoring.enabled&&this.initializeMonitoring(),ji.cache.enabled&&this.initializeCache(),ji.cache.autoTuning&&this.startAutoTuning(),ji.suggestions.preloadingEnabled&&await this.preloadCommonData(),this.setupAlerts(),this.recordSuccessfulInit(),this.initialized=!0,console.log("✅ Système Algolia optimisé initialisé avec succès"),wn.DEBUG_PERFORMANCE}catch(t){console.error("❌ Erreur lors de l'initialisation Algolia:",t),this.initialized=!0}}initializeMonitoring(){Fn.onAlert(t=>{console.warn(`🚨 Alerte Algolia [${t.severity}]:`,t.message),this.sendToMonitoringService(t)})}initializeCache(){Bt.autoTune()}startAutoTuning(){setInterval(()=>{try{const t=Fn.autoTune();Bt.autoTune(),wn.DEBUG_PERFORMANCE}catch(t){console.warn("⚠️ Erreur auto-tuning:",t)}},5*60*1e3)}async preloadCommonData(){var t;try{const n=["électricité","transport","chauffage","gaz","fioul","bois","eau","déchets"];Pi.updateContext({origin:"all",assignedSources:[],recentSearches:n.slice(0,3)});try{await Pi.preloadPopularPrefixes(n),wn.DEBUG_PERFORMANCE}catch(r){if((t=r==null?void 0:r.message)!=null&&t.includes("blocked")||(r==null?void 0:r.status)===403)console.log("ℹ️ Algolia temporairement indisponible (plan payant requis), préchargement ignoré");else throw r}}catch(n){console.warn("⚠️ Erreur préchargement:",n)}}setupAlerts(){setInterval(()=>{const t=Fn.getMetrics();Bt.getCacheStats(),t.cacheHitRate<ji.monitoring.alertThresholds.cacheHitRatePercent&&console.warn(`⚠️ Cache hit rate faible: ${t.cacheHitRate.toFixed(1)}%`),t.averageResponseTime>ji.monitoring.alertThresholds.responseTimeMs&&console.warn(`⚠️ Temps de réponse élevé: ${t.averageResponseTime.toFixed(0)}ms`);const n=t.failedRequests/Math.max(t.totalRequests,1)*100;n>ji.monitoring.alertThresholds.errorRatePercent&&console.warn(`⚠️ Taux d'erreur élevé: ${n.toFixed(1)}%`),t.cacheHitRate<30&&Bt.autoTune()},2*60*1e3)}recordSuccessfulInit(){Fn.recordRequest(0,!0,"system","algolia_optimization_init")}sendToMonitoringService(t){typeof window<"u"&&"fetch"in window&&fetch("/api/monitoring/algolia-alert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({alert:t,timestamp:Date.now(),userAgent:navigator.userAgent,url:window.location.href})}).catch(n=>{console.warn("Erreur envoi monitoring:",n)})}getStatus(){return{initialized:this.initialized,config:ji,metrics:this.initialized?Fn.getMetrics():null,cacheStats:this.initialized?Bt.getCacheStats():null}}async restart(){console.log("🔄 Redémarrage du système Algolia optimisé..."),this.initialized=!1,this.initPromise=null,Fn.reset(),Bt.clear(),Pi.clear(),await this.initialize()}forceOptimization(){if(!this.initialized)return;console.log("🚀 Optimisation forcée du système Algolia...");const t=Fn.autoTune();Bt.autoTune(),console.log("✅ Optimisation appliquée:",t)}}const U_=new gre;typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{U_.initialize()}):U_.initialize());try{window.trustedTypes&&!window.trustedTypes.getPolicy("default")&&window.trustedTypes.createPolicy("default",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}lk(document.getElementById("root")).render(o.jsx(dre,{}));
